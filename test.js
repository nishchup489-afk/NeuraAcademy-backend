(function() {
    const e = document.createElement("link").relList;
    if (e && e.supports && e.supports("modulepreload"))
        return;
    for (const s of document.querySelectorAll('link[rel="modulepreload"]'))
        r(s);
    new MutationObserver(s => {
        for (const l of s)
            if (l.type === "childList")
                for (const o of l.addedNodes)
                    o.tagName === "LINK" && o.rel === "modulepreload" && r(o)
    }
    ).observe(document, {
        childList: !0,
        subtree: !0
    });
    function n(s) {
        const l = {};
        return s.integrity && (l.integrity = s.integrity),
        s.referrerPolicy && (l.referrerPolicy = s.referrerPolicy),
        s.crossOrigin === "use-credentials" ? l.credentials = "include" : s.crossOrigin === "anonymous" ? l.credentials = "omit" : l.credentials = "same-origin",
        l
    }
    function r(s) {
        if (s.ep)
            return;
        s.ep = !0;
        const l = n(s);
        fetch(s.href, l)
    }
}
)();
function xm(t) {
    return t && t.__esModule && Object.prototype.hasOwnProperty.call(t, "default") ? t.default : t
}
var j0 = {
    exports: {}
}
  , Fa = {};
var Ey;
function NS() {
    if (Ey)
        return Fa;
    Ey = 1;
    var t = Symbol.for("react.transitional.element")
      , e = Symbol.for("react.fragment");
    function n(r, s, l) {
        var o = null;
        if (l !== void 0 && (o = "" + l),
        s.key !== void 0 && (o = "" + s.key),
        "key"in s) {
            l = {};
            for (var u in s)
                u !== "key" && (l[u] = s[u])
        } else
            l = s;
        return s = l.ref,
        {
            $$typeof: t,
            type: r,
            key: o,
            ref: s !== void 0 ? s : null,
            props: l
        }
    }
    return Fa.Fragment = e,
    Fa.jsx = n,
    Fa.jsxs = n,
    Fa
}
var ky;
function wS() {
    return ky || (ky = 1,
    j0.exports = NS()),
    j0.exports
}
var d = wS()
  , E0 = {
    exports: {}
}
  , ge = {};
var Ay;
function CS() {
    if (Ay)
        return ge;
    Ay = 1;
    var t = Symbol.for("react.transitional.element")
      , e = Symbol.for("react.portal")
      , n = Symbol.for("react.fragment")
      , r = Symbol.for("react.strict_mode")
      , s = Symbol.for("react.profiler")
      , l = Symbol.for("react.consumer")
      , o = Symbol.for("react.context")
      , u = Symbol.for("react.forward_ref")
      , f = Symbol.for("react.suspense")
      , p = Symbol.for("react.memo")
      , m = Symbol.for("react.lazy")
      , g = Symbol.for("react.activity")
      , v = Symbol.iterator;
    function N(D) {
        return D === null || typeof D != "object" ? null : (D = v && D[v] || D["@@iterator"],
        typeof D == "function" ? D : null)
    }
    var y = {
        isMounted: function() {
            return !1
        },
        enqueueForceUpdate: function() {},
        enqueueReplaceState: function() {},
        enqueueSetState: function() {}
    }
      , w = Object.assign
      , C = {};
    function E(D, K, te) {
        this.props = D,
        this.context = K,
        this.refs = C,
        this.updater = te || y
    }
    E.prototype.isReactComponent = {},
    E.prototype.setState = function(D, K) {
        if (typeof D != "object" && typeof D != "function" && D != null)
            throw Error("takes an object of state variables to update or a function which returns an object of state variables.");
        this.updater.enqueueSetState(this, D, K, "setState")
    }
    ,
    E.prototype.forceUpdate = function(D) {
        this.updater.enqueueForceUpdate(this, D, "forceUpdate")
    }
    ;
    function A() {}
    A.prototype = E.prototype;
    function _(D, K, te) {
        this.props = D,
        this.context = K,
        this.refs = C,
        this.updater = te || y
    }
    var O = _.prototype = new A;
    O.constructor = _,
    w(O, E.prototype),
    O.isPureReactComponent = !0;
    var R = Array.isArray;
    function $() {}
    var z = {
        H: null,
        A: null,
        T: null,
        S: null
    }
      , G = Object.prototype.hasOwnProperty;
    function Y(D, K, te) {
        var ne = te.ref;
        return {
            $$typeof: t,
            type: D,
            key: K,
            ref: ne !== void 0 ? ne : null,
            props: te
        }
    }
    function pe(D, K) {
        return Y(D.type, K, D.props)
    }
    function Te(D) {
        return typeof D == "object" && D !== null && D.$$typeof === t
    }
    function le(D) {
        var K = {
            "=": "=0",
            ":": "=2"
        };
        return "$" + D.replace(/[=:]/g, function(te) {
            return K[te]
        })
    }
    var Ce = /\/+/g;
    function Le(D, K) {
        return typeof D == "object" && D !== null && D.key != null ? le("" + D.key) : K.toString(36)
    }
    function Ue(D) {
        switch (D.status) {
        case "fulfilled":
            return D.value;
        case "rejected":
            throw D.reason;
        default:
            switch (typeof D.status == "string" ? D.then($, $) : (D.status = "pending",
            D.then(function(K) {
                D.status === "pending" && (D.status = "fulfilled",
                D.value = K)
            }, function(K) {
                D.status === "pending" && (D.status = "rejected",
                D.reason = K)
            })),
            D.status) {
            case "fulfilled":
                return D.value;
            case "rejected":
                throw D.reason
            }
        }
        throw D
    }
    function q(D, K, te, ne, me) {
        var Se = typeof D;
        (Se === "undefined" || Se === "boolean") && (D = null);
        var ze = !1;
        if (D === null)
            ze = !0;
        else
            switch (Se) {
            case "bigint":
            case "string":
            case "number":
                ze = !0;
                break;
            case "object":
                switch (D.$$typeof) {
                case t:
                case e:
                    ze = !0;
                    break;
                case m:
                    return ze = D._init,
                    q(ze(D._payload), K, te, ne, me)
                }
            }
        if (ze)
            return me = me(D),
            ze = ne === "" ? "." + Le(D, 0) : ne,
            R(me) ? (te = "",
            ze != null && (te = ze.replace(Ce, "$&/") + "/"),
            q(me, K, te, "", function(Vl) {
                return Vl
            })) : me != null && (Te(me) && (me = pe(me, te + (me.key == null || D && D.key === me.key ? "" : ("" + me.key).replace(Ce, "$&/") + "/") + ze)),
            K.push(me)),
            1;
        ze = 0;
        var Pt = ne === "" ? "." : ne + ":";
        if (R(D))
            for (var at = 0; at < D.length; at++)
                ne = D[at],
                Se = Pt + Le(ne, at),
                ze += q(ne, K, te, Se, me);
        else if (at = N(D),
        typeof at == "function")
            for (D = at.call(D),
            at = 0; !(ne = D.next()).done; )
                ne = ne.value,
                Se = Pt + Le(ne, at++),
                ze += q(ne, K, te, Se, me);
        else if (Se === "object") {
            if (typeof D.then == "function")
                return q(Ue(D), K, te, ne, me);
            throw K = String(D),
            Error("Objects are not valid as a React child (found: " + (K === "[object Object]" ? "object with keys {" + Object.keys(D).join(", ") + "}" : K) + "). If you meant to render a collection of children, use an array instead.")
        }
        return ze
    }
    function Z(D, K, te) {
        if (D == null)
            return D;
        var ne = []
          , me = 0;
        return q(D, ne, "", "", function(Se) {
            return K.call(te, Se, me++)
        }),
        ne
    }
    function ae(D) {
        if (D._status === -1) {
            var K = D._result;
            K = K(),
            K.then(function(te) {
                (D._status === 0 || D._status === -1) && (D._status = 1,
                D._result = te)
            }, function(te) {
                (D._status === 0 || D._status === -1) && (D._status = 2,
                D._result = te)
            }),
            D._status === -1 && (D._status = 0,
            D._result = K)
        }
        if (D._status === 1)
            return D._result.default;
        throw D._result
    }
    var Oe = typeof reportError == "function" ? reportError : function(D) {
        if (typeof window == "object" && typeof window.ErrorEvent == "function") {
            var K = new window.ErrorEvent("error",{
                bubbles: !0,
                cancelable: !0,
                message: typeof D == "object" && D !== null && typeof D.message == "string" ? String(D.message) : String(D),
                error: D
            });
            if (!window.dispatchEvent(K))
                return
        } else if (typeof process == "object" && typeof process.emit == "function") {
            process.emit("uncaughtException", D);
            return
        }
        console.error(D)
    }
      , Be = {
        map: Z,
        forEach: function(D, K, te) {
            Z(D, function() {
                K.apply(this, arguments)
            }, te)
        },
        count: function(D) {
            var K = 0;
            return Z(D, function() {
                K++
            }),
            K
        },
        toArray: function(D) {
            return Z(D, function(K) {
                return K
            }) || []
        },
        only: function(D) {
            if (!Te(D))
                throw Error("React.Children.only expected to receive a single React element child.");
            return D
        }
    };
    return ge.Activity = g,
    ge.Children = Be,
    ge.Component = E,
    ge.Fragment = n,
    ge.Profiler = s,
    ge.PureComponent = _,
    ge.StrictMode = r,
    ge.Suspense = f,
    ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE = z,
    ge.__COMPILER_RUNTIME = {
        __proto__: null,
        c: function(D) {
            return z.H.useMemoCache(D)
        }
    },
    ge.cache = function(D) {
        return function() {
            return D.apply(null, arguments)
        }
    }
    ,
    ge.cacheSignal = function() {
        return null
    }
    ,
    ge.cloneElement = function(D, K, te) {
        if (D == null)
            throw Error("The argument must be a React element, but you passed " + D + ".");
        var ne = w({}, D.props)
          , me = D.key;
        if (K != null)
            for (Se in K.key !== void 0 && (me = "" + K.key),
            K)
                !G.call(K, Se) || Se === "key" || Se === "__self" || Se === "__source" || Se === "ref" && K.ref === void 0 || (ne[Se] = K[Se]);
        var Se = arguments.length - 2;
        if (Se === 1)
            ne.children = te;
        else if (1 < Se) {
            for (var ze = Array(Se), Pt = 0; Pt < Se; Pt++)
                ze[Pt] = arguments[Pt + 2];
            ne.children = ze
        }
        return Y(D.type, me, ne)
    }
    ,
    ge.createContext = function(D) {
        return D = {
            $$typeof: o,
            _currentValue: D,
            _currentValue2: D,
            _threadCount: 0,
            Provider: null,
            Consumer: null
        },
        D.Provider = D,
        D.Consumer = {
            $$typeof: l,
            _context: D
        },
        D
    }
    ,
    ge.createElement = function(D, K, te) {
        var ne, me = {}, Se = null;
        if (K != null)
            for (ne in K.key !== void 0 && (Se = "" + K.key),
            K)
                G.call(K, ne) && ne !== "key" && ne !== "__self" && ne !== "__source" && (me[ne] = K[ne]);
        var ze = arguments.length - 2;
        if (ze === 1)
            me.children = te;
        else if (1 < ze) {
            for (var Pt = Array(ze), at = 0; at < ze; at++)
                Pt[at] = arguments[at + 2];
            me.children = Pt
        }
        if (D && D.defaultProps)
            for (ne in ze = D.defaultProps,
            ze)
                me[ne] === void 0 && (me[ne] = ze[ne]);
        return Y(D, Se, me)
    }
    ,
    ge.createRef = function() {
        return {
            current: null
        }
    }
    ,
    ge.forwardRef = function(D) {
        return {
            $$typeof: u,
            render: D
        }
    }
    ,
    ge.isValidElement = Te,
    ge.lazy = function(D) {
        return {
            $$typeof: m,
            _payload: {
                _status: -1,
                _result: D
            },
            _init: ae
        }
    }
    ,
    ge.memo = function(D, K) {
        return {
            $$typeof: p,
            type: D,
            compare: K === void 0 ? null : K
        }
    }
    ,
    ge.startTransition = function(D) {
        var K = z.T
          , te = {};
        z.T = te;
        try {
            var ne = D()
              , me = z.S;
            me !== null && me(te, ne),
            typeof ne == "object" && ne !== null && typeof ne.then == "function" && ne.then($, Oe)
        } catch (Se) {
            Oe(Se)
        } finally {
            K !== null && te.types !== null && (K.types = te.types),
            z.T = K
        }
    }
    ,
    ge.unstable_useCacheRefresh = function() {
        return z.H.useCacheRefresh()
    }
    ,
    ge.use = function(D) {
        return z.H.use(D)
    }
    ,
    ge.useActionState = function(D, K, te) {
        return z.H.useActionState(D, K, te)
    }
    ,
    ge.useCallback = function(D, K) {
        return z.H.useCallback(D, K)
    }
    ,
    ge.useContext = function(D) {
        return z.H.useContext(D)
    }
    ,
    ge.useDebugValue = function() {}
    ,
    ge.useDeferredValue = function(D, K) {
        return z.H.useDeferredValue(D, K)
    }
    ,
    ge.useEffect = function(D, K) {
        return z.H.useEffect(D, K)
    }
    ,
    ge.useEffectEvent = function(D) {
        return z.H.useEffectEvent(D)
    }
    ,
    ge.useId = function() {
        return z.H.useId()
    }
    ,
    ge.useImperativeHandle = function(D, K, te) {
        return z.H.useImperativeHandle(D, K, te)
    }
    ,
    ge.useInsertionEffect = function(D, K) {
        return z.H.useInsertionEffect(D, K)
    }
    ,
    ge.useLayoutEffect = function(D, K) {
        return z.H.useLayoutEffect(D, K)
    }
    ,
    ge.useMemo = function(D, K) {
        return z.H.useMemo(D, K)
    }
    ,
    ge.useOptimistic = function(D, K) {
        return z.H.useOptimistic(D, K)
    }
    ,
    ge.useReducer = function(D, K, te) {
        return z.H.useReducer(D, K, te)
    }
    ,
    ge.useRef = function(D) {
        return z.H.useRef(D)
    }
    ,
    ge.useState = function(D) {
        return z.H.useState(D)
    }
    ,
    ge.useSyncExternalStore = function(D, K, te) {
        return z.H.useSyncExternalStore(D, K, te)
    }
    ,
    ge.useTransition = function() {
        return z.H.useTransition()
    }
    ,
    ge.version = "19.2.3",
    ge
}
var _y;
function bm() {
    return _y || (_y = 1,
    E0.exports = CS()),
    E0.exports
}
var k = bm();
const Gt = xm(k);
var k0 = {
    exports: {}
}
  , Ha = {}
  , A0 = {
    exports: {}
}
  , _0 = {};
var Ty;
function SS() {
    return Ty || (Ty = 1,
    (function(t) {
        function e(q, Z) {
            var ae = q.length;
            q.push(Z);
            e: for (; 0 < ae; ) {
                var Oe = ae - 1 >>> 1
                  , Be = q[Oe];
                if (0 < s(Be, Z))
                    q[Oe] = Z,
                    q[ae] = Be,
                    ae = Oe;
                else
                    break e
            }
        }
        function n(q) {
            return q.length === 0 ? null : q[0]
        }
        function r(q) {
            if (q.length === 0)
                return null;
            var Z = q[0]
              , ae = q.pop();
            if (ae !== Z) {
                q[0] = ae;
                e: for (var Oe = 0, Be = q.length, D = Be >>> 1; Oe < D; ) {
                    var K = 2 * (Oe + 1) - 1
                      , te = q[K]
                      , ne = K + 1
                      , me = q[ne];
                    if (0 > s(te, ae))
                        ne < Be && 0 > s(me, te) ? (q[Oe] = me,
                        q[ne] = ae,
                        Oe = ne) : (q[Oe] = te,
                        q[K] = ae,
                        Oe = K);
                    else if (ne < Be && 0 > s(me, ae))
                        q[Oe] = me,
                        q[ne] = ae,
                        Oe = ne;
                    else
                        break e
                }
            }
            return Z
        }
        function s(q, Z) {
            var ae = q.sortIndex - Z.sortIndex;
            return ae !== 0 ? ae : q.id - Z.id
        }
        if (t.unstable_now = void 0,
        typeof performance == "object" && typeof performance.now == "function") {
            var l = performance;
            t.unstable_now = function() {
                return l.now()
            }
        } else {
            var o = Date
              , u = o.now();
            t.unstable_now = function() {
                return o.now() - u
            }
        }
        var f = []
          , p = []
          , m = 1
          , g = null
          , v = 3
          , N = !1
          , y = !1
          , w = !1
          , C = !1
          , E = typeof setTimeout == "function" ? setTimeout : null
          , A = typeof clearTimeout == "function" ? clearTimeout : null
          , _ = typeof setImmediate < "u" ? setImmediate : null;
        function O(q) {
            for (var Z = n(p); Z !== null; ) {
                if (Z.callback === null)
                    r(p);
                else if (Z.startTime <= q)
                    r(p),
                    Z.sortIndex = Z.expirationTime,
                    e(f, Z);
                else
                    break;
                Z = n(p)
            }
        }
        function R(q) {
            if (w = !1,
            O(q),
            !y)
                if (n(f) !== null)
                    y = !0,
                    $ || ($ = !0,
                    le());
                else {
                    var Z = n(p);
                    Z !== null && Ue(R, Z.startTime - q)
                }
        }
        var $ = !1
          , z = -1
          , G = 5
          , Y = -1;
        function pe() {
            return C ? !0 : !(t.unstable_now() - Y < G)
        }
        function Te() {
            if (C = !1,
            $) {
                var q = t.unstable_now();
                Y = q;
                var Z = !0;
                try {
                    e: {
                        y = !1,
                        w && (w = !1,
                        A(z),
                        z = -1),
                        N = !0;
                        var ae = v;
                        try {
                            t: {
                                for (O(q),
                                g = n(f); g !== null && !(g.expirationTime > q && pe()); ) {
                                    var Oe = g.callback;
                                    if (typeof Oe == "function") {
                                        g.callback = null,
                                        v = g.priorityLevel;
                                        var Be = Oe(g.expirationTime <= q);
                                        if (q = t.unstable_now(),
                                        typeof Be == "function") {
                                            g.callback = Be,
                                            O(q),
                                            Z = !0;
                                            break t
                                        }
                                        g === n(f) && r(f),
                                        O(q)
                                    } else
                                        r(f);
                                    g = n(f)
                                }
                                if (g !== null)
                                    Z = !0;
                                else {
                                    var D = n(p);
                                    D !== null && Ue(R, D.startTime - q),
                                    Z = !1
                                }
                            }
                            break e
                        } finally {
                            g = null,
                            v = ae,
                            N = !1
                        }
                        Z = void 0
                    }
                } finally {
                    Z ? le() : $ = !1
                }
            }
        }
        var le;
        if (typeof _ == "function")
            le = function() {
                _(Te)
            }
            ;
        else if (typeof MessageChannel < "u") {
            var Ce = new MessageChannel
              , Le = Ce.port2;
            Ce.port1.onmessage = Te,
            le = function() {
                Le.postMessage(null)
            }
        } else
            le = function() {
                E(Te, 0)
            }
            ;
        function Ue(q, Z) {
            z = E(function() {
                q(t.unstable_now())
            }, Z)
        }
        t.unstable_IdlePriority = 5,
        t.unstable_ImmediatePriority = 1,
        t.unstable_LowPriority = 4,
        t.unstable_NormalPriority = 3,
        t.unstable_Profiling = null,
        t.unstable_UserBlockingPriority = 2,
        t.unstable_cancelCallback = function(q) {
            q.callback = null
        }
        ,
        t.unstable_forceFrameRate = function(q) {
            0 > q || 125 < q ? console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported") : G = 0 < q ? Math.floor(1e3 / q) : 5
        }
        ,
        t.unstable_getCurrentPriorityLevel = function() {
            return v
        }
        ,
        t.unstable_next = function(q) {
            switch (v) {
            case 1:
            case 2:
            case 3:
                var Z = 3;
                break;
            default:
                Z = v
            }
            var ae = v;
            v = Z;
            try {
                return q()
            } finally {
                v = ae
            }
        }
        ,
        t.unstable_requestPaint = function() {
            C = !0
        }
        ,
        t.unstable_runWithPriority = function(q, Z) {
            switch (q) {
            case 1:
            case 2:
            case 3:
            case 4:
            case 5:
                break;
            default:
                q = 3
            }
            var ae = v;
            v = q;
            try {
                return Z()
            } finally {
                v = ae
            }
        }
        ,
        t.unstable_scheduleCallback = function(q, Z, ae) {
            var Oe = t.unstable_now();
            switch (typeof ae == "object" && ae !== null ? (ae = ae.delay,
            ae = typeof ae == "number" && 0 < ae ? Oe + ae : Oe) : ae = Oe,
            q) {
            case 1:
                var Be = -1;
                break;
            case 2:
                Be = 250;
                break;
            case 5:
                Be = 1073741823;
                break;
            case 4:
                Be = 1e4;
                break;
            default:
                Be = 5e3
            }
            return Be = ae + Be,
            q = {
                id: m++,
                callback: Z,
                priorityLevel: q,
                startTime: ae,
                expirationTime: Be,
                sortIndex: -1
            },
            ae > Oe ? (q.sortIndex = ae,
            e(p, q),
            n(f) === null && q === n(p) && (w ? (A(z),
            z = -1) : w = !0,
            Ue(R, ae - Oe))) : (q.sortIndex = Be,
            e(f, q),
            y || N || (y = !0,
            $ || ($ = !0,
            le()))),
            q
        }
        ,
        t.unstable_shouldYield = pe,
        t.unstable_wrapCallback = function(q) {
            var Z = v;
            return function() {
                var ae = v;
                v = Z;
                try {
                    return q.apply(this, arguments)
                } finally {
                    v = ae
                }
            }
        }
    }
    )(_0)),
    _0
}
var Dy;
function jS() {
    return Dy || (Dy = 1,
    A0.exports = SS()),
    A0.exports
}
var T0 = {
    exports: {}
}
  , Bt = {};
var My;
function ES() {
    if (My)
        return Bt;
    My = 1;
    var t = bm();
    function e(f) {
        var p = "https://react.dev/errors/" + f;
        if (1 < arguments.length) {
            p += "?args[]=" + encodeURIComponent(arguments[1]);
            for (var m = 2; m < arguments.length; m++)
                p += "&args[]=" + encodeURIComponent(arguments[m])
        }
        return "Minified React error #" + f + "; visit " + p + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings."
    }
    function n() {}
    var r = {
        d: {
            f: n,
            r: function() {
                throw Error(e(522))
            },
            D: n,
            C: n,
            L: n,
            m: n,
            X: n,
            S: n,
            M: n
        },
        p: 0,
        findDOMNode: null
    }
      , s = Symbol.for("react.portal");
    function l(f, p, m) {
        var g = 3 < arguments.length && arguments[3] !== void 0 ? arguments[3] : null;
        return {
            $$typeof: s,
            key: g == null ? null : "" + g,
            children: f,
            containerInfo: p,
            implementation: m
        }
    }
    var o = t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;
    function u(f, p) {
        if (f === "font")
            return "";
        if (typeof p == "string")
            return p === "use-credentials" ? p : ""
    }
    return Bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE = r,
    Bt.createPortal = function(f, p) {
        var m = 2 < arguments.length && arguments[2] !== void 0 ? arguments[2] : null;
        if (!p || p.nodeType !== 1 && p.nodeType !== 9 && p.nodeType !== 11)
            throw Error(e(299));
        return l(f, p, null, m)
    }
    ,
    Bt.flushSync = function(f) {
        var p = o.T
          , m = r.p;
        try {
            if (o.T = null,
            r.p = 2,
            f)
                return f()
        } finally {
            o.T = p,
            r.p = m,
            r.d.f()
        }
    }
    ,
    Bt.preconnect = function(f, p) {
        typeof f == "string" && (p ? (p = p.crossOrigin,
        p = typeof p == "string" ? p === "use-credentials" ? p : "" : void 0) : p = null,
        r.d.C(f, p))
    }
    ,
    Bt.prefetchDNS = function(f) {
        typeof f == "string" && r.d.D(f)
    }
    ,
    Bt.preinit = function(f, p) {
        if (typeof f == "string" && p && typeof p.as == "string") {
            var m = p.as
              , g = u(m, p.crossOrigin)
              , v = typeof p.integrity == "string" ? p.integrity : void 0
              , N = typeof p.fetchPriority == "string" ? p.fetchPriority : void 0;
            m === "style" ? r.d.S(f, typeof p.precedence == "string" ? p.precedence : void 0, {
                crossOrigin: g,
                integrity: v,
                fetchPriority: N
            }) : m === "script" && r.d.X(f, {
                crossOrigin: g,
                integrity: v,
                fetchPriority: N,
                nonce: typeof p.nonce == "string" ? p.nonce : void 0
            })
        }
    }
    ,
    Bt.preinitModule = function(f, p) {
        if (typeof f == "string")
            if (typeof p == "object" && p !== null) {
                if (p.as == null || p.as === "script") {
                    var m = u(p.as, p.crossOrigin);
                    r.d.M(f, {
                        crossOrigin: m,
                        integrity: typeof p.integrity == "string" ? p.integrity : void 0,
                        nonce: typeof p.nonce == "string" ? p.nonce : void 0
                    })
                }
            } else
                p == null && r.d.M(f)
    }
    ,
    Bt.preload = function(f, p) {
        if (typeof f == "string" && typeof p == "object" && p !== null && typeof p.as == "string") {
            var m = p.as
              , g = u(m, p.crossOrigin);
            r.d.L(f, m, {
                crossOrigin: g,
                integrity: typeof p.integrity == "string" ? p.integrity : void 0,
                nonce: typeof p.nonce == "string" ? p.nonce : void 0,
                type: typeof p.type == "string" ? p.type : void 0,
                fetchPriority: typeof p.fetchPriority == "string" ? p.fetchPriority : void 0,
                referrerPolicy: typeof p.referrerPolicy == "string" ? p.referrerPolicy : void 0,
                imageSrcSet: typeof p.imageSrcSet == "string" ? p.imageSrcSet : void 0,
                imageSizes: typeof p.imageSizes == "string" ? p.imageSizes : void 0,
                media: typeof p.media == "string" ? p.media : void 0
            })
        }
    }
    ,
    Bt.preloadModule = function(f, p) {
        if (typeof f == "string")
            if (p) {
                var m = u(p.as, p.crossOrigin);
                r.d.m(f, {
                    as: typeof p.as == "string" && p.as !== "script" ? p.as : void 0,
                    crossOrigin: m,
                    integrity: typeof p.integrity == "string" ? p.integrity : void 0
                })
            } else
                r.d.m(f)
    }
    ,
    Bt.requestFormReset = function(f) {
        r.d.r(f)
    }
    ,
    Bt.unstable_batchedUpdates = function(f, p) {
        return f(p)
    }
    ,
    Bt.useFormState = function(f, p, m) {
        return o.H.useFormState(f, p, m)
    }
    ,
    Bt.useFormStatus = function() {
        return o.H.useHostTransitionStatus()
    }
    ,
    Bt.version = "19.2.3",
    Bt
}
var Oy;
function o3() {
    if (Oy)
        return T0.exports;
    Oy = 1;
    function t() {
        if (!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ > "u" || typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE != "function"))
            try {
                __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)
            } catch (e) {
                console.error(e)
            }
    }
    return t(),
    T0.exports = ES(),
    T0.exports
}
var Ry;
function kS() {
    if (Ry)
        return Ha;
    Ry = 1;
    var t = jS()
      , e = bm()
      , n = o3();
    function r(i) {
        var a = "https://react.dev/errors/" + i;
        if (1 < arguments.length) {
            a += "?args[]=" + encodeURIComponent(arguments[1]);
            for (var c = 2; c < arguments.length; c++)
                a += "&args[]=" + encodeURIComponent(arguments[c])
        }
        return "Minified React error #" + i + "; visit " + a + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings."
    }
    function s(i) {
        return !(!i || i.nodeType !== 1 && i.nodeType !== 9 && i.nodeType !== 11)
    }
    function l(i) {
        var a = i
          , c = i;
        if (i.alternate)
            for (; a.return; )
                a = a.return;
        else {
            i = a;
            do
                a = i,
                (a.flags & 4098) !== 0 && (c = a.return),
                i = a.return;
            while (i)
        }
        return a.tag === 3 ? c : null
    }
    function o(i) {
        if (i.tag === 13) {
            var a = i.memoizedState;
            if (a === null && (i = i.alternate,
            i !== null && (a = i.memoizedState)),
            a !== null)
                return a.dehydrated
        }
        return null
    }
    function u(i) {
        if (i.tag === 31) {
            var a = i.memoizedState;
            if (a === null && (i = i.alternate,
            i !== null && (a = i.memoizedState)),
            a !== null)
                return a.dehydrated
        }
        return null
    }
    function f(i) {
        if (l(i) !== i)
            throw Error(r(188))
    }
    function p(i) {
        var a = i.alternate;
        if (!a) {
            if (a = l(i),
            a === null)
                throw Error(r(188));
            return a !== i ? null : i
        }
        for (var c = i, h = a; ; ) {
            var x = c.return;
            if (x === null)
                break;
            var b = x.alternate;
            if (b === null) {
                if (h = x.return,
                h !== null) {
                    c = h;
                    continue
                }
                break
            }
            if (x.child === b.child) {
                for (b = x.child; b; ) {
                    if (b === c)
                        return f(x),
                        i;
                    if (b === h)
                        return f(x),
                        a;
                    b = b.sibling
                }
                throw Error(r(188))
            }
            if (c.return !== h.return)
                c = x,
                h = b;
            else {
                for (var S = !1, j = x.child; j; ) {
                    if (j === c) {
                        S = !0,
                        c = x,
                        h = b;
                        break
                    }
                    if (j === h) {
                        S = !0,
                        h = x,
                        c = b;
                        break
                    }
                    j = j.sibling
                }
                if (!S) {
                    for (j = b.child; j; ) {
                        if (j === c) {
                            S = !0,
                            c = b,
                            h = x;
                            break
                        }
                        if (j === h) {
                            S = !0,
                            h = b,
                            c = x;
                            break
                        }
                        j = j.sibling
                    }
                    if (!S)
                        throw Error(r(189))
                }
            }
            if (c.alternate !== h)
                throw Error(r(190))
        }
        if (c.tag !== 3)
            throw Error(r(188));
        return c.stateNode.current === c ? i : a
    }
    function m(i) {
        var a = i.tag;
        if (a === 5 || a === 26 || a === 27 || a === 6)
            return i;
        for (i = i.child; i !== null; ) {
            if (a = m(i),
            a !== null)
                return a;
            i = i.sibling
        }
        return null
    }
    var g = Object.assign
      , v = Symbol.for("react.element")
      , N = Symbol.for("react.transitional.element")
      , y = Symbol.for("react.portal")
      , w = Symbol.for("react.fragment")
      , C = Symbol.for("react.strict_mode")
      , E = Symbol.for("react.profiler")
      , A = Symbol.for("react.consumer")
      , _ = Symbol.for("react.context")
      , O = Symbol.for("react.forward_ref")
      , R = Symbol.for("react.suspense")
      , $ = Symbol.for("react.suspense_list")
      , z = Symbol.for("react.memo")
      , G = Symbol.for("react.lazy")
      , Y = Symbol.for("react.activity")
      , pe = Symbol.for("react.memo_cache_sentinel")
      , Te = Symbol.iterator;
    function le(i) {
        return i === null || typeof i != "object" ? null : (i = Te && i[Te] || i["@@iterator"],
        typeof i == "function" ? i : null)
    }
    var Ce = Symbol.for("react.client.reference");
    function Le(i) {
        if (i == null)
            return null;
        if (typeof i == "function")
            return i.$$typeof === Ce ? null : i.displayName || i.name || null;
        if (typeof i == "string")
            return i;
        switch (i) {
        case w:
            return "Fragment";
        case E:
            return "Profiler";
        case C:
            return "StrictMode";
        case R:
            return "Suspense";
        case $:
            return "SuspenseList";
        case Y:
            return "Activity"
        }
        if (typeof i == "object")
            switch (i.$$typeof) {
            case y:
                return "Portal";
            case _:
                return i.displayName || "Context";
            case A:
                return (i._context.displayName || "Context") + ".Consumer";
            case O:
                var a = i.render;
                return i = i.displayName,
                i || (i = a.displayName || a.name || "",
                i = i !== "" ? "ForwardRef(" + i + ")" : "ForwardRef"),
                i;
            case z:
                return a = i.displayName || null,
                a !== null ? a : Le(i.type) || "Memo";
            case G:
                a = i._payload,
                i = i._init;
                try {
                    return Le(i(a))
                } catch {}
            }
        return null
    }
    var Ue = Array.isArray
      , q = e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE
      , Z = n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE
      , ae = {
        pending: !1,
        data: null,
        method: null,
        action: null
    }
      , Oe = []
      , Be = -1;
    function D(i) {
        return {
            current: i
        }
    }
    function K(i) {
        0 > Be || (i.current = Oe[Be],
        Oe[Be] = null,
        Be--)
    }
    function te(i, a) {
        Be++,
        Oe[Be] = i.current,
        i.current = a
    }
    var ne = D(null)
      , me = D(null)
      , Se = D(null)
      , ze = D(null);
    function Pt(i, a) {
        switch (te(Se, a),
        te(me, i),
        te(ne, null),
        a.nodeType) {
        case 9:
        case 11:
            i = (i = a.documentElement) && (i = i.namespaceURI) ? Jb(i) : 0;
            break;
        default:
            if (i = a.tagName,
            a = a.namespaceURI)
                a = Jb(a),
                i = Xb(a, i);
            else
                switch (i) {
                case "svg":
                    i = 1;
                    break;
                case "math":
                    i = 2;
                    break;
                default:
                    i = 0
                }
        }
        K(ne),
        te(ne, i)
    }
    function at() {
        K(ne),
        K(me),
        K(Se)
    }
    function Vl(i) {
        i.memoizedState !== null && te(ze, i);
        var a = ne.current
          , c = Xb(a, i.type);
        a !== c && (te(me, i),
        te(ne, c))
    }
    function Fo(i) {
        me.current === i && (K(ne),
        K(me)),
        ze.current === i && (K(ze),
        Ra._currentValue = ae)
    }
    var af, jg;
    function Vs(i) {
        if (af === void 0)
            try {
                throw Error()
            } catch (c) {
                var a = c.stack.trim().match(/\n( *(at )?)/);
                af = a && a[1] || "",
                jg = -1 < c.stack.indexOf(`
    at`) ? " (<anonymous>)" : -1 < c.stack.indexOf("@") ? "@unknown:0:0" : ""
            }
        return `
` + af + i + jg
    }
    var of = !1;
    function uf(i, a) {
        if (!i || of)
            return "";
        of = !0;
        var c = Error.prepareStackTrace;
        Error.prepareStackTrace = void 0;
        try {
            var h = {
                DetermineComponentFrameRoot: function() {
                    try {
                        if (a) {
                            var J = function() {
                                throw Error()
                            };
                            if (Object.defineProperty(J.prototype, "props", {
                                set: function() {
                                    throw Error()
                                }
                            }),
                            typeof Reflect == "object" && Reflect.construct) {
                                try {
                                    Reflect.construct(J, [])
                                } catch (I) {
                                    var H = I
                                }
                                Reflect.construct(i, [], J)
                            } else {
                                try {
                                    J.call()
                                } catch (I) {
                                    H = I
                                }
                                i.call(J.prototype)
                            }
                        } else {
                            try {
                                throw Error()
                            } catch (I) {
                                H = I
                            }
                            (J = i()) && typeof J.catch == "function" && J.catch(function() {})
                        }
                    } catch (I) {
                        if (I && H && typeof I.stack == "string")
                            return [I.stack, H.stack]
                    }
                    return [null, null]
                }
            };
            h.DetermineComponentFrameRoot.displayName = "DetermineComponentFrameRoot";
            var x = Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot, "name");
            x && x.configurable && Object.defineProperty(h.DetermineComponentFrameRoot, "name", {
                value: "DetermineComponentFrameRoot"
            });
            var b = h.DetermineComponentFrameRoot()
              , S = b[0]
              , j = b[1];
            if (S && j) {
                var T = S.split(`
`)
                  , F = j.split(`
`);
                for (x = h = 0; h < T.length && !T[h].includes("DetermineComponentFrameRoot"); )
                    h++;
                for (; x < F.length && !F[x].includes("DetermineComponentFrameRoot"); )
                    x++;
                if (h === T.length || x === F.length)
                    for (h = T.length - 1,
                    x = F.length - 1; 1 <= h && 0 <= x && T[h] !== F[x]; )
                        x--;
                for (; 1 <= h && 0 <= x; h--,
                x--)
                    if (T[h] !== F[x]) {
                        if (h !== 1 || x !== 1)
                            do
                                if (h--,
                                x--,
                                0 > x || T[h] !== F[x]) {
                                    var P = `
` + T[h].replace(" at new ", " at ");
                                    return i.displayName && P.includes("<anonymous>") && (P = P.replace("<anonymous>", i.displayName)),
                                    P
                                }
                            while (1 <= h && 0 <= x);
                        break
                    }
            }
        } finally {
            of = !1,
            Error.prepareStackTrace = c
        }
        return (c = i ? i.displayName || i.name : "") ? Vs(c) : ""
    }
    function ZN(i, a) {
        switch (i.tag) {
        case 26:
        case 27:
        case 5:
            return Vs(i.type);
        case 16:
            return Vs("Lazy");
        case 13:
            return i.child !== a && a !== null ? Vs("Suspense Fallback") : Vs("Suspense");
        case 19:
            return Vs("SuspenseList");
        case 0:
        case 15:
            return uf(i.type, !1);
        case 11:
            return uf(i.type.render, !1);
        case 1:
            return uf(i.type, !0);
        case 31:
            return Vs("Activity");
        default:
            return ""
        }
    }
    function Eg(i) {
        try {
            var a = ""
              , c = null;
            do
                a += ZN(i, c),
                c = i,
                i = i.return;
            while (i);
            return a
        } catch (h) {
            return `
Error generating stack: ` + h.message + `
` + h.stack
        }
    }
    var cf = Object.prototype.hasOwnProperty
      , df = t.unstable_scheduleCallback
      , ff = t.unstable_cancelCallback
      , WN = t.unstable_shouldYield
      , ew = t.unstable_requestPaint
      , cn = t.unstable_now
      , tw = t.unstable_getCurrentPriorityLevel
      , kg = t.unstable_ImmediatePriority
      , Ag = t.unstable_UserBlockingPriority
      , Ho = t.unstable_NormalPriority
      , nw = t.unstable_LowPriority
      , _g = t.unstable_IdlePriority
      , rw = t.log
      , sw = t.unstable_setDisableYieldValue
      , Gl = null
      , dn = null;
    function Yr(i) {
        if (typeof rw == "function" && sw(i),
        dn && typeof dn.setStrictMode == "function")
            try {
                dn.setStrictMode(Gl, i)
            } catch {}
    }
    var fn = Math.clz32 ? Math.clz32 : aw
      , iw = Math.log
      , lw = Math.LN2;
    function aw(i) {
        return i >>>= 0,
        i === 0 ? 32 : 31 - (iw(i) / lw | 0) | 0
    }
    var Uo = 256
      , qo = 262144
      , Io = 4194304;
    function Gs(i) {
        var a = i & 42;
        if (a !== 0)
            return a;
        switch (i & -i) {
        case 1:
            return 1;
        case 2:
            return 2;
        case 4:
            return 4;
        case 8:
            return 8;
        case 16:
            return 16;
        case 32:
            return 32;
        case 64:
            return 64;
        case 128:
            return 128;
        case 256:
        case 512:
        case 1024:
        case 2048:
        case 4096:
        case 8192:
        case 16384:
        case 32768:
        case 65536:
        case 131072:
            return i & 261888;
        case 262144:
        case 524288:
        case 1048576:
        case 2097152:
            return i & 3932160;
        case 4194304:
        case 8388608:
        case 16777216:
        case 33554432:
            return i & 62914560;
        case 67108864:
            return 67108864;
        case 134217728:
            return 134217728;
        case 268435456:
            return 268435456;
        case 536870912:
            return 536870912;
        case 1073741824:
            return 0;
        default:
            return i
        }
    }
    function $o(i, a, c) {
        var h = i.pendingLanes;
        if (h === 0)
            return 0;
        var x = 0
          , b = i.suspendedLanes
          , S = i.pingedLanes;
        i = i.warmLanes;
        var j = h & 134217727;
        return j !== 0 ? (h = j & ~b,
        h !== 0 ? x = Gs(h) : (S &= j,
        S !== 0 ? x = Gs(S) : c || (c = j & ~i,
        c !== 0 && (x = Gs(c))))) : (j = h & ~b,
        j !== 0 ? x = Gs(j) : S !== 0 ? x = Gs(S) : c || (c = h & ~i,
        c !== 0 && (x = Gs(c)))),
        x === 0 ? 0 : a !== 0 && a !== x && (a & b) === 0 && (b = x & -x,
        c = a & -a,
        b >= c || b === 32 && (c & 4194048) !== 0) ? a : x
    }
    function Kl(i, a) {
        return (i.pendingLanes & ~(i.suspendedLanes & ~i.pingedLanes) & a) === 0
    }
    function ow(i, a) {
        switch (i) {
        case 1:
        case 2:
        case 4:
        case 8:
        case 64:
            return a + 250;
        case 16:
        case 32:
        case 128:
        case 256:
        case 512:
        case 1024:
        case 2048:
        case 4096:
        case 8192:
        case 16384:
        case 32768:
        case 65536:
        case 131072:
        case 262144:
        case 524288:
        case 1048576:
        case 2097152:
            return a + 5e3;
        case 4194304:
        case 8388608:
        case 16777216:
        case 33554432:
            return -1;
        case 67108864:
        case 134217728:
        case 268435456:
        case 536870912:
        case 1073741824:
            return -1;
        default:
            return -1
        }
    }
    function Tg() {
        var i = Io;
        return Io <<= 1,
        (Io & 62914560) === 0 && (Io = 4194304),
        i
    }
    function hf(i) {
        for (var a = [], c = 0; 31 > c; c++)
            a.push(i);
        return a
    }
    function Yl(i, a) {
        i.pendingLanes |= a,
        a !== 268435456 && (i.suspendedLanes = 0,
        i.pingedLanes = 0,
        i.warmLanes = 0)
    }
    function uw(i, a, c, h, x, b) {
        var S = i.pendingLanes;
        i.pendingLanes = c,
        i.suspendedLanes = 0,
        i.pingedLanes = 0,
        i.warmLanes = 0,
        i.expiredLanes &= c,
        i.entangledLanes &= c,
        i.errorRecoveryDisabledLanes &= c,
        i.shellSuspendCounter = 0;
        var j = i.entanglements
          , T = i.expirationTimes
          , F = i.hiddenUpdates;
        for (c = S & ~c; 0 < c; ) {
            var P = 31 - fn(c)
              , J = 1 << P;
            j[P] = 0,
            T[P] = -1;
            var H = F[P];
            if (H !== null)
                for (F[P] = null,
                P = 0; P < H.length; P++) {
                    var I = H[P];
                    I !== null && (I.lane &= -536870913)
                }
            c &= ~J
        }
        h !== 0 && Dg(i, h, 0),
        b !== 0 && x === 0 && i.tag !== 0 && (i.suspendedLanes |= b & ~(S & ~a))
    }
    function Dg(i, a, c) {
        i.pendingLanes |= a,
        i.suspendedLanes &= ~a;
        var h = 31 - fn(a);
        i.entangledLanes |= a,
        i.entanglements[h] = i.entanglements[h] | 1073741824 | c & 261930
    }
    function Mg(i, a) {
        var c = i.entangledLanes |= a;
        for (i = i.entanglements; c; ) {
            var h = 31 - fn(c)
              , x = 1 << h;
            x & a | i[h] & a && (i[h] |= a),
            c &= ~x
        }
    }
    function Og(i, a) {
        var c = a & -a;
        return c = (c & 42) !== 0 ? 1 : pf(c),
        (c & (i.suspendedLanes | a)) !== 0 ? 0 : c
    }
    function pf(i) {
        switch (i) {
        case 2:
            i = 1;
            break;
        case 8:
            i = 4;
            break;
        case 32:
            i = 16;
            break;
        case 256:
        case 512:
        case 1024:
        case 2048:
        case 4096:
        case 8192:
        case 16384:
        case 32768:
        case 65536:
        case 131072:
        case 262144:
        case 524288:
        case 1048576:
        case 2097152:
        case 4194304:
        case 8388608:
        case 16777216:
        case 33554432:
            i = 128;
            break;
        case 268435456:
            i = 134217728;
            break;
        default:
            i = 0
        }
        return i
    }
    function mf(i) {
        return i &= -i,
        2 < i ? 8 < i ? (i & 134217727) !== 0 ? 32 : 268435456 : 8 : 2
    }
    function Rg() {
        var i = Z.p;
        return i !== 0 ? i : (i = window.event,
        i === void 0 ? 32 : yy(i.type))
    }
    function zg(i, a) {
        var c = Z.p;
        try {
            return Z.p = i,
            a()
        } finally {
            Z.p = c
        }
    }
    var Jr = Math.random().toString(36).slice(2)
      , _t = "__reactFiber$" + Jr
      , Qt = "__reactProps$" + Jr
      , Ri = "__reactContainer$" + Jr
      , gf = "__reactEvents$" + Jr
      , cw = "__reactListeners$" + Jr
      , dw = "__reactHandles$" + Jr
      , Lg = "__reactResources$" + Jr
      , Jl = "__reactMarker$" + Jr;
    function xf(i) {
        delete i[_t],
        delete i[Qt],
        delete i[gf],
        delete i[cw],
        delete i[dw]
    }
    function zi(i) {
        var a = i[_t];
        if (a)
            return a;
        for (var c = i.parentNode; c; ) {
            if (a = c[Ri] || c[_t]) {
                if (c = a.alternate,
                a.child !== null || c !== null && c.child !== null)
                    for (i = ry(i); i !== null; ) {
                        if (c = i[_t])
                            return c;
                        i = ry(i)
                    }
                return a
            }
            i = c,
            c = i.parentNode
        }
        return null
    }
    function Li(i) {
        if (i = i[_t] || i[Ri]) {
            var a = i.tag;
            if (a === 5 || a === 6 || a === 13 || a === 31 || a === 26 || a === 27 || a === 3)
                return i
        }
        return null
    }
    function Xl(i) {
        var a = i.tag;
        if (a === 5 || a === 26 || a === 27 || a === 6)
            return i.stateNode;
        throw Error(r(33))
    }
    function Bi(i) {
        var a = i[Lg];
        return a || (a = i[Lg] = {
            hoistableStyles: new Map,
            hoistableScripts: new Map
        }),
        a
    }
    function vt(i) {
        i[Jl] = !0
    }
    var Bg = new Set
      , Fg = {};
    function Ks(i, a) {
        Fi(i, a),
        Fi(i + "Capture", a)
    }
    function Fi(i, a) {
        for (Fg[i] = a,
        i = 0; i < a.length; i++)
            Bg.add(a[i])
    }
    var fw = RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$")
      , Hg = {}
      , Ug = {};
    function hw(i) {
        return cf.call(Ug, i) ? !0 : cf.call(Hg, i) ? !1 : fw.test(i) ? Ug[i] = !0 : (Hg[i] = !0,
        !1)
    }
    function Po(i, a, c) {
        if (hw(a))
            if (c === null)
                i.removeAttribute(a);
            else {
                switch (typeof c) {
                case "undefined":
                case "function":
                case "symbol":
                    i.removeAttribute(a);
                    return;
                case "boolean":
                    var h = a.toLowerCase().slice(0, 5);
                    if (h !== "data-" && h !== "aria-") {
                        i.removeAttribute(a);
                        return
                    }
                }
                i.setAttribute(a, "" + c)
            }
    }
    function Vo(i, a, c) {
        if (c === null)
            i.removeAttribute(a);
        else {
            switch (typeof c) {
            case "undefined":
            case "function":
            case "symbol":
            case "boolean":
                i.removeAttribute(a);
                return
            }
            i.setAttribute(a, "" + c)
        }
    }
    function br(i, a, c, h) {
        if (h === null)
            i.removeAttribute(c);
        else {
            switch (typeof h) {
            case "undefined":
            case "function":
            case "symbol":
            case "boolean":
                i.removeAttribute(c);
                return
            }
            i.setAttributeNS(a, c, "" + h)
        }
    }
    function jn(i) {
        switch (typeof i) {
        case "bigint":
        case "boolean":
        case "number":
        case "string":
        case "undefined":
            return i;
        case "object":
            return i;
        default:
            return ""
        }
    }
    function qg(i) {
        var a = i.type;
        return (i = i.nodeName) && i.toLowerCase() === "input" && (a === "checkbox" || a === "radio")
    }
    function pw(i, a, c) {
        var h = Object.getOwnPropertyDescriptor(i.constructor.prototype, a);
        if (!i.hasOwnProperty(a) && typeof h < "u" && typeof h.get == "function" && typeof h.set == "function") {
            var x = h.get
              , b = h.set;
            return Object.defineProperty(i, a, {
                configurable: !0,
                get: function() {
                    return x.call(this)
                },
                set: function(S) {
                    c = "" + S,
                    b.call(this, S)
                }
            }),
            Object.defineProperty(i, a, {
                enumerable: h.enumerable
            }),
            {
                getValue: function() {
                    return c
                },
                setValue: function(S) {
                    c = "" + S
                },
                stopTracking: function() {
                    i._valueTracker = null,
                    delete i[a]
                }
            }
        }
    }
    function bf(i) {
        if (!i._valueTracker) {
            var a = qg(i) ? "checked" : "value";
            i._valueTracker = pw(i, a, "" + i[a])
        }
    }
    function Ig(i) {
        if (!i)
            return !1;
        var a = i._valueTracker;
        if (!a)
            return !0;
        var c = a.getValue()
          , h = "";
        return i && (h = qg(i) ? i.checked ? "true" : "false" : i.value),
        i = h,
        i !== c ? (a.setValue(i),
        !0) : !1
    }
    function Go(i) {
        if (i = i || (typeof document < "u" ? document : void 0),
        typeof i > "u")
            return null;
        try {
            return i.activeElement || i.body
        } catch {
            return i.body
        }
    }
    var mw = /[\n"\\]/g;
    function En(i) {
        return i.replace(mw, function(a) {
            return "\\" + a.charCodeAt(0).toString(16) + " "
        })
    }
    function yf(i, a, c, h, x, b, S, j) {
        i.name = "",
        S != null && typeof S != "function" && typeof S != "symbol" && typeof S != "boolean" ? i.type = S : i.removeAttribute("type"),
        a != null ? S === "number" ? (a === 0 && i.value === "" || i.value != a) && (i.value = "" + jn(a)) : i.value !== "" + jn(a) && (i.value = "" + jn(a)) : S !== "submit" && S !== "reset" || i.removeAttribute("value"),
        a != null ? vf(i, S, jn(a)) : c != null ? vf(i, S, jn(c)) : h != null && i.removeAttribute("value"),
        x == null && b != null && (i.defaultChecked = !!b),
        x != null && (i.checked = x && typeof x != "function" && typeof x != "symbol"),
        j != null && typeof j != "function" && typeof j != "symbol" && typeof j != "boolean" ? i.name = "" + jn(j) : i.removeAttribute("name")
    }
    function $g(i, a, c, h, x, b, S, j) {
        if (b != null && typeof b != "function" && typeof b != "symbol" && typeof b != "boolean" && (i.type = b),
        a != null || c != null) {
            if (!(b !== "submit" && b !== "reset" || a != null)) {
                bf(i);
                return
            }
            c = c != null ? "" + jn(c) : "",
            a = a != null ? "" + jn(a) : c,
            j || a === i.value || (i.value = a),
            i.defaultValue = a
        }
        h = h ?? x,
        h = typeof h != "function" && typeof h != "symbol" && !!h,
        i.checked = j ? i.checked : !!h,
        i.defaultChecked = !!h,
        S != null && typeof S != "function" && typeof S != "symbol" && typeof S != "boolean" && (i.name = S),
        bf(i)
    }
    function vf(i, a, c) {
        a === "number" && Go(i.ownerDocument) === i || i.defaultValue === "" + c || (i.defaultValue = "" + c)
    }
    function Hi(i, a, c, h) {
        if (i = i.options,
        a) {
            a = {};
            for (var x = 0; x < c.length; x++)
                a["$" + c[x]] = !0;
            for (c = 0; c < i.length; c++)
                x = a.hasOwnProperty("$" + i[c].value),
                i[c].selected !== x && (i[c].selected = x),
                x && h && (i[c].defaultSelected = !0)
        } else {
            for (c = "" + jn(c),
            a = null,
            x = 0; x < i.length; x++) {
                if (i[x].value === c) {
                    i[x].selected = !0,
                    h && (i[x].defaultSelected = !0);
                    return
                }
                a !== null || i[x].disabled || (a = i[x])
            }
            a !== null && (a.selected = !0)
        }
    }
    function Pg(i, a, c) {
        if (a != null && (a = "" + jn(a),
        a !== i.value && (i.value = a),
        c == null)) {
            i.defaultValue !== a && (i.defaultValue = a);
            return
        }
        i.defaultValue = c != null ? "" + jn(c) : ""
    }
    function Vg(i, a, c, h) {
        if (a == null) {
            if (h != null) {
                if (c != null)
                    throw Error(r(92));
                if (Ue(h)) {
                    if (1 < h.length)
                        throw Error(r(93));
                    h = h[0]
                }
                c = h
            }
            c == null && (c = ""),
            a = c
        }
        c = jn(a),
        i.defaultValue = c,
        h = i.textContent,
        h === c && h !== "" && h !== null && (i.value = h),
        bf(i)
    }
    function Ui(i, a) {
        if (a) {
            var c = i.firstChild;
            if (c && c === i.lastChild && c.nodeType === 3) {
                c.nodeValue = a;
                return
            }
        }
        i.textContent = a
    }
    var gw = new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));
    function Gg(i, a, c) {
        var h = a.indexOf("--") === 0;
        c == null || typeof c == "boolean" || c === "" ? h ? i.setProperty(a, "") : a === "float" ? i.cssFloat = "" : i[a] = "" : h ? i.setProperty(a, c) : typeof c != "number" || c === 0 || gw.has(a) ? a === "float" ? i.cssFloat = c : i[a] = ("" + c).trim() : i[a] = c + "px"
    }
    function Kg(i, a, c) {
        if (a != null && typeof a != "object")
            throw Error(r(62));
        if (i = i.style,
        c != null) {
            for (var h in c)
                !c.hasOwnProperty(h) || a != null && a.hasOwnProperty(h) || (h.indexOf("--") === 0 ? i.setProperty(h, "") : h === "float" ? i.cssFloat = "" : i[h] = "");
            for (var x in a)
                h = a[x],
                a.hasOwnProperty(x) && c[x] !== h && Gg(i, x, h)
        } else
            for (var b in a)
                a.hasOwnProperty(b) && Gg(i, b, a[b])
    }
    function Nf(i) {
        if (i.indexOf("-") === -1)
            return !1;
        switch (i) {
        case "annotation-xml":
        case "color-profile":
        case "font-face":
        case "font-face-src":
        case "font-face-uri":
        case "font-face-format":
        case "font-face-name":
        case "missing-glyph":
            return !1;
        default:
            return !0
        }
    }
    var xw = new Map([["acceptCharset", "accept-charset"], ["htmlFor", "for"], ["httpEquiv", "http-equiv"], ["crossOrigin", "crossorigin"], ["accentHeight", "accent-height"], ["alignmentBaseline", "alignment-baseline"], ["arabicForm", "arabic-form"], ["baselineShift", "baseline-shift"], ["capHeight", "cap-height"], ["clipPath", "clip-path"], ["clipRule", "clip-rule"], ["colorInterpolation", "color-interpolation"], ["colorInterpolationFilters", "color-interpolation-filters"], ["colorProfile", "color-profile"], ["colorRendering", "color-rendering"], ["dominantBaseline", "dominant-baseline"], ["enableBackground", "enable-background"], ["fillOpacity", "fill-opacity"], ["fillRule", "fill-rule"], ["floodColor", "flood-color"], ["floodOpacity", "flood-opacity"], ["fontFamily", "font-family"], ["fontSize", "font-size"], ["fontSizeAdjust", "font-size-adjust"], ["fontStretch", "font-stretch"], ["fontStyle", "font-style"], ["fontVariant", "font-variant"], ["fontWeight", "font-weight"], ["glyphName", "glyph-name"], ["glyphOrientationHorizontal", "glyph-orientation-horizontal"], ["glyphOrientationVertical", "glyph-orientation-vertical"], ["horizAdvX", "horiz-adv-x"], ["horizOriginX", "horiz-origin-x"], ["imageRendering", "image-rendering"], ["letterSpacing", "letter-spacing"], ["lightingColor", "lighting-color"], ["markerEnd", "marker-end"], ["markerMid", "marker-mid"], ["markerStart", "marker-start"], ["overlinePosition", "overline-position"], ["overlineThickness", "overline-thickness"], ["paintOrder", "paint-order"], ["panose-1", "panose-1"], ["pointerEvents", "pointer-events"], ["renderingIntent", "rendering-intent"], ["shapeRendering", "shape-rendering"], ["stopColor", "stop-color"], ["stopOpacity", "stop-opacity"], ["strikethroughPosition", "strikethrough-position"], ["strikethroughThickness", "strikethrough-thickness"], ["strokeDasharray", "stroke-dasharray"], ["strokeDashoffset", "stroke-dashoffset"], ["strokeLinecap", "stroke-linecap"], ["strokeLinejoin", "stroke-linejoin"], ["strokeMiterlimit", "stroke-miterlimit"], ["strokeOpacity", "stroke-opacity"], ["strokeWidth", "stroke-width"], ["textAnchor", "text-anchor"], ["textDecoration", "text-decoration"], ["textRendering", "text-rendering"], ["transformOrigin", "transform-origin"], ["underlinePosition", "underline-position"], ["underlineThickness", "underline-thickness"], ["unicodeBidi", "unicode-bidi"], ["unicodeRange", "unicode-range"], ["unitsPerEm", "units-per-em"], ["vAlphabetic", "v-alphabetic"], ["vHanging", "v-hanging"], ["vIdeographic", "v-ideographic"], ["vMathematical", "v-mathematical"], ["vectorEffect", "vector-effect"], ["vertAdvY", "vert-adv-y"], ["vertOriginX", "vert-origin-x"], ["vertOriginY", "vert-origin-y"], ["wordSpacing", "word-spacing"], ["writingMode", "writing-mode"], ["xmlnsXlink", "xmlns:xlink"], ["xHeight", "x-height"]])
      , bw = /^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;
    function Ko(i) {
        return bw.test("" + i) ? "javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')" : i
    }
    function yr() {}
    var wf = null;
    function Cf(i) {
        return i = i.target || i.srcElement || window,
        i.correspondingUseElement && (i = i.correspondingUseElement),
        i.nodeType === 3 ? i.parentNode : i
    }
    var qi = null
      , Ii = null;
    function Yg(i) {
        var a = Li(i);
        if (a && (i = a.stateNode)) {
            var c = i[Qt] || null;
            e: switch (i = a.stateNode,
            a.type) {
            case "input":
                if (yf(i, c.value, c.defaultValue, c.defaultValue, c.checked, c.defaultChecked, c.type, c.name),
                a = c.name,
                c.type === "radio" && a != null) {
                    for (c = i; c.parentNode; )
                        c = c.parentNode;
                    for (c = c.querySelectorAll('input[name="' + En("" + a) + '"][type="radio"]'),
                    a = 0; a < c.length; a++) {
                        var h = c[a];
                        if (h !== i && h.form === i.form) {
                            var x = h[Qt] || null;
                            if (!x)
                                throw Error(r(90));
                            yf(h, x.value, x.defaultValue, x.defaultValue, x.checked, x.defaultChecked, x.type, x.name)
                        }
                    }
                    for (a = 0; a < c.length; a++)
                        h = c[a],
                        h.form === i.form && Ig(h)
                }
                break e;
            case "textarea":
                Pg(i, c.value, c.defaultValue);
                break e;
            case "select":
                a = c.value,
                a != null && Hi(i, !!c.multiple, a, !1)
            }
        }
    }
    var Sf = !1;
    function Jg(i, a, c) {
        if (Sf)
            return i(a, c);
        Sf = !0;
        try {
            var h = i(a);
            return h
        } finally {
            if (Sf = !1,
            (qi !== null || Ii !== null) && (Ru(),
            qi && (a = qi,
            i = Ii,
            Ii = qi = null,
            Yg(a),
            i)))
                for (a = 0; a < i.length; a++)
                    Yg(i[a])
        }
    }
    function Ql(i, a) {
        var c = i.stateNode;
        if (c === null)
            return null;
        var h = c[Qt] || null;
        if (h === null)
            return null;
        c = h[a];
        e: switch (a) {
        case "onClick":
        case "onClickCapture":
        case "onDoubleClick":
        case "onDoubleClickCapture":
        case "onMouseDown":
        case "onMouseDownCapture":
        case "onMouseMove":
        case "onMouseMoveCapture":
        case "onMouseUp":
        case "onMouseUpCapture":
        case "onMouseEnter":
            (h = !h.disabled) || (i = i.type,
            h = !(i === "button" || i === "input" || i === "select" || i === "textarea")),
            i = !h;
            break e;
        default:
            i = !1
        }
        if (i)
            return null;
        if (c && typeof c != "function")
            throw Error(r(231, a, typeof c));
        return c
    }
    var vr = !(typeof window > "u" || typeof window.document > "u" || typeof window.document.createElement > "u")
      , jf = !1;
    if (vr)
        try {
            var Zl = {};
            Object.defineProperty(Zl, "passive", {
                get: function() {
                    jf = !0
                }
            }),
            window.addEventListener("test", Zl, Zl),
            window.removeEventListener("test", Zl, Zl)
        } catch {
            jf = !1
        }
    var Xr = null
      , Ef = null
      , Yo = null;
    function Xg() {
        if (Yo)
            return Yo;
        var i, a = Ef, c = a.length, h, x = "value"in Xr ? Xr.value : Xr.textContent, b = x.length;
        for (i = 0; i < c && a[i] === x[i]; i++)
            ;
        var S = c - i;
        for (h = 1; h <= S && a[c - h] === x[b - h]; h++)
            ;
        return Yo = x.slice(i, 1 < h ? 1 - h : void 0)
    }
    function Jo(i) {
        var a = i.keyCode;
        return "charCode"in i ? (i = i.charCode,
        i === 0 && a === 13 && (i = 13)) : i = a,
        i === 10 && (i = 13),
        32 <= i || i === 13 ? i : 0
    }
    function Xo() {
        return !0
    }
    function Qg() {
        return !1
    }
    function Zt(i) {
        function a(c, h, x, b, S) {
            this._reactName = c,
            this._targetInst = x,
            this.type = h,
            this.nativeEvent = b,
            this.target = S,
            this.currentTarget = null;
            for (var j in i)
                i.hasOwnProperty(j) && (c = i[j],
                this[j] = c ? c(b) : b[j]);
            return this.isDefaultPrevented = (b.defaultPrevented != null ? b.defaultPrevented : b.returnValue === !1) ? Xo : Qg,
            this.isPropagationStopped = Qg,
            this
        }
        return g(a.prototype, {
            preventDefault: function() {
                this.defaultPrevented = !0;
                var c = this.nativeEvent;
                c && (c.preventDefault ? c.preventDefault() : typeof c.returnValue != "unknown" && (c.returnValue = !1),
                this.isDefaultPrevented = Xo)
            },
            stopPropagation: function() {
                var c = this.nativeEvent;
                c && (c.stopPropagation ? c.stopPropagation() : typeof c.cancelBubble != "unknown" && (c.cancelBubble = !0),
                this.isPropagationStopped = Xo)
            },
            persist: function() {},
            isPersistent: Xo
        }),
        a
    }
    var Ys = {
        eventPhase: 0,
        bubbles: 0,
        cancelable: 0,
        timeStamp: function(i) {
            return i.timeStamp || Date.now()
        },
        defaultPrevented: 0,
        isTrusted: 0
    }, Qo = Zt(Ys), Wl = g({}, Ys, {
        view: 0,
        detail: 0
    }), yw = Zt(Wl), kf, Af, ea, Zo = g({}, Wl, {
        screenX: 0,
        screenY: 0,
        clientX: 0,
        clientY: 0,
        pageX: 0,
        pageY: 0,
        ctrlKey: 0,
        shiftKey: 0,
        altKey: 0,
        metaKey: 0,
        getModifierState: Tf,
        button: 0,
        buttons: 0,
        relatedTarget: function(i) {
            return i.relatedTarget === void 0 ? i.fromElement === i.srcElement ? i.toElement : i.fromElement : i.relatedTarget
        },
        movementX: function(i) {
            return "movementX"in i ? i.movementX : (i !== ea && (ea && i.type === "mousemove" ? (kf = i.screenX - ea.screenX,
            Af = i.screenY - ea.screenY) : Af = kf = 0,
            ea = i),
            kf)
        },
        movementY: function(i) {
            return "movementY"in i ? i.movementY : Af
        }
    }), Zg = Zt(Zo), vw = g({}, Zo, {
        dataTransfer: 0
    }), Nw = Zt(vw), ww = g({}, Wl, {
        relatedTarget: 0
    }), _f = Zt(ww), Cw = g({}, Ys, {
        animationName: 0,
        elapsedTime: 0,
        pseudoElement: 0
    }), Sw = Zt(Cw), jw = g({}, Ys, {
        clipboardData: function(i) {
            return "clipboardData"in i ? i.clipboardData : window.clipboardData
        }
    }), Ew = Zt(jw), kw = g({}, Ys, {
        data: 0
    }), Wg = Zt(kw), Aw = {
        Esc: "Escape",
        Spacebar: " ",
        Left: "ArrowLeft",
        Up: "ArrowUp",
        Right: "ArrowRight",
        Down: "ArrowDown",
        Del: "Delete",
        Win: "OS",
        Menu: "ContextMenu",
        Apps: "ContextMenu",
        Scroll: "ScrollLock",
        MozPrintableKey: "Unidentified"
    }, _w = {
        8: "Backspace",
        9: "Tab",
        12: "Clear",
        13: "Enter",
        16: "Shift",
        17: "Control",
        18: "Alt",
        19: "Pause",
        20: "CapsLock",
        27: "Escape",
        32: " ",
        33: "PageUp",
        34: "PageDown",
        35: "End",
        36: "Home",
        37: "ArrowLeft",
        38: "ArrowUp",
        39: "ArrowRight",
        40: "ArrowDown",
        45: "Insert",
        46: "Delete",
        112: "F1",
        113: "F2",
        114: "F3",
        115: "F4",
        116: "F5",
        117: "F6",
        118: "F7",
        119: "F8",
        120: "F9",
        121: "F10",
        122: "F11",
        123: "F12",
        144: "NumLock",
        145: "ScrollLock",
        224: "Meta"
    }, Tw = {
        Alt: "altKey",
        Control: "ctrlKey",
        Meta: "metaKey",
        Shift: "shiftKey"
    };
    function Dw(i) {
        var a = this.nativeEvent;
        return a.getModifierState ? a.getModifierState(i) : (i = Tw[i]) ? !!a[i] : !1
    }
    function Tf() {
        return Dw
    }
    var Mw = g({}, Wl, {
        key: function(i) {
            if (i.key) {
                var a = Aw[i.key] || i.key;
                if (a !== "Unidentified")
                    return a
            }
            return i.type === "keypress" ? (i = Jo(i),
            i === 13 ? "Enter" : String.fromCharCode(i)) : i.type === "keydown" || i.type === "keyup" ? _w[i.keyCode] || "Unidentified" : ""
        },
        code: 0,
        location: 0,
        ctrlKey: 0,
        shiftKey: 0,
        altKey: 0,
        metaKey: 0,
        repeat: 0,
        locale: 0,
        getModifierState: Tf,
        charCode: function(i) {
            return i.type === "keypress" ? Jo(i) : 0
        },
        keyCode: function(i) {
            return i.type === "keydown" || i.type === "keyup" ? i.keyCode : 0
        },
        which: function(i) {
            return i.type === "keypress" ? Jo(i) : i.type === "keydown" || i.type === "keyup" ? i.keyCode : 0
        }
    })
      , Ow = Zt(Mw)
      , Rw = g({}, Zo, {
        pointerId: 0,
        width: 0,
        height: 0,
        pressure: 0,
        tangentialPressure: 0,
        tiltX: 0,
        tiltY: 0,
        twist: 0,
        pointerType: 0,
        isPrimary: 0
    })
      , e1 = Zt(Rw)
      , zw = g({}, Wl, {
        touches: 0,
        targetTouches: 0,
        changedTouches: 0,
        altKey: 0,
        metaKey: 0,
        ctrlKey: 0,
        shiftKey: 0,
        getModifierState: Tf
    })
      , Lw = Zt(zw)
      , Bw = g({}, Ys, {
        propertyName: 0,
        elapsedTime: 0,
        pseudoElement: 0
    })
      , Fw = Zt(Bw)
      , Hw = g({}, Zo, {
        deltaX: function(i) {
            return "deltaX"in i ? i.deltaX : "wheelDeltaX"in i ? -i.wheelDeltaX : 0
        },
        deltaY: function(i) {
            return "deltaY"in i ? i.deltaY : "wheelDeltaY"in i ? -i.wheelDeltaY : "wheelDelta"in i ? -i.wheelDelta : 0
        },
        deltaZ: 0,
        deltaMode: 0
    })
      , Uw = Zt(Hw)
      , qw = g({}, Ys, {
        newState: 0,
        oldState: 0
    })
      , Iw = Zt(qw)
      , $w = [9, 13, 27, 32]
      , Df = vr && "CompositionEvent"in window
      , ta = null;
    vr && "documentMode"in document && (ta = document.documentMode);
    var Pw = vr && "TextEvent"in window && !ta
      , t1 = vr && (!Df || ta && 8 < ta && 11 >= ta)
      , n1 = " "
      , r1 = !1;
    function s1(i, a) {
        switch (i) {
        case "keyup":
            return $w.indexOf(a.keyCode) !== -1;
        case "keydown":
            return a.keyCode !== 229;
        case "keypress":
        case "mousedown":
        case "focusout":
            return !0;
        default:
            return !1
        }
    }
    function i1(i) {
        return i = i.detail,
        typeof i == "object" && "data"in i ? i.data : null
    }
    var $i = !1;
    function Vw(i, a) {
        switch (i) {
        case "compositionend":
            return i1(a);
        case "keypress":
            return a.which !== 32 ? null : (r1 = !0,
            n1);
        case "textInput":
            return i = a.data,
            i === n1 && r1 ? null : i;
        default:
            return null
        }
    }
    function Gw(i, a) {
        if ($i)
            return i === "compositionend" || !Df && s1(i, a) ? (i = Xg(),
            Yo = Ef = Xr = null,
            $i = !1,
            i) : null;
        switch (i) {
        case "paste":
            return null;
        case "keypress":
            if (!(a.ctrlKey || a.altKey || a.metaKey) || a.ctrlKey && a.altKey) {
                if (a.char && 1 < a.char.length)
                    return a.char;
                if (a.which)
                    return String.fromCharCode(a.which)
            }
            return null;
        case "compositionend":
            return t1 && a.locale !== "ko" ? null : a.data;
        default:
            return null
        }
    }
    var Kw = {
        color: !0,
        date: !0,
        datetime: !0,
        "datetime-local": !0,
        email: !0,
        month: !0,
        number: !0,
        password: !0,
        range: !0,
        search: !0,
        tel: !0,
        text: !0,
        time: !0,
        url: !0,
        week: !0
    };
    function l1(i) {
        var a = i && i.nodeName && i.nodeName.toLowerCase();
        return a === "input" ? !!Kw[i.type] : a === "textarea"
    }
    function a1(i, a, c, h) {
        qi ? Ii ? Ii.push(h) : Ii = [h] : qi = h,
        a = qu(a, "onChange"),
        0 < a.length && (c = new Qo("onChange","change",null,c,h),
        i.push({
            event: c,
            listeners: a
        }))
    }
    var na = null
      , ra = null;
    function Yw(i) {
        $b(i, 0)
    }
    function Wo(i) {
        var a = Xl(i);
        if (Ig(a))
            return i
    }
    function o1(i, a) {
        if (i === "change")
            return a
    }
    var u1 = !1;
    if (vr) {
        var Mf;
        if (vr) {
            var Of = "oninput"in document;
            if (!Of) {
                var c1 = document.createElement("div");
                c1.setAttribute("oninput", "return;"),
                Of = typeof c1.oninput == "function"
            }
            Mf = Of
        } else
            Mf = !1;
        u1 = Mf && (!document.documentMode || 9 < document.documentMode)
    }
    function d1() {
        na && (na.detachEvent("onpropertychange", f1),
        ra = na = null)
    }
    function f1(i) {
        if (i.propertyName === "value" && Wo(ra)) {
            var a = [];
            a1(a, ra, i, Cf(i)),
            Jg(Yw, a)
        }
    }
    function Jw(i, a, c) {
        i === "focusin" ? (d1(),
        na = a,
        ra = c,
        na.attachEvent("onpropertychange", f1)) : i === "focusout" && d1()
    }
    function Xw(i) {
        if (i === "selectionchange" || i === "keyup" || i === "keydown")
            return Wo(ra)
    }
    function Qw(i, a) {
        if (i === "click")
            return Wo(a)
    }
    function Zw(i, a) {
        if (i === "input" || i === "change")
            return Wo(a)
    }
    function Ww(i, a) {
        return i === a && (i !== 0 || 1 / i === 1 / a) || i !== i && a !== a
    }
    var hn = typeof Object.is == "function" ? Object.is : Ww;
    function sa(i, a) {
        if (hn(i, a))
            return !0;
        if (typeof i != "object" || i === null || typeof a != "object" || a === null)
            return !1;
        var c = Object.keys(i)
          , h = Object.keys(a);
        if (c.length !== h.length)
            return !1;
        for (h = 0; h < c.length; h++) {
            var x = c[h];
            if (!cf.call(a, x) || !hn(i[x], a[x]))
                return !1
        }
        return !0
    }
    function h1(i) {
        for (; i && i.firstChild; )
            i = i.firstChild;
        return i
    }
    function p1(i, a) {
        var c = h1(i);
        i = 0;
        for (var h; c; ) {
            if (c.nodeType === 3) {
                if (h = i + c.textContent.length,
                i <= a && h >= a)
                    return {
                        node: c,
                        offset: a - i
                    };
                i = h
            }
            e: {
                for (; c; ) {
                    if (c.nextSibling) {
                        c = c.nextSibling;
                        break e
                    }
                    c = c.parentNode
                }
                c = void 0
            }
            c = h1(c)
        }
    }
    function m1(i, a) {
        return i && a ? i === a ? !0 : i && i.nodeType === 3 ? !1 : a && a.nodeType === 3 ? m1(i, a.parentNode) : "contains"in i ? i.contains(a) : i.compareDocumentPosition ? !!(i.compareDocumentPosition(a) & 16) : !1 : !1
    }
    function g1(i) {
        i = i != null && i.ownerDocument != null && i.ownerDocument.defaultView != null ? i.ownerDocument.defaultView : window;
        for (var a = Go(i.document); a instanceof i.HTMLIFrameElement; ) {
            try {
                var c = typeof a.contentWindow.location.href == "string"
            } catch {
                c = !1
            }
            if (c)
                i = a.contentWindow;
            else
                break;
            a = Go(i.document)
        }
        return a
    }
    function Rf(i) {
        var a = i && i.nodeName && i.nodeName.toLowerCase();
        return a && (a === "input" && (i.type === "text" || i.type === "search" || i.type === "tel" || i.type === "url" || i.type === "password") || a === "textarea" || i.contentEditable === "true")
    }
    var eC = vr && "documentMode"in document && 11 >= document.documentMode
      , Pi = null
      , zf = null
      , ia = null
      , Lf = !1;
    function x1(i, a, c) {
        var h = c.window === c ? c.document : c.nodeType === 9 ? c : c.ownerDocument;
        Lf || Pi == null || Pi !== Go(h) || (h = Pi,
        "selectionStart"in h && Rf(h) ? h = {
            start: h.selectionStart,
            end: h.selectionEnd
        } : (h = (h.ownerDocument && h.ownerDocument.defaultView || window).getSelection(),
        h = {
            anchorNode: h.anchorNode,
            anchorOffset: h.anchorOffset,
            focusNode: h.focusNode,
            focusOffset: h.focusOffset
        }),
        ia && sa(ia, h) || (ia = h,
        h = qu(zf, "onSelect"),
        0 < h.length && (a = new Qo("onSelect","select",null,a,c),
        i.push({
            event: a,
            listeners: h
        }),
        a.target = Pi)))
    }
    function Js(i, a) {
        var c = {};
        return c[i.toLowerCase()] = a.toLowerCase(),
        c["Webkit" + i] = "webkit" + a,
        c["Moz" + i] = "moz" + a,
        c
    }
    var Vi = {
        animationend: Js("Animation", "AnimationEnd"),
        animationiteration: Js("Animation", "AnimationIteration"),
        animationstart: Js("Animation", "AnimationStart"),
        transitionrun: Js("Transition", "TransitionRun"),
        transitionstart: Js("Transition", "TransitionStart"),
        transitioncancel: Js("Transition", "TransitionCancel"),
        transitionend: Js("Transition", "TransitionEnd")
    }
      , Bf = {}
      , b1 = {};
    vr && (b1 = document.createElement("div").style,
    "AnimationEvent"in window || (delete Vi.animationend.animation,
    delete Vi.animationiteration.animation,
    delete Vi.animationstart.animation),
    "TransitionEvent"in window || delete Vi.transitionend.transition);
    function Xs(i) {
        if (Bf[i])
            return Bf[i];
        if (!Vi[i])
            return i;
        var a = Vi[i], c;
        for (c in a)
            if (a.hasOwnProperty(c) && c in b1)
                return Bf[i] = a[c];
        return i
    }
    var y1 = Xs("animationend")
      , v1 = Xs("animationiteration")
      , N1 = Xs("animationstart")
      , tC = Xs("transitionrun")
      , nC = Xs("transitionstart")
      , rC = Xs("transitioncancel")
      , w1 = Xs("transitionend")
      , C1 = new Map
      , Ff = "abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");
    Ff.push("scrollEnd");
    function Pn(i, a) {
        C1.set(i, a),
        Ks(a, [i])
    }
    var eu = typeof reportError == "function" ? reportError : function(i) {
        if (typeof window == "object" && typeof window.ErrorEvent == "function") {
            var a = new window.ErrorEvent("error",{
                bubbles: !0,
                cancelable: !0,
                message: typeof i == "object" && i !== null && typeof i.message == "string" ? String(i.message) : String(i),
                error: i
            });
            if (!window.dispatchEvent(a))
                return
        } else if (typeof process == "object" && typeof process.emit == "function") {
            process.emit("uncaughtException", i);
            return
        }
        console.error(i)
    }
      , kn = []
      , Gi = 0
      , Hf = 0;
    function tu() {
        for (var i = Gi, a = Hf = Gi = 0; a < i; ) {
            var c = kn[a];
            kn[a++] = null;
            var h = kn[a];
            kn[a++] = null;
            var x = kn[a];
            kn[a++] = null;
            var b = kn[a];
            if (kn[a++] = null,
            h !== null && x !== null) {
                var S = h.pending;
                S === null ? x.next = x : (x.next = S.next,
                S.next = x),
                h.pending = x
            }
            b !== 0 && S1(c, x, b)
        }
    }
    function nu(i, a, c, h) {
        kn[Gi++] = i,
        kn[Gi++] = a,
        kn[Gi++] = c,
        kn[Gi++] = h,
        Hf |= h,
        i.lanes |= h,
        i = i.alternate,
        i !== null && (i.lanes |= h)
    }
    function Uf(i, a, c, h) {
        return nu(i, a, c, h),
        ru(i)
    }
    function Qs(i, a) {
        return nu(i, null, null, a),
        ru(i)
    }
    function S1(i, a, c) {
        i.lanes |= c;
        var h = i.alternate;
        h !== null && (h.lanes |= c);
        for (var x = !1, b = i.return; b !== null; )
            b.childLanes |= c,
            h = b.alternate,
            h !== null && (h.childLanes |= c),
            b.tag === 22 && (i = b.stateNode,
            i === null || i._visibility & 1 || (x = !0)),
            i = b,
            b = b.return;
        return i.tag === 3 ? (b = i.stateNode,
        x && a !== null && (x = 31 - fn(c),
        i = b.hiddenUpdates,
        h = i[x],
        h === null ? i[x] = [a] : h.push(a),
        a.lane = c | 536870912),
        b) : null
    }
    function ru(i) {
        if (50 < ka)
            throw ka = 0,
            Jh = null,
            Error(r(185));
        for (var a = i.return; a !== null; )
            i = a,
            a = i.return;
        return i.tag === 3 ? i.stateNode : null
    }
    var Ki = {};
    function sC(i, a, c, h) {
        this.tag = i,
        this.key = c,
        this.sibling = this.child = this.return = this.stateNode = this.type = this.elementType = null,
        this.index = 0,
        this.refCleanup = this.ref = null,
        this.pendingProps = a,
        this.dependencies = this.memoizedState = this.updateQueue = this.memoizedProps = null,
        this.mode = h,
        this.subtreeFlags = this.flags = 0,
        this.deletions = null,
        this.childLanes = this.lanes = 0,
        this.alternate = null
    }
    function pn(i, a, c, h) {
        return new sC(i,a,c,h)
    }
    function qf(i) {
        return i = i.prototype,
        !(!i || !i.isReactComponent)
    }
    function Nr(i, a) {
        var c = i.alternate;
        return c === null ? (c = pn(i.tag, a, i.key, i.mode),
        c.elementType = i.elementType,
        c.type = i.type,
        c.stateNode = i.stateNode,
        c.alternate = i,
        i.alternate = c) : (c.pendingProps = a,
        c.type = i.type,
        c.flags = 0,
        c.subtreeFlags = 0,
        c.deletions = null),
        c.flags = i.flags & 65011712,
        c.childLanes = i.childLanes,
        c.lanes = i.lanes,
        c.child = i.child,
        c.memoizedProps = i.memoizedProps,
        c.memoizedState = i.memoizedState,
        c.updateQueue = i.updateQueue,
        a = i.dependencies,
        c.dependencies = a === null ? null : {
            lanes: a.lanes,
            firstContext: a.firstContext
        },
        c.sibling = i.sibling,
        c.index = i.index,
        c.ref = i.ref,
        c.refCleanup = i.refCleanup,
        c
    }
    function j1(i, a) {
        i.flags &= 65011714;
        var c = i.alternate;
        return c === null ? (i.childLanes = 0,
        i.lanes = a,
        i.child = null,
        i.subtreeFlags = 0,
        i.memoizedProps = null,
        i.memoizedState = null,
        i.updateQueue = null,
        i.dependencies = null,
        i.stateNode = null) : (i.childLanes = c.childLanes,
        i.lanes = c.lanes,
        i.child = c.child,
        i.subtreeFlags = 0,
        i.deletions = null,
        i.memoizedProps = c.memoizedProps,
        i.memoizedState = c.memoizedState,
        i.updateQueue = c.updateQueue,
        i.type = c.type,
        a = c.dependencies,
        i.dependencies = a === null ? null : {
            lanes: a.lanes,
            firstContext: a.firstContext
        }),
        i
    }
    function su(i, a, c, h, x, b) {
        var S = 0;
        if (h = i,
        typeof i == "function")
            qf(i) && (S = 1);
        else if (typeof i == "string")
            S = uS(i, c, ne.current) ? 26 : i === "html" || i === "head" || i === "body" ? 27 : 5;
        else
            e: switch (i) {
            case Y:
                return i = pn(31, c, a, x),
                i.elementType = Y,
                i.lanes = b,
                i;
            case w:
                return Zs(c.children, x, b, a);
            case C:
                S = 8,
                x |= 24;
                break;
            case E:
                return i = pn(12, c, a, x | 2),
                i.elementType = E,
                i.lanes = b,
                i;
            case R:
                return i = pn(13, c, a, x),
                i.elementType = R,
                i.lanes = b,
                i;
            case $:
                return i = pn(19, c, a, x),
                i.elementType = $,
                i.lanes = b,
                i;
            default:
                if (typeof i == "object" && i !== null)
                    switch (i.$$typeof) {
                    case _:
                        S = 10;
                        break e;
                    case A:
                        S = 9;
                        break e;
                    case O:
                        S = 11;
                        break e;
                    case z:
                        S = 14;
                        break e;
                    case G:
                        S = 16,
                        h = null;
                        break e
                    }
                S = 29,
                c = Error(r(130, i === null ? "null" : typeof i, "")),
                h = null
            }
        return a = pn(S, c, a, x),
        a.elementType = i,
        a.type = h,
        a.lanes = b,
        a
    }
    function Zs(i, a, c, h) {
        return i = pn(7, i, h, a),
        i.lanes = c,
        i
    }
    function If(i, a, c) {
        return i = pn(6, i, null, a),
        i.lanes = c,
        i
    }
    function E1(i) {
        var a = pn(18, null, null, 0);
        return a.stateNode = i,
        a
    }
    function $f(i, a, c) {
        return a = pn(4, i.children !== null ? i.children : [], i.key, a),
        a.lanes = c,
        a.stateNode = {
            containerInfo: i.containerInfo,
            pendingChildren: null,
            implementation: i.implementation
        },
        a
    }
    var k1 = new WeakMap;
    function An(i, a) {
        if (typeof i == "object" && i !== null) {
            var c = k1.get(i);
            return c !== void 0 ? c : (a = {
                value: i,
                source: a,
                stack: Eg(a)
            },
            k1.set(i, a),
            a)
        }
        return {
            value: i,
            source: a,
            stack: Eg(a)
        }
    }
    var Yi = []
      , Ji = 0
      , iu = null
      , la = 0
      , _n = []
      , Tn = 0
      , Qr = null
      , Wn = 1
      , er = "";
    function wr(i, a) {
        Yi[Ji++] = la,
        Yi[Ji++] = iu,
        iu = i,
        la = a
    }
    function A1(i, a, c) {
        _n[Tn++] = Wn,
        _n[Tn++] = er,
        _n[Tn++] = Qr,
        Qr = i;
        var h = Wn;
        i = er;
        var x = 32 - fn(h) - 1;
        h &= ~(1 << x),
        c += 1;
        var b = 32 - fn(a) + x;
        if (30 < b) {
            var S = x - x % 5;
            b = (h & (1 << S) - 1).toString(32),
            h >>= S,
            x -= S,
            Wn = 1 << 32 - fn(a) + x | c << x | h,
            er = b + i
        } else
            Wn = 1 << b | c << x | h,
            er = i
    }
    function Pf(i) {
        i.return !== null && (wr(i, 1),
        A1(i, 1, 0))
    }
    function Vf(i) {
        for (; i === iu; )
            iu = Yi[--Ji],
            Yi[Ji] = null,
            la = Yi[--Ji],
            Yi[Ji] = null;
        for (; i === Qr; )
            Qr = _n[--Tn],
            _n[Tn] = null,
            er = _n[--Tn],
            _n[Tn] = null,
            Wn = _n[--Tn],
            _n[Tn] = null
    }
    function _1(i, a) {
        _n[Tn++] = Wn,
        _n[Tn++] = er,
        _n[Tn++] = Qr,
        Wn = a.id,
        er = a.overflow,
        Qr = i
    }
    var Tt = null
      , Je = null
      , _e = !1
      , Zr = null
      , Dn = !1
      , Gf = Error(r(519));
    function Wr(i) {
        var a = Error(r(418, 1 < arguments.length && arguments[1] !== void 0 && arguments[1] ? "text" : "HTML", ""));
        throw aa(An(a, i)),
        Gf
    }
    function T1(i) {
        var a = i.stateNode
          , c = i.type
          , h = i.memoizedProps;
        switch (a[_t] = i,
        a[Qt] = h,
        c) {
        case "dialog":
            Ee("cancel", a),
            Ee("close", a);
            break;
        case "iframe":
        case "object":
        case "embed":
            Ee("load", a);
            break;
        case "video":
        case "audio":
            for (c = 0; c < _a.length; c++)
                Ee(_a[c], a);
            break;
        case "source":
            Ee("error", a);
            break;
        case "img":
        case "image":
        case "link":
            Ee("error", a),
            Ee("load", a);
            break;
        case "details":
            Ee("toggle", a);
            break;
        case "input":
            Ee("invalid", a),
            $g(a, h.value, h.defaultValue, h.checked, h.defaultChecked, h.type, h.name, !0);
            break;
        case "select":
            Ee("invalid", a);
            break;
        case "textarea":
            Ee("invalid", a),
            Vg(a, h.value, h.defaultValue, h.children)
        }
        c = h.children,
        typeof c != "string" && typeof c != "number" && typeof c != "bigint" || a.textContent === "" + c || h.suppressHydrationWarning === !0 || Kb(a.textContent, c) ? (h.popover != null && (Ee("beforetoggle", a),
        Ee("toggle", a)),
        h.onScroll != null && Ee("scroll", a),
        h.onScrollEnd != null && Ee("scrollend", a),
        h.onClick != null && (a.onclick = yr),
        a = !0) : a = !1,
        a || Wr(i, !0)
    }
    function D1(i) {
        for (Tt = i.return; Tt; )
            switch (Tt.tag) {
            case 5:
            case 31:
            case 13:
                Dn = !1;
                return;
            case 27:
            case 3:
                Dn = !0;
                return;
            default:
                Tt = Tt.return
            }
    }
    function Xi(i) {
        if (i !== Tt)
            return !1;
        if (!_e)
            return D1(i),
            _e = !0,
            !1;
        var a = i.tag, c;
        if ((c = a !== 3 && a !== 27) && ((c = a === 5) && (c = i.type,
        c = !(c !== "form" && c !== "button") || c0(i.type, i.memoizedProps)),
        c = !c),
        c && Je && Wr(i),
        D1(i),
        a === 13) {
            if (i = i.memoizedState,
            i = i !== null ? i.dehydrated : null,
            !i)
                throw Error(r(317));
            Je = ny(i)
        } else if (a === 31) {
            if (i = i.memoizedState,
            i = i !== null ? i.dehydrated : null,
            !i)
                throw Error(r(317));
            Je = ny(i)
        } else
            a === 27 ? (a = Je,
            ps(i.type) ? (i = m0,
            m0 = null,
            Je = i) : Je = a) : Je = Tt ? On(i.stateNode.nextSibling) : null;
        return !0
    }
    function Ws() {
        Je = Tt = null,
        _e = !1
    }
    function Kf() {
        var i = Zr;
        return i !== null && (nn === null ? nn = i : nn.push.apply(nn, i),
        Zr = null),
        i
    }
    function aa(i) {
        Zr === null ? Zr = [i] : Zr.push(i)
    }
    var Yf = D(null)
      , ei = null
      , Cr = null;
    function es(i, a, c) {
        te(Yf, a._currentValue),
        a._currentValue = c
    }
    function Sr(i) {
        i._currentValue = Yf.current,
        K(Yf)
    }
    function Jf(i, a, c) {
        for (; i !== null; ) {
            var h = i.alternate;
            if ((i.childLanes & a) !== a ? (i.childLanes |= a,
            h !== null && (h.childLanes |= a)) : h !== null && (h.childLanes & a) !== a && (h.childLanes |= a),
            i === c)
                break;
            i = i.return
        }
    }
    function Xf(i, a, c, h) {
        var x = i.child;
        for (x !== null && (x.return = i); x !== null; ) {
            var b = x.dependencies;
            if (b !== null) {
                var S = x.child;
                b = b.firstContext;
                e: for (; b !== null; ) {
                    var j = b;
                    b = x;
                    for (var T = 0; T < a.length; T++)
                        if (j.context === a[T]) {
                            b.lanes |= c,
                            j = b.alternate,
                            j !== null && (j.lanes |= c),
                            Jf(b.return, c, i),
                            h || (S = null);
                            break e
                        }
                    b = j.next
                }
            } else if (x.tag === 18) {
                if (S = x.return,
                S === null)
                    throw Error(r(341));
                S.lanes |= c,
                b = S.alternate,
                b !== null && (b.lanes |= c),
                Jf(S, c, i),
                S = null
            } else
                S = x.child;
            if (S !== null)
                S.return = x;
            else
                for (S = x; S !== null; ) {
                    if (S === i) {
                        S = null;
                        break
                    }
                    if (x = S.sibling,
                    x !== null) {
                        x.return = S.return,
                        S = x;
                        break
                    }
                    S = S.return
                }
            x = S
        }
    }
    function Qi(i, a, c, h) {
        i = null;
        for (var x = a, b = !1; x !== null; ) {
            if (!b) {
                if ((x.flags & 524288) !== 0)
                    b = !0;
                else if ((x.flags & 262144) !== 0)
                    break
            }
            if (x.tag === 10) {
                var S = x.alternate;
                if (S === null)
                    throw Error(r(387));
                if (S = S.memoizedProps,
                S !== null) {
                    var j = x.type;
                    hn(x.pendingProps.value, S.value) || (i !== null ? i.push(j) : i = [j])
                }
            } else if (x === ze.current) {
                if (S = x.alternate,
                S === null)
                    throw Error(r(387));
                S.memoizedState.memoizedState !== x.memoizedState.memoizedState && (i !== null ? i.push(Ra) : i = [Ra])
            }
            x = x.return
        }
        i !== null && Xf(a, i, c, h),
        a.flags |= 262144
    }
    function lu(i) {
        for (i = i.firstContext; i !== null; ) {
            if (!hn(i.context._currentValue, i.memoizedValue))
                return !0;
            i = i.next
        }
        return !1
    }
    function ti(i) {
        ei = i,
        Cr = null,
        i = i.dependencies,
        i !== null && (i.firstContext = null)
    }
    function Dt(i) {
        return M1(ei, i)
    }
    function au(i, a) {
        return ei === null && ti(i),
        M1(i, a)
    }
    function M1(i, a) {
        var c = a._currentValue;
        if (a = {
            context: a,
            memoizedValue: c,
            next: null
        },
        Cr === null) {
            if (i === null)
                throw Error(r(308));
            Cr = a,
            i.dependencies = {
                lanes: 0,
                firstContext: a
            },
            i.flags |= 524288
        } else
            Cr = Cr.next = a;
        return c
    }
    var iC = typeof AbortController < "u" ? AbortController : function() {
        var i = []
          , a = this.signal = {
            aborted: !1,
            addEventListener: function(c, h) {
                i.push(h)
            }
        };
        this.abort = function() {
            a.aborted = !0,
            i.forEach(function(c) {
                return c()
            })
        }
    }
      , lC = t.unstable_scheduleCallback
      , aC = t.unstable_NormalPriority
      , dt = {
        $$typeof: _,
        Consumer: null,
        Provider: null,
        _currentValue: null,
        _currentValue2: null,
        _threadCount: 0
    };
    function Qf() {
        return {
            controller: new iC,
            data: new Map,
            refCount: 0
        }
    }
    function oa(i) {
        i.refCount--,
        i.refCount === 0 && lC(aC, function() {
            i.controller.abort()
        })
    }
    var ua = null
      , Zf = 0
      , Zi = 0
      , Wi = null;
    function oC(i, a) {
        if (ua === null) {
            var c = ua = [];
            Zf = 0,
            Zi = t0(),
            Wi = {
                status: "pending",
                value: void 0,
                then: function(h) {
                    c.push(h)
                }
            }
        }
        return Zf++,
        a.then(O1, O1),
        a
    }
    function O1() {
        if (--Zf === 0 && ua !== null) {
            Wi !== null && (Wi.status = "fulfilled");
            var i = ua;
            ua = null,
            Zi = 0,
            Wi = null;
            for (var a = 0; a < i.length; a++)
                (0,
                i[a])()
        }
    }
    function uC(i, a) {
        var c = []
          , h = {
            status: "pending",
            value: null,
            reason: null,
            then: function(x) {
                c.push(x)
            }
        };
        return i.then(function() {
            h.status = "fulfilled",
            h.value = a;
            for (var x = 0; x < c.length; x++)
                (0,
                c[x])(a)
        }, function(x) {
            for (h.status = "rejected",
            h.reason = x,
            x = 0; x < c.length; x++)
                (0,
                c[x])(void 0)
        }),
        h
    }
    var R1 = q.S;
    q.S = function(i, a) {
        xb = cn(),
        typeof a == "object" && a !== null && typeof a.then == "function" && oC(i, a),
        R1 !== null && R1(i, a)
    }
    ;
    var ni = D(null);
    function Wf() {
        var i = ni.current;
        return i !== null ? i : Pe.pooledCache
    }
    function ou(i, a) {
        a === null ? te(ni, ni.current) : te(ni, a.pool)
    }
    function z1() {
        var i = Wf();
        return i === null ? null : {
            parent: dt._currentValue,
            pool: i
        }
    }
    var el = Error(r(460))
      , eh = Error(r(474))
      , uu = Error(r(542))
      , cu = {
        then: function() {}
    };
    function L1(i) {
        return i = i.status,
        i === "fulfilled" || i === "rejected"
    }
    function B1(i, a, c) {
        switch (c = i[c],
        c === void 0 ? i.push(a) : c !== a && (a.then(yr, yr),
        a = c),
        a.status) {
        case "fulfilled":
            return a.value;
        case "rejected":
            throw i = a.reason,
            H1(i),
            i;
        default:
            if (typeof a.status == "string")
                a.then(yr, yr);
            else {
                if (i = Pe,
                i !== null && 100 < i.shellSuspendCounter)
                    throw Error(r(482));
                i = a,
                i.status = "pending",
                i.then(function(h) {
                    if (a.status === "pending") {
                        var x = a;
                        x.status = "fulfilled",
                        x.value = h
                    }
                }, function(h) {
                    if (a.status === "pending") {
                        var x = a;
                        x.status = "rejected",
                        x.reason = h
                    }
                })
            }
            switch (a.status) {
            case "fulfilled":
                return a.value;
            case "rejected":
                throw i = a.reason,
                H1(i),
                i
            }
            throw si = a,
            el
        }
    }
    function ri(i) {
        try {
            var a = i._init;
            return a(i._payload)
        } catch (c) {
            throw c !== null && typeof c == "object" && typeof c.then == "function" ? (si = c,
            el) : c
        }
    }
    var si = null;
    function F1() {
        if (si === null)
            throw Error(r(459));
        var i = si;
        return si = null,
        i
    }
    function H1(i) {
        if (i === el || i === uu)
            throw Error(r(483))
    }
    var tl = null
      , ca = 0;
    function du(i) {
        var a = ca;
        return ca += 1,
        tl === null && (tl = []),
        B1(tl, i, a)
    }
    function da(i, a) {
        a = a.props.ref,
        i.ref = a !== void 0 ? a : null
    }
    function fu(i, a) {
        throw a.$$typeof === v ? Error(r(525)) : (i = Object.prototype.toString.call(a),
        Error(r(31, i === "[object Object]" ? "object with keys {" + Object.keys(a).join(", ") + "}" : i)))
    }
    function U1(i) {
        function a(L, M) {
            if (i) {
                var B = L.deletions;
                B === null ? (L.deletions = [M],
                L.flags |= 16) : B.push(M)
            }
        }
        function c(L, M) {
            if (!i)
                return null;
            for (; M !== null; )
                a(L, M),
                M = M.sibling;
            return null
        }
        function h(L) {
            for (var M = new Map; L !== null; )
                L.key !== null ? M.set(L.key, L) : M.set(L.index, L),
                L = L.sibling;
            return M
        }
        function x(L, M) {
            return L = Nr(L, M),
            L.index = 0,
            L.sibling = null,
            L
        }
        function b(L, M, B) {
            return L.index = B,
            i ? (B = L.alternate,
            B !== null ? (B = B.index,
            B < M ? (L.flags |= 67108866,
            M) : B) : (L.flags |= 67108866,
            M)) : (L.flags |= 1048576,
            M)
        }
        function S(L) {
            return i && L.alternate === null && (L.flags |= 67108866),
            L
        }
        function j(L, M, B, V) {
            return M === null || M.tag !== 6 ? (M = If(B, L.mode, V),
            M.return = L,
            M) : (M = x(M, B),
            M.return = L,
            M)
        }
        function T(L, M, B, V) {
            var oe = B.type;
            return oe === w ? P(L, M, B.props.children, V, B.key) : M !== null && (M.elementType === oe || typeof oe == "object" && oe !== null && oe.$$typeof === G && ri(oe) === M.type) ? (M = x(M, B.props),
            da(M, B),
            M.return = L,
            M) : (M = su(B.type, B.key, B.props, null, L.mode, V),
            da(M, B),
            M.return = L,
            M)
        }
        function F(L, M, B, V) {
            return M === null || M.tag !== 4 || M.stateNode.containerInfo !== B.containerInfo || M.stateNode.implementation !== B.implementation ? (M = $f(B, L.mode, V),
            M.return = L,
            M) : (M = x(M, B.children || []),
            M.return = L,
            M)
        }
        function P(L, M, B, V, oe) {
            return M === null || M.tag !== 7 ? (M = Zs(B, L.mode, V, oe),
            M.return = L,
            M) : (M = x(M, B),
            M.return = L,
            M)
        }
        function J(L, M, B) {
            if (typeof M == "string" && M !== "" || typeof M == "number" || typeof M == "bigint")
                return M = If("" + M, L.mode, B),
                M.return = L,
                M;
            if (typeof M == "object" && M !== null) {
                switch (M.$$typeof) {
                case N:
                    return B = su(M.type, M.key, M.props, null, L.mode, B),
                    da(B, M),
                    B.return = L,
                    B;
                case y:
                    return M = $f(M, L.mode, B),
                    M.return = L,
                    M;
                case G:
                    return M = ri(M),
                    J(L, M, B)
                }
                if (Ue(M) || le(M))
                    return M = Zs(M, L.mode, B, null),
                    M.return = L,
                    M;
                if (typeof M.then == "function")
                    return J(L, du(M), B);
                if (M.$$typeof === _)
                    return J(L, au(L, M), B);
                fu(L, M)
            }
            return null
        }
        function H(L, M, B, V) {
            var oe = M !== null ? M.key : null;
            if (typeof B == "string" && B !== "" || typeof B == "number" || typeof B == "bigint")
                return oe !== null ? null : j(L, M, "" + B, V);
            if (typeof B == "object" && B !== null) {
                switch (B.$$typeof) {
                case N:
                    return B.key === oe ? T(L, M, B, V) : null;
                case y:
                    return B.key === oe ? F(L, M, B, V) : null;
                case G:
                    return B = ri(B),
                    H(L, M, B, V)
                }
                if (Ue(B) || le(B))
                    return oe !== null ? null : P(L, M, B, V, null);
                if (typeof B.then == "function")
                    return H(L, M, du(B), V);
                if (B.$$typeof === _)
                    return H(L, M, au(L, B), V);
                fu(L, B)
            }
            return null
        }
        function I(L, M, B, V, oe) {
            if (typeof V == "string" && V !== "" || typeof V == "number" || typeof V == "bigint")
                return L = L.get(B) || null,
                j(M, L, "" + V, oe);
            if (typeof V == "object" && V !== null) {
                switch (V.$$typeof) {
                case N:
                    return L = L.get(V.key === null ? B : V.key) || null,
                    T(M, L, V, oe);
                case y:
                    return L = L.get(V.key === null ? B : V.key) || null,
                    F(M, L, V, oe);
                case G:
                    return V = ri(V),
                    I(L, M, B, V, oe)
                }
                if (Ue(V) || le(V))
                    return L = L.get(B) || null,
                    P(M, L, V, oe, null);
                if (typeof V.then == "function")
                    return I(L, M, B, du(V), oe);
                if (V.$$typeof === _)
                    return I(L, M, B, au(M, V), oe);
                fu(M, V)
            }
            return null
        }
        function re(L, M, B, V) {
            for (var oe = null, De = null, ie = M, ye = M = 0, Ae = null; ie !== null && ye < B.length; ye++) {
                ie.index > ye ? (Ae = ie,
                ie = null) : Ae = ie.sibling;
                var Me = H(L, ie, B[ye], V);
                if (Me === null) {
                    ie === null && (ie = Ae);
                    break
                }
                i && ie && Me.alternate === null && a(L, ie),
                M = b(Me, M, ye),
                De === null ? oe = Me : De.sibling = Me,
                De = Me,
                ie = Ae
            }
            if (ye === B.length)
                return c(L, ie),
                _e && wr(L, ye),
                oe;
            if (ie === null) {
                for (; ye < B.length; ye++)
                    ie = J(L, B[ye], V),
                    ie !== null && (M = b(ie, M, ye),
                    De === null ? oe = ie : De.sibling = ie,
                    De = ie);
                return _e && wr(L, ye),
                oe
            }
            for (ie = h(ie); ye < B.length; ye++)
                Ae = I(ie, L, ye, B[ye], V),
                Ae !== null && (i && Ae.alternate !== null && ie.delete(Ae.key === null ? ye : Ae.key),
                M = b(Ae, M, ye),
                De === null ? oe = Ae : De.sibling = Ae,
                De = Ae);
            return i && ie.forEach(function(ys) {
                return a(L, ys)
            }),
            _e && wr(L, ye),
            oe
        }
        function de(L, M, B, V) {
            if (B == null)
                throw Error(r(151));
            for (var oe = null, De = null, ie = M, ye = M = 0, Ae = null, Me = B.next(); ie !== null && !Me.done; ye++,
            Me = B.next()) {
                ie.index > ye ? (Ae = ie,
                ie = null) : Ae = ie.sibling;
                var ys = H(L, ie, Me.value, V);
                if (ys === null) {
                    ie === null && (ie = Ae);
                    break
                }
                i && ie && ys.alternate === null && a(L, ie),
                M = b(ys, M, ye),
                De === null ? oe = ys : De.sibling = ys,
                De = ys,
                ie = Ae
            }
            if (Me.done)
                return c(L, ie),
                _e && wr(L, ye),
                oe;
            if (ie === null) {
                for (; !Me.done; ye++,
                Me = B.next())
                    Me = J(L, Me.value, V),
                    Me !== null && (M = b(Me, M, ye),
                    De === null ? oe = Me : De.sibling = Me,
                    De = Me);
                return _e && wr(L, ye),
                oe
            }
            for (ie = h(ie); !Me.done; ye++,
            Me = B.next())
                Me = I(ie, L, ye, Me.value, V),
                Me !== null && (i && Me.alternate !== null && ie.delete(Me.key === null ? ye : Me.key),
                M = b(Me, M, ye),
                De === null ? oe = Me : De.sibling = Me,
                De = Me);
            return i && ie.forEach(function(vS) {
                return a(L, vS)
            }),
            _e && wr(L, ye),
            oe
        }
        function $e(L, M, B, V) {
            if (typeof B == "object" && B !== null && B.type === w && B.key === null && (B = B.props.children),
            typeof B == "object" && B !== null) {
                switch (B.$$typeof) {
                case N:
                    e: {
                        for (var oe = B.key; M !== null; ) {
                            if (M.key === oe) {
                                if (oe = B.type,
                                oe === w) {
                                    if (M.tag === 7) {
                                        c(L, M.sibling),
                                        V = x(M, B.props.children),
                                        V.return = L,
                                        L = V;
                                        break e
                                    }
                                } else if (M.elementType === oe || typeof oe == "object" && oe !== null && oe.$$typeof === G && ri(oe) === M.type) {
                                    c(L, M.sibling),
                                    V = x(M, B.props),
                                    da(V, B),
                                    V.return = L,
                                    L = V;
                                    break e
                                }
                                c(L, M);
                                break
                            } else
                                a(L, M);
                            M = M.sibling
                        }
                        B.type === w ? (V = Zs(B.props.children, L.mode, V, B.key),
                        V.return = L,
                        L = V) : (V = su(B.type, B.key, B.props, null, L.mode, V),
                        da(V, B),
                        V.return = L,
                        L = V)
                    }
                    return S(L);
                case y:
                    e: {
                        for (oe = B.key; M !== null; ) {
                            if (M.key === oe)
                                if (M.tag === 4 && M.stateNode.containerInfo === B.containerInfo && M.stateNode.implementation === B.implementation) {
                                    c(L, M.sibling),
                                    V = x(M, B.children || []),
                                    V.return = L,
                                    L = V;
                                    break e
                                } else {
                                    c(L, M);
                                    break
                                }
                            else
                                a(L, M);
                            M = M.sibling
                        }
                        V = $f(B, L.mode, V),
                        V.return = L,
                        L = V
                    }
                    return S(L);
                case G:
                    return B = ri(B),
                    $e(L, M, B, V)
                }
                if (Ue(B))
                    return re(L, M, B, V);
                if (le(B)) {
                    if (oe = le(B),
                    typeof oe != "function")
                        throw Error(r(150));
                    return B = oe.call(B),
                    de(L, M, B, V)
                }
                if (typeof B.then == "function")
                    return $e(L, M, du(B), V);
                if (B.$$typeof === _)
                    return $e(L, M, au(L, B), V);
                fu(L, B)
            }
            return typeof B == "string" && B !== "" || typeof B == "number" || typeof B == "bigint" ? (B = "" + B,
            M !== null && M.tag === 6 ? (c(L, M.sibling),
            V = x(M, B),
            V.return = L,
            L = V) : (c(L, M),
            V = If(B, L.mode, V),
            V.return = L,
            L = V),
            S(L)) : c(L, M)
        }
        return function(L, M, B, V) {
            try {
                ca = 0;
                var oe = $e(L, M, B, V);
                return tl = null,
                oe
            } catch (ie) {
                if (ie === el || ie === uu)
                    throw ie;
                var De = pn(29, ie, null, L.mode);
                return De.lanes = V,
                De.return = L,
                De
            }
        }
    }
    var ii = U1(!0)
      , q1 = U1(!1)
      , ts = !1;
    function th(i) {
        i.updateQueue = {
            baseState: i.memoizedState,
            firstBaseUpdate: null,
            lastBaseUpdate: null,
            shared: {
                pending: null,
                lanes: 0,
                hiddenCallbacks: null
            },
            callbacks: null
        }
    }
    function nh(i, a) {
        i = i.updateQueue,
        a.updateQueue === i && (a.updateQueue = {
            baseState: i.baseState,
            firstBaseUpdate: i.firstBaseUpdate,
            lastBaseUpdate: i.lastBaseUpdate,
            shared: i.shared,
            callbacks: null
        })
    }
    function ns(i) {
        return {
            lane: i,
            tag: 0,
            payload: null,
            callback: null,
            next: null
        }
    }
    function rs(i, a, c) {
        var h = i.updateQueue;
        if (h === null)
            return null;
        if (h = h.shared,
        (Re & 2) !== 0) {
            var x = h.pending;
            return x === null ? a.next = a : (a.next = x.next,
            x.next = a),
            h.pending = a,
            a = ru(i),
            S1(i, null, c),
            a
        }
        return nu(i, h, a, c),
        ru(i)
    }
    function fa(i, a, c) {
        if (a = a.updateQueue,
        a !== null && (a = a.shared,
        (c & 4194048) !== 0)) {
            var h = a.lanes;
            h &= i.pendingLanes,
            c |= h,
            a.lanes = c,
            Mg(i, c)
        }
    }
    function rh(i, a) {
        var c = i.updateQueue
          , h = i.alternate;
        if (h !== null && (h = h.updateQueue,
        c === h)) {
            var x = null
              , b = null;
            if (c = c.firstBaseUpdate,
            c !== null) {
                do {
                    var S = {
                        lane: c.lane,
                        tag: c.tag,
                        payload: c.payload,
                        callback: null,
                        next: null
                    };
                    b === null ? x = b = S : b = b.next = S,
                    c = c.next
                } while (c !== null);
                b === null ? x = b = a : b = b.next = a
            } else
                x = b = a;
            c = {
                baseState: h.baseState,
                firstBaseUpdate: x,
                lastBaseUpdate: b,
                shared: h.shared,
                callbacks: h.callbacks
            },
            i.updateQueue = c;
            return
        }
        i = c.lastBaseUpdate,
        i === null ? c.firstBaseUpdate = a : i.next = a,
        c.lastBaseUpdate = a
    }
    var sh = !1;
    function ha() {
        if (sh) {
            var i = Wi;
            if (i !== null)
                throw i
        }
    }
    function pa(i, a, c, h) {
        sh = !1;
        var x = i.updateQueue;
        ts = !1;
        var b = x.firstBaseUpdate
          , S = x.lastBaseUpdate
          , j = x.shared.pending;
        if (j !== null) {
            x.shared.pending = null;
            var T = j
              , F = T.next;
            T.next = null,
            S === null ? b = F : S.next = F,
            S = T;
            var P = i.alternate;
            P !== null && (P = P.updateQueue,
            j = P.lastBaseUpdate,
            j !== S && (j === null ? P.firstBaseUpdate = F : j.next = F,
            P.lastBaseUpdate = T))
        }
        if (b !== null) {
            var J = x.baseState;
            S = 0,
            P = F = T = null,
            j = b;
            do {
                var H = j.lane & -536870913
                  , I = H !== j.lane;
                if (I ? (ke & H) === H : (h & H) === H) {
                    H !== 0 && H === Zi && (sh = !0),
                    P !== null && (P = P.next = {
                        lane: 0,
                        tag: j.tag,
                        payload: j.payload,
                        callback: null,
                        next: null
                    });
                    e: {
                        var re = i
                          , de = j;
                        H = a;
                        var $e = c;
                        switch (de.tag) {
                        case 1:
                            if (re = de.payload,
                            typeof re == "function") {
                                J = re.call($e, J, H);
                                break e
                            }
                            J = re;
                            break e;
                        case 3:
                            re.flags = re.flags & -65537 | 128;
                        case 0:
                            if (re = de.payload,
                            H = typeof re == "function" ? re.call($e, J, H) : re,
                            H == null)
                                break e;
                            J = g({}, J, H);
                            break e;
                        case 2:
                            ts = !0
                        }
                    }
                    H = j.callback,
                    H !== null && (i.flags |= 64,
                    I && (i.flags |= 8192),
                    I = x.callbacks,
                    I === null ? x.callbacks = [H] : I.push(H))
                } else
                    I = {
                        lane: H,
                        tag: j.tag,
                        payload: j.payload,
                        callback: j.callback,
                        next: null
                    },
                    P === null ? (F = P = I,
                    T = J) : P = P.next = I,
                    S |= H;
                if (j = j.next,
                j === null) {
                    if (j = x.shared.pending,
                    j === null)
                        break;
                    I = j,
                    j = I.next,
                    I.next = null,
                    x.lastBaseUpdate = I,
                    x.shared.pending = null
                }
            } while (!0);
            P === null && (T = J),
            x.baseState = T,
            x.firstBaseUpdate = F,
            x.lastBaseUpdate = P,
            b === null && (x.shared.lanes = 0),
            us |= S,
            i.lanes = S,
            i.memoizedState = J
        }
    }
    function I1(i, a) {
        if (typeof i != "function")
            throw Error(r(191, i));
        i.call(a)
    }
    function $1(i, a) {
        var c = i.callbacks;
        if (c !== null)
            for (i.callbacks = null,
            i = 0; i < c.length; i++)
                I1(c[i], a)
    }
    var nl = D(null)
      , hu = D(0);
    function P1(i, a) {
        i = Or,
        te(hu, i),
        te(nl, a),
        Or = i | a.baseLanes
    }
    function ih() {
        te(hu, Or),
        te(nl, nl.current)
    }
    function lh() {
        Or = hu.current,
        K(nl),
        K(hu)
    }
    var mn = D(null)
      , Mn = null;
    function ss(i) {
        var a = i.alternate;
        te(ot, ot.current & 1),
        te(mn, i),
        Mn === null && (a === null || nl.current !== null || a.memoizedState !== null) && (Mn = i)
    }
    function ah(i) {
        te(ot, ot.current),
        te(mn, i),
        Mn === null && (Mn = i)
    }
    function V1(i) {
        i.tag === 22 ? (te(ot, ot.current),
        te(mn, i),
        Mn === null && (Mn = i)) : is()
    }
    function is() {
        te(ot, ot.current),
        te(mn, mn.current)
    }
    function gn(i) {
        K(mn),
        Mn === i && (Mn = null),
        K(ot)
    }
    var ot = D(0);
    function pu(i) {
        for (var a = i; a !== null; ) {
            if (a.tag === 13) {
                var c = a.memoizedState;
                if (c !== null && (c = c.dehydrated,
                c === null || h0(c) || p0(c)))
                    return a
            } else if (a.tag === 19 && (a.memoizedProps.revealOrder === "forwards" || a.memoizedProps.revealOrder === "backwards" || a.memoizedProps.revealOrder === "unstable_legacy-backwards" || a.memoizedProps.revealOrder === "together")) {
                if ((a.flags & 128) !== 0)
                    return a
            } else if (a.child !== null) {
                a.child.return = a,
                a = a.child;
                continue
            }
            if (a === i)
                break;
            for (; a.sibling === null; ) {
                if (a.return === null || a.return === i)
                    return null;
                a = a.return
            }
            a.sibling.return = a.return,
            a = a.sibling
        }
        return null
    }
    var jr = 0
      , xe = null
      , qe = null
      , ft = null
      , mu = !1
      , rl = !1
      , li = !1
      , gu = 0
      , ma = 0
      , sl = null
      , cC = 0;
    function tt() {
        throw Error(r(321))
    }
    function oh(i, a) {
        if (a === null)
            return !1;
        for (var c = 0; c < a.length && c < i.length; c++)
            if (!hn(i[c], a[c]))
                return !1;
        return !0
    }
    function uh(i, a, c, h, x, b) {
        return jr = b,
        xe = a,
        a.memoizedState = null,
        a.updateQueue = null,
        a.lanes = 0,
        q.H = i === null || i.memoizedState === null ? Ax : Sh,
        li = !1,
        b = c(h, x),
        li = !1,
        rl && (b = K1(a, c, h, x)),
        G1(i),
        b
    }
    function G1(i) {
        q.H = ba;
        var a = qe !== null && qe.next !== null;
        if (jr = 0,
        ft = qe = xe = null,
        mu = !1,
        ma = 0,
        sl = null,
        a)
            throw Error(r(300));
        i === null || ht || (i = i.dependencies,
        i !== null && lu(i) && (ht = !0))
    }
    function K1(i, a, c, h) {
        xe = i;
        var x = 0;
        do {
            if (rl && (sl = null),
            ma = 0,
            rl = !1,
            25 <= x)
                throw Error(r(301));
            if (x += 1,
            ft = qe = null,
            i.updateQueue != null) {
                var b = i.updateQueue;
                b.lastEffect = null,
                b.events = null,
                b.stores = null,
                b.memoCache != null && (b.memoCache.index = 0)
            }
            q.H = _x,
            b = a(c, h)
        } while (rl);
        return b
    }
    function dC() {
        var i = q.H
          , a = i.useState()[0];
        return a = typeof a.then == "function" ? ga(a) : a,
        i = i.useState()[0],
        (qe !== null ? qe.memoizedState : null) !== i && (xe.flags |= 1024),
        a
    }
    function ch() {
        var i = gu !== 0;
        return gu = 0,
        i
    }
    function dh(i, a, c) {
        a.updateQueue = i.updateQueue,
        a.flags &= -2053,
        i.lanes &= ~c
    }
    function fh(i) {
        if (mu) {
            for (i = i.memoizedState; i !== null; ) {
                var a = i.queue;
                a !== null && (a.pending = null),
                i = i.next
            }
            mu = !1
        }
        jr = 0,
        ft = qe = xe = null,
        rl = !1,
        ma = gu = 0,
        sl = null
    }
    function Vt() {
        var i = {
            memoizedState: null,
            baseState: null,
            baseQueue: null,
            queue: null,
            next: null
        };
        return ft === null ? xe.memoizedState = ft = i : ft = ft.next = i,
        ft
    }
    function ut() {
        if (qe === null) {
            var i = xe.alternate;
            i = i !== null ? i.memoizedState : null
        } else
            i = qe.next;
        var a = ft === null ? xe.memoizedState : ft.next;
        if (a !== null)
            ft = a,
            qe = i;
        else {
            if (i === null)
                throw xe.alternate === null ? Error(r(467)) : Error(r(310));
            qe = i,
            i = {
                memoizedState: qe.memoizedState,
                baseState: qe.baseState,
                baseQueue: qe.baseQueue,
                queue: qe.queue,
                next: null
            },
            ft === null ? xe.memoizedState = ft = i : ft = ft.next = i
        }
        return ft
    }
    function xu() {
        return {
            lastEffect: null,
            events: null,
            stores: null,
            memoCache: null
        }
    }
    function ga(i) {
        var a = ma;
        return ma += 1,
        sl === null && (sl = []),
        i = B1(sl, i, a),
        a = xe,
        (ft === null ? a.memoizedState : ft.next) === null && (a = a.alternate,
        q.H = a === null || a.memoizedState === null ? Ax : Sh),
        i
    }
    function bu(i) {
        if (i !== null && typeof i == "object") {
            if (typeof i.then == "function")
                return ga(i);
            if (i.$$typeof === _)
                return Dt(i)
        }
        throw Error(r(438, String(i)))
    }
    function hh(i) {
        var a = null
          , c = xe.updateQueue;
        if (c !== null && (a = c.memoCache),
        a == null) {
            var h = xe.alternate;
            h !== null && (h = h.updateQueue,
            h !== null && (h = h.memoCache,
            h != null && (a = {
                data: h.data.map(function(x) {
                    return x.slice()
                }),
                index: 0
            })))
        }
        if (a == null && (a = {
            data: [],
            index: 0
        }),
        c === null && (c = xu(),
        xe.updateQueue = c),
        c.memoCache = a,
        c = a.data[a.index],
        c === void 0)
            for (c = a.data[a.index] = Array(i),
            h = 0; h < i; h++)
                c[h] = pe;
        return a.index++,
        c
    }
    function Er(i, a) {
        return typeof a == "function" ? a(i) : a
    }
    function yu(i) {
        var a = ut();
        return ph(a, qe, i)
    }
    function ph(i, a, c) {
        var h = i.queue;
        if (h === null)
            throw Error(r(311));
        h.lastRenderedReducer = c;
        var x = i.baseQueue
          , b = h.pending;
        if (b !== null) {
            if (x !== null) {
                var S = x.next;
                x.next = b.next,
                b.next = S
            }
            a.baseQueue = x = b,
            h.pending = null
        }
        if (b = i.baseState,
        x === null)
            i.memoizedState = b;
        else {
            a = x.next;
            var j = S = null
              , T = null
              , F = a
              , P = !1;
            do {
                var J = F.lane & -536870913;
                if (J !== F.lane ? (ke & J) === J : (jr & J) === J) {
                    var H = F.revertLane;
                    if (H === 0)
                        T !== null && (T = T.next = {
                            lane: 0,
                            revertLane: 0,
                            gesture: null,
                            action: F.action,
                            hasEagerState: F.hasEagerState,
                            eagerState: F.eagerState,
                            next: null
                        }),
                        J === Zi && (P = !0);
                    else if ((jr & H) === H) {
                        F = F.next,
                        H === Zi && (P = !0);
                        continue
                    } else
                        J = {
                            lane: 0,
                            revertLane: F.revertLane,
                            gesture: null,
                            action: F.action,
                            hasEagerState: F.hasEagerState,
                            eagerState: F.eagerState,
                            next: null
                        },
                        T === null ? (j = T = J,
                        S = b) : T = T.next = J,
                        xe.lanes |= H,
                        us |= H;
                    J = F.action,
                    li && c(b, J),
                    b = F.hasEagerState ? F.eagerState : c(b, J)
                } else
                    H = {
                        lane: J,
                        revertLane: F.revertLane,
                        gesture: F.gesture,
                        action: F.action,
                        hasEagerState: F.hasEagerState,
                        eagerState: F.eagerState,
                        next: null
                    },
                    T === null ? (j = T = H,
                    S = b) : T = T.next = H,
                    xe.lanes |= J,
                    us |= J;
                F = F.next
            } while (F !== null && F !== a);
            if (T === null ? S = b : T.next = j,
            !hn(b, i.memoizedState) && (ht = !0,
            P && (c = Wi,
            c !== null)))
                throw c;
            i.memoizedState = b,
            i.baseState = S,
            i.baseQueue = T,
            h.lastRenderedState = b
        }
        return x === null && (h.lanes = 0),
        [i.memoizedState, h.dispatch]
    }
    function mh(i) {
        var a = ut()
          , c = a.queue;
        if (c === null)
            throw Error(r(311));
        c.lastRenderedReducer = i;
        var h = c.dispatch
          , x = c.pending
          , b = a.memoizedState;
        if (x !== null) {
            c.pending = null;
            var S = x = x.next;
            do
                b = i(b, S.action),
                S = S.next;
            while (S !== x);
            hn(b, a.memoizedState) || (ht = !0),
            a.memoizedState = b,
            a.baseQueue === null && (a.baseState = b),
            c.lastRenderedState = b
        }
        return [b, h]
    }
    function Y1(i, a, c) {
        var h = xe
          , x = ut()
          , b = _e;
        if (b) {
            if (c === void 0)
                throw Error(r(407));
            c = c()
        } else
            c = a();
        var S = !hn((qe || x).memoizedState, c);
        if (S && (x.memoizedState = c,
        ht = !0),
        x = x.queue,
        bh(Q1.bind(null, h, x, i), [i]),
        x.getSnapshot !== a || S || ft !== null && ft.memoizedState.tag & 1) {
            if (h.flags |= 2048,
            il(9, {
                destroy: void 0
            }, X1.bind(null, h, x, c, a), null),
            Pe === null)
                throw Error(r(349));
            b || (jr & 127) !== 0 || J1(h, a, c)
        }
        return c
    }
    function J1(i, a, c) {
        i.flags |= 16384,
        i = {
            getSnapshot: a,
            value: c
        },
        a = xe.updateQueue,
        a === null ? (a = xu(),
        xe.updateQueue = a,
        a.stores = [i]) : (c = a.stores,
        c === null ? a.stores = [i] : c.push(i))
    }
    function X1(i, a, c, h) {
        a.value = c,
        a.getSnapshot = h,
        Z1(a) && W1(i)
    }
    function Q1(i, a, c) {
        return c(function() {
            Z1(a) && W1(i)
        })
    }
    function Z1(i) {
        var a = i.getSnapshot;
        i = i.value;
        try {
            var c = a();
            return !hn(i, c)
        } catch {
            return !0
        }
    }
    function W1(i) {
        var a = Qs(i, 2);
        a !== null && rn(a, i, 2)
    }
    function gh(i) {
        var a = Vt();
        if (typeof i == "function") {
            var c = i;
            if (i = c(),
            li) {
                Yr(!0);
                try {
                    c()
                } finally {
                    Yr(!1)
                }
            }
        }
        return a.memoizedState = a.baseState = i,
        a.queue = {
            pending: null,
            lanes: 0,
            dispatch: null,
            lastRenderedReducer: Er,
            lastRenderedState: i
        },
        a
    }
    function ex(i, a, c, h) {
        return i.baseState = c,
        ph(i, qe, typeof h == "function" ? h : Er)
    }
    function fC(i, a, c, h, x) {
        if (wu(i))
            throw Error(r(485));
        if (i = a.action,
        i !== null) {
            var b = {
                payload: x,
                action: i,
                next: null,
                isTransition: !0,
                status: "pending",
                value: null,
                reason: null,
                listeners: [],
                then: function(S) {
                    b.listeners.push(S)
                }
            };
            q.T !== null ? c(!0) : b.isTransition = !1,
            h(b),
            c = a.pending,
            c === null ? (b.next = a.pending = b,
            tx(a, b)) : (b.next = c.next,
            a.pending = c.next = b)
        }
    }
    function tx(i, a) {
        var c = a.action
          , h = a.payload
          , x = i.state;
        if (a.isTransition) {
            var b = q.T
              , S = {};
            q.T = S;
            try {
                var j = c(x, h)
                  , T = q.S;
                T !== null && T(S, j),
                nx(i, a, j)
            } catch (F) {
                xh(i, a, F)
            } finally {
                b !== null && S.types !== null && (b.types = S.types),
                q.T = b
            }
        } else
            try {
                b = c(x, h),
                nx(i, a, b)
            } catch (F) {
                xh(i, a, F)
            }
    }
    function nx(i, a, c) {
        c !== null && typeof c == "object" && typeof c.then == "function" ? c.then(function(h) {
            rx(i, a, h)
        }, function(h) {
            return xh(i, a, h)
        }) : rx(i, a, c)
    }
    function rx(i, a, c) {
        a.status = "fulfilled",
        a.value = c,
        sx(a),
        i.state = c,
        a = i.pending,
        a !== null && (c = a.next,
        c === a ? i.pending = null : (c = c.next,
        a.next = c,
        tx(i, c)))
    }
    function xh(i, a, c) {
        var h = i.pending;
        if (i.pending = null,
        h !== null) {
            h = h.next;
            do
                a.status = "rejected",
                a.reason = c,
                sx(a),
                a = a.next;
            while (a !== h)
        }
        i.action = null
    }
    function sx(i) {
        i = i.listeners;
        for (var a = 0; a < i.length; a++)
            (0,
            i[a])()
    }
    function ix(i, a) {
        return a
    }
    function lx(i, a) {
        if (_e) {
            var c = Pe.formState;
            if (c !== null) {
                e: {
                    var h = xe;
                    if (_e) {
                        if (Je) {
                            t: {
                                for (var x = Je, b = Dn; x.nodeType !== 8; ) {
                                    if (!b) {
                                        x = null;
                                        break t
                                    }
                                    if (x = On(x.nextSibling),
                                    x === null) {
                                        x = null;
                                        break t
                                    }
                                }
                                b = x.data,
                                x = b === "F!" || b === "F" ? x : null
                            }
                            if (x) {
                                Je = On(x.nextSibling),
                                h = x.data === "F!";
                                break e
                            }
                        }
                        Wr(h)
                    }
                    h = !1
                }
                h && (a = c[0])
            }
        }
        return c = Vt(),
        c.memoizedState = c.baseState = a,
        h = {
            pending: null,
            lanes: 0,
            dispatch: null,
            lastRenderedReducer: ix,
            lastRenderedState: a
        },
        c.queue = h,
        c = jx.bind(null, xe, h),
        h.dispatch = c,
        h = gh(!1),
        b = Ch.bind(null, xe, !1, h.queue),
        h = Vt(),
        x = {
            state: a,
            dispatch: null,
            action: i,
            pending: null
        },
        h.queue = x,
        c = fC.bind(null, xe, x, b, c),
        x.dispatch = c,
        h.memoizedState = i,
        [a, c, !1]
    }
    function ax(i) {
        var a = ut();
        return ox(a, qe, i)
    }
    function ox(i, a, c) {
        if (a = ph(i, a, ix)[0],
        i = yu(Er)[0],
        typeof a == "object" && a !== null && typeof a.then == "function")
            try {
                var h = ga(a)
            } catch (S) {
                throw S === el ? uu : S
            }
        else
            h = a;
        a = ut();
        var x = a.queue
          , b = x.dispatch;
        return c !== a.memoizedState && (xe.flags |= 2048,
        il(9, {
            destroy: void 0
        }, hC.bind(null, x, c), null)),
        [h, b, i]
    }
    function hC(i, a) {
        i.action = a
    }
    function ux(i) {
        var a = ut()
          , c = qe;
        if (c !== null)
            return ox(a, c, i);
        ut(),
        a = a.memoizedState,
        c = ut();
        var h = c.queue.dispatch;
        return c.memoizedState = i,
        [a, h, !1]
    }
    function il(i, a, c, h) {
        return i = {
            tag: i,
            create: c,
            deps: h,
            inst: a,
            next: null
        },
        a = xe.updateQueue,
        a === null && (a = xu(),
        xe.updateQueue = a),
        c = a.lastEffect,
        c === null ? a.lastEffect = i.next = i : (h = c.next,
        c.next = i,
        i.next = h,
        a.lastEffect = i),
        i
    }
    function cx() {
        return ut().memoizedState
    }
    function vu(i, a, c, h) {
        var x = Vt();
        xe.flags |= i,
        x.memoizedState = il(1 | a, {
            destroy: void 0
        }, c, h === void 0 ? null : h)
    }
    function Nu(i, a, c, h) {
        var x = ut();
        h = h === void 0 ? null : h;
        var b = x.memoizedState.inst;
        qe !== null && h !== null && oh(h, qe.memoizedState.deps) ? x.memoizedState = il(a, b, c, h) : (xe.flags |= i,
        x.memoizedState = il(1 | a, b, c, h))
    }
    function dx(i, a) {
        vu(8390656, 8, i, a)
    }
    function bh(i, a) {
        Nu(2048, 8, i, a)
    }
    function pC(i) {
        xe.flags |= 4;
        var a = xe.updateQueue;
        if (a === null)
            a = xu(),
            xe.updateQueue = a,
            a.events = [i];
        else {
            var c = a.events;
            c === null ? a.events = [i] : c.push(i)
        }
    }
    function fx(i) {
        var a = ut().memoizedState;
        return pC({
            ref: a,
            nextImpl: i
        }),
        function() {
            if ((Re & 2) !== 0)
                throw Error(r(440));
            return a.impl.apply(void 0, arguments)
        }
    }
    function hx(i, a) {
        return Nu(4, 2, i, a)
    }
    function px(i, a) {
        return Nu(4, 4, i, a)
    }
    function mx(i, a) {
        if (typeof a == "function") {
            i = i();
            var c = a(i);
            return function() {
                typeof c == "function" ? c() : a(null)
            }
        }
        if (a != null)
            return i = i(),
            a.current = i,
            function() {
                a.current = null
            }
    }
    function gx(i, a, c) {
        c = c != null ? c.concat([i]) : null,
        Nu(4, 4, mx.bind(null, a, i), c)
    }
    function yh() {}
    function xx(i, a) {
        var c = ut();
        a = a === void 0 ? null : a;
        var h = c.memoizedState;
        return a !== null && oh(a, h[1]) ? h[0] : (c.memoizedState = [i, a],
        i)
    }
    function bx(i, a) {
        var c = ut();
        a = a === void 0 ? null : a;
        var h = c.memoizedState;
        if (a !== null && oh(a, h[1]))
            return h[0];
        if (h = i(),
        li) {
            Yr(!0);
            try {
                i()
            } finally {
                Yr(!1)
            }
        }
        return c.memoizedState = [h, a],
        h
    }
    function vh(i, a, c) {
        return c === void 0 || (jr & 1073741824) !== 0 && (ke & 261930) === 0 ? i.memoizedState = a : (i.memoizedState = c,
        i = yb(),
        xe.lanes |= i,
        us |= i,
        c)
    }
    function yx(i, a, c, h) {
        return hn(c, a) ? c : nl.current !== null ? (i = vh(i, c, h),
        hn(i, a) || (ht = !0),
        i) : (jr & 42) === 0 || (jr & 1073741824) !== 0 && (ke & 261930) === 0 ? (ht = !0,
        i.memoizedState = c) : (i = yb(),
        xe.lanes |= i,
        us |= i,
        a)
    }
    function vx(i, a, c, h, x) {
        var b = Z.p;
        Z.p = b !== 0 && 8 > b ? b : 8;
        var S = q.T
          , j = {};
        q.T = j,
        Ch(i, !1, a, c);
        try {
            var T = x()
              , F = q.S;
            if (F !== null && F(j, T),
            T !== null && typeof T == "object" && typeof T.then == "function") {
                var P = uC(T, h);
                xa(i, a, P, yn(i))
            } else
                xa(i, a, h, yn(i))
        } catch (J) {
            xa(i, a, {
                then: function() {},
                status: "rejected",
                reason: J
            }, yn())
        } finally {
            Z.p = b,
            S !== null && j.types !== null && (S.types = j.types),
            q.T = S
        }
    }
    function mC() {}
    function Nh(i, a, c, h) {
        if (i.tag !== 5)
            throw Error(r(476));
        var x = Nx(i).queue;
        vx(i, x, a, ae, c === null ? mC : function() {
            return wx(i),
            c(h)
        }
        )
    }
    function Nx(i) {
        var a = i.memoizedState;
        if (a !== null)
            return a;
        a = {
            memoizedState: ae,
            baseState: ae,
            baseQueue: null,
            queue: {
                pending: null,
                lanes: 0,
                dispatch: null,
                lastRenderedReducer: Er,
                lastRenderedState: ae
            },
            next: null
        };
        var c = {};
        return a.next = {
            memoizedState: c,
            baseState: c,
            baseQueue: null,
            queue: {
                pending: null,
                lanes: 0,
                dispatch: null,
                lastRenderedReducer: Er,
                lastRenderedState: c
            },
            next: null
        },
        i.memoizedState = a,
        i = i.alternate,
        i !== null && (i.memoizedState = a),
        a
    }
    function wx(i) {
        var a = Nx(i);
        a.next === null && (a = i.alternate.memoizedState),
        xa(i, a.next.queue, {}, yn())
    }
    function wh() {
        return Dt(Ra)
    }
    function Cx() {
        return ut().memoizedState
    }
    function Sx() {
        return ut().memoizedState
    }
    function gC(i) {
        for (var a = i.return; a !== null; ) {
            switch (a.tag) {
            case 24:
            case 3:
                var c = yn();
                i = ns(c);
                var h = rs(a, i, c);
                h !== null && (rn(h, a, c),
                fa(h, a, c)),
                a = {
                    cache: Qf()
                },
                i.payload = a;
                return
            }
            a = a.return
        }
    }
    function xC(i, a, c) {
        var h = yn();
        c = {
            lane: h,
            revertLane: 0,
            gesture: null,
            action: c,
            hasEagerState: !1,
            eagerState: null,
            next: null
        },
        wu(i) ? Ex(a, c) : (c = Uf(i, a, c, h),
        c !== null && (rn(c, i, h),
        kx(c, a, h)))
    }
    function jx(i, a, c) {
        var h = yn();
        xa(i, a, c, h)
    }
    function xa(i, a, c, h) {
        var x = {
            lane: h,
            revertLane: 0,
            gesture: null,
            action: c,
            hasEagerState: !1,
            eagerState: null,
            next: null
        };
        if (wu(i))
            Ex(a, x);
        else {
            var b = i.alternate;
            if (i.lanes === 0 && (b === null || b.lanes === 0) && (b = a.lastRenderedReducer,
            b !== null))
                try {
                    var S = a.lastRenderedState
                      , j = b(S, c);
                    if (x.hasEagerState = !0,
                    x.eagerState = j,
                    hn(j, S))
                        return nu(i, a, x, 0),
                        Pe === null && tu(),
                        !1
                } catch {}
            if (c = Uf(i, a, x, h),
            c !== null)
                return rn(c, i, h),
                kx(c, a, h),
                !0
        }
        return !1
    }
    function Ch(i, a, c, h) {
        if (h = {
            lane: 2,
            revertLane: t0(),
            gesture: null,
            action: h,
            hasEagerState: !1,
            eagerState: null,
            next: null
        },
        wu(i)) {
            if (a)
                throw Error(r(479))
        } else
            a = Uf(i, c, h, 2),
            a !== null && rn(a, i, 2)
    }
    function wu(i) {
        var a = i.alternate;
        return i === xe || a !== null && a === xe
    }
    function Ex(i, a) {
        rl = mu = !0;
        var c = i.pending;
        c === null ? a.next = a : (a.next = c.next,
        c.next = a),
        i.pending = a
    }
    function kx(i, a, c) {
        if ((c & 4194048) !== 0) {
            var h = a.lanes;
            h &= i.pendingLanes,
            c |= h,
            a.lanes = c,
            Mg(i, c)
        }
    }
    var ba = {
        readContext: Dt,
        use: bu,
        useCallback: tt,
        useContext: tt,
        useEffect: tt,
        useImperativeHandle: tt,
        useLayoutEffect: tt,
        useInsertionEffect: tt,
        useMemo: tt,
        useReducer: tt,
        useRef: tt,
        useState: tt,
        useDebugValue: tt,
        useDeferredValue: tt,
        useTransition: tt,
        useSyncExternalStore: tt,
        useId: tt,
        useHostTransitionStatus: tt,
        useFormState: tt,
        useActionState: tt,
        useOptimistic: tt,
        useMemoCache: tt,
        useCacheRefresh: tt
    };
    ba.useEffectEvent = tt;
    var Ax = {
        readContext: Dt,
        use: bu,
        useCallback: function(i, a) {
            return Vt().memoizedState = [i, a === void 0 ? null : a],
            i
        },
        useContext: Dt,
        useEffect: dx,
        useImperativeHandle: function(i, a, c) {
            c = c != null ? c.concat([i]) : null,
            vu(4194308, 4, mx.bind(null, a, i), c)
        },
        useLayoutEffect: function(i, a) {
            return vu(4194308, 4, i, a)
        },
        useInsertionEffect: function(i, a) {
            vu(4, 2, i, a)
        },
        useMemo: function(i, a) {
            var c = Vt();
            a = a === void 0 ? null : a;
            var h = i();
            if (li) {
                Yr(!0);
                try {
                    i()
                } finally {
                    Yr(!1)
                }
            }
            return c.memoizedState = [h, a],
            h
        },
        useReducer: function(i, a, c) {
            var h = Vt();
            if (c !== void 0) {
                var x = c(a);
                if (li) {
                    Yr(!0);
                    try {
                        c(a)
                    } finally {
                        Yr(!1)
                    }
                }
            } else
                x = a;
            return h.memoizedState = h.baseState = x,
            i = {
                pending: null,
                lanes: 0,
                dispatch: null,
                lastRenderedReducer: i,
                lastRenderedState: x
            },
            h.queue = i,
            i = i.dispatch = xC.bind(null, xe, i),
            [h.memoizedState, i]
        },
        useRef: function(i) {
            var a = Vt();
            return i = {
                current: i
            },
            a.memoizedState = i
        },
        useState: function(i) {
            i = gh(i);
            var a = i.queue
              , c = jx.bind(null, xe, a);
            return a.dispatch = c,
            [i.memoizedState, c]
        },
        useDebugValue: yh,
        useDeferredValue: function(i, a) {
            var c = Vt();
            return vh(c, i, a)
        },
        useTransition: function() {
            var i = gh(!1);
            return i = vx.bind(null, xe, i.queue, !0, !1),
            Vt().memoizedState = i,
            [!1, i]
        },
        useSyncExternalStore: function(i, a, c) {
            var h = xe
              , x = Vt();
            if (_e) {
                if (c === void 0)
                    throw Error(r(407));
                c = c()
            } else {
                if (c = a(),
                Pe === null)
                    throw Error(r(349));
                (ke & 127) !== 0 || J1(h, a, c)
            }
            x.memoizedState = c;
            var b = {
                value: c,
                getSnapshot: a
            };
            return x.queue = b,
            dx(Q1.bind(null, h, b, i), [i]),
            h.flags |= 2048,
            il(9, {
                destroy: void 0
            }, X1.bind(null, h, b, c, a), null),
            c
        },
        useId: function() {
            var i = Vt()
              , a = Pe.identifierPrefix;
            if (_e) {
                var c = er
                  , h = Wn;
                c = (h & ~(1 << 32 - fn(h) - 1)).toString(32) + c,
                a = "_" + a + "R_" + c,
                c = gu++,
                0 < c && (a += "H" + c.toString(32)),
                a += "_"
            } else
                c = cC++,
                a = "_" + a + "r_" + c.toString(32) + "_";
            return i.memoizedState = a
        },
        useHostTransitionStatus: wh,
        useFormState: lx,
        useActionState: lx,
        useOptimistic: function(i) {
            var a = Vt();
            a.memoizedState = a.baseState = i;
            var c = {
                pending: null,
                lanes: 0,
                dispatch: null,
                lastRenderedReducer: null,
                lastRenderedState: null
            };
            return a.queue = c,
            a = Ch.bind(null, xe, !0, c),
            c.dispatch = a,
            [i, a]
        },
        useMemoCache: hh,
        useCacheRefresh: function() {
            return Vt().memoizedState = gC.bind(null, xe)
        },
        useEffectEvent: function(i) {
            var a = Vt()
              , c = {
                impl: i
            };
            return a.memoizedState = c,
            function() {
                if ((Re & 2) !== 0)
                    throw Error(r(440));
                return c.impl.apply(void 0, arguments)
            }
        }
    }
      , Sh = {
        readContext: Dt,
        use: bu,
        useCallback: xx,
        useContext: Dt,
        useEffect: bh,
        useImperativeHandle: gx,
        useInsertionEffect: hx,
        useLayoutEffect: px,
        useMemo: bx,
        useReducer: yu,
        useRef: cx,
        useState: function() {
            return yu(Er)
        },
        useDebugValue: yh,
        useDeferredValue: function(i, a) {
            var c = ut();
            return yx(c, qe.memoizedState, i, a)
        },
        useTransition: function() {
            var i = yu(Er)[0]
              , a = ut().memoizedState;
            return [typeof i == "boolean" ? i : ga(i), a]
        },
        useSyncExternalStore: Y1,
        useId: Cx,
        useHostTransitionStatus: wh,
        useFormState: ax,
        useActionState: ax,
        useOptimistic: function(i, a) {
            var c = ut();
            return ex(c, qe, i, a)
        },
        useMemoCache: hh,
        useCacheRefresh: Sx
    };
    Sh.useEffectEvent = fx;
    var _x = {
        readContext: Dt,
        use: bu,
        useCallback: xx,
        useContext: Dt,
        useEffect: bh,
        useImperativeHandle: gx,
        useInsertionEffect: hx,
        useLayoutEffect: px,
        useMemo: bx,
        useReducer: mh,
        useRef: cx,
        useState: function() {
            return mh(Er)
        },
        useDebugValue: yh,
        useDeferredValue: function(i, a) {
            var c = ut();
            return qe === null ? vh(c, i, a) : yx(c, qe.memoizedState, i, a)
        },
        useTransition: function() {
            var i = mh(Er)[0]
              , a = ut().memoizedState;
            return [typeof i == "boolean" ? i : ga(i), a]
        },
        useSyncExternalStore: Y1,
        useId: Cx,
        useHostTransitionStatus: wh,
        useFormState: ux,
        useActionState: ux,
        useOptimistic: function(i, a) {
            var c = ut();
            return qe !== null ? ex(c, qe, i, a) : (c.baseState = i,
            [i, c.queue.dispatch])
        },
        useMemoCache: hh,
        useCacheRefresh: Sx
    };
    _x.useEffectEvent = fx;
    function jh(i, a, c, h) {
        a = i.memoizedState,
        c = c(h, a),
        c = c == null ? a : g({}, a, c),
        i.memoizedState = c,
        i.lanes === 0 && (i.updateQueue.baseState = c)
    }
    var Eh = {
        enqueueSetState: function(i, a, c) {
            i = i._reactInternals;
            var h = yn()
              , x = ns(h);
            x.payload = a,
            c != null && (x.callback = c),
            a = rs(i, x, h),
            a !== null && (rn(a, i, h),
            fa(a, i, h))
        },
        enqueueReplaceState: function(i, a, c) {
            i = i._reactInternals;
            var h = yn()
              , x = ns(h);
            x.tag = 1,
            x.payload = a,
            c != null && (x.callback = c),
            a = rs(i, x, h),
            a !== null && (rn(a, i, h),
            fa(a, i, h))
        },
        enqueueForceUpdate: function(i, a) {
            i = i._reactInternals;
            var c = yn()
              , h = ns(c);
            h.tag = 2,
            a != null && (h.callback = a),
            a = rs(i, h, c),
            a !== null && (rn(a, i, c),
            fa(a, i, c))
        }
    };
    function Tx(i, a, c, h, x, b, S) {
        return i = i.stateNode,
        typeof i.shouldComponentUpdate == "function" ? i.shouldComponentUpdate(h, b, S) : a.prototype && a.prototype.isPureReactComponent ? !sa(c, h) || !sa(x, b) : !0
    }
    function Dx(i, a, c, h) {
        i = a.state,
        typeof a.componentWillReceiveProps == "function" && a.componentWillReceiveProps(c, h),
        typeof a.UNSAFE_componentWillReceiveProps == "function" && a.UNSAFE_componentWillReceiveProps(c, h),
        a.state !== i && Eh.enqueueReplaceState(a, a.state, null)
    }
    function ai(i, a) {
        var c = a;
        if ("ref"in a) {
            c = {};
            for (var h in a)
                h !== "ref" && (c[h] = a[h])
        }
        if (i = i.defaultProps) {
            c === a && (c = g({}, c));
            for (var x in i)
                c[x] === void 0 && (c[x] = i[x])
        }
        return c
    }
    function Mx(i) {
        eu(i)
    }
    function Ox(i) {
        console.error(i)
    }
    function Rx(i) {
        eu(i)
    }
    function Cu(i, a) {
        try {
            var c = i.onUncaughtError;
            c(a.value, {
                componentStack: a.stack
            })
        } catch (h) {
            setTimeout(function() {
                throw h
            })
        }
    }
    function zx(i, a, c) {
        try {
            var h = i.onCaughtError;
            h(c.value, {
                componentStack: c.stack,
                errorBoundary: a.tag === 1 ? a.stateNode : null
            })
        } catch (x) {
            setTimeout(function() {
                throw x
            })
        }
    }
    function kh(i, a, c) {
        return c = ns(c),
        c.tag = 3,
        c.payload = {
            element: null
        },
        c.callback = function() {
            Cu(i, a)
        }
        ,
        c
    }
    function Lx(i) {
        return i = ns(i),
        i.tag = 3,
        i
    }
    function Bx(i, a, c, h) {
        var x = c.type.getDerivedStateFromError;
        if (typeof x == "function") {
            var b = h.value;
            i.payload = function() {
                return x(b)
            }
            ,
            i.callback = function() {
                zx(a, c, h)
            }
        }
        var S = c.stateNode;
        S !== null && typeof S.componentDidCatch == "function" && (i.callback = function() {
            zx(a, c, h),
            typeof x != "function" && (cs === null ? cs = new Set([this]) : cs.add(this));
            var j = h.stack;
            this.componentDidCatch(h.value, {
                componentStack: j !== null ? j : ""
            })
        }
        )
    }
    function bC(i, a, c, h, x) {
        if (c.flags |= 32768,
        h !== null && typeof h == "object" && typeof h.then == "function") {
            if (a = c.alternate,
            a !== null && Qi(a, c, x, !0),
            c = mn.current,
            c !== null) {
                switch (c.tag) {
                case 31:
                case 13:
                    return Mn === null ? zu() : c.alternate === null && nt === 0 && (nt = 3),
                    c.flags &= -257,
                    c.flags |= 65536,
                    c.lanes = x,
                    h === cu ? c.flags |= 16384 : (a = c.updateQueue,
                    a === null ? c.updateQueue = new Set([h]) : a.add(h),
                    Zh(i, h, x)),
                    !1;
                case 22:
                    return c.flags |= 65536,
                    h === cu ? c.flags |= 16384 : (a = c.updateQueue,
                    a === null ? (a = {
                        transitions: null,
                        markerInstances: null,
                        retryQueue: new Set([h])
                    },
                    c.updateQueue = a) : (c = a.retryQueue,
                    c === null ? a.retryQueue = new Set([h]) : c.add(h)),
                    Zh(i, h, x)),
                    !1
                }
                throw Error(r(435, c.tag))
            }
            return Zh(i, h, x),
            zu(),
            !1
        }
        if (_e)
            return a = mn.current,
            a !== null ? ((a.flags & 65536) === 0 && (a.flags |= 256),
            a.flags |= 65536,
            a.lanes = x,
            h !== Gf && (i = Error(r(422), {
                cause: h
            }),
            aa(An(i, c)))) : (h !== Gf && (a = Error(r(423), {
                cause: h
            }),
            aa(An(a, c))),
            i = i.current.alternate,
            i.flags |= 65536,
            x &= -x,
            i.lanes |= x,
            h = An(h, c),
            x = kh(i.stateNode, h, x),
            rh(i, x),
            nt !== 4 && (nt = 2)),
            !1;
        var b = Error(r(520), {
            cause: h
        });
        if (b = An(b, c),
        Ea === null ? Ea = [b] : Ea.push(b),
        nt !== 4 && (nt = 2),
        a === null)
            return !0;
        h = An(h, c),
        c = a;
        do {
            switch (c.tag) {
            case 3:
                return c.flags |= 65536,
                i = x & -x,
                c.lanes |= i,
                i = kh(c.stateNode, h, i),
                rh(c, i),
                !1;
            case 1:
                if (a = c.type,
                b = c.stateNode,
                (c.flags & 128) === 0 && (typeof a.getDerivedStateFromError == "function" || b !== null && typeof b.componentDidCatch == "function" && (cs === null || !cs.has(b))))
                    return c.flags |= 65536,
                    x &= -x,
                    c.lanes |= x,
                    x = Lx(x),
                    Bx(x, i, c, h),
                    rh(c, x),
                    !1
            }
            c = c.return
        } while (c !== null);
        return !1
    }
    var Ah = Error(r(461))
      , ht = !1;
    function Mt(i, a, c, h) {
        a.child = i === null ? q1(a, null, c, h) : ii(a, i.child, c, h)
    }
    function Fx(i, a, c, h, x) {
        c = c.render;
        var b = a.ref;
        if ("ref"in h) {
            var S = {};
            for (var j in h)
                j !== "ref" && (S[j] = h[j])
        } else
            S = h;
        return ti(a),
        h = uh(i, a, c, S, b, x),
        j = ch(),
        i !== null && !ht ? (dh(i, a, x),
        kr(i, a, x)) : (_e && j && Pf(a),
        a.flags |= 1,
        Mt(i, a, h, x),
        a.child)
    }
    function Hx(i, a, c, h, x) {
        if (i === null) {
            var b = c.type;
            return typeof b == "function" && !qf(b) && b.defaultProps === void 0 && c.compare === null ? (a.tag = 15,
            a.type = b,
            Ux(i, a, b, h, x)) : (i = su(c.type, null, h, a, a.mode, x),
            i.ref = a.ref,
            i.return = a,
            a.child = i)
        }
        if (b = i.child,
        !Lh(i, x)) {
            var S = b.memoizedProps;
            if (c = c.compare,
            c = c !== null ? c : sa,
            c(S, h) && i.ref === a.ref)
                return kr(i, a, x)
        }
        return a.flags |= 1,
        i = Nr(b, h),
        i.ref = a.ref,
        i.return = a,
        a.child = i
    }
    function Ux(i, a, c, h, x) {
        if (i !== null) {
            var b = i.memoizedProps;
            if (sa(b, h) && i.ref === a.ref)
                if (ht = !1,
                a.pendingProps = h = b,
                Lh(i, x))
                    (i.flags & 131072) !== 0 && (ht = !0);
                else
                    return a.lanes = i.lanes,
                    kr(i, a, x)
        }
        return _h(i, a, c, h, x)
    }
    function qx(i, a, c, h) {
        var x = h.children
          , b = i !== null ? i.memoizedState : null;
        if (i === null && a.stateNode === null && (a.stateNode = {
            _visibility: 1,
            _pendingMarkers: null,
            _retryCache: null,
            _transitions: null
        }),
        h.mode === "hidden") {
            if ((a.flags & 128) !== 0) {
                if (b = b !== null ? b.baseLanes | c : c,
                i !== null) {
                    for (h = a.child = i.child,
                    x = 0; h !== null; )
                        x = x | h.lanes | h.childLanes,
                        h = h.sibling;
                    h = x & ~b
                } else
                    h = 0,
                    a.child = null;
                return Ix(i, a, b, c, h)
            }
            if ((c & 536870912) !== 0)
                a.memoizedState = {
                    baseLanes: 0,
                    cachePool: null
                },
                i !== null && ou(a, b !== null ? b.cachePool : null),
                b !== null ? P1(a, b) : ih(),
                V1(a);
            else
                return h = a.lanes = 536870912,
                Ix(i, a, b !== null ? b.baseLanes | c : c, c, h)
        } else
            b !== null ? (ou(a, b.cachePool),
            P1(a, b),
            is(),
            a.memoizedState = null) : (i !== null && ou(a, null),
            ih(),
            is());
        return Mt(i, a, x, c),
        a.child
    }
    function ya(i, a) {
        return i !== null && i.tag === 22 || a.stateNode !== null || (a.stateNode = {
            _visibility: 1,
            _pendingMarkers: null,
            _retryCache: null,
            _transitions: null
        }),
        a.sibling
    }
    function Ix(i, a, c, h, x) {
        var b = Wf();
        return b = b === null ? null : {
            parent: dt._currentValue,
            pool: b
        },
        a.memoizedState = {
            baseLanes: c,
            cachePool: b
        },
        i !== null && ou(a, null),
        ih(),
        V1(a),
        i !== null && Qi(i, a, h, !0),
        a.childLanes = x,
        null
    }
    function Su(i, a) {
        return a = Eu({
            mode: a.mode,
            children: a.children
        }, i.mode),
        a.ref = i.ref,
        i.child = a,
        a.return = i,
        a
    }
    function $x(i, a, c) {
        return ii(a, i.child, null, c),
        i = Su(a, a.pendingProps),
        i.flags |= 2,
        gn(a),
        a.memoizedState = null,
        i
    }
    function yC(i, a, c) {
        var h = a.pendingProps
          , x = (a.flags & 128) !== 0;
        if (a.flags &= -129,
        i === null) {
            if (_e) {
                if (h.mode === "hidden")
                    return i = Su(a, h),
                    a.lanes = 536870912,
                    ya(null, i);
                if (ah(a),
                (i = Je) ? (i = ty(i, Dn),
                i = i !== null && i.data === "&" ? i : null,
                i !== null && (a.memoizedState = {
                    dehydrated: i,
                    treeContext: Qr !== null ? {
                        id: Wn,
                        overflow: er
                    } : null,
                    retryLane: 536870912,
                    hydrationErrors: null
                },
                c = E1(i),
                c.return = a,
                a.child = c,
                Tt = a,
                Je = null)) : i = null,
                i === null)
                    throw Wr(a);
                return a.lanes = 536870912,
                null
            }
            return Su(a, h)
        }
        var b = i.memoizedState;
        if (b !== null) {
            var S = b.dehydrated;
            if (ah(a),
            x)
                if (a.flags & 256)
                    a.flags &= -257,
                    a = $x(i, a, c);
                else if (a.memoizedState !== null)
                    a.child = i.child,
                    a.flags |= 128,
                    a = null;
                else
                    throw Error(r(558));
            else if (ht || Qi(i, a, c, !1),
            x = (c & i.childLanes) !== 0,
            ht || x) {
                if (h = Pe,
                h !== null && (S = Og(h, c),
                S !== 0 && S !== b.retryLane))
                    throw b.retryLane = S,
                    Qs(i, S),
                    rn(h, i, S),
                    Ah;
                zu(),
                a = $x(i, a, c)
            } else
                i = b.treeContext,
                Je = On(S.nextSibling),
                Tt = a,
                _e = !0,
                Zr = null,
                Dn = !1,
                i !== null && _1(a, i),
                a = Su(a, h),
                a.flags |= 4096;
            return a
        }
        return i = Nr(i.child, {
            mode: h.mode,
            children: h.children
        }),
        i.ref = a.ref,
        a.child = i,
        i.return = a,
        i
    }
    function ju(i, a) {
        var c = a.ref;
        if (c === null)
            i !== null && i.ref !== null && (a.flags |= 4194816);
        else {
            if (typeof c != "function" && typeof c != "object")
                throw Error(r(284));
            (i === null || i.ref !== c) && (a.flags |= 4194816)
        }
    }
    function _h(i, a, c, h, x) {
        return ti(a),
        c = uh(i, a, c, h, void 0, x),
        h = ch(),
        i !== null && !ht ? (dh(i, a, x),
        kr(i, a, x)) : (_e && h && Pf(a),
        a.flags |= 1,
        Mt(i, a, c, x),
        a.child)
    }
    function Px(i, a, c, h, x, b) {
        return ti(a),
        a.updateQueue = null,
        c = K1(a, h, c, x),
        G1(i),
        h = ch(),
        i !== null && !ht ? (dh(i, a, b),
        kr(i, a, b)) : (_e && h && Pf(a),
        a.flags |= 1,
        Mt(i, a, c, b),
        a.child)
    }
    function Vx(i, a, c, h, x) {
        if (ti(a),
        a.stateNode === null) {
            var b = Ki
              , S = c.contextType;
            typeof S == "object" && S !== null && (b = Dt(S)),
            b = new c(h,b),
            a.memoizedState = b.state !== null && b.state !== void 0 ? b.state : null,
            b.updater = Eh,
            a.stateNode = b,
            b._reactInternals = a,
            b = a.stateNode,
            b.props = h,
            b.state = a.memoizedState,
            b.refs = {},
            th(a),
            S = c.contextType,
            b.context = typeof S == "object" && S !== null ? Dt(S) : Ki,
            b.state = a.memoizedState,
            S = c.getDerivedStateFromProps,
            typeof S == "function" && (jh(a, c, S, h),
            b.state = a.memoizedState),
            typeof c.getDerivedStateFromProps == "function" || typeof b.getSnapshotBeforeUpdate == "function" || typeof b.UNSAFE_componentWillMount != "function" && typeof b.componentWillMount != "function" || (S = b.state,
            typeof b.componentWillMount == "function" && b.componentWillMount(),
            typeof b.UNSAFE_componentWillMount == "function" && b.UNSAFE_componentWillMount(),
            S !== b.state && Eh.enqueueReplaceState(b, b.state, null),
            pa(a, h, b, x),
            ha(),
            b.state = a.memoizedState),
            typeof b.componentDidMount == "function" && (a.flags |= 4194308),
            h = !0
        } else if (i === null) {
            b = a.stateNode;
            var j = a.memoizedProps
              , T = ai(c, j);
            b.props = T;
            var F = b.context
              , P = c.contextType;
            S = Ki,
            typeof P == "object" && P !== null && (S = Dt(P));
            var J = c.getDerivedStateFromProps;
            P = typeof J == "function" || typeof b.getSnapshotBeforeUpdate == "function",
            j = a.pendingProps !== j,
            P || typeof b.UNSAFE_componentWillReceiveProps != "function" && typeof b.componentWillReceiveProps != "function" || (j || F !== S) && Dx(a, b, h, S),
            ts = !1;
            var H = a.memoizedState;
            b.state = H,
            pa(a, h, b, x),
            ha(),
            F = a.memoizedState,
            j || H !== F || ts ? (typeof J == "function" && (jh(a, c, J, h),
            F = a.memoizedState),
            (T = ts || Tx(a, c, T, h, H, F, S)) ? (P || typeof b.UNSAFE_componentWillMount != "function" && typeof b.componentWillMount != "function" || (typeof b.componentWillMount == "function" && b.componentWillMount(),
            typeof b.UNSAFE_componentWillMount == "function" && b.UNSAFE_componentWillMount()),
            typeof b.componentDidMount == "function" && (a.flags |= 4194308)) : (typeof b.componentDidMount == "function" && (a.flags |= 4194308),
            a.memoizedProps = h,
            a.memoizedState = F),
            b.props = h,
            b.state = F,
            b.context = S,
            h = T) : (typeof b.componentDidMount == "function" && (a.flags |= 4194308),
            h = !1)
        } else {
            b = a.stateNode,
            nh(i, a),
            S = a.memoizedProps,
            P = ai(c, S),
            b.props = P,
            J = a.pendingProps,
            H = b.context,
            F = c.contextType,
            T = Ki,
            typeof F == "object" && F !== null && (T = Dt(F)),
            j = c.getDerivedStateFromProps,
            (F = typeof j == "function" || typeof b.getSnapshotBeforeUpdate == "function") || typeof b.UNSAFE_componentWillReceiveProps != "function" && typeof b.componentWillReceiveProps != "function" || (S !== J || H !== T) && Dx(a, b, h, T),
            ts = !1,
            H = a.memoizedState,
            b.state = H,
            pa(a, h, b, x),
            ha();
            var I = a.memoizedState;
            S !== J || H !== I || ts || i !== null && i.dependencies !== null && lu(i.dependencies) ? (typeof j == "function" && (jh(a, c, j, h),
            I = a.memoizedState),
            (P = ts || Tx(a, c, P, h, H, I, T) || i !== null && i.dependencies !== null && lu(i.dependencies)) ? (F || typeof b.UNSAFE_componentWillUpdate != "function" && typeof b.componentWillUpdate != "function" || (typeof b.componentWillUpdate == "function" && b.componentWillUpdate(h, I, T),
            typeof b.UNSAFE_componentWillUpdate == "function" && b.UNSAFE_componentWillUpdate(h, I, T)),
            typeof b.componentDidUpdate == "function" && (a.flags |= 4),
            typeof b.getSnapshotBeforeUpdate == "function" && (a.flags |= 1024)) : (typeof b.componentDidUpdate != "function" || S === i.memoizedProps && H === i.memoizedState || (a.flags |= 4),
            typeof b.getSnapshotBeforeUpdate != "function" || S === i.memoizedProps && H === i.memoizedState || (a.flags |= 1024),
            a.memoizedProps = h,
            a.memoizedState = I),
            b.props = h,
            b.state = I,
            b.context = T,
            h = P) : (typeof b.componentDidUpdate != "function" || S === i.memoizedProps && H === i.memoizedState || (a.flags |= 4),
            typeof b.getSnapshotBeforeUpdate != "function" || S === i.memoizedProps && H === i.memoizedState || (a.flags |= 1024),
            h = !1)
        }
        return b = h,
        ju(i, a),
        h = (a.flags & 128) !== 0,
        b || h ? (b = a.stateNode,
        c = h && typeof c.getDerivedStateFromError != "function" ? null : b.render(),
        a.flags |= 1,
        i !== null && h ? (a.child = ii(a, i.child, null, x),
        a.child = ii(a, null, c, x)) : Mt(i, a, c, x),
        a.memoizedState = b.state,
        i = a.child) : i = kr(i, a, x),
        i
    }
    function Gx(i, a, c, h) {
        return Ws(),
        a.flags |= 256,
        Mt(i, a, c, h),
        a.child
    }
    var Th = {
        dehydrated: null,
        treeContext: null,
        retryLane: 0,
        hydrationErrors: null
    };
    function Dh(i) {
        return {
            baseLanes: i,
            cachePool: z1()
        }
    }
    function Mh(i, a, c) {
        return i = i !== null ? i.childLanes & ~c : 0,
        a && (i |= bn),
        i
    }
    function Kx(i, a, c) {
        var h = a.pendingProps, x = !1, b = (a.flags & 128) !== 0, S;
        if ((S = b) || (S = i !== null && i.memoizedState === null ? !1 : (ot.current & 2) !== 0),
        S && (x = !0,
        a.flags &= -129),
        S = (a.flags & 32) !== 0,
        a.flags &= -33,
        i === null) {
            if (_e) {
                if (x ? ss(a) : is(),
                (i = Je) ? (i = ty(i, Dn),
                i = i !== null && i.data !== "&" ? i : null,
                i !== null && (a.memoizedState = {
                    dehydrated: i,
                    treeContext: Qr !== null ? {
                        id: Wn,
                        overflow: er
                    } : null,
                    retryLane: 536870912,
                    hydrationErrors: null
                },
                c = E1(i),
                c.return = a,
                a.child = c,
                Tt = a,
                Je = null)) : i = null,
                i === null)
                    throw Wr(a);
                return p0(i) ? a.lanes = 32 : a.lanes = 536870912,
                null
            }
            var j = h.children;
            return h = h.fallback,
            x ? (is(),
            x = a.mode,
            j = Eu({
                mode: "hidden",
                children: j
            }, x),
            h = Zs(h, x, c, null),
            j.return = a,
            h.return = a,
            j.sibling = h,
            a.child = j,
            h = a.child,
            h.memoizedState = Dh(c),
            h.childLanes = Mh(i, S, c),
            a.memoizedState = Th,
            ya(null, h)) : (ss(a),
            Oh(a, j))
        }
        var T = i.memoizedState;
        if (T !== null && (j = T.dehydrated,
        j !== null)) {
            if (b)
                a.flags & 256 ? (ss(a),
                a.flags &= -257,
                a = Rh(i, a, c)) : a.memoizedState !== null ? (is(),
                a.child = i.child,
                a.flags |= 128,
                a = null) : (is(),
                j = h.fallback,
                x = a.mode,
                h = Eu({
                    mode: "visible",
                    children: h.children
                }, x),
                j = Zs(j, x, c, null),
                j.flags |= 2,
                h.return = a,
                j.return = a,
                h.sibling = j,
                a.child = h,
                ii(a, i.child, null, c),
                h = a.child,
                h.memoizedState = Dh(c),
                h.childLanes = Mh(i, S, c),
                a.memoizedState = Th,
                a = ya(null, h));
            else if (ss(a),
            p0(j)) {
                if (S = j.nextSibling && j.nextSibling.dataset,
                S)
                    var F = S.dgst;
                S = F,
                h = Error(r(419)),
                h.stack = "",
                h.digest = S,
                aa({
                    value: h,
                    source: null,
                    stack: null
                }),
                a = Rh(i, a, c)
            } else if (ht || Qi(i, a, c, !1),
            S = (c & i.childLanes) !== 0,
            ht || S) {
                if (S = Pe,
                S !== null && (h = Og(S, c),
                h !== 0 && h !== T.retryLane))
                    throw T.retryLane = h,
                    Qs(i, h),
                    rn(S, i, h),
                    Ah;
                h0(j) || zu(),
                a = Rh(i, a, c)
            } else
                h0(j) ? (a.flags |= 192,
                a.child = i.child,
                a = null) : (i = T.treeContext,
                Je = On(j.nextSibling),
                Tt = a,
                _e = !0,
                Zr = null,
                Dn = !1,
                i !== null && _1(a, i),
                a = Oh(a, h.children),
                a.flags |= 4096);
            return a
        }
        return x ? (is(),
        j = h.fallback,
        x = a.mode,
        T = i.child,
        F = T.sibling,
        h = Nr(T, {
            mode: "hidden",
            children: h.children
        }),
        h.subtreeFlags = T.subtreeFlags & 65011712,
        F !== null ? j = Nr(F, j) : (j = Zs(j, x, c, null),
        j.flags |= 2),
        j.return = a,
        h.return = a,
        h.sibling = j,
        a.child = h,
        ya(null, h),
        h = a.child,
        j = i.child.memoizedState,
        j === null ? j = Dh(c) : (x = j.cachePool,
        x !== null ? (T = dt._currentValue,
        x = x.parent !== T ? {
            parent: T,
            pool: T
        } : x) : x = z1(),
        j = {
            baseLanes: j.baseLanes | c,
            cachePool: x
        }),
        h.memoizedState = j,
        h.childLanes = Mh(i, S, c),
        a.memoizedState = Th,
        ya(i.child, h)) : (ss(a),
        c = i.child,
        i = c.sibling,
        c = Nr(c, {
            mode: "visible",
            children: h.children
        }),
        c.return = a,
        c.sibling = null,
        i !== null && (S = a.deletions,
        S === null ? (a.deletions = [i],
        a.flags |= 16) : S.push(i)),
        a.child = c,
        a.memoizedState = null,
        c)
    }
    function Oh(i, a) {
        return a = Eu({
            mode: "visible",
            children: a
        }, i.mode),
        a.return = i,
        i.child = a
    }
    function Eu(i, a) {
        return i = pn(22, i, null, a),
        i.lanes = 0,
        i
    }
    function Rh(i, a, c) {
        return ii(a, i.child, null, c),
        i = Oh(a, a.pendingProps.children),
        i.flags |= 2,
        a.memoizedState = null,
        i
    }
    function Yx(i, a, c) {
        i.lanes |= a;
        var h = i.alternate;
        h !== null && (h.lanes |= a),
        Jf(i.return, a, c)
    }
    function zh(i, a, c, h, x, b) {
        var S = i.memoizedState;
        S === null ? i.memoizedState = {
            isBackwards: a,
            rendering: null,
            renderingStartTime: 0,
            last: h,
            tail: c,
            tailMode: x,
            treeForkCount: b
        } : (S.isBackwards = a,
        S.rendering = null,
        S.renderingStartTime = 0,
        S.last = h,
        S.tail = c,
        S.tailMode = x,
        S.treeForkCount = b)
    }
    function Jx(i, a, c) {
        var h = a.pendingProps
          , x = h.revealOrder
          , b = h.tail;
        h = h.children;
        var S = ot.current
          , j = (S & 2) !== 0;
        if (j ? (S = S & 1 | 2,
        a.flags |= 128) : S &= 1,
        te(ot, S),
        Mt(i, a, h, c),
        h = _e ? la : 0,
        !j && i !== null && (i.flags & 128) !== 0)
            e: for (i = a.child; i !== null; ) {
                if (i.tag === 13)
                    i.memoizedState !== null && Yx(i, c, a);
                else if (i.tag === 19)
                    Yx(i, c, a);
                else if (i.child !== null) {
                    i.child.return = i,
                    i = i.child;
                    continue
                }
                if (i === a)
                    break e;
                for (; i.sibling === null; ) {
                    if (i.return === null || i.return === a)
                        break e;
                    i = i.return
                }
                i.sibling.return = i.return,
                i = i.sibling
            }
        switch (x) {
        case "forwards":
            for (c = a.child,
            x = null; c !== null; )
                i = c.alternate,
                i !== null && pu(i) === null && (x = c),
                c = c.sibling;
            c = x,
            c === null ? (x = a.child,
            a.child = null) : (x = c.sibling,
            c.sibling = null),
            zh(a, !1, x, c, b, h);
            break;
        case "backwards":
        case "unstable_legacy-backwards":
            for (c = null,
            x = a.child,
            a.child = null; x !== null; ) {
                if (i = x.alternate,
                i !== null && pu(i) === null) {
                    a.child = x;
                    break
                }
                i = x.sibling,
                x.sibling = c,
                c = x,
                x = i
            }
            zh(a, !0, c, null, b, h);
            break;
        case "together":
            zh(a, !1, null, null, void 0, h);
            break;
        default:
            a.memoizedState = null
        }
        return a.child
    }
    function kr(i, a, c) {
        if (i !== null && (a.dependencies = i.dependencies),
        us |= a.lanes,
        (c & a.childLanes) === 0)
            if (i !== null) {
                if (Qi(i, a, c, !1),
                (c & a.childLanes) === 0)
                    return null
            } else
                return null;
        if (i !== null && a.child !== i.child)
            throw Error(r(153));
        if (a.child !== null) {
            for (i = a.child,
            c = Nr(i, i.pendingProps),
            a.child = c,
            c.return = a; i.sibling !== null; )
                i = i.sibling,
                c = c.sibling = Nr(i, i.pendingProps),
                c.return = a;
            c.sibling = null
        }
        return a.child
    }
    function Lh(i, a) {
        return (i.lanes & a) !== 0 ? !0 : (i = i.dependencies,
        !!(i !== null && lu(i)))
    }
    function vC(i, a, c) {
        switch (a.tag) {
        case 3:
            Pt(a, a.stateNode.containerInfo),
            es(a, dt, i.memoizedState.cache),
            Ws();
            break;
        case 27:
        case 5:
            Vl(a);
            break;
        case 4:
            Pt(a, a.stateNode.containerInfo);
            break;
        case 10:
            es(a, a.type, a.memoizedProps.value);
            break;
        case 31:
            if (a.memoizedState !== null)
                return a.flags |= 128,
                ah(a),
                null;
            break;
        case 13:
            var h = a.memoizedState;
            if (h !== null)
                return h.dehydrated !== null ? (ss(a),
                a.flags |= 128,
                null) : (c & a.child.childLanes) !== 0 ? Kx(i, a, c) : (ss(a),
                i = kr(i, a, c),
                i !== null ? i.sibling : null);
            ss(a);
            break;
        case 19:
            var x = (i.flags & 128) !== 0;
            if (h = (c & a.childLanes) !== 0,
            h || (Qi(i, a, c, !1),
            h = (c & a.childLanes) !== 0),
            x) {
                if (h)
                    return Jx(i, a, c);
                a.flags |= 128
            }
            if (x = a.memoizedState,
            x !== null && (x.rendering = null,
            x.tail = null,
            x.lastEffect = null),
            te(ot, ot.current),
            h)
                break;
            return null;
        case 22:
            return a.lanes = 0,
            qx(i, a, c, a.pendingProps);
        case 24:
            es(a, dt, i.memoizedState.cache)
        }
        return kr(i, a, c)
    }
    function Xx(i, a, c) {
        if (i !== null)
            if (i.memoizedProps !== a.pendingProps)
                ht = !0;
            else {
                if (!Lh(i, c) && (a.flags & 128) === 0)
                    return ht = !1,
                    vC(i, a, c);
                ht = (i.flags & 131072) !== 0
            }
        else
            ht = !1,
            _e && (a.flags & 1048576) !== 0 && A1(a, la, a.index);
        switch (a.lanes = 0,
        a.tag) {
        case 16:
            e: {
                var h = a.pendingProps;
                if (i = ri(a.elementType),
                a.type = i,
                typeof i == "function")
                    qf(i) ? (h = ai(i, h),
                    a.tag = 1,
                    a = Vx(null, a, i, h, c)) : (a.tag = 0,
                    a = _h(null, a, i, h, c));
                else {
                    if (i != null) {
                        var x = i.$$typeof;
                        if (x === O) {
                            a.tag = 11,
                            a = Fx(null, a, i, h, c);
                            break e
                        } else if (x === z) {
                            a.tag = 14,
                            a = Hx(null, a, i, h, c);
                            break e
                        }
                    }
                    throw a = Le(i) || i,
                    Error(r(306, a, ""))
                }
            }
            return a;
        case 0:
            return _h(i, a, a.type, a.pendingProps, c);
        case 1:
            return h = a.type,
            x = ai(h, a.pendingProps),
            Vx(i, a, h, x, c);
        case 3:
            e: {
                if (Pt(a, a.stateNode.containerInfo),
                i === null)
                    throw Error(r(387));
                h = a.pendingProps;
                var b = a.memoizedState;
                x = b.element,
                nh(i, a),
                pa(a, h, null, c);
                var S = a.memoizedState;
                if (h = S.cache,
                es(a, dt, h),
                h !== b.cache && Xf(a, [dt], c, !0),
                ha(),
                h = S.element,
                b.isDehydrated)
                    if (b = {
                        element: h,
                        isDehydrated: !1,
                        cache: S.cache
                    },
                    a.updateQueue.baseState = b,
                    a.memoizedState = b,
                    a.flags & 256) {
                        a = Gx(i, a, h, c);
                        break e
                    } else if (h !== x) {
                        x = An(Error(r(424)), a),
                        aa(x),
                        a = Gx(i, a, h, c);
                        break e
                    } else
                        for (i = a.stateNode.containerInfo,
                        i.nodeType === 9 ? i = i.body : i = i.nodeName === "HTML" ? i.ownerDocument.body : i,
                        Je = On(i.firstChild),
                        Tt = a,
                        _e = !0,
                        Zr = null,
                        Dn = !0,
                        c = q1(a, null, h, c),
                        a.child = c; c; )
                            c.flags = c.flags & -3 | 4096,
                            c = c.sibling;
                else {
                    if (Ws(),
                    h === x) {
                        a = kr(i, a, c);
                        break e
                    }
                    Mt(i, a, h, c)
                }
                a = a.child
            }
            return a;
        case 26:
            return ju(i, a),
            i === null ? (c = ay(a.type, null, a.pendingProps, null)) ? a.memoizedState = c : _e || (c = a.type,
            i = a.pendingProps,
            h = Iu(Se.current).createElement(c),
            h[_t] = a,
            h[Qt] = i,
            Ot(h, c, i),
            vt(h),
            a.stateNode = h) : a.memoizedState = ay(a.type, i.memoizedProps, a.pendingProps, i.memoizedState),
            null;
        case 27:
            return Vl(a),
            i === null && _e && (h = a.stateNode = sy(a.type, a.pendingProps, Se.current),
            Tt = a,
            Dn = !0,
            x = Je,
            ps(a.type) ? (m0 = x,
            Je = On(h.firstChild)) : Je = x),
            Mt(i, a, a.pendingProps.children, c),
            ju(i, a),
            i === null && (a.flags |= 4194304),
            a.child;
        case 5:
            return i === null && _e && ((x = h = Je) && (h = XC(h, a.type, a.pendingProps, Dn),
            h !== null ? (a.stateNode = h,
            Tt = a,
            Je = On(h.firstChild),
            Dn = !1,
            x = !0) : x = !1),
            x || Wr(a)),
            Vl(a),
            x = a.type,
            b = a.pendingProps,
            S = i !== null ? i.memoizedProps : null,
            h = b.children,
            c0(x, b) ? h = null : S !== null && c0(x, S) && (a.flags |= 32),
            a.memoizedState !== null && (x = uh(i, a, dC, null, null, c),
            Ra._currentValue = x),
            ju(i, a),
            Mt(i, a, h, c),
            a.child;
        case 6:
            return i === null && _e && ((i = c = Je) && (c = QC(c, a.pendingProps, Dn),
            c !== null ? (a.stateNode = c,
            Tt = a,
            Je = null,
            i = !0) : i = !1),
            i || Wr(a)),
            null;
        case 13:
            return Kx(i, a, c);
        case 4:
            return Pt(a, a.stateNode.containerInfo),
            h = a.pendingProps,
            i === null ? a.child = ii(a, null, h, c) : Mt(i, a, h, c),
            a.child;
        case 11:
            return Fx(i, a, a.type, a.pendingProps, c);
        case 7:
            return Mt(i, a, a.pendingProps, c),
            a.child;
        case 8:
            return Mt(i, a, a.pendingProps.children, c),
            a.child;
        case 12:
            return Mt(i, a, a.pendingProps.children, c),
            a.child;
        case 10:
            return h = a.pendingProps,
            es(a, a.type, h.value),
            Mt(i, a, h.children, c),
            a.child;
        case 9:
            return x = a.type._context,
            h = a.pendingProps.children,
            ti(a),
            x = Dt(x),
            h = h(x),
            a.flags |= 1,
            Mt(i, a, h, c),
            a.child;
        case 14:
            return Hx(i, a, a.type, a.pendingProps, c);
        case 15:
            return Ux(i, a, a.type, a.pendingProps, c);
        case 19:
            return Jx(i, a, c);
        case 31:
            return yC(i, a, c);
        case 22:
            return qx(i, a, c, a.pendingProps);
        case 24:
            return ti(a),
            h = Dt(dt),
            i === null ? (x = Wf(),
            x === null && (x = Pe,
            b = Qf(),
            x.pooledCache = b,
            b.refCount++,
            b !== null && (x.pooledCacheLanes |= c),
            x = b),
            a.memoizedState = {
                parent: h,
                cache: x
            },
            th(a),
            es(a, dt, x)) : ((i.lanes & c) !== 0 && (nh(i, a),
            pa(a, null, null, c),
            ha()),
            x = i.memoizedState,
            b = a.memoizedState,
            x.parent !== h ? (x = {
                parent: h,
                cache: h
            },
            a.memoizedState = x,
            a.lanes === 0 && (a.memoizedState = a.updateQueue.baseState = x),
            es(a, dt, h)) : (h = b.cache,
            es(a, dt, h),
            h !== x.cache && Xf(a, [dt], c, !0))),
            Mt(i, a, a.pendingProps.children, c),
            a.child;
        case 29:
            throw a.pendingProps
        }
        throw Error(r(156, a.tag))
    }
    function Ar(i) {
        i.flags |= 4
    }
    function Bh(i, a, c, h, x) {
        if ((a = (i.mode & 32) !== 0) && (a = !1),
        a) {
            if (i.flags |= 16777216,
            (x & 335544128) === x)
                if (i.stateNode.complete)
                    i.flags |= 8192;
                else if (Cb())
                    i.flags |= 8192;
                else
                    throw si = cu,
                    eh
        } else
            i.flags &= -16777217
    }
    function Qx(i, a) {
        if (a.type !== "stylesheet" || (a.state.loading & 4) !== 0)
            i.flags &= -16777217;
        else if (i.flags |= 16777216,
        !fy(a))
            if (Cb())
                i.flags |= 8192;
            else
                throw si = cu,
                eh
    }
    function ku(i, a) {
        a !== null && (i.flags |= 4),
        i.flags & 16384 && (a = i.tag !== 22 ? Tg() : 536870912,
        i.lanes |= a,
        ul |= a)
    }
    function va(i, a) {
        if (!_e)
            switch (i.tailMode) {
            case "hidden":
                a = i.tail;
                for (var c = null; a !== null; )
                    a.alternate !== null && (c = a),
                    a = a.sibling;
                c === null ? i.tail = null : c.sibling = null;
                break;
            case "collapsed":
                c = i.tail;
                for (var h = null; c !== null; )
                    c.alternate !== null && (h = c),
                    c = c.sibling;
                h === null ? a || i.tail === null ? i.tail = null : i.tail.sibling = null : h.sibling = null
            }
    }
    function Xe(i) {
        var a = i.alternate !== null && i.alternate.child === i.child
          , c = 0
          , h = 0;
        if (a)
            for (var x = i.child; x !== null; )
                c |= x.lanes | x.childLanes,
                h |= x.subtreeFlags & 65011712,
                h |= x.flags & 65011712,
                x.return = i,
                x = x.sibling;
        else
            for (x = i.child; x !== null; )
                c |= x.lanes | x.childLanes,
                h |= x.subtreeFlags,
                h |= x.flags,
                x.return = i,
                x = x.sibling;
        return i.subtreeFlags |= h,
        i.childLanes = c,
        a
    }
    function NC(i, a, c) {
        var h = a.pendingProps;
        switch (Vf(a),
        a.tag) {
        case 16:
        case 15:
        case 0:
        case 11:
        case 7:
        case 8:
        case 12:
        case 9:
        case 14:
            return Xe(a),
            null;
        case 1:
            return Xe(a),
            null;
        case 3:
            return c = a.stateNode,
            h = null,
            i !== null && (h = i.memoizedState.cache),
            a.memoizedState.cache !== h && (a.flags |= 2048),
            Sr(dt),
            at(),
            c.pendingContext && (c.context = c.pendingContext,
            c.pendingContext = null),
            (i === null || i.child === null) && (Xi(a) ? Ar(a) : i === null || i.memoizedState.isDehydrated && (a.flags & 256) === 0 || (a.flags |= 1024,
            Kf())),
            Xe(a),
            null;
        case 26:
            var x = a.type
              , b = a.memoizedState;
            return i === null ? (Ar(a),
            b !== null ? (Xe(a),
            Qx(a, b)) : (Xe(a),
            Bh(a, x, null, h, c))) : b ? b !== i.memoizedState ? (Ar(a),
            Xe(a),
            Qx(a, b)) : (Xe(a),
            a.flags &= -16777217) : (i = i.memoizedProps,
            i !== h && Ar(a),
            Xe(a),
            Bh(a, x, i, h, c)),
            null;
        case 27:
            if (Fo(a),
            c = Se.current,
            x = a.type,
            i !== null && a.stateNode != null)
                i.memoizedProps !== h && Ar(a);
            else {
                if (!h) {
                    if (a.stateNode === null)
                        throw Error(r(166));
                    return Xe(a),
                    null
                }
                i = ne.current,
                Xi(a) ? T1(a) : (i = sy(x, h, c),
                a.stateNode = i,
                Ar(a))
            }
            return Xe(a),
            null;
        case 5:
            if (Fo(a),
            x = a.type,
            i !== null && a.stateNode != null)
                i.memoizedProps !== h && Ar(a);
            else {
                if (!h) {
                    if (a.stateNode === null)
                        throw Error(r(166));
                    return Xe(a),
                    null
                }
                if (b = ne.current,
                Xi(a))
                    T1(a);
                else {
                    var S = Iu(Se.current);
                    switch (b) {
                    case 1:
                        b = S.createElementNS("http://www.w3.org/2000/svg", x);
                        break;
                    case 2:
                        b = S.createElementNS("http://www.w3.org/1998/Math/MathML", x);
                        break;
                    default:
                        switch (x) {
                        case "svg":
                            b = S.createElementNS("http://www.w3.org/2000/svg", x);
                            break;
                        case "math":
                            b = S.createElementNS("http://www.w3.org/1998/Math/MathML", x);
                            break;
                        case "script":
                            b = S.createElement("div"),
                            b.innerHTML = "<script><\/script>",
                            b = b.removeChild(b.firstChild);
                            break;
                        case "select":
                            b = typeof h.is == "string" ? S.createElement("select", {
                                is: h.is
                            }) : S.createElement("select"),
                            h.multiple ? b.multiple = !0 : h.size && (b.size = h.size);
                            break;
                        default:
                            b = typeof h.is == "string" ? S.createElement(x, {
                                is: h.is
                            }) : S.createElement(x)
                        }
                    }
                    b[_t] = a,
                    b[Qt] = h;
                    e: for (S = a.child; S !== null; ) {
                        if (S.tag === 5 || S.tag === 6)
                            b.appendChild(S.stateNode);
                        else if (S.tag !== 4 && S.tag !== 27 && S.child !== null) {
                            S.child.return = S,
                            S = S.child;
                            continue
                        }
                        if (S === a)
                            break e;
                        for (; S.sibling === null; ) {
                            if (S.return === null || S.return === a)
                                break e;
                            S = S.return
                        }
                        S.sibling.return = S.return,
                        S = S.sibling
                    }
                    a.stateNode = b;
                    e: switch (Ot(b, x, h),
                    x) {
                    case "button":
                    case "input":
                    case "select":
                    case "textarea":
                        h = !!h.autoFocus;
                        break e;
                    case "img":
                        h = !0;
                        break e;
                    default:
                        h = !1
                    }
                    h && Ar(a)
                }
            }
            return Xe(a),
            Bh(a, a.type, i === null ? null : i.memoizedProps, a.pendingProps, c),
            null;
        case 6:
            if (i && a.stateNode != null)
                i.memoizedProps !== h && Ar(a);
            else {
                if (typeof h != "string" && a.stateNode === null)
                    throw Error(r(166));
                if (i = Se.current,
                Xi(a)) {
                    if (i = a.stateNode,
                    c = a.memoizedProps,
                    h = null,
                    x = Tt,
                    x !== null)
                        switch (x.tag) {
                        case 27:
                        case 5:
                            h = x.memoizedProps
                        }
                    i[_t] = a,
                    i = !!(i.nodeValue === c || h !== null && h.suppressHydrationWarning === !0 || Kb(i.nodeValue, c)),
                    i || Wr(a, !0)
                } else
                    i = Iu(i).createTextNode(h),
                    i[_t] = a,
                    a.stateNode = i
            }
            return Xe(a),
            null;
        case 31:
            if (c = a.memoizedState,
            i === null || i.memoizedState !== null) {
                if (h = Xi(a),
                c !== null) {
                    if (i === null) {
                        if (!h)
                            throw Error(r(318));
                        if (i = a.memoizedState,
                        i = i !== null ? i.dehydrated : null,
                        !i)
                            throw Error(r(557));
                        i[_t] = a
                    } else
                        Ws(),
                        (a.flags & 128) === 0 && (a.memoizedState = null),
                        a.flags |= 4;
                    Xe(a),
                    i = !1
                } else
                    c = Kf(),
                    i !== null && i.memoizedState !== null && (i.memoizedState.hydrationErrors = c),
                    i = !0;
                if (!i)
                    return a.flags & 256 ? (gn(a),
                    a) : (gn(a),
                    null);
                if ((a.flags & 128) !== 0)
                    throw Error(r(558))
            }
            return Xe(a),
            null;
        case 13:
            if (h = a.memoizedState,
            i === null || i.memoizedState !== null && i.memoizedState.dehydrated !== null) {
                if (x = Xi(a),
                h !== null && h.dehydrated !== null) {
                    if (i === null) {
                        if (!x)
                            throw Error(r(318));
                        if (x = a.memoizedState,
                        x = x !== null ? x.dehydrated : null,
                        !x)
                            throw Error(r(317));
                        x[_t] = a
                    } else
                        Ws(),
                        (a.flags & 128) === 0 && (a.memoizedState = null),
                        a.flags |= 4;
                    Xe(a),
                    x = !1
                } else
                    x = Kf(),
                    i !== null && i.memoizedState !== null && (i.memoizedState.hydrationErrors = x),
                    x = !0;
                if (!x)
                    return a.flags & 256 ? (gn(a),
                    a) : (gn(a),
                    null)
            }
            return gn(a),
            (a.flags & 128) !== 0 ? (a.lanes = c,
            a) : (c = h !== null,
            i = i !== null && i.memoizedState !== null,
            c && (h = a.child,
            x = null,
            h.alternate !== null && h.alternate.memoizedState !== null && h.alternate.memoizedState.cachePool !== null && (x = h.alternate.memoizedState.cachePool.pool),
            b = null,
            h.memoizedState !== null && h.memoizedState.cachePool !== null && (b = h.memoizedState.cachePool.pool),
            b !== x && (h.flags |= 2048)),
            c !== i && c && (a.child.flags |= 8192),
            ku(a, a.updateQueue),
            Xe(a),
            null);
        case 4:
            return at(),
            i === null && i0(a.stateNode.containerInfo),
            Xe(a),
            null;
        case 10:
            return Sr(a.type),
            Xe(a),
            null;
        case 19:
            if (K(ot),
            h = a.memoizedState,
            h === null)
                return Xe(a),
                null;
            if (x = (a.flags & 128) !== 0,
            b = h.rendering,
            b === null)
                if (x)
                    va(h, !1);
                else {
                    if (nt !== 0 || i !== null && (i.flags & 128) !== 0)
                        for (i = a.child; i !== null; ) {
                            if (b = pu(i),
                            b !== null) {
                                for (a.flags |= 128,
                                va(h, !1),
                                i = b.updateQueue,
                                a.updateQueue = i,
                                ku(a, i),
                                a.subtreeFlags = 0,
                                i = c,
                                c = a.child; c !== null; )
                                    j1(c, i),
                                    c = c.sibling;
                                return te(ot, ot.current & 1 | 2),
                                _e && wr(a, h.treeForkCount),
                                a.child
                            }
                            i = i.sibling
                        }
                    h.tail !== null && cn() > Mu && (a.flags |= 128,
                    x = !0,
                    va(h, !1),
                    a.lanes = 4194304)
                }
            else {
                if (!x)
                    if (i = pu(b),
                    i !== null) {
                        if (a.flags |= 128,
                        x = !0,
                        i = i.updateQueue,
                        a.updateQueue = i,
                        ku(a, i),
                        va(h, !0),
                        h.tail === null && h.tailMode === "hidden" && !b.alternate && !_e)
                            return Xe(a),
                            null
                    } else
                        2 * cn() - h.renderingStartTime > Mu && c !== 536870912 && (a.flags |= 128,
                        x = !0,
                        va(h, !1),
                        a.lanes = 4194304);
                h.isBackwards ? (b.sibling = a.child,
                a.child = b) : (i = h.last,
                i !== null ? i.sibling = b : a.child = b,
                h.last = b)
            }
            return h.tail !== null ? (i = h.tail,
            h.rendering = i,
            h.tail = i.sibling,
            h.renderingStartTime = cn(),
            i.sibling = null,
            c = ot.current,
            te(ot, x ? c & 1 | 2 : c & 1),
            _e && wr(a, h.treeForkCount),
            i) : (Xe(a),
            null);
        case 22:
        case 23:
            return gn(a),
            lh(),
            h = a.memoizedState !== null,
            i !== null ? i.memoizedState !== null !== h && (a.flags |= 8192) : h && (a.flags |= 8192),
            h ? (c & 536870912) !== 0 && (a.flags & 128) === 0 && (Xe(a),
            a.subtreeFlags & 6 && (a.flags |= 8192)) : Xe(a),
            c = a.updateQueue,
            c !== null && ku(a, c.retryQueue),
            c = null,
            i !== null && i.memoizedState !== null && i.memoizedState.cachePool !== null && (c = i.memoizedState.cachePool.pool),
            h = null,
            a.memoizedState !== null && a.memoizedState.cachePool !== null && (h = a.memoizedState.cachePool.pool),
            h !== c && (a.flags |= 2048),
            i !== null && K(ni),
            null;
        case 24:
            return c = null,
            i !== null && (c = i.memoizedState.cache),
            a.memoizedState.cache !== c && (a.flags |= 2048),
            Sr(dt),
            Xe(a),
            null;
        case 25:
            return null;
        case 30:
            return null
        }
        throw Error(r(156, a.tag))
    }
    function wC(i, a) {
        switch (Vf(a),
        a.tag) {
        case 1:
            return i = a.flags,
            i & 65536 ? (a.flags = i & -65537 | 128,
            a) : null;
        case 3:
            return Sr(dt),
            at(),
            i = a.flags,
            (i & 65536) !== 0 && (i & 128) === 0 ? (a.flags = i & -65537 | 128,
            a) : null;
        case 26:
        case 27:
        case 5:
            return Fo(a),
            null;
        case 31:
            if (a.memoizedState !== null) {
                if (gn(a),
                a.alternate === null)
                    throw Error(r(340));
                Ws()
            }
            return i = a.flags,
            i & 65536 ? (a.flags = i & -65537 | 128,
            a) : null;
        case 13:
            if (gn(a),
            i = a.memoizedState,
            i !== null && i.dehydrated !== null) {
                if (a.alternate === null)
                    throw Error(r(340));
                Ws()
            }
            return i = a.flags,
            i & 65536 ? (a.flags = i & -65537 | 128,
            a) : null;
        case 19:
            return K(ot),
            null;
        case 4:
            return at(),
            null;
        case 10:
            return Sr(a.type),
            null;
        case 22:
        case 23:
            return gn(a),
            lh(),
            i !== null && K(ni),
            i = a.flags,
            i & 65536 ? (a.flags = i & -65537 | 128,
            a) : null;
        case 24:
            return Sr(dt),
            null;
        case 25:
            return null;
        default:
            return null
        }
    }
    function Zx(i, a) {
        switch (Vf(a),
        a.tag) {
        case 3:
            Sr(dt),
            at();
            break;
        case 26:
        case 27:
        case 5:
            Fo(a);
            break;
        case 4:
            at();
            break;
        case 31:
            a.memoizedState !== null && gn(a);
            break;
        case 13:
            gn(a);
            break;
        case 19:
            K(ot);
            break;
        case 10:
            Sr(a.type);
            break;
        case 22:
        case 23:
            gn(a),
            lh(),
            i !== null && K(ni);
            break;
        case 24:
            Sr(dt)
        }
    }
    function Na(i, a) {
        try {
            var c = a.updateQueue
              , h = c !== null ? c.lastEffect : null;
            if (h !== null) {
                var x = h.next;
                c = x;
                do {
                    if ((c.tag & i) === i) {
                        h = void 0;
                        var b = c.create
                          , S = c.inst;
                        h = b(),
                        S.destroy = h
                    }
                    c = c.next
                } while (c !== x)
            }
        } catch (j) {
            He(a, a.return, j)
        }
    }
    function ls(i, a, c) {
        try {
            var h = a.updateQueue
              , x = h !== null ? h.lastEffect : null;
            if (x !== null) {
                var b = x.next;
                h = b;
                do {
                    if ((h.tag & i) === i) {
                        var S = h.inst
                          , j = S.destroy;
                        if (j !== void 0) {
                            S.destroy = void 0,
                            x = a;
                            var T = c
                              , F = j;
                            try {
                                F()
                            } catch (P) {
                                He(x, T, P)
                            }
                        }
                    }
                    h = h.next
                } while (h !== b)
            }
        } catch (P) {
            He(a, a.return, P)
        }
    }
    function Wx(i) {
        var a = i.updateQueue;
        if (a !== null) {
            var c = i.stateNode;
            try {
                $1(a, c)
            } catch (h) {
                He(i, i.return, h)
            }
        }
    }
    function eb(i, a, c) {
        c.props = ai(i.type, i.memoizedProps),
        c.state = i.memoizedState;
        try {
            c.componentWillUnmount()
        } catch (h) {
            He(i, a, h)
        }
    }
    function wa(i, a) {
        try {
            var c = i.ref;
            if (c !== null) {
                switch (i.tag) {
                case 26:
                case 27:
                case 5:
                    var h = i.stateNode;
                    break;
                case 30:
                    h = i.stateNode;
                    break;
                default:
                    h = i.stateNode
                }
                typeof c == "function" ? i.refCleanup = c(h) : c.current = h
            }
        } catch (x) {
            He(i, a, x)
        }
    }
    function tr(i, a) {
        var c = i.ref
          , h = i.refCleanup;
        if (c !== null)
            if (typeof h == "function")
                try {
                    h()
                } catch (x) {
                    He(i, a, x)
                } finally {
                    i.refCleanup = null,
                    i = i.alternate,
                    i != null && (i.refCleanup = null)
                }
            else if (typeof c == "function")
                try {
                    c(null)
                } catch (x) {
                    He(i, a, x)
                }
            else
                c.current = null
    }
    function tb(i) {
        var a = i.type
          , c = i.memoizedProps
          , h = i.stateNode;
        try {
            e: switch (a) {
            case "button":
            case "input":
            case "select":
            case "textarea":
                c.autoFocus && h.focus();
                break e;
            case "img":
                c.src ? h.src = c.src : c.srcSet && (h.srcset = c.srcSet)
            }
        } catch (x) {
            He(i, i.return, x)
        }
    }
    function Fh(i, a, c) {
        try {
            var h = i.stateNode;
            PC(h, i.type, c, a),
            h[Qt] = a
        } catch (x) {
            He(i, i.return, x)
        }
    }
    function nb(i) {
        return i.tag === 5 || i.tag === 3 || i.tag === 26 || i.tag === 27 && ps(i.type) || i.tag === 4
    }
    function Hh(i) {
        e: for (; ; ) {
            for (; i.sibling === null; ) {
                if (i.return === null || nb(i.return))
                    return null;
                i = i.return
            }
            for (i.sibling.return = i.return,
            i = i.sibling; i.tag !== 5 && i.tag !== 6 && i.tag !== 18; ) {
                if (i.tag === 27 && ps(i.type) || i.flags & 2 || i.child === null || i.tag === 4)
                    continue e;
                i.child.return = i,
                i = i.child
            }
            if (!(i.flags & 2))
                return i.stateNode
        }
    }
    function Uh(i, a, c) {
        var h = i.tag;
        if (h === 5 || h === 6)
            i = i.stateNode,
            a ? (c.nodeType === 9 ? c.body : c.nodeName === "HTML" ? c.ownerDocument.body : c).insertBefore(i, a) : (a = c.nodeType === 9 ? c.body : c.nodeName === "HTML" ? c.ownerDocument.body : c,
            a.appendChild(i),
            c = c._reactRootContainer,
            c != null || a.onclick !== null || (a.onclick = yr));
        else if (h !== 4 && (h === 27 && ps(i.type) && (c = i.stateNode,
        a = null),
        i = i.child,
        i !== null))
            for (Uh(i, a, c),
            i = i.sibling; i !== null; )
                Uh(i, a, c),
                i = i.sibling
    }
    function Au(i, a, c) {
        var h = i.tag;
        if (h === 5 || h === 6)
            i = i.stateNode,
            a ? c.insertBefore(i, a) : c.appendChild(i);
        else if (h !== 4 && (h === 27 && ps(i.type) && (c = i.stateNode),
        i = i.child,
        i !== null))
            for (Au(i, a, c),
            i = i.sibling; i !== null; )
                Au(i, a, c),
                i = i.sibling
    }
    function rb(i) {
        var a = i.stateNode
          , c = i.memoizedProps;
        try {
            for (var h = i.type, x = a.attributes; x.length; )
                a.removeAttributeNode(x[0]);
            Ot(a, h, c),
            a[_t] = i,
            a[Qt] = c
        } catch (b) {
            He(i, i.return, b)
        }
    }
    var _r = !1
      , pt = !1
      , qh = !1
      , sb = typeof WeakSet == "function" ? WeakSet : Set
      , Nt = null;
    function CC(i, a) {
        if (i = i.containerInfo,
        o0 = Ju,
        i = g1(i),
        Rf(i)) {
            if ("selectionStart"in i)
                var c = {
                    start: i.selectionStart,
                    end: i.selectionEnd
                };
            else
                e: {
                    c = (c = i.ownerDocument) && c.defaultView || window;
                    var h = c.getSelection && c.getSelection();
                    if (h && h.rangeCount !== 0) {
                        c = h.anchorNode;
                        var x = h.anchorOffset
                          , b = h.focusNode;
                        h = h.focusOffset;
                        try {
                            c.nodeType,
                            b.nodeType
                        } catch {
                            c = null;
                            break e
                        }
                        var S = 0
                          , j = -1
                          , T = -1
                          , F = 0
                          , P = 0
                          , J = i
                          , H = null;
                        t: for (; ; ) {
                            for (var I; J !== c || x !== 0 && J.nodeType !== 3 || (j = S + x),
                            J !== b || h !== 0 && J.nodeType !== 3 || (T = S + h),
                            J.nodeType === 3 && (S += J.nodeValue.length),
                            (I = J.firstChild) !== null; )
                                H = J,
                                J = I;
                            for (; ; ) {
                                if (J === i)
                                    break t;
                                if (H === c && ++F === x && (j = S),
                                H === b && ++P === h && (T = S),
                                (I = J.nextSibling) !== null)
                                    break;
                                J = H,
                                H = J.parentNode
                            }
                            J = I
                        }
                        c = j === -1 || T === -1 ? null : {
                            start: j,
                            end: T
                        }
                    } else
                        c = null
                }
            c = c || {
                start: 0,
                end: 0
            }
        } else
            c = null;
        for (u0 = {
            focusedElem: i,
            selectionRange: c
        },
        Ju = !1,
        Nt = a; Nt !== null; )
            if (a = Nt,
            i = a.child,
            (a.subtreeFlags & 1028) !== 0 && i !== null)
                i.return = a,
                Nt = i;
            else
                for (; Nt !== null; ) {
                    switch (a = Nt,
                    b = a.alternate,
                    i = a.flags,
                    a.tag) {
                    case 0:
                        if ((i & 4) !== 0 && (i = a.updateQueue,
                        i = i !== null ? i.events : null,
                        i !== null))
                            for (c = 0; c < i.length; c++)
                                x = i[c],
                                x.ref.impl = x.nextImpl;
                        break;
                    case 11:
                    case 15:
                        break;
                    case 1:
                        if ((i & 1024) !== 0 && b !== null) {
                            i = void 0,
                            c = a,
                            x = b.memoizedProps,
                            b = b.memoizedState,
                            h = c.stateNode;
                            try {
                                var re = ai(c.type, x);
                                i = h.getSnapshotBeforeUpdate(re, b),
                                h.__reactInternalSnapshotBeforeUpdate = i
                            } catch (de) {
                                He(c, c.return, de)
                            }
                        }
                        break;
                    case 3:
                        if ((i & 1024) !== 0) {
                            if (i = a.stateNode.containerInfo,
                            c = i.nodeType,
                            c === 9)
                                f0(i);
                            else if (c === 1)
                                switch (i.nodeName) {
                                case "HEAD":
                                case "HTML":
                                case "BODY":
                                    f0(i);
                                    break;
                                default:
                                    i.textContent = ""
                                }
                        }
                        break;
                    case 5:
                    case 26:
                    case 27:
                    case 6:
                    case 4:
                    case 17:
                        break;
                    default:
                        if ((i & 1024) !== 0)
                            throw Error(r(163))
                    }
                    if (i = a.sibling,
                    i !== null) {
                        i.return = a.return,
                        Nt = i;
                        break
                    }
                    Nt = a.return
                }
    }
    function ib(i, a, c) {
        var h = c.flags;
        switch (c.tag) {
        case 0:
        case 11:
        case 15:
            Dr(i, c),
            h & 4 && Na(5, c);
            break;
        case 1:
            if (Dr(i, c),
            h & 4)
                if (i = c.stateNode,
                a === null)
                    try {
                        i.componentDidMount()
                    } catch (S) {
                        He(c, c.return, S)
                    }
                else {
                    var x = ai(c.type, a.memoizedProps);
                    a = a.memoizedState;
                    try {
                        i.componentDidUpdate(x, a, i.__reactInternalSnapshotBeforeUpdate)
                    } catch (S) {
                        He(c, c.return, S)
                    }
                }
            h & 64 && Wx(c),
            h & 512 && wa(c, c.return);
            break;
        case 3:
            if (Dr(i, c),
            h & 64 && (i = c.updateQueue,
            i !== null)) {
                if (a = null,
                c.child !== null)
                    switch (c.child.tag) {
                    case 27:
                    case 5:
                        a = c.child.stateNode;
                        break;
                    case 1:
                        a = c.child.stateNode
                    }
                try {
                    $1(i, a)
                } catch (S) {
                    He(c, c.return, S)
                }
            }
            break;
        case 27:
            a === null && h & 4 && rb(c);
        case 26:
        case 5:
            Dr(i, c),
            a === null && h & 4 && tb(c),
            h & 512 && wa(c, c.return);
            break;
        case 12:
            Dr(i, c);
            break;
        case 31:
            Dr(i, c),
            h & 4 && ob(i, c);
            break;
        case 13:
            Dr(i, c),
            h & 4 && ub(i, c),
            h & 64 && (i = c.memoizedState,
            i !== null && (i = i.dehydrated,
            i !== null && (c = MC.bind(null, c),
            ZC(i, c))));
            break;
        case 22:
            if (h = c.memoizedState !== null || _r,
            !h) {
                a = a !== null && a.memoizedState !== null || pt,
                x = _r;
                var b = pt;
                _r = h,
                (pt = a) && !b ? Mr(i, c, (c.subtreeFlags & 8772) !== 0) : Dr(i, c),
                _r = x,
                pt = b
            }
            break;
        case 30:
            break;
        default:
            Dr(i, c)
        }
    }
    function lb(i) {
        var a = i.alternate;
        a !== null && (i.alternate = null,
        lb(a)),
        i.child = null,
        i.deletions = null,
        i.sibling = null,
        i.tag === 5 && (a = i.stateNode,
        a !== null && xf(a)),
        i.stateNode = null,
        i.return = null,
        i.dependencies = null,
        i.memoizedProps = null,
        i.memoizedState = null,
        i.pendingProps = null,
        i.stateNode = null,
        i.updateQueue = null
    }
    var Ze = null
      , Wt = !1;
    function Tr(i, a, c) {
        for (c = c.child; c !== null; )
            ab(i, a, c),
            c = c.sibling
    }
    function ab(i, a, c) {
        if (dn && typeof dn.onCommitFiberUnmount == "function")
            try {
                dn.onCommitFiberUnmount(Gl, c)
            } catch {}
        switch (c.tag) {
        case 26:
            pt || tr(c, a),
            Tr(i, a, c),
            c.memoizedState ? c.memoizedState.count-- : c.stateNode && (c = c.stateNode,
            c.parentNode.removeChild(c));
            break;
        case 27:
            pt || tr(c, a);
            var h = Ze
              , x = Wt;
            ps(c.type) && (Ze = c.stateNode,
            Wt = !1),
            Tr(i, a, c),
            Da(c.stateNode),
            Ze = h,
            Wt = x;
            break;
        case 5:
            pt || tr(c, a);
        case 6:
            if (h = Ze,
            x = Wt,
            Ze = null,
            Tr(i, a, c),
            Ze = h,
            Wt = x,
            Ze !== null)
                if (Wt)
                    try {
                        (Ze.nodeType === 9 ? Ze.body : Ze.nodeName === "HTML" ? Ze.ownerDocument.body : Ze).removeChild(c.stateNode)
                    } catch (b) {
                        He(c, a, b)
                    }
                else
                    try {
                        Ze.removeChild(c.stateNode)
                    } catch (b) {
                        He(c, a, b)
                    }
            break;
        case 18:
            Ze !== null && (Wt ? (i = Ze,
            Wb(i.nodeType === 9 ? i.body : i.nodeName === "HTML" ? i.ownerDocument.body : i, c.stateNode),
            xl(i)) : Wb(Ze, c.stateNode));
            break;
        case 4:
            h = Ze,
            x = Wt,
            Ze = c.stateNode.containerInfo,
            Wt = !0,
            Tr(i, a, c),
            Ze = h,
            Wt = x;
            break;
        case 0:
        case 11:
        case 14:
        case 15:
            ls(2, c, a),
            pt || ls(4, c, a),
            Tr(i, a, c);
            break;
        case 1:
            pt || (tr(c, a),
            h = c.stateNode,
            typeof h.componentWillUnmount == "function" && eb(c, a, h)),
            Tr(i, a, c);
            break;
        case 21:
            Tr(i, a, c);
            break;
        case 22:
            pt = (h = pt) || c.memoizedState !== null,
            Tr(i, a, c),
            pt = h;
            break;
        default:
            Tr(i, a, c)
        }
    }
    function ob(i, a) {
        if (a.memoizedState === null && (i = a.alternate,
        i !== null && (i = i.memoizedState,
        i !== null))) {
            i = i.dehydrated;
            try {
                xl(i)
            } catch (c) {
                He(a, a.return, c)
            }
        }
    }
    function ub(i, a) {
        if (a.memoizedState === null && (i = a.alternate,
        i !== null && (i = i.memoizedState,
        i !== null && (i = i.dehydrated,
        i !== null))))
            try {
                xl(i)
            } catch (c) {
                He(a, a.return, c)
            }
    }
    function SC(i) {
        switch (i.tag) {
        case 31:
        case 13:
        case 19:
            var a = i.stateNode;
            return a === null && (a = i.stateNode = new sb),
            a;
        case 22:
            return i = i.stateNode,
            a = i._retryCache,
            a === null && (a = i._retryCache = new sb),
            a;
        default:
            throw Error(r(435, i.tag))
        }
    }
    function _u(i, a) {
        var c = SC(i);
        a.forEach(function(h) {
            if (!c.has(h)) {
                c.add(h);
                var x = OC.bind(null, i, h);
                h.then(x, x)
            }
        })
    }
    function en(i, a) {
        var c = a.deletions;
        if (c !== null)
            for (var h = 0; h < c.length; h++) {
                var x = c[h]
                  , b = i
                  , S = a
                  , j = S;
                e: for (; j !== null; ) {
                    switch (j.tag) {
                    case 27:
                        if (ps(j.type)) {
                            Ze = j.stateNode,
                            Wt = !1;
                            break e
                        }
                        break;
                    case 5:
                        Ze = j.stateNode,
                        Wt = !1;
                        break e;
                    case 3:
                    case 4:
                        Ze = j.stateNode.containerInfo,
                        Wt = !0;
                        break e
                    }
                    j = j.return
                }
                if (Ze === null)
                    throw Error(r(160));
                ab(b, S, x),
                Ze = null,
                Wt = !1,
                b = x.alternate,
                b !== null && (b.return = null),
                x.return = null
            }
        if (a.subtreeFlags & 13886)
            for (a = a.child; a !== null; )
                cb(a, i),
                a = a.sibling
    }
    var Vn = null;
    function cb(i, a) {
        var c = i.alternate
          , h = i.flags;
        switch (i.tag) {
        case 0:
        case 11:
        case 14:
        case 15:
            en(a, i),
            tn(i),
            h & 4 && (ls(3, i, i.return),
            Na(3, i),
            ls(5, i, i.return));
            break;
        case 1:
            en(a, i),
            tn(i),
            h & 512 && (pt || c === null || tr(c, c.return)),
            h & 64 && _r && (i = i.updateQueue,
            i !== null && (h = i.callbacks,
            h !== null && (c = i.shared.hiddenCallbacks,
            i.shared.hiddenCallbacks = c === null ? h : c.concat(h))));
            break;
        case 26:
            var x = Vn;
            if (en(a, i),
            tn(i),
            h & 512 && (pt || c === null || tr(c, c.return)),
            h & 4) {
                var b = c !== null ? c.memoizedState : null;
                if (h = i.memoizedState,
                c === null)
                    if (h === null)
                        if (i.stateNode === null) {
                            e: {
                                h = i.type,
                                c = i.memoizedProps,
                                x = x.ownerDocument || x;
                                t: switch (h) {
                                case "title":
                                    b = x.getElementsByTagName("title")[0],
                                    (!b || b[Jl] || b[_t] || b.namespaceURI === "http://www.w3.org/2000/svg" || b.hasAttribute("itemprop")) && (b = x.createElement(h),
                                    x.head.insertBefore(b, x.querySelector("head > title"))),
                                    Ot(b, h, c),
                                    b[_t] = i,
                                    vt(b),
                                    h = b;
                                    break e;
                                case "link":
                                    var S = cy("link", "href", x).get(h + (c.href || ""));
                                    if (S) {
                                        for (var j = 0; j < S.length; j++)
                                            if (b = S[j],
                                            b.getAttribute("href") === (c.href == null || c.href === "" ? null : c.href) && b.getAttribute("rel") === (c.rel == null ? null : c.rel) && b.getAttribute("title") === (c.title == null ? null : c.title) && b.getAttribute("crossorigin") === (c.crossOrigin == null ? null : c.crossOrigin)) {
                                                S.splice(j, 1);
                                                break t
                                            }
                                    }
                                    b = x.createElement(h),
                                    Ot(b, h, c),
                                    x.head.appendChild(b);
                                    break;
                                case "meta":
                                    if (S = cy("meta", "content", x).get(h + (c.content || ""))) {
                                        for (j = 0; j < S.length; j++)
                                            if (b = S[j],
                                            b.getAttribute("content") === (c.content == null ? null : "" + c.content) && b.getAttribute("name") === (c.name == null ? null : c.name) && b.getAttribute("property") === (c.property == null ? null : c.property) && b.getAttribute("http-equiv") === (c.httpEquiv == null ? null : c.httpEquiv) && b.getAttribute("charset") === (c.charSet == null ? null : c.charSet)) {
                                                S.splice(j, 1);
                                                break t
                                            }
                                    }
                                    b = x.createElement(h),
                                    Ot(b, h, c),
                                    x.head.appendChild(b);
                                    break;
                                default:
                                    throw Error(r(468, h))
                                }
                                b[_t] = i,
                                vt(b),
                                h = b
                            }
                            i.stateNode = h
                        } else
                            dy(x, i.type, i.stateNode);
                    else
                        i.stateNode = uy(x, h, i.memoizedProps);
                else
                    b !== h ? (b === null ? c.stateNode !== null && (c = c.stateNode,
                    c.parentNode.removeChild(c)) : b.count--,
                    h === null ? dy(x, i.type, i.stateNode) : uy(x, h, i.memoizedProps)) : h === null && i.stateNode !== null && Fh(i, i.memoizedProps, c.memoizedProps)
            }
            break;
        case 27:
            en(a, i),
            tn(i),
            h & 512 && (pt || c === null || tr(c, c.return)),
            c !== null && h & 4 && Fh(i, i.memoizedProps, c.memoizedProps);
            break;
        case 5:
            if (en(a, i),
            tn(i),
            h & 512 && (pt || c === null || tr(c, c.return)),
            i.flags & 32) {
                x = i.stateNode;
                try {
                    Ui(x, "")
                } catch (re) {
                    He(i, i.return, re)
                }
            }
            h & 4 && i.stateNode != null && (x = i.memoizedProps,
            Fh(i, x, c !== null ? c.memoizedProps : x)),
            h & 1024 && (qh = !0);
            break;
        case 6:
            if (en(a, i),
            tn(i),
            h & 4) {
                if (i.stateNode === null)
                    throw Error(r(162));
                h = i.memoizedProps,
                c = i.stateNode;
                try {
                    c.nodeValue = h
                } catch (re) {
                    He(i, i.return, re)
                }
            }
            break;
        case 3:
            if (Vu = null,
            x = Vn,
            Vn = $u(a.containerInfo),
            en(a, i),
            Vn = x,
            tn(i),
            h & 4 && c !== null && c.memoizedState.isDehydrated)
                try {
                    xl(a.containerInfo)
                } catch (re) {
                    He(i, i.return, re)
                }
            qh && (qh = !1,
            db(i));
            break;
        case 4:
            h = Vn,
            Vn = $u(i.stateNode.containerInfo),
            en(a, i),
            tn(i),
            Vn = h;
            break;
        case 12:
            en(a, i),
            tn(i);
            break;
        case 31:
            en(a, i),
            tn(i),
            h & 4 && (h = i.updateQueue,
            h !== null && (i.updateQueue = null,
            _u(i, h)));
            break;
        case 13:
            en(a, i),
            tn(i),
            i.child.flags & 8192 && i.memoizedState !== null != (c !== null && c.memoizedState !== null) && (Du = cn()),
            h & 4 && (h = i.updateQueue,
            h !== null && (i.updateQueue = null,
            _u(i, h)));
            break;
        case 22:
            x = i.memoizedState !== null;
            var T = c !== null && c.memoizedState !== null
              , F = _r
              , P = pt;
            if (_r = F || x,
            pt = P || T,
            en(a, i),
            pt = P,
            _r = F,
            tn(i),
            h & 8192)
                e: for (a = i.stateNode,
                a._visibility = x ? a._visibility & -2 : a._visibility | 1,
                x && (c === null || T || _r || pt || oi(i)),
                c = null,
                a = i; ; ) {
                    if (a.tag === 5 || a.tag === 26) {
                        if (c === null) {
                            T = c = a;
                            try {
                                if (b = T.stateNode,
                                x)
                                    S = b.style,
                                    typeof S.setProperty == "function" ? S.setProperty("display", "none", "important") : S.display = "none";
                                else {
                                    j = T.stateNode;
                                    var J = T.memoizedProps.style
                                      , H = J != null && J.hasOwnProperty("display") ? J.display : null;
                                    j.style.display = H == null || typeof H == "boolean" ? "" : ("" + H).trim()
                                }
                            } catch (re) {
                                He(T, T.return, re)
                            }
                        }
                    } else if (a.tag === 6) {
                        if (c === null) {
                            T = a;
                            try {
                                T.stateNode.nodeValue = x ? "" : T.memoizedProps
                            } catch (re) {
                                He(T, T.return, re)
                            }
                        }
                    } else if (a.tag === 18) {
                        if (c === null) {
                            T = a;
                            try {
                                var I = T.stateNode;
                                x ? ey(I, !0) : ey(T.stateNode, !1)
                            } catch (re) {
                                He(T, T.return, re)
                            }
                        }
                    } else if ((a.tag !== 22 && a.tag !== 23 || a.memoizedState === null || a === i) && a.child !== null) {
                        a.child.return = a,
                        a = a.child;
                        continue
                    }
                    if (a === i)
                        break e;
                    for (; a.sibling === null; ) {
                        if (a.return === null || a.return === i)
                            break e;
                        c === a && (c = null),
                        a = a.return
                    }
                    c === a && (c = null),
                    a.sibling.return = a.return,
                    a = a.sibling
                }
            h & 4 && (h = i.updateQueue,
            h !== null && (c = h.retryQueue,
            c !== null && (h.retryQueue = null,
            _u(i, c))));
            break;
        case 19:
            en(a, i),
            tn(i),
            h & 4 && (h = i.updateQueue,
            h !== null && (i.updateQueue = null,
            _u(i, h)));
            break;
        case 30:
            break;
        case 21:
            break;
        default:
            en(a, i),
            tn(i)
        }
    }
    function tn(i) {
        var a = i.flags;
        if (a & 2) {
            try {
                for (var c, h = i.return; h !== null; ) {
                    if (nb(h)) {
                        c = h;
                        break
                    }
                    h = h.return
                }
                if (c == null)
                    throw Error(r(160));
                switch (c.tag) {
                case 27:
                    var x = c.stateNode
                      , b = Hh(i);
                    Au(i, b, x);
                    break;
                case 5:
                    var S = c.stateNode;
                    c.flags & 32 && (Ui(S, ""),
                    c.flags &= -33);
                    var j = Hh(i);
                    Au(i, j, S);
                    break;
                case 3:
                case 4:
                    var T = c.stateNode.containerInfo
                      , F = Hh(i);
                    Uh(i, F, T);
                    break;
                default:
                    throw Error(r(161))
                }
            } catch (P) {
                He(i, i.return, P)
            }
            i.flags &= -3
        }
        a & 4096 && (i.flags &= -4097)
    }
    function db(i) {
        if (i.subtreeFlags & 1024)
            for (i = i.child; i !== null; ) {
                var a = i;
                db(a),
                a.tag === 5 && a.flags & 1024 && a.stateNode.reset(),
                i = i.sibling
            }
    }
    function Dr(i, a) {
        if (a.subtreeFlags & 8772)
            for (a = a.child; a !== null; )
                ib(i, a.alternate, a),
                a = a.sibling
    }
    function oi(i) {
        for (i = i.child; i !== null; ) {
            var a = i;
            switch (a.tag) {
            case 0:
            case 11:
            case 14:
            case 15:
                ls(4, a, a.return),
                oi(a);
                break;
            case 1:
                tr(a, a.return);
                var c = a.stateNode;
                typeof c.componentWillUnmount == "function" && eb(a, a.return, c),
                oi(a);
                break;
            case 27:
                Da(a.stateNode);
            case 26:
            case 5:
                tr(a, a.return),
                oi(a);
                break;
            case 22:
                a.memoizedState === null && oi(a);
                break;
            case 30:
                oi(a);
                break;
            default:
                oi(a)
            }
            i = i.sibling
        }
    }
    function Mr(i, a, c) {
        for (c = c && (a.subtreeFlags & 8772) !== 0,
        a = a.child; a !== null; ) {
            var h = a.alternate
              , x = i
              , b = a
              , S = b.flags;
            switch (b.tag) {
            case 0:
            case 11:
            case 15:
                Mr(x, b, c),
                Na(4, b);
                break;
            case 1:
                if (Mr(x, b, c),
                h = b,
                x = h.stateNode,
                typeof x.componentDidMount == "function")
                    try {
                        x.componentDidMount()
                    } catch (F) {
                        He(h, h.return, F)
                    }
                if (h = b,
                x = h.updateQueue,
                x !== null) {
                    var j = h.stateNode;
                    try {
                        var T = x.shared.hiddenCallbacks;
                        if (T !== null)
                            for (x.shared.hiddenCallbacks = null,
                            x = 0; x < T.length; x++)
                                I1(T[x], j)
                    } catch (F) {
                        He(h, h.return, F)
                    }
                }
                c && S & 64 && Wx(b),
                wa(b, b.return);
                break;
            case 27:
                rb(b);
            case 26:
            case 5:
                Mr(x, b, c),
                c && h === null && S & 4 && tb(b),
                wa(b, b.return);
                break;
            case 12:
                Mr(x, b, c);
                break;
            case 31:
                Mr(x, b, c),
                c && S & 4 && ob(x, b);
                break;
            case 13:
                Mr(x, b, c),
                c && S & 4 && ub(x, b);
                break;
            case 22:
                b.memoizedState === null && Mr(x, b, c),
                wa(b, b.return);
                break;
            case 30:
                break;
            default:
                Mr(x, b, c)
            }
            a = a.sibling
        }
    }
    function Ih(i, a) {
        var c = null;
        i !== null && i.memoizedState !== null && i.memoizedState.cachePool !== null && (c = i.memoizedState.cachePool.pool),
        i = null,
        a.memoizedState !== null && a.memoizedState.cachePool !== null && (i = a.memoizedState.cachePool.pool),
        i !== c && (i != null && i.refCount++,
        c != null && oa(c))
    }
    function $h(i, a) {
        i = null,
        a.alternate !== null && (i = a.alternate.memoizedState.cache),
        a = a.memoizedState.cache,
        a !== i && (a.refCount++,
        i != null && oa(i))
    }
    function Gn(i, a, c, h) {
        if (a.subtreeFlags & 10256)
            for (a = a.child; a !== null; )
                fb(i, a, c, h),
                a = a.sibling
    }
    function fb(i, a, c, h) {
        var x = a.flags;
        switch (a.tag) {
        case 0:
        case 11:
        case 15:
            Gn(i, a, c, h),
            x & 2048 && Na(9, a);
            break;
        case 1:
            Gn(i, a, c, h);
            break;
        case 3:
            Gn(i, a, c, h),
            x & 2048 && (i = null,
            a.alternate !== null && (i = a.alternate.memoizedState.cache),
            a = a.memoizedState.cache,
            a !== i && (a.refCount++,
            i != null && oa(i)));
            break;
        case 12:
            if (x & 2048) {
                Gn(i, a, c, h),
                i = a.stateNode;
                try {
                    var b = a.memoizedProps
                      , S = b.id
                      , j = b.onPostCommit;
                    typeof j == "function" && j(S, a.alternate === null ? "mount" : "update", i.passiveEffectDuration, -0)
                } catch (T) {
                    He(a, a.return, T)
                }
            } else
                Gn(i, a, c, h);
            break;
        case 31:
            Gn(i, a, c, h);
            break;
        case 13:
            Gn(i, a, c, h);
            break;
        case 23:
            break;
        case 22:
            b = a.stateNode,
            S = a.alternate,
            a.memoizedState !== null ? b._visibility & 2 ? Gn(i, a, c, h) : Ca(i, a) : b._visibility & 2 ? Gn(i, a, c, h) : (b._visibility |= 2,
            ll(i, a, c, h, (a.subtreeFlags & 10256) !== 0 || !1)),
            x & 2048 && Ih(S, a);
            break;
        case 24:
            Gn(i, a, c, h),
            x & 2048 && $h(a.alternate, a);
            break;
        default:
            Gn(i, a, c, h)
        }
    }
    function ll(i, a, c, h, x) {
        for (x = x && ((a.subtreeFlags & 10256) !== 0 || !1),
        a = a.child; a !== null; ) {
            var b = i
              , S = a
              , j = c
              , T = h
              , F = S.flags;
            switch (S.tag) {
            case 0:
            case 11:
            case 15:
                ll(b, S, j, T, x),
                Na(8, S);
                break;
            case 23:
                break;
            case 22:
                var P = S.stateNode;
                S.memoizedState !== null ? P._visibility & 2 ? ll(b, S, j, T, x) : Ca(b, S) : (P._visibility |= 2,
                ll(b, S, j, T, x)),
                x && F & 2048 && Ih(S.alternate, S);
                break;
            case 24:
                ll(b, S, j, T, x),
                x && F & 2048 && $h(S.alternate, S);
                break;
            default:
                ll(b, S, j, T, x)
            }
            a = a.sibling
        }
    }
    function Ca(i, a) {
        if (a.subtreeFlags & 10256)
            for (a = a.child; a !== null; ) {
                var c = i
                  , h = a
                  , x = h.flags;
                switch (h.tag) {
                case 22:
                    Ca(c, h),
                    x & 2048 && Ih(h.alternate, h);
                    break;
                case 24:
                    Ca(c, h),
                    x & 2048 && $h(h.alternate, h);
                    break;
                default:
                    Ca(c, h)
                }
                a = a.sibling
            }
    }
    var Sa = 8192;
    function al(i, a, c) {
        if (i.subtreeFlags & Sa)
            for (i = i.child; i !== null; )
                hb(i, a, c),
                i = i.sibling
    }
    function hb(i, a, c) {
        switch (i.tag) {
        case 26:
            al(i, a, c),
            i.flags & Sa && i.memoizedState !== null && cS(c, Vn, i.memoizedState, i.memoizedProps);
            break;
        case 5:
            al(i, a, c);
            break;
        case 3:
        case 4:
            var h = Vn;
            Vn = $u(i.stateNode.containerInfo),
            al(i, a, c),
            Vn = h;
            break;
        case 22:
            i.memoizedState === null && (h = i.alternate,
            h !== null && h.memoizedState !== null ? (h = Sa,
            Sa = 16777216,
            al(i, a, c),
            Sa = h) : al(i, a, c));
            break;
        default:
            al(i, a, c)
        }
    }
    function pb(i) {
        var a = i.alternate;
        if (a !== null && (i = a.child,
        i !== null)) {
            a.child = null;
            do
                a = i.sibling,
                i.sibling = null,
                i = a;
            while (i !== null)
        }
    }
    function ja(i) {
        var a = i.deletions;
        if ((i.flags & 16) !== 0) {
            if (a !== null)
                for (var c = 0; c < a.length; c++) {
                    var h = a[c];
                    Nt = h,
                    gb(h, i)
                }
            pb(i)
        }
        if (i.subtreeFlags & 10256)
            for (i = i.child; i !== null; )
                mb(i),
                i = i.sibling
    }
    function mb(i) {
        switch (i.tag) {
        case 0:
        case 11:
        case 15:
            ja(i),
            i.flags & 2048 && ls(9, i, i.return);
            break;
        case 3:
            ja(i);
            break;
        case 12:
            ja(i);
            break;
        case 22:
            var a = i.stateNode;
            i.memoizedState !== null && a._visibility & 2 && (i.return === null || i.return.tag !== 13) ? (a._visibility &= -3,
            Tu(i)) : ja(i);
            break;
        default:
            ja(i)
        }
    }
    function Tu(i) {
        var a = i.deletions;
        if ((i.flags & 16) !== 0) {
            if (a !== null)
                for (var c = 0; c < a.length; c++) {
                    var h = a[c];
                    Nt = h,
                    gb(h, i)
                }
            pb(i)
        }
        for (i = i.child; i !== null; ) {
            switch (a = i,
            a.tag) {
            case 0:
            case 11:
            case 15:
                ls(8, a, a.return),
                Tu(a);
                break;
            case 22:
                c = a.stateNode,
                c._visibility & 2 && (c._visibility &= -3,
                Tu(a));
                break;
            default:
                Tu(a)
            }
            i = i.sibling
        }
    }
    function gb(i, a) {
        for (; Nt !== null; ) {
            var c = Nt;
            switch (c.tag) {
            case 0:
            case 11:
            case 15:
                ls(8, c, a);
                break;
            case 23:
            case 22:
                if (c.memoizedState !== null && c.memoizedState.cachePool !== null) {
                    var h = c.memoizedState.cachePool.pool;
                    h != null && h.refCount++
                }
                break;
            case 24:
                oa(c.memoizedState.cache)
            }
            if (h = c.child,
            h !== null)
                h.return = c,
                Nt = h;
            else
                e: for (c = i; Nt !== null; ) {
                    h = Nt;
                    var x = h.sibling
                      , b = h.return;
                    if (lb(h),
                    h === c) {
                        Nt = null;
                        break e
                    }
                    if (x !== null) {
                        x.return = b,
                        Nt = x;
                        break e
                    }
                    Nt = b
                }
        }
    }
    var jC = {
        getCacheForType: function(i) {
            var a = Dt(dt)
              , c = a.data.get(i);
            return c === void 0 && (c = i(),
            a.data.set(i, c)),
            c
        },
        cacheSignal: function() {
            return Dt(dt).controller.signal
        }
    }
      , EC = typeof WeakMap == "function" ? WeakMap : Map
      , Re = 0
      , Pe = null
      , je = null
      , ke = 0
      , Fe = 0
      , xn = null
      , as = !1
      , ol = !1
      , Ph = !1
      , Or = 0
      , nt = 0
      , us = 0
      , ui = 0
      , Vh = 0
      , bn = 0
      , ul = 0
      , Ea = null
      , nn = null
      , Gh = !1
      , Du = 0
      , xb = 0
      , Mu = 1 / 0
      , Ou = null
      , cs = null
      , gt = 0
      , ds = null
      , cl = null
      , Rr = 0
      , Kh = 0
      , Yh = null
      , bb = null
      , ka = 0
      , Jh = null;
    function yn() {
        return (Re & 2) !== 0 && ke !== 0 ? ke & -ke : q.T !== null ? t0() : Rg()
    }
    function yb() {
        if (bn === 0)
            if ((ke & 536870912) === 0 || _e) {
                var i = qo;
                qo <<= 1,
                (qo & 3932160) === 0 && (qo = 262144),
                bn = i
            } else
                bn = 536870912;
        return i = mn.current,
        i !== null && (i.flags |= 32),
        bn
    }
    function rn(i, a, c) {
        (i === Pe && (Fe === 2 || Fe === 9) || i.cancelPendingCommit !== null) && (dl(i, 0),
        fs(i, ke, bn, !1)),
        Yl(i, c),
        ((Re & 2) === 0 || i !== Pe) && (i === Pe && ((Re & 2) === 0 && (ui |= c),
        nt === 4 && fs(i, ke, bn, !1)),
        nr(i))
    }
    function vb(i, a, c) {
        if ((Re & 6) !== 0)
            throw Error(r(327));
        var h = !c && (a & 127) === 0 && (a & i.expiredLanes) === 0 || Kl(i, a)
          , x = h ? _C(i, a) : Qh(i, a, !0)
          , b = h;
        do {
            if (x === 0) {
                ol && !h && fs(i, a, 0, !1);
                break
            } else {
                if (c = i.current.alternate,
                b && !kC(c)) {
                    x = Qh(i, a, !1),
                    b = !1;
                    continue
                }
                if (x === 2) {
                    if (b = a,
                    i.errorRecoveryDisabledLanes & b)
                        var S = 0;
                    else
                        S = i.pendingLanes & -536870913,
                        S = S !== 0 ? S : S & 536870912 ? 536870912 : 0;
                    if (S !== 0) {
                        a = S;
                        e: {
                            var j = i;
                            x = Ea;
                            var T = j.current.memoizedState.isDehydrated;
                            if (T && (dl(j, S).flags |= 256),
                            S = Qh(j, S, !1),
                            S !== 2) {
                                if (Ph && !T) {
                                    j.errorRecoveryDisabledLanes |= b,
                                    ui |= b,
                                    x = 4;
                                    break e
                                }
                                b = nn,
                                nn = x,
                                b !== null && (nn === null ? nn = b : nn.push.apply(nn, b))
                            }
                            x = S
                        }
                        if (b = !1,
                        x !== 2)
                            continue
                    }
                }
                if (x === 1) {
                    dl(i, 0),
                    fs(i, a, 0, !0);
                    break
                }
                e: {
                    switch (h = i,
                    b = x,
                    b) {
                    case 0:
                    case 1:
                        throw Error(r(345));
                    case 4:
                        if ((a & 4194048) !== a)
                            break;
                    case 6:
                        fs(h, a, bn, !as);
                        break e;
                    case 2:
                        nn = null;
                        break;
                    case 3:
                    case 5:
                        break;
                    default:
                        throw Error(r(329))
                    }
                    if ((a & 62914560) === a && (x = Du + 300 - cn(),
                    10 < x)) {
                        if (fs(h, a, bn, !as),
                        $o(h, 0, !0) !== 0)
                            break e;
                        Rr = a,
                        h.timeoutHandle = Qb(Nb.bind(null, h, c, nn, Ou, Gh, a, bn, ui, ul, as, b, "Throttled", -0, 0), x);
                        break e
                    }
                    Nb(h, c, nn, Ou, Gh, a, bn, ui, ul, as, b, null, -0, 0)
                }
            }
            break
        } while (!0);
        nr(i)
    }
    function Nb(i, a, c, h, x, b, S, j, T, F, P, J, H, I) {
        if (i.timeoutHandle = -1,
        J = a.subtreeFlags,
        J & 8192 || (J & 16785408) === 16785408) {
            J = {
                stylesheets: null,
                count: 0,
                imgCount: 0,
                imgBytes: 0,
                suspenseyImages: [],
                waitingForImages: !0,
                waitingForViewTransition: !1,
                unsuspend: yr
            },
            hb(a, b, J);
            var re = (b & 62914560) === b ? Du - cn() : (b & 4194048) === b ? xb - cn() : 0;
            if (re = dS(J, re),
            re !== null) {
                Rr = b,
                i.cancelPendingCommit = re(_b.bind(null, i, a, b, c, h, x, S, j, T, P, J, null, H, I)),
                fs(i, b, S, !F);
                return
            }
        }
        _b(i, a, b, c, h, x, S, j, T)
    }
    function kC(i) {
        for (var a = i; ; ) {
            var c = a.tag;
            if ((c === 0 || c === 11 || c === 15) && a.flags & 16384 && (c = a.updateQueue,
            c !== null && (c = c.stores,
            c !== null)))
                for (var h = 0; h < c.length; h++) {
                    var x = c[h]
                      , b = x.getSnapshot;
                    x = x.value;
                    try {
                        if (!hn(b(), x))
                            return !1
                    } catch {
                        return !1
                    }
                }
            if (c = a.child,
            a.subtreeFlags & 16384 && c !== null)
                c.return = a,
                a = c;
            else {
                if (a === i)
                    break;
                for (; a.sibling === null; ) {
                    if (a.return === null || a.return === i)
                        return !0;
                    a = a.return
                }
                a.sibling.return = a.return,
                a = a.sibling
            }
        }
        return !0
    }
    function fs(i, a, c, h) {
        a &= ~Vh,
        a &= ~ui,
        i.suspendedLanes |= a,
        i.pingedLanes &= ~a,
        h && (i.warmLanes |= a),
        h = i.expirationTimes;
        for (var x = a; 0 < x; ) {
            var b = 31 - fn(x)
              , S = 1 << b;
            h[b] = -1,
            x &= ~S
        }
        c !== 0 && Dg(i, c, a)
    }
    function Ru() {
        return (Re & 6) === 0 ? (Aa(0),
        !1) : !0
    }
    function Xh() {
        if (je !== null) {
            if (Fe === 0)
                var i = je.return;
            else
                i = je,
                Cr = ei = null,
                fh(i),
                tl = null,
                ca = 0,
                i = je;
            for (; i !== null; )
                Zx(i.alternate, i),
                i = i.return;
            je = null
        }
    }
    function dl(i, a) {
        var c = i.timeoutHandle;
        c !== -1 && (i.timeoutHandle = -1,
        KC(c)),
        c = i.cancelPendingCommit,
        c !== null && (i.cancelPendingCommit = null,
        c()),
        Rr = 0,
        Xh(),
        Pe = i,
        je = c = Nr(i.current, null),
        ke = a,
        Fe = 0,
        xn = null,
        as = !1,
        ol = Kl(i, a),
        Ph = !1,
        ul = bn = Vh = ui = us = nt = 0,
        nn = Ea = null,
        Gh = !1,
        (a & 8) !== 0 && (a |= a & 32);
        var h = i.entangledLanes;
        if (h !== 0)
            for (i = i.entanglements,
            h &= a; 0 < h; ) {
                var x = 31 - fn(h)
                  , b = 1 << x;
                a |= i[x],
                h &= ~b
            }
        return Or = a,
        tu(),
        c
    }
    function wb(i, a) {
        xe = null,
        q.H = ba,
        a === el || a === uu ? (a = F1(),
        Fe = 3) : a === eh ? (a = F1(),
        Fe = 4) : Fe = a === Ah ? 8 : a !== null && typeof a == "object" && typeof a.then == "function" ? 6 : 1,
        xn = a,
        je === null && (nt = 1,
        Cu(i, An(a, i.current)))
    }
    function Cb() {
        var i = mn.current;
        return i === null ? !0 : (ke & 4194048) === ke ? Mn === null : (ke & 62914560) === ke || (ke & 536870912) !== 0 ? i === Mn : !1
    }
    function Sb() {
        var i = q.H;
        return q.H = ba,
        i === null ? ba : i
    }
    function jb() {
        var i = q.A;
        return q.A = jC,
        i
    }
    function zu() {
        nt = 4,
        as || (ke & 4194048) !== ke && mn.current !== null || (ol = !0),
        (us & 134217727) === 0 && (ui & 134217727) === 0 || Pe === null || fs(Pe, ke, bn, !1)
    }
    function Qh(i, a, c) {
        var h = Re;
        Re |= 2;
        var x = Sb()
          , b = jb();
        (Pe !== i || ke !== a) && (Ou = null,
        dl(i, a)),
        a = !1;
        var S = nt;
        e: do
            try {
                if (Fe !== 0 && je !== null) {
                    var j = je
                      , T = xn;
                    switch (Fe) {
                    case 8:
                        Xh(),
                        S = 6;
                        break e;
                    case 3:
                    case 2:
                    case 9:
                    case 6:
                        mn.current === null && (a = !0);
                        var F = Fe;
                        if (Fe = 0,
                        xn = null,
                        fl(i, j, T, F),
                        c && ol) {
                            S = 0;
                            break e
                        }
                        break;
                    default:
                        F = Fe,
                        Fe = 0,
                        xn = null,
                        fl(i, j, T, F)
                    }
                }
                AC(),
                S = nt;
                break
            } catch (P) {
                wb(i, P)
            }
        while (!0);
        return a && i.shellSuspendCounter++,
        Cr = ei = null,
        Re = h,
        q.H = x,
        q.A = b,
        je === null && (Pe = null,
        ke = 0,
        tu()),
        S
    }
    function AC() {
        for (; je !== null; )
            Eb(je)
    }
    function _C(i, a) {
        var c = Re;
        Re |= 2;
        var h = Sb()
          , x = jb();
        Pe !== i || ke !== a ? (Ou = null,
        Mu = cn() + 500,
        dl(i, a)) : ol = Kl(i, a);
        e: do
            try {
                if (Fe !== 0 && je !== null) {
                    a = je;
                    var b = xn;
                    t: switch (Fe) {
                    case 1:
                        Fe = 0,
                        xn = null,
                        fl(i, a, b, 1);
                        break;
                    case 2:
                    case 9:
                        if (L1(b)) {
                            Fe = 0,
                            xn = null,
                            kb(a);
                            break
                        }
                        a = function() {
                            Fe !== 2 && Fe !== 9 || Pe !== i || (Fe = 7),
                            nr(i)
                        }
                        ,
                        b.then(a, a);
                        break e;
                    case 3:
                        Fe = 7;
                        break e;
                    case 4:
                        Fe = 5;
                        break e;
                    case 7:
                        L1(b) ? (Fe = 0,
                        xn = null,
                        kb(a)) : (Fe = 0,
                        xn = null,
                        fl(i, a, b, 7));
                        break;
                    case 5:
                        var S = null;
                        switch (je.tag) {
                        case 26:
                            S = je.memoizedState;
                        case 5:
                        case 27:
                            var j = je;
                            if (S ? fy(S) : j.stateNode.complete) {
                                Fe = 0,
                                xn = null;
                                var T = j.sibling;
                                if (T !== null)
                                    je = T;
                                else {
                                    var F = j.return;
                                    F !== null ? (je = F,
                                    Lu(F)) : je = null
                                }
                                break t
                            }
                        }
                        Fe = 0,
                        xn = null,
                        fl(i, a, b, 5);
                        break;
                    case 6:
                        Fe = 0,
                        xn = null,
                        fl(i, a, b, 6);
                        break;
                    case 8:
                        Xh(),
                        nt = 6;
                        break e;
                    default:
                        throw Error(r(462))
                    }
                }
                TC();
                break
            } catch (P) {
                wb(i, P)
            }
        while (!0);
        return Cr = ei = null,
        q.H = h,
        q.A = x,
        Re = c,
        je !== null ? 0 : (Pe = null,
        ke = 0,
        tu(),
        nt)
    }
    function TC() {
        for (; je !== null && !WN(); )
            Eb(je)
    }
    function Eb(i) {
        var a = Xx(i.alternate, i, Or);
        i.memoizedProps = i.pendingProps,
        a === null ? Lu(i) : je = a
    }
    function kb(i) {
        var a = i
          , c = a.alternate;
        switch (a.tag) {
        case 15:
        case 0:
            a = Px(c, a, a.pendingProps, a.type, void 0, ke);
            break;
        case 11:
            a = Px(c, a, a.pendingProps, a.type.render, a.ref, ke);
            break;
        case 5:
            fh(a);
        default:
            Zx(c, a),
            a = je = j1(a, Or),
            a = Xx(c, a, Or)
        }
        i.memoizedProps = i.pendingProps,
        a === null ? Lu(i) : je = a
    }
    function fl(i, a, c, h) {
        Cr = ei = null,
        fh(a),
        tl = null,
        ca = 0;
        var x = a.return;
        try {
            if (bC(i, x, a, c, ke)) {
                nt = 1,
                Cu(i, An(c, i.current)),
                je = null;
                return
            }
        } catch (b) {
            if (x !== null)
                throw je = x,
                b;
            nt = 1,
            Cu(i, An(c, i.current)),
            je = null;
            return
        }
        a.flags & 32768 ? (_e || h === 1 ? i = !0 : ol || (ke & 536870912) !== 0 ? i = !1 : (as = i = !0,
        (h === 2 || h === 9 || h === 3 || h === 6) && (h = mn.current,
        h !== null && h.tag === 13 && (h.flags |= 16384))),
        Ab(a, i)) : Lu(a)
    }
    function Lu(i) {
        var a = i;
        do {
            if ((a.flags & 32768) !== 0) {
                Ab(a, as);
                return
            }
            i = a.return;
            var c = NC(a.alternate, a, Or);
            if (c !== null) {
                je = c;
                return
            }
            if (a = a.sibling,
            a !== null) {
                je = a;
                return
            }
            je = a = i
        } while (a !== null);
        nt === 0 && (nt = 5)
    }
    function Ab(i, a) {
        do {
            var c = wC(i.alternate, i);
            if (c !== null) {
                c.flags &= 32767,
                je = c;
                return
            }
            if (c = i.return,
            c !== null && (c.flags |= 32768,
            c.subtreeFlags = 0,
            c.deletions = null),
            !a && (i = i.sibling,
            i !== null)) {
                je = i;
                return
            }
            je = i = c
        } while (i !== null);
        nt = 6,
        je = null
    }
    function _b(i, a, c, h, x, b, S, j, T) {
        i.cancelPendingCommit = null;
        do
            Bu();
        while (gt !== 0);
        if ((Re & 6) !== 0)
            throw Error(r(327));
        if (a !== null) {
            if (a === i.current)
                throw Error(r(177));
            if (b = a.lanes | a.childLanes,
            b |= Hf,
            uw(i, c, b, S, j, T),
            i === Pe && (je = Pe = null,
            ke = 0),
            cl = a,
            ds = i,
            Rr = c,
            Kh = b,
            Yh = x,
            bb = h,
            (a.subtreeFlags & 10256) !== 0 || (a.flags & 10256) !== 0 ? (i.callbackNode = null,
            i.callbackPriority = 0,
            RC(Ho, function() {
                return Rb(),
                null
            })) : (i.callbackNode = null,
            i.callbackPriority = 0),
            h = (a.flags & 13878) !== 0,
            (a.subtreeFlags & 13878) !== 0 || h) {
                h = q.T,
                q.T = null,
                x = Z.p,
                Z.p = 2,
                S = Re,
                Re |= 4;
                try {
                    CC(i, a, c)
                } finally {
                    Re = S,
                    Z.p = x,
                    q.T = h
                }
            }
            gt = 1,
            Tb(),
            Db(),
            Mb()
        }
    }
    function Tb() {
        if (gt === 1) {
            gt = 0;
            var i = ds
              , a = cl
              , c = (a.flags & 13878) !== 0;
            if ((a.subtreeFlags & 13878) !== 0 || c) {
                c = q.T,
                q.T = null;
                var h = Z.p;
                Z.p = 2;
                var x = Re;
                Re |= 4;
                try {
                    cb(a, i);
                    var b = u0
                      , S = g1(i.containerInfo)
                      , j = b.focusedElem
                      , T = b.selectionRange;
                    if (S !== j && j && j.ownerDocument && m1(j.ownerDocument.documentElement, j)) {
                        if (T !== null && Rf(j)) {
                            var F = T.start
                              , P = T.end;
                            if (P === void 0 && (P = F),
                            "selectionStart"in j)
                                j.selectionStart = F,
                                j.selectionEnd = Math.min(P, j.value.length);
                            else {
                                var J = j.ownerDocument || document
                                  , H = J && J.defaultView || window;
                                if (H.getSelection) {
                                    var I = H.getSelection()
                                      , re = j.textContent.length
                                      , de = Math.min(T.start, re)
                                      , $e = T.end === void 0 ? de : Math.min(T.end, re);
                                    !I.extend && de > $e && (S = $e,
                                    $e = de,
                                    de = S);
                                    var L = p1(j, de)
                                      , M = p1(j, $e);
                                    if (L && M && (I.rangeCount !== 1 || I.anchorNode !== L.node || I.anchorOffset !== L.offset || I.focusNode !== M.node || I.focusOffset !== M.offset)) {
                                        var B = J.createRange();
                                        B.setStart(L.node, L.offset),
                                        I.removeAllRanges(),
                                        de > $e ? (I.addRange(B),
                                        I.extend(M.node, M.offset)) : (B.setEnd(M.node, M.offset),
                                        I.addRange(B))
                                    }
                                }
                            }
                        }
                        for (J = [],
                        I = j; I = I.parentNode; )
                            I.nodeType === 1 && J.push({
                                element: I,
                                left: I.scrollLeft,
                                top: I.scrollTop
                            });
                        for (typeof j.focus == "function" && j.focus(),
                        j = 0; j < J.length; j++) {
                            var V = J[j];
                            V.element.scrollLeft = V.left,
                            V.element.scrollTop = V.top
                        }
                    }
                    Ju = !!o0,
                    u0 = o0 = null
                } finally {
                    Re = x,
                    Z.p = h,
                    q.T = c
                }
            }
            i.current = a,
            gt = 2
        }
    }
    function Db() {
        if (gt === 2) {
            gt = 0;
            var i = ds
              , a = cl
              , c = (a.flags & 8772) !== 0;
            if ((a.subtreeFlags & 8772) !== 0 || c) {
                c = q.T,
                q.T = null;
                var h = Z.p;
                Z.p = 2;
                var x = Re;
                Re |= 4;
                try {
                    ib(i, a.alternate, a)
                } finally {
                    Re = x,
                    Z.p = h,
                    q.T = c
                }
            }
            gt = 3
        }
    }
    function Mb() {
        if (gt === 4 || gt === 3) {
            gt = 0,
            ew();
            var i = ds
              , a = cl
              , c = Rr
              , h = bb;
            (a.subtreeFlags & 10256) !== 0 || (a.flags & 10256) !== 0 ? gt = 5 : (gt = 0,
            cl = ds = null,
            Ob(i, i.pendingLanes));
            var x = i.pendingLanes;
            if (x === 0 && (cs = null),
            mf(c),
            a = a.stateNode,
            dn && typeof dn.onCommitFiberRoot == "function")
                try {
                    dn.onCommitFiberRoot(Gl, a, void 0, (a.current.flags & 128) === 128)
                } catch {}
            if (h !== null) {
                a = q.T,
                x = Z.p,
                Z.p = 2,
                q.T = null;
                try {
                    for (var b = i.onRecoverableError, S = 0; S < h.length; S++) {
                        var j = h[S];
                        b(j.value, {
                            componentStack: j.stack
                        })
                    }
                } finally {
                    q.T = a,
                    Z.p = x
                }
            }
            (Rr & 3) !== 0 && Bu(),
            nr(i),
            x = i.pendingLanes,
            (c & 261930) !== 0 && (x & 42) !== 0 ? i === Jh ? ka++ : (ka = 0,
            Jh = i) : ka = 0,
            Aa(0)
        }
    }
    function Ob(i, a) {
        (i.pooledCacheLanes &= a) === 0 && (a = i.pooledCache,
        a != null && (i.pooledCache = null,
        oa(a)))
    }
    function Bu() {
        return Tb(),
        Db(),
        Mb(),
        Rb()
    }
    function Rb() {
        if (gt !== 5)
            return !1;
        var i = ds
          , a = Kh;
        Kh = 0;
        var c = mf(Rr)
          , h = q.T
          , x = Z.p;
        try {
            Z.p = 32 > c ? 32 : c,
            q.T = null,
            c = Yh,
            Yh = null;
            var b = ds
              , S = Rr;
            if (gt = 0,
            cl = ds = null,
            Rr = 0,
            (Re & 6) !== 0)
                throw Error(r(331));
            var j = Re;
            if (Re |= 4,
            mb(b.current),
            fb(b, b.current, S, c),
            Re = j,
            Aa(0, !1),
            dn && typeof dn.onPostCommitFiberRoot == "function")
                try {
                    dn.onPostCommitFiberRoot(Gl, b)
                } catch {}
            return !0
        } finally {
            Z.p = x,
            q.T = h,
            Ob(i, a)
        }
    }
    function zb(i, a, c) {
        a = An(c, a),
        a = kh(i.stateNode, a, 2),
        i = rs(i, a, 2),
        i !== null && (Yl(i, 2),
        nr(i))
    }
    function He(i, a, c) {
        if (i.tag === 3)
            zb(i, i, c);
        else
            for (; a !== null; ) {
                if (a.tag === 3) {
                    zb(a, i, c);
                    break
                } else if (a.tag === 1) {
                    var h = a.stateNode;
                    if (typeof a.type.getDerivedStateFromError == "function" || typeof h.componentDidCatch == "function" && (cs === null || !cs.has(h))) {
                        i = An(c, i),
                        c = Lx(2),
                        h = rs(a, c, 2),
                        h !== null && (Bx(c, h, a, i),
                        Yl(h, 2),
                        nr(h));
                        break
                    }
                }
                a = a.return
            }
    }
    function Zh(i, a, c) {
        var h = i.pingCache;
        if (h === null) {
            h = i.pingCache = new EC;
            var x = new Set;
            h.set(a, x)
        } else
            x = h.get(a),
            x === void 0 && (x = new Set,
            h.set(a, x));
        x.has(c) || (Ph = !0,
        x.add(c),
        i = DC.bind(null, i, a, c),
        a.then(i, i))
    }
    function DC(i, a, c) {
        var h = i.pingCache;
        h !== null && h.delete(a),
        i.pingedLanes |= i.suspendedLanes & c,
        i.warmLanes &= ~c,
        Pe === i && (ke & c) === c && (nt === 4 || nt === 3 && (ke & 62914560) === ke && 300 > cn() - Du ? (Re & 2) === 0 && dl(i, 0) : Vh |= c,
        ul === ke && (ul = 0)),
        nr(i)
    }
    function Lb(i, a) {
        a === 0 && (a = Tg()),
        i = Qs(i, a),
        i !== null && (Yl(i, a),
        nr(i))
    }
    function MC(i) {
        var a = i.memoizedState
          , c = 0;
        a !== null && (c = a.retryLane),
        Lb(i, c)
    }
    function OC(i, a) {
        var c = 0;
        switch (i.tag) {
        case 31:
        case 13:
            var h = i.stateNode
              , x = i.memoizedState;
            x !== null && (c = x.retryLane);
            break;
        case 19:
            h = i.stateNode;
            break;
        case 22:
            h = i.stateNode._retryCache;
            break;
        default:
            throw Error(r(314))
        }
        h !== null && h.delete(a),
        Lb(i, c)
    }
    function RC(i, a) {
        return df(i, a)
    }
    var Fu = null
      , hl = null
      , Wh = !1
      , Hu = !1
      , e0 = !1
      , hs = 0;
    function nr(i) {
        i !== hl && i.next === null && (hl === null ? Fu = hl = i : hl = hl.next = i),
        Hu = !0,
        Wh || (Wh = !0,
        LC())
    }
    function Aa(i, a) {
        if (!e0 && Hu) {
            e0 = !0;
            do
                for (var c = !1, h = Fu; h !== null; ) {
                    if (i !== 0) {
                        var x = h.pendingLanes;
                        if (x === 0)
                            var b = 0;
                        else {
                            var S = h.suspendedLanes
                              , j = h.pingedLanes;
                            b = (1 << 31 - fn(42 | i) + 1) - 1,
                            b &= x & ~(S & ~j),
                            b = b & 201326741 ? b & 201326741 | 1 : b ? b | 2 : 0
                        }
                        b !== 0 && (c = !0,
                        Ub(h, b))
                    } else
                        b = ke,
                        b = $o(h, h === Pe ? b : 0, h.cancelPendingCommit !== null || h.timeoutHandle !== -1),
                        (b & 3) === 0 || Kl(h, b) || (c = !0,
                        Ub(h, b));
                    h = h.next
                }
            while (c);
            e0 = !1
        }
    }
    function zC() {
        Bb()
    }
    function Bb() {
        Hu = Wh = !1;
        var i = 0;
        hs !== 0 && GC() && (i = hs);
        for (var a = cn(), c = null, h = Fu; h !== null; ) {
            var x = h.next
              , b = Fb(h, a);
            b === 0 ? (h.next = null,
            c === null ? Fu = x : c.next = x,
            x === null && (hl = c)) : (c = h,
            (i !== 0 || (b & 3) !== 0) && (Hu = !0)),
            h = x
        }
        gt !== 0 && gt !== 5 || Aa(i),
        hs !== 0 && (hs = 0)
    }
    function Fb(i, a) {
        for (var c = i.suspendedLanes, h = i.pingedLanes, x = i.expirationTimes, b = i.pendingLanes & -62914561; 0 < b; ) {
            var S = 31 - fn(b)
              , j = 1 << S
              , T = x[S];
            T === -1 ? ((j & c) === 0 || (j & h) !== 0) && (x[S] = ow(j, a)) : T <= a && (i.expiredLanes |= j),
            b &= ~j
        }
        if (a = Pe,
        c = ke,
        c = $o(i, i === a ? c : 0, i.cancelPendingCommit !== null || i.timeoutHandle !== -1),
        h = i.callbackNode,
        c === 0 || i === a && (Fe === 2 || Fe === 9) || i.cancelPendingCommit !== null)
            return h !== null && h !== null && ff(h),
            i.callbackNode = null,
            i.callbackPriority = 0;
        if ((c & 3) === 0 || Kl(i, c)) {
            if (a = c & -c,
            a === i.callbackPriority)
                return a;
            switch (h !== null && ff(h),
            mf(c)) {
            case 2:
            case 8:
                c = Ag;
                break;
            case 32:
                c = Ho;
                break;
            case 268435456:
                c = _g;
                break;
            default:
                c = Ho
            }
            return h = Hb.bind(null, i),
            c = df(c, h),
            i.callbackPriority = a,
            i.callbackNode = c,
            a
        }
        return h !== null && h !== null && ff(h),
        i.callbackPriority = 2,
        i.callbackNode = null,
        2
    }
    function Hb(i, a) {
        if (gt !== 0 && gt !== 5)
            return i.callbackNode = null,
            i.callbackPriority = 0,
            null;
        var c = i.callbackNode;
        if (Bu() && i.callbackNode !== c)
            return null;
        var h = ke;
        return h = $o(i, i === Pe ? h : 0, i.cancelPendingCommit !== null || i.timeoutHandle !== -1),
        h === 0 ? null : (vb(i, h, a),
        Fb(i, cn()),
        i.callbackNode != null && i.callbackNode === c ? Hb.bind(null, i) : null)
    }
    function Ub(i, a) {
        if (Bu())
            return null;
        vb(i, a, !0)
    }
    function LC() {
        YC(function() {
            (Re & 6) !== 0 ? df(kg, zC) : Bb()
        })
    }
    function t0() {
        if (hs === 0) {
            var i = Zi;
            i === 0 && (i = Uo,
            Uo <<= 1,
            (Uo & 261888) === 0 && (Uo = 256)),
            hs = i
        }
        return hs
    }
    function qb(i) {
        return i == null || typeof i == "symbol" || typeof i == "boolean" ? null : typeof i == "function" ? i : Ko("" + i)
    }
    function Ib(i, a) {
        var c = a.ownerDocument.createElement("input");
        return c.name = a.name,
        c.value = a.value,
        i.id && c.setAttribute("form", i.id),
        a.parentNode.insertBefore(c, a),
        i = new FormData(i),
        c.parentNode.removeChild(c),
        i
    }
    function BC(i, a, c, h, x) {
        if (a === "submit" && c && c.stateNode === x) {
            var b = qb((x[Qt] || null).action)
              , S = h.submitter;
            S && (a = (a = S[Qt] || null) ? qb(a.formAction) : S.getAttribute("formAction"),
            a !== null && (b = a,
            S = null));
            var j = new Qo("action","action",null,h,x);
            i.push({
                event: j,
                listeners: [{
                    instance: null,
                    listener: function() {
                        if (h.defaultPrevented) {
                            if (hs !== 0) {
                                var T = S ? Ib(x, S) : new FormData(x);
                                Nh(c, {
                                    pending: !0,
                                    data: T,
                                    method: x.method,
                                    action: b
                                }, null, T)
                            }
                        } else
                            typeof b == "function" && (j.preventDefault(),
                            T = S ? Ib(x, S) : new FormData(x),
                            Nh(c, {
                                pending: !0,
                                data: T,
                                method: x.method,
                                action: b
                            }, b, T))
                    },
                    currentTarget: x
                }]
            })
        }
    }
    for (var n0 = 0; n0 < Ff.length; n0++) {
        var r0 = Ff[n0]
          , FC = r0.toLowerCase()
          , HC = r0[0].toUpperCase() + r0.slice(1);
        Pn(FC, "on" + HC)
    }
    Pn(y1, "onAnimationEnd"),
    Pn(v1, "onAnimationIteration"),
    Pn(N1, "onAnimationStart"),
    Pn("dblclick", "onDoubleClick"),
    Pn("focusin", "onFocus"),
    Pn("focusout", "onBlur"),
    Pn(tC, "onTransitionRun"),
    Pn(nC, "onTransitionStart"),
    Pn(rC, "onTransitionCancel"),
    Pn(w1, "onTransitionEnd"),
    Fi("onMouseEnter", ["mouseout", "mouseover"]),
    Fi("onMouseLeave", ["mouseout", "mouseover"]),
    Fi("onPointerEnter", ["pointerout", "pointerover"]),
    Fi("onPointerLeave", ["pointerout", "pointerover"]),
    Ks("onChange", "change click focusin focusout input keydown keyup selectionchange".split(" ")),
    Ks("onSelect", "focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),
    Ks("onBeforeInput", ["compositionend", "keypress", "textInput", "paste"]),
    Ks("onCompositionEnd", "compositionend focusout keydown keypress keyup mousedown".split(" ")),
    Ks("onCompositionStart", "compositionstart focusout keydown keypress keyup mousedown".split(" ")),
    Ks("onCompositionUpdate", "compositionupdate focusout keydown keypress keyup mousedown".split(" "));
    var _a = "abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" ")
      , UC = new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_a));
    function $b(i, a) {
        a = (a & 4) !== 0;
        for (var c = 0; c < i.length; c++) {
            var h = i[c]
              , x = h.event;
            h = h.listeners;
            e: {
                var b = void 0;
                if (a)
                    for (var S = h.length - 1; 0 <= S; S--) {
                        var j = h[S]
                          , T = j.instance
                          , F = j.currentTarget;
                        if (j = j.listener,
                        T !== b && x.isPropagationStopped())
                            break e;
                        b = j,
                        x.currentTarget = F;
                        try {
                            b(x)
                        } catch (P) {
                            eu(P)
                        }
                        x.currentTarget = null,
                        b = T
                    }
                else
                    for (S = 0; S < h.length; S++) {
                        if (j = h[S],
                        T = j.instance,
                        F = j.currentTarget,
                        j = j.listener,
                        T !== b && x.isPropagationStopped())
                            break e;
                        b = j,
                        x.currentTarget = F;
                        try {
                            b(x)
                        } catch (P) {
                            eu(P)
                        }
                        x.currentTarget = null,
                        b = T
                    }
            }
        }
    }
    function Ee(i, a) {
        var c = a[gf];
        c === void 0 && (c = a[gf] = new Set);
        var h = i + "__bubble";
        c.has(h) || (Pb(a, i, 2, !1),
        c.add(h))
    }
    function s0(i, a, c) {
        var h = 0;
        a && (h |= 4),
        Pb(c, i, h, a)
    }
    var Uu = "_reactListening" + Math.random().toString(36).slice(2);
    function i0(i) {
        if (!i[Uu]) {
            i[Uu] = !0,
            Bg.forEach(function(c) {
                c !== "selectionchange" && (UC.has(c) || s0(c, !1, i),
                s0(c, !0, i))
            });
            var a = i.nodeType === 9 ? i : i.ownerDocument;
            a === null || a[Uu] || (a[Uu] = !0,
            s0("selectionchange", !1, a))
        }
    }
    function Pb(i, a, c, h) {
        switch (yy(a)) {
        case 2:
            var x = pS;
            break;
        case 8:
            x = mS;
            break;
        default:
            x = v0
        }
        c = x.bind(null, a, c, i),
        x = void 0,
        !jf || a !== "touchstart" && a !== "touchmove" && a !== "wheel" || (x = !0),
        h ? x !== void 0 ? i.addEventListener(a, c, {
            capture: !0,
            passive: x
        }) : i.addEventListener(a, c, !0) : x !== void 0 ? i.addEventListener(a, c, {
            passive: x
        }) : i.addEventListener(a, c, !1)
    }
    function l0(i, a, c, h, x) {
        var b = h;
        if ((a & 1) === 0 && (a & 2) === 0 && h !== null)
            e: for (; ; ) {
                if (h === null)
                    return;
                var S = h.tag;
                if (S === 3 || S === 4) {
                    var j = h.stateNode.containerInfo;
                    if (j === x)
                        break;
                    if (S === 4)
                        for (S = h.return; S !== null; ) {
                            var T = S.tag;
                            if ((T === 3 || T === 4) && S.stateNode.containerInfo === x)
                                return;
                            S = S.return
                        }
                    for (; j !== null; ) {
                        if (S = zi(j),
                        S === null)
                            return;
                        if (T = S.tag,
                        T === 5 || T === 6 || T === 26 || T === 27) {
                            h = b = S;
                            continue e
                        }
                        j = j.parentNode
                    }
                }
                h = h.return
            }
        Jg(function() {
            var F = b
              , P = Cf(c)
              , J = [];
            e: {
                var H = C1.get(i);
                if (H !== void 0) {
                    var I = Qo
                      , re = i;
                    switch (i) {
                    case "keypress":
                        if (Jo(c) === 0)
                            break e;
                    case "keydown":
                    case "keyup":
                        I = Ow;
                        break;
                    case "focusin":
                        re = "focus",
                        I = _f;
                        break;
                    case "focusout":
                        re = "blur",
                        I = _f;
                        break;
                    case "beforeblur":
                    case "afterblur":
                        I = _f;
                        break;
                    case "click":
                        if (c.button === 2)
                            break e;
                    case "auxclick":
                    case "dblclick":
                    case "mousedown":
                    case "mousemove":
                    case "mouseup":
                    case "mouseout":
                    case "mouseover":
                    case "contextmenu":
                        I = Zg;
                        break;
                    case "drag":
                    case "dragend":
                    case "dragenter":
                    case "dragexit":
                    case "dragleave":
                    case "dragover":
                    case "dragstart":
                    case "drop":
                        I = Nw;
                        break;
                    case "touchcancel":
                    case "touchend":
                    case "touchmove":
                    case "touchstart":
                        I = Lw;
                        break;
                    case y1:
                    case v1:
                    case N1:
                        I = Sw;
                        break;
                    case w1:
                        I = Fw;
                        break;
                    case "scroll":
                    case "scrollend":
                        I = yw;
                        break;
                    case "wheel":
                        I = Uw;
                        break;
                    case "copy":
                    case "cut":
                    case "paste":
                        I = Ew;
                        break;
                    case "gotpointercapture":
                    case "lostpointercapture":
                    case "pointercancel":
                    case "pointerdown":
                    case "pointermove":
                    case "pointerout":
                    case "pointerover":
                    case "pointerup":
                        I = e1;
                        break;
                    case "toggle":
                    case "beforetoggle":
                        I = Iw
                    }
                    var de = (a & 4) !== 0
                      , $e = !de && (i === "scroll" || i === "scrollend")
                      , L = de ? H !== null ? H + "Capture" : null : H;
                    de = [];
                    for (var M = F, B; M !== null; ) {
                        var V = M;
                        if (B = V.stateNode,
                        V = V.tag,
                        V !== 5 && V !== 26 && V !== 27 || B === null || L === null || (V = Ql(M, L),
                        V != null && de.push(Ta(M, V, B))),
                        $e)
                            break;
                        M = M.return
                    }
                    0 < de.length && (H = new I(H,re,null,c,P),
                    J.push({
                        event: H,
                        listeners: de
                    }))
                }
            }
            if ((a & 7) === 0) {
                e: {
                    if (H = i === "mouseover" || i === "pointerover",
                    I = i === "mouseout" || i === "pointerout",
                    H && c !== wf && (re = c.relatedTarget || c.fromElement) && (zi(re) || re[Ri]))
                        break e;
                    if ((I || H) && (H = P.window === P ? P : (H = P.ownerDocument) ? H.defaultView || H.parentWindow : window,
                    I ? (re = c.relatedTarget || c.toElement,
                    I = F,
                    re = re ? zi(re) : null,
                    re !== null && ($e = l(re),
                    de = re.tag,
                    re !== $e || de !== 5 && de !== 27 && de !== 6) && (re = null)) : (I = null,
                    re = F),
                    I !== re)) {
                        if (de = Zg,
                        V = "onMouseLeave",
                        L = "onMouseEnter",
                        M = "mouse",
                        (i === "pointerout" || i === "pointerover") && (de = e1,
                        V = "onPointerLeave",
                        L = "onPointerEnter",
                        M = "pointer"),
                        $e = I == null ? H : Xl(I),
                        B = re == null ? H : Xl(re),
                        H = new de(V,M + "leave",I,c,P),
                        H.target = $e,
                        H.relatedTarget = B,
                        V = null,
                        zi(P) === F && (de = new de(L,M + "enter",re,c,P),
                        de.target = B,
                        de.relatedTarget = $e,
                        V = de),
                        $e = V,
                        I && re)
                            t: {
                                for (de = qC,
                                L = I,
                                M = re,
                                B = 0,
                                V = L; V; V = de(V))
                                    B++;
                                V = 0;
                                for (var oe = M; oe; oe = de(oe))
                                    V++;
                                for (; 0 < B - V; )
                                    L = de(L),
                                    B--;
                                for (; 0 < V - B; )
                                    M = de(M),
                                    V--;
                                for (; B--; ) {
                                    if (L === M || M !== null && L === M.alternate) {
                                        de = L;
                                        break t
                                    }
                                    L = de(L),
                                    M = de(M)
                                }
                                de = null
                            }
                        else
                            de = null;
                        I !== null && Vb(J, H, I, de, !1),
                        re !== null && $e !== null && Vb(J, $e, re, de, !0)
                    }
                }
                e: {
                    if (H = F ? Xl(F) : window,
                    I = H.nodeName && H.nodeName.toLowerCase(),
                    I === "select" || I === "input" && H.type === "file")
                        var De = o1;
                    else if (l1(H))
                        if (u1)
                            De = Zw;
                        else {
                            De = Xw;
                            var ie = Jw
                        }
                    else
                        I = H.nodeName,
                        !I || I.toLowerCase() !== "input" || H.type !== "checkbox" && H.type !== "radio" ? F && Nf(F.elementType) && (De = o1) : De = Qw;
                    if (De && (De = De(i, F))) {
                        a1(J, De, c, P);
                        break e
                    }
                    ie && ie(i, H, F),
                    i === "focusout" && F && H.type === "number" && F.memoizedProps.value != null && vf(H, "number", H.value)
                }
                switch (ie = F ? Xl(F) : window,
                i) {
                case "focusin":
                    (l1(ie) || ie.contentEditable === "true") && (Pi = ie,
                    zf = F,
                    ia = null);
                    break;
                case "focusout":
                    ia = zf = Pi = null;
                    break;
                case "mousedown":
                    Lf = !0;
                    break;
                case "contextmenu":
                case "mouseup":
                case "dragend":
                    Lf = !1,
                    x1(J, c, P);
                    break;
                case "selectionchange":
                    if (eC)
                        break;
                case "keydown":
                case "keyup":
                    x1(J, c, P)
                }
                var ye;
                if (Df)
                    e: {
                        switch (i) {
                        case "compositionstart":
                            var Ae = "onCompositionStart";
                            break e;
                        case "compositionend":
                            Ae = "onCompositionEnd";
                            break e;
                        case "compositionupdate":
                            Ae = "onCompositionUpdate";
                            break e
                        }
                        Ae = void 0
                    }
                else
                    $i ? s1(i, c) && (Ae = "onCompositionEnd") : i === "keydown" && c.keyCode === 229 && (Ae = "onCompositionStart");
                Ae && (t1 && c.locale !== "ko" && ($i || Ae !== "onCompositionStart" ? Ae === "onCompositionEnd" && $i && (ye = Xg()) : (Xr = P,
                Ef = "value"in Xr ? Xr.value : Xr.textContent,
                $i = !0)),
                ie = qu(F, Ae),
                0 < ie.length && (Ae = new Wg(Ae,i,null,c,P),
                J.push({
                    event: Ae,
                    listeners: ie
                }),
                ye ? Ae.data = ye : (ye = i1(c),
                ye !== null && (Ae.data = ye)))),
                (ye = Pw ? Vw(i, c) : Gw(i, c)) && (Ae = qu(F, "onBeforeInput"),
                0 < Ae.length && (ie = new Wg("onBeforeInput","beforeinput",null,c,P),
                J.push({
                    event: ie,
                    listeners: Ae
                }),
                ie.data = ye)),
                BC(J, i, F, c, P)
            }
            $b(J, a)
        })
    }
    function Ta(i, a, c) {
        return {
            instance: i,
            listener: a,
            currentTarget: c
        }
    }
    function qu(i, a) {
        for (var c = a + "Capture", h = []; i !== null; ) {
            var x = i
              , b = x.stateNode;
            if (x = x.tag,
            x !== 5 && x !== 26 && x !== 27 || b === null || (x = Ql(i, c),
            x != null && h.unshift(Ta(i, x, b)),
            x = Ql(i, a),
            x != null && h.push(Ta(i, x, b))),
            i.tag === 3)
                return h;
            i = i.return
        }
        return []
    }
    function qC(i) {
        if (i === null)
            return null;
        do
            i = i.return;
        while (i && i.tag !== 5 && i.tag !== 27);
        return i || null
    }
    function Vb(i, a, c, h, x) {
        for (var b = a._reactName, S = []; c !== null && c !== h; ) {
            var j = c
              , T = j.alternate
              , F = j.stateNode;
            if (j = j.tag,
            T !== null && T === h)
                break;
            j !== 5 && j !== 26 && j !== 27 || F === null || (T = F,
            x ? (F = Ql(c, b),
            F != null && S.unshift(Ta(c, F, T))) : x || (F = Ql(c, b),
            F != null && S.push(Ta(c, F, T)))),
            c = c.return
        }
        S.length !== 0 && i.push({
            event: a,
            listeners: S
        })
    }
    var IC = /\r\n?/g
      , $C = /\u0000|\uFFFD/g;
    function Gb(i) {
        return (typeof i == "string" ? i : "" + i).replace(IC, `
`).replace($C, "")
    }
    function Kb(i, a) {
        return a = Gb(a),
        Gb(i) === a
    }
    function Ie(i, a, c, h, x, b) {
        switch (c) {
        case "children":
            typeof h == "string" ? a === "body" || a === "textarea" && h === "" || Ui(i, h) : (typeof h == "number" || typeof h == "bigint") && a !== "body" && Ui(i, "" + h);
            break;
        case "className":
            Vo(i, "class", h);
            break;
        case "tabIndex":
            Vo(i, "tabindex", h);
            break;
        case "dir":
        case "role":
        case "viewBox":
        case "width":
        case "height":
            Vo(i, c, h);
            break;
        case "style":
            Kg(i, h, b);
            break;
        case "data":
            if (a !== "object") {
                Vo(i, "data", h);
                break
            }
        case "src":
        case "href":
            if (h === "" && (a !== "a" || c !== "href")) {
                i.removeAttribute(c);
                break
            }
            if (h == null || typeof h == "function" || typeof h == "symbol" || typeof h == "boolean") {
                i.removeAttribute(c);
                break
            }
            h = Ko("" + h),
            i.setAttribute(c, h);
            break;
        case "action":
        case "formAction":
            if (typeof h == "function") {
                i.setAttribute(c, "javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");
                break
            } else
                typeof b == "function" && (c === "formAction" ? (a !== "input" && Ie(i, a, "name", x.name, x, null),
                Ie(i, a, "formEncType", x.formEncType, x, null),
                Ie(i, a, "formMethod", x.formMethod, x, null),
                Ie(i, a, "formTarget", x.formTarget, x, null)) : (Ie(i, a, "encType", x.encType, x, null),
                Ie(i, a, "method", x.method, x, null),
                Ie(i, a, "target", x.target, x, null)));
            if (h == null || typeof h == "symbol" || typeof h == "boolean") {
                i.removeAttribute(c);
                break
            }
            h = Ko("" + h),
            i.setAttribute(c, h);
            break;
        case "onClick":
            h != null && (i.onclick = yr);
            break;
        case "onScroll":
            h != null && Ee("scroll", i);
            break;
        case "onScrollEnd":
            h != null && Ee("scrollend", i);
            break;
        case "dangerouslySetInnerHTML":
            if (h != null) {
                if (typeof h != "object" || !("__html"in h))
                    throw Error(r(61));
                if (c = h.__html,
                c != null) {
                    if (x.children != null)
                        throw Error(r(60));
                    i.innerHTML = c
                }
            }
            break;
        case "multiple":
            i.multiple = h && typeof h != "function" && typeof h != "symbol";
            break;
        case "muted":
            i.muted = h && typeof h != "function" && typeof h != "symbol";
            break;
        case "suppressContentEditableWarning":
        case "suppressHydrationWarning":
        case "defaultValue":
        case "defaultChecked":
        case "innerHTML":
        case "ref":
            break;
        case "autoFocus":
            break;
        case "xlinkHref":
            if (h == null || typeof h == "function" || typeof h == "boolean" || typeof h == "symbol") {
                i.removeAttribute("xlink:href");
                break
            }
            c = Ko("" + h),
            i.setAttributeNS("http://www.w3.org/1999/xlink", "xlink:href", c);
            break;
        case "contentEditable":
        case "spellCheck":
        case "draggable":
        case "value":
        case "autoReverse":
        case "externalResourcesRequired":
        case "focusable":
        case "preserveAlpha":
            h != null && typeof h != "function" && typeof h != "symbol" ? i.setAttribute(c, "" + h) : i.removeAttribute(c);
            break;
        case "inert":
        case "allowFullScreen":
        case "async":
        case "autoPlay":
        case "controls":
        case "default":
        case "defer":
        case "disabled":
        case "disablePictureInPicture":
        case "disableRemotePlayback":
        case "formNoValidate":
        case "hidden":
        case "loop":
        case "noModule":
        case "noValidate":
        case "open":
        case "playsInline":
        case "readOnly":
        case "required":
        case "reversed":
        case "scoped":
        case "seamless":
        case "itemScope":
            h && typeof h != "function" && typeof h != "symbol" ? i.setAttribute(c, "") : i.removeAttribute(c);
            break;
        case "capture":
        case "download":
            h === !0 ? i.setAttribute(c, "") : h !== !1 && h != null && typeof h != "function" && typeof h != "symbol" ? i.setAttribute(c, h) : i.removeAttribute(c);
            break;
        case "cols":
        case "rows":
        case "size":
        case "span":
            h != null && typeof h != "function" && typeof h != "symbol" && !isNaN(h) && 1 <= h ? i.setAttribute(c, h) : i.removeAttribute(c);
            break;
        case "rowSpan":
        case "start":
            h == null || typeof h == "function" || typeof h == "symbol" || isNaN(h) ? i.removeAttribute(c) : i.setAttribute(c, h);
            break;
        case "popover":
            Ee("beforetoggle", i),
            Ee("toggle", i),
            Po(i, "popover", h);
            break;
        case "xlinkActuate":
            br(i, "http://www.w3.org/1999/xlink", "xlink:actuate", h);
            break;
        case "xlinkArcrole":
            br(i, "http://www.w3.org/1999/xlink", "xlink:arcrole", h);
            break;
        case "xlinkRole":
            br(i, "http://www.w3.org/1999/xlink", "xlink:role", h);
            break;
        case "xlinkShow":
            br(i, "http://www.w3.org/1999/xlink", "xlink:show", h);
            break;
        case "xlinkTitle":
            br(i, "http://www.w3.org/1999/xlink", "xlink:title", h);
            break;
        case "xlinkType":
            br(i, "http://www.w3.org/1999/xlink", "xlink:type", h);
            break;
        case "xmlBase":
            br(i, "http://www.w3.org/XML/1998/namespace", "xml:base", h);
            break;
        case "xmlLang":
            br(i, "http://www.w3.org/XML/1998/namespace", "xml:lang", h);
            break;
        case "xmlSpace":
            br(i, "http://www.w3.org/XML/1998/namespace", "xml:space", h);
            break;
        case "is":
            Po(i, "is", h);
            break;
        case "innerText":
        case "textContent":
            break;
        default:
            (!(2 < c.length) || c[0] !== "o" && c[0] !== "O" || c[1] !== "n" && c[1] !== "N") && (c = xw.get(c) || c,
            Po(i, c, h))
        }
    }
    function a0(i, a, c, h, x, b) {
        switch (c) {
        case "style":
            Kg(i, h, b);
            break;
        case "dangerouslySetInnerHTML":
            if (h != null) {
                if (typeof h != "object" || !("__html"in h))
                    throw Error(r(61));
                if (c = h.__html,
                c != null) {
                    if (x.children != null)
                        throw Error(r(60));
                    i.innerHTML = c
                }
            }
            break;
        case "children":
            typeof h == "string" ? Ui(i, h) : (typeof h == "number" || typeof h == "bigint") && Ui(i, "" + h);
            break;
        case "onScroll":
            h != null && Ee("scroll", i);
            break;
        case "onScrollEnd":
            h != null && Ee("scrollend", i);
            break;
        case "onClick":
            h != null && (i.onclick = yr);
            break;
        case "suppressContentEditableWarning":
        case "suppressHydrationWarning":
        case "innerHTML":
        case "ref":
            break;
        case "innerText":
        case "textContent":
            break;
        default:
            if (!Fg.hasOwnProperty(c))
                e: {
                    if (c[0] === "o" && c[1] === "n" && (x = c.endsWith("Capture"),
                    a = c.slice(2, x ? c.length - 7 : void 0),
                    b = i[Qt] || null,
                    b = b != null ? b[c] : null,
                    typeof b == "function" && i.removeEventListener(a, b, x),
                    typeof h == "function")) {
                        typeof b != "function" && b !== null && (c in i ? i[c] = null : i.hasAttribute(c) && i.removeAttribute(c)),
                        i.addEventListener(a, h, x);
                        break e
                    }
                    c in i ? i[c] = h : h === !0 ? i.setAttribute(c, "") : Po(i, c, h)
                }
        }
    }
    function Ot(i, a, c) {
        switch (a) {
        case "div":
        case "span":
        case "svg":
        case "path":
        case "a":
        case "g":
        case "p":
        case "li":
            break;
        case "img":
            Ee("error", i),
            Ee("load", i);
            var h = !1, x = !1, b;
            for (b in c)
                if (c.hasOwnProperty(b)) {
                    var S = c[b];
                    if (S != null)
                        switch (b) {
                        case "src":
                            h = !0;
                            break;
                        case "srcSet":
                            x = !0;
                            break;
                        case "children":
                        case "dangerouslySetInnerHTML":
                            throw Error(r(137, a));
                        default:
                            Ie(i, a, b, S, c, null)
                        }
                }
            x && Ie(i, a, "srcSet", c.srcSet, c, null),
            h && Ie(i, a, "src", c.src, c, null);
            return;
        case "input":
            Ee("invalid", i);
            var j = b = S = x = null
              , T = null
              , F = null;
            for (h in c)
                if (c.hasOwnProperty(h)) {
                    var P = c[h];
                    if (P != null)
                        switch (h) {
                        case "name":
                            x = P;
                            break;
                        case "type":
                            S = P;
                            break;
                        case "checked":
                            T = P;
                            break;
                        case "defaultChecked":
                            F = P;
                            break;
                        case "value":
                            b = P;
                            break;
                        case "defaultValue":
                            j = P;
                            break;
                        case "children":
                        case "dangerouslySetInnerHTML":
                            if (P != null)
                                throw Error(r(137, a));
                            break;
                        default:
                            Ie(i, a, h, P, c, null)
                        }
                }
            $g(i, b, j, T, F, S, x, !1);
            return;
        case "select":
            Ee("invalid", i),
            h = S = b = null;
            for (x in c)
                if (c.hasOwnProperty(x) && (j = c[x],
                j != null))
                    switch (x) {
                    case "value":
                        b = j;
                        break;
                    case "defaultValue":
                        S = j;
                        break;
                    case "multiple":
                        h = j;
                    default:
                        Ie(i, a, x, j, c, null)
                    }
            a = b,
            c = S,
            i.multiple = !!h,
            a != null ? Hi(i, !!h, a, !1) : c != null && Hi(i, !!h, c, !0);
            return;
        case "textarea":
            Ee("invalid", i),
            b = x = h = null;
            for (S in c)
                if (c.hasOwnProperty(S) && (j = c[S],
                j != null))
                    switch (S) {
                    case "value":
                        h = j;
                        break;
                    case "defaultValue":
                        x = j;
                        break;
                    case "children":
                        b = j;
                        break;
                    case "dangerouslySetInnerHTML":
                        if (j != null)
                            throw Error(r(91));
                        break;
                    default:
                        Ie(i, a, S, j, c, null)
                    }
            Vg(i, h, x, b);
            return;
        case "option":
            for (T in c)
                c.hasOwnProperty(T) && (h = c[T],
                h != null) && (T === "selected" ? i.selected = h && typeof h != "function" && typeof h != "symbol" : Ie(i, a, T, h, c, null));
            return;
        case "dialog":
            Ee("beforetoggle", i),
            Ee("toggle", i),
            Ee("cancel", i),
            Ee("close", i);
            break;
        case "iframe":
        case "object":
            Ee("load", i);
            break;
        case "video":
        case "audio":
            for (h = 0; h < _a.length; h++)
                Ee(_a[h], i);
            break;
        case "image":
            Ee("error", i),
            Ee("load", i);
            break;
        case "details":
            Ee("toggle", i);
            break;
        case "embed":
        case "source":
        case "link":
            Ee("error", i),
            Ee("load", i);
        case "area":
        case "base":
        case "br":
        case "col":
        case "hr":
        case "keygen":
        case "meta":
        case "param":
        case "track":
        case "wbr":
        case "menuitem":
            for (F in c)
                if (c.hasOwnProperty(F) && (h = c[F],
                h != null))
                    switch (F) {
                    case "children":
                    case "dangerouslySetInnerHTML":
                        throw Error(r(137, a));
                    default:
                        Ie(i, a, F, h, c, null)
                    }
            return;
        default:
            if (Nf(a)) {
                for (P in c)
                    c.hasOwnProperty(P) && (h = c[P],
                    h !== void 0 && a0(i, a, P, h, c, void 0));
                return
            }
        }
        for (j in c)
            c.hasOwnProperty(j) && (h = c[j],
            h != null && Ie(i, a, j, h, c, null))
    }
    function PC(i, a, c, h) {
        switch (a) {
        case "div":
        case "span":
        case "svg":
        case "path":
        case "a":
        case "g":
        case "p":
        case "li":
            break;
        case "input":
            var x = null
              , b = null
              , S = null
              , j = null
              , T = null
              , F = null
              , P = null;
            for (I in c) {
                var J = c[I];
                if (c.hasOwnProperty(I) && J != null)
                    switch (I) {
                    case "checked":
                        break;
                    case "value":
                        break;
                    case "defaultValue":
                        T = J;
                    default:
                        h.hasOwnProperty(I) || Ie(i, a, I, null, h, J)
                    }
            }
            for (var H in h) {
                var I = h[H];
                if (J = c[H],
                h.hasOwnProperty(H) && (I != null || J != null))
                    switch (H) {
                    case "type":
                        b = I;
                        break;
                    case "name":
                        x = I;
                        break;
                    case "checked":
                        F = I;
                        break;
                    case "defaultChecked":
                        P = I;
                        break;
                    case "value":
                        S = I;
                        break;
                    case "defaultValue":
                        j = I;
                        break;
                    case "children":
                    case "dangerouslySetInnerHTML":
                        if (I != null)
                            throw Error(r(137, a));
                        break;
                    default:
                        I !== J && Ie(i, a, H, I, h, J)
                    }
            }
            yf(i, S, j, T, F, P, b, x);
            return;
        case "select":
            I = S = j = H = null;
            for (b in c)
                if (T = c[b],
                c.hasOwnProperty(b) && T != null)
                    switch (b) {
                    case "value":
                        break;
                    case "multiple":
                        I = T;
                    default:
                        h.hasOwnProperty(b) || Ie(i, a, b, null, h, T)
                    }
            for (x in h)
                if (b = h[x],
                T = c[x],
                h.hasOwnProperty(x) && (b != null || T != null))
                    switch (x) {
                    case "value":
                        H = b;
                        break;
                    case "defaultValue":
                        j = b;
                        break;
                    case "multiple":
                        S = b;
                    default:
                        b !== T && Ie(i, a, x, b, h, T)
                    }
            a = j,
            c = S,
            h = I,
            H != null ? Hi(i, !!c, H, !1) : !!h != !!c && (a != null ? Hi(i, !!c, a, !0) : Hi(i, !!c, c ? [] : "", !1));
            return;
        case "textarea":
            I = H = null;
            for (j in c)
                if (x = c[j],
                c.hasOwnProperty(j) && x != null && !h.hasOwnProperty(j))
                    switch (j) {
                    case "value":
                        break;
                    case "children":
                        break;
                    default:
                        Ie(i, a, j, null, h, x)
                    }
            for (S in h)
                if (x = h[S],
                b = c[S],
                h.hasOwnProperty(S) && (x != null || b != null))
                    switch (S) {
                    case "value":
                        H = x;
                        break;
                    case "defaultValue":
                        I = x;
                        break;
                    case "children":
                        break;
                    case "dangerouslySetInnerHTML":
                        if (x != null)
                            throw Error(r(91));
                        break;
                    default:
                        x !== b && Ie(i, a, S, x, h, b)
                    }
            Pg(i, H, I);
            return;
        case "option":
            for (var re in c)
                H = c[re],
                c.hasOwnProperty(re) && H != null && !h.hasOwnProperty(re) && (re === "selected" ? i.selected = !1 : Ie(i, a, re, null, h, H));
            for (T in h)
                H = h[T],
                I = c[T],
                h.hasOwnProperty(T) && H !== I && (H != null || I != null) && (T === "selected" ? i.selected = H && typeof H != "function" && typeof H != "symbol" : Ie(i, a, T, H, h, I));
            return;
        case "img":
        case "link":
        case "area":
        case "base":
        case "br":
        case "col":
        case "embed":
        case "hr":
        case "keygen":
        case "meta":
        case "param":
        case "source":
        case "track":
        case "wbr":
        case "menuitem":
            for (var de in c)
                H = c[de],
                c.hasOwnProperty(de) && H != null && !h.hasOwnProperty(de) && Ie(i, a, de, null, h, H);
            for (F in h)
                if (H = h[F],
                I = c[F],
                h.hasOwnProperty(F) && H !== I && (H != null || I != null))
                    switch (F) {
                    case "children":
                    case "dangerouslySetInnerHTML":
                        if (H != null)
                            throw Error(r(137, a));
                        break;
                    default:
                        Ie(i, a, F, H, h, I)
                    }
            return;
        default:
            if (Nf(a)) {
                for (var $e in c)
                    H = c[$e],
                    c.hasOwnProperty($e) && H !== void 0 && !h.hasOwnProperty($e) && a0(i, a, $e, void 0, h, H);
                for (P in h)
                    H = h[P],
                    I = c[P],
                    !h.hasOwnProperty(P) || H === I || H === void 0 && I === void 0 || a0(i, a, P, H, h, I);
                return
            }
        }
        for (var L in c)
            H = c[L],
            c.hasOwnProperty(L) && H != null && !h.hasOwnProperty(L) && Ie(i, a, L, null, h, H);
        for (J in h)
            H = h[J],
            I = c[J],
            !h.hasOwnProperty(J) || H === I || H == null && I == null || Ie(i, a, J, H, h, I)
    }
    function Yb(i) {
        switch (i) {
        case "css":
        case "script":
        case "font":
        case "img":
        case "image":
        case "input":
        case "link":
            return !0;
        default:
            return !1
        }
    }
    function VC() {
        if (typeof performance.getEntriesByType == "function") {
            for (var i = 0, a = 0, c = performance.getEntriesByType("resource"), h = 0; h < c.length; h++) {
                var x = c[h]
                  , b = x.transferSize
                  , S = x.initiatorType
                  , j = x.duration;
                if (b && j && Yb(S)) {
                    for (S = 0,
                    j = x.responseEnd,
                    h += 1; h < c.length; h++) {
                        var T = c[h]
                          , F = T.startTime;
                        if (F > j)
                            break;
                        var P = T.transferSize
                          , J = T.initiatorType;
                        P && Yb(J) && (T = T.responseEnd,
                        S += P * (T < j ? 1 : (j - F) / (T - F)))
                    }
                    if (--h,
                    a += 8 * (b + S) / (x.duration / 1e3),
                    i++,
                    10 < i)
                        break
                }
            }
            if (0 < i)
                return a / i / 1e6
        }
        return navigator.connection && (i = navigator.connection.downlink,
        typeof i == "number") ? i : 5
    }
    var o0 = null
      , u0 = null;
    function Iu(i) {
        return i.nodeType === 9 ? i : i.ownerDocument
    }
    function Jb(i) {
        switch (i) {
        case "http://www.w3.org/2000/svg":
            return 1;
        case "http://www.w3.org/1998/Math/MathML":
            return 2;
        default:
            return 0
        }
    }
    function Xb(i, a) {
        if (i === 0)
            switch (a) {
            case "svg":
                return 1;
            case "math":
                return 2;
            default:
                return 0
            }
        return i === 1 && a === "foreignObject" ? 0 : i
    }
    function c0(i, a) {
        return i === "textarea" || i === "noscript" || typeof a.children == "string" || typeof a.children == "number" || typeof a.children == "bigint" || typeof a.dangerouslySetInnerHTML == "object" && a.dangerouslySetInnerHTML !== null && a.dangerouslySetInnerHTML.__html != null
    }
    var d0 = null;
    function GC() {
        var i = window.event;
        return i && i.type === "popstate" ? i === d0 ? !1 : (d0 = i,
        !0) : (d0 = null,
        !1)
    }
    var Qb = typeof setTimeout == "function" ? setTimeout : void 0
      , KC = typeof clearTimeout == "function" ? clearTimeout : void 0
      , Zb = typeof Promise == "function" ? Promise : void 0
      , YC = typeof queueMicrotask == "function" ? queueMicrotask : typeof Zb < "u" ? function(i) {
        return Zb.resolve(null).then(i).catch(JC)
    }
    : Qb;
    function JC(i) {
        setTimeout(function() {
            throw i
        })
    }
    function ps(i) {
        return i === "head"
    }
    function Wb(i, a) {
        var c = a
          , h = 0;
        do {
            var x = c.nextSibling;
            if (i.removeChild(c),
            x && x.nodeType === 8)
                if (c = x.data,
                c === "/$" || c === "/&") {
                    if (h === 0) {
                        i.removeChild(x),
                        xl(a);
                        return
                    }
                    h--
                } else if (c === "$" || c === "$?" || c === "$~" || c === "$!" || c === "&")
                    h++;
                else if (c === "html")
                    Da(i.ownerDocument.documentElement);
                else if (c === "head") {
                    c = i.ownerDocument.head,
                    Da(c);
                    for (var b = c.firstChild; b; ) {
                        var S = b.nextSibling
                          , j = b.nodeName;
                        b[Jl] || j === "SCRIPT" || j === "STYLE" || j === "LINK" && b.rel.toLowerCase() === "stylesheet" || c.removeChild(b),
                        b = S
                    }
                } else
                    c === "body" && Da(i.ownerDocument.body);
            c = x
        } while (c);
        xl(a)
    }
    function ey(i, a) {
        var c = i;
        i = 0;
        do {
            var h = c.nextSibling;
            if (c.nodeType === 1 ? a ? (c._stashedDisplay = c.style.display,
            c.style.display = "none") : (c.style.display = c._stashedDisplay || "",
            c.getAttribute("style") === "" && c.removeAttribute("style")) : c.nodeType === 3 && (a ? (c._stashedText = c.nodeValue,
            c.nodeValue = "") : c.nodeValue = c._stashedText || ""),
            h && h.nodeType === 8)
                if (c = h.data,
                c === "/$") {
                    if (i === 0)
                        break;
                    i--
                } else
                    c !== "$" && c !== "$?" && c !== "$~" && c !== "$!" || i++;
            c = h
        } while (c)
    }
    function f0(i) {
        var a = i.firstChild;
        for (a && a.nodeType === 10 && (a = a.nextSibling); a; ) {
            var c = a;
            switch (a = a.nextSibling,
            c.nodeName) {
            case "HTML":
            case "HEAD":
            case "BODY":
                f0(c),
                xf(c);
                continue;
            case "SCRIPT":
            case "STYLE":
                continue;
            case "LINK":
                if (c.rel.toLowerCase() === "stylesheet")
                    continue
            }
            i.removeChild(c)
        }
    }
    function XC(i, a, c, h) {
        for (; i.nodeType === 1; ) {
            var x = c;
            if (i.nodeName.toLowerCase() !== a.toLowerCase()) {
                if (!h && (i.nodeName !== "INPUT" || i.type !== "hidden"))
                    break
            } else if (h) {
                if (!i[Jl])
                    switch (a) {
                    case "meta":
                        if (!i.hasAttribute("itemprop"))
                            break;
                        return i;
                    case "link":
                        if (b = i.getAttribute("rel"),
                        b === "stylesheet" && i.hasAttribute("data-precedence"))
                            break;
                        if (b !== x.rel || i.getAttribute("href") !== (x.href == null || x.href === "" ? null : x.href) || i.getAttribute("crossorigin") !== (x.crossOrigin == null ? null : x.crossOrigin) || i.getAttribute("title") !== (x.title == null ? null : x.title))
                            break;
                        return i;
                    case "style":
                        if (i.hasAttribute("data-precedence"))
                            break;
                        return i;
                    case "script":
                        if (b = i.getAttribute("src"),
                        (b !== (x.src == null ? null : x.src) || i.getAttribute("type") !== (x.type == null ? null : x.type) || i.getAttribute("crossorigin") !== (x.crossOrigin == null ? null : x.crossOrigin)) && b && i.hasAttribute("async") && !i.hasAttribute("itemprop"))
                            break;
                        return i;
                    default:
                        return i
                    }
            } else if (a === "input" && i.type === "hidden") {
                var b = x.name == null ? null : "" + x.name;
                if (x.type === "hidden" && i.getAttribute("name") === b)
                    return i
            } else
                return i;
            if (i = On(i.nextSibling),
            i === null)
                break
        }
        return null
    }
    function QC(i, a, c) {
        if (a === "")
            return null;
        for (; i.nodeType !== 3; )
            if ((i.nodeType !== 1 || i.nodeName !== "INPUT" || i.type !== "hidden") && !c || (i = On(i.nextSibling),
            i === null))
                return null;
        return i
    }
    function ty(i, a) {
        for (; i.nodeType !== 8; )
            if ((i.nodeType !== 1 || i.nodeName !== "INPUT" || i.type !== "hidden") && !a || (i = On(i.nextSibling),
            i === null))
                return null;
        return i
    }
    function h0(i) {
        return i.data === "$?" || i.data === "$~"
    }
    function p0(i) {
        return i.data === "$!" || i.data === "$?" && i.ownerDocument.readyState !== "loading"
    }
    function ZC(i, a) {
        var c = i.ownerDocument;
        if (i.data === "$~")
            i._reactRetry = a;
        else if (i.data !== "$?" || c.readyState !== "loading")
            a();
        else {
            var h = function() {
                a(),
                c.removeEventListener("DOMContentLoaded", h)
            };
            c.addEventListener("DOMContentLoaded", h),
            i._reactRetry = h
        }
    }
    function On(i) {
        for (; i != null; i = i.nextSibling) {
            var a = i.nodeType;
            if (a === 1 || a === 3)
                break;
            if (a === 8) {
                if (a = i.data,
                a === "$" || a === "$!" || a === "$?" || a === "$~" || a === "&" || a === "F!" || a === "F")
                    break;
                if (a === "/$" || a === "/&")
                    return null
            }
        }
        return i
    }
    var m0 = null;
    function ny(i) {
        i = i.nextSibling;
        for (var a = 0; i; ) {
            if (i.nodeType === 8) {
                var c = i.data;
                if (c === "/$" || c === "/&") {
                    if (a === 0)
                        return On(i.nextSibling);
                    a--
                } else
                    c !== "$" && c !== "$!" && c !== "$?" && c !== "$~" && c !== "&" || a++
            }
            i = i.nextSibling
        }
        return null
    }
    function ry(i) {
        i = i.previousSibling;
        for (var a = 0; i; ) {
            if (i.nodeType === 8) {
                var c = i.data;
                if (c === "$" || c === "$!" || c === "$?" || c === "$~" || c === "&") {
                    if (a === 0)
                        return i;
                    a--
                } else
                    c !== "/$" && c !== "/&" || a++
            }
            i = i.previousSibling
        }
        return null
    }
    function sy(i, a, c) {
        switch (a = Iu(c),
        i) {
        case "html":
            if (i = a.documentElement,
            !i)
                throw Error(r(452));
            return i;
        case "head":
            if (i = a.head,
            !i)
                throw Error(r(453));
            return i;
        case "body":
            if (i = a.body,
            !i)
                throw Error(r(454));
            return i;
        default:
            throw Error(r(451))
        }
    }
    function Da(i) {
        for (var a = i.attributes; a.length; )
            i.removeAttributeNode(a[0]);
        xf(i)
    }
    var Rn = new Map
      , iy = new Set;
    function $u(i) {
        return typeof i.getRootNode == "function" ? i.getRootNode() : i.nodeType === 9 ? i : i.ownerDocument
    }
    var zr = Z.d;
    Z.d = {
        f: WC,
        r: eS,
        D: tS,
        C: nS,
        L: rS,
        m: sS,
        X: lS,
        S: iS,
        M: aS
    };
    function WC() {
        var i = zr.f()
          , a = Ru();
        return i || a
    }
    function eS(i) {
        var a = Li(i);
        a !== null && a.tag === 5 && a.type === "form" ? wx(a) : zr.r(i)
    }
    var pl = typeof document > "u" ? null : document;
    function ly(i, a, c) {
        var h = pl;
        if (h && typeof a == "string" && a) {
            var x = En(a);
            x = 'link[rel="' + i + '"][href="' + x + '"]',
            typeof c == "string" && (x += '[crossorigin="' + c + '"]'),
            iy.has(x) || (iy.add(x),
            i = {
                rel: i,
                crossOrigin: c,
                href: a
            },
            h.querySelector(x) === null && (a = h.createElement("link"),
            Ot(a, "link", i),
            vt(a),
            h.head.appendChild(a)))
        }
    }
    function tS(i) {
        zr.D(i),
        ly("dns-prefetch", i, null)
    }
    function nS(i, a) {
        zr.C(i, a),
        ly("preconnect", i, a)
    }
    function rS(i, a, c) {
        zr.L(i, a, c);
        var h = pl;
        if (h && i && a) {
            var x = 'link[rel="preload"][as="' + En(a) + '"]';
            a === "image" && c && c.imageSrcSet ? (x += '[imagesrcset="' + En(c.imageSrcSet) + '"]',
            typeof c.imageSizes == "string" && (x += '[imagesizes="' + En(c.imageSizes) + '"]')) : x += '[href="' + En(i) + '"]';
            var b = x;
            switch (a) {
            case "style":
                b = ml(i);
                break;
            case "script":
                b = gl(i)
            }
            Rn.has(b) || (i = g({
                rel: "preload",
                href: a === "image" && c && c.imageSrcSet ? void 0 : i,
                as: a
            }, c),
            Rn.set(b, i),
            h.querySelector(x) !== null || a === "style" && h.querySelector(Ma(b)) || a === "script" && h.querySelector(Oa(b)) || (a = h.createElement("link"),
            Ot(a, "link", i),
            vt(a),
            h.head.appendChild(a)))
        }
    }
    function sS(i, a) {
        zr.m(i, a);
        var c = pl;
        if (c && i) {
            var h = a && typeof a.as == "string" ? a.as : "script"
              , x = 'link[rel="modulepreload"][as="' + En(h) + '"][href="' + En(i) + '"]'
              , b = x;
            switch (h) {
            case "audioworklet":
            case "paintworklet":
            case "serviceworker":
            case "sharedworker":
            case "worker":
            case "script":
                b = gl(i)
            }
            if (!Rn.has(b) && (i = g({
                rel: "modulepreload",
                href: i
            }, a),
            Rn.set(b, i),
            c.querySelector(x) === null)) {
                switch (h) {
                case "audioworklet":
                case "paintworklet":
                case "serviceworker":
                case "sharedworker":
                case "worker":
                case "script":
                    if (c.querySelector(Oa(b)))
                        return
                }
                h = c.createElement("link"),
                Ot(h, "link", i),
                vt(h),
                c.head.appendChild(h)
            }
        }
    }
    function iS(i, a, c) {
        zr.S(i, a, c);
        var h = pl;
        if (h && i) {
            var x = Bi(h).hoistableStyles
              , b = ml(i);
            a = a || "default";
            var S = x.get(b);
            if (!S) {
                var j = {
                    loading: 0,
                    preload: null
                };
                if (S = h.querySelector(Ma(b)))
                    j.loading = 5;
                else {
                    i = g({
                        rel: "stylesheet",
                        href: i,
                        "data-precedence": a
                    }, c),
                    (c = Rn.get(b)) && g0(i, c);
                    var T = S = h.createElement("link");
                    vt(T),
                    Ot(T, "link", i),
                    T._p = new Promise(function(F, P) {
                        T.onload = F,
                        T.onerror = P
                    }
                    ),
                    T.addEventListener("load", function() {
                        j.loading |= 1
                    }),
                    T.addEventListener("error", function() {
                        j.loading |= 2
                    }),
                    j.loading |= 4,
                    Pu(S, a, h)
                }
                S = {
                    type: "stylesheet",
                    instance: S,
                    count: 1,
                    state: j
                },
                x.set(b, S)
            }
        }
    }
    function lS(i, a) {
        zr.X(i, a);
        var c = pl;
        if (c && i) {
            var h = Bi(c).hoistableScripts
              , x = gl(i)
              , b = h.get(x);
            b || (b = c.querySelector(Oa(x)),
            b || (i = g({
                src: i,
                async: !0
            }, a),
            (a = Rn.get(x)) && x0(i, a),
            b = c.createElement("script"),
            vt(b),
            Ot(b, "link", i),
            c.head.appendChild(b)),
            b = {
                type: "script",
                instance: b,
                count: 1,
                state: null
            },
            h.set(x, b))
        }
    }
    function aS(i, a) {
        zr.M(i, a);
        var c = pl;
        if (c && i) {
            var h = Bi(c).hoistableScripts
              , x = gl(i)
              , b = h.get(x);
            b || (b = c.querySelector(Oa(x)),
            b || (i = g({
                src: i,
                async: !0,
                type: "module"
            }, a),
            (a = Rn.get(x)) && x0(i, a),
            b = c.createElement("script"),
            vt(b),
            Ot(b, "link", i),
            c.head.appendChild(b)),
            b = {
                type: "script",
                instance: b,
                count: 1,
                state: null
            },
            h.set(x, b))
        }
    }
    function ay(i, a, c, h) {
        var x = (x = Se.current) ? $u(x) : null;
        if (!x)
            throw Error(r(446));
        switch (i) {
        case "meta":
        case "title":
            return null;
        case "style":
            return typeof c.precedence == "string" && typeof c.href == "string" ? (a = ml(c.href),
            c = Bi(x).hoistableStyles,
            h = c.get(a),
            h || (h = {
                type: "style",
                instance: null,
                count: 0,
                state: null
            },
            c.set(a, h)),
            h) : {
                type: "void",
                instance: null,
                count: 0,
                state: null
            };
        case "link":
            if (c.rel === "stylesheet" && typeof c.href == "string" && typeof c.precedence == "string") {
                i = ml(c.href);
                var b = Bi(x).hoistableStyles
                  , S = b.get(i);
                if (S || (x = x.ownerDocument || x,
                S = {
                    type: "stylesheet",
                    instance: null,
                    count: 0,
                    state: {
                        loading: 0,
                        preload: null
                    }
                },
                b.set(i, S),
                (b = x.querySelector(Ma(i))) && !b._p && (S.instance = b,
                S.state.loading = 5),
                Rn.has(i) || (c = {
                    rel: "preload",
                    as: "style",
                    href: c.href,
                    crossOrigin: c.crossOrigin,
                    integrity: c.integrity,
                    media: c.media,
                    hrefLang: c.hrefLang,
                    referrerPolicy: c.referrerPolicy
                },
                Rn.set(i, c),
                b || oS(x, i, c, S.state))),
                a && h === null)
                    throw Error(r(528, ""));
                return S
            }
            if (a && h !== null)
                throw Error(r(529, ""));
            return null;
        case "script":
            return a = c.async,
            c = c.src,
            typeof c == "string" && a && typeof a != "function" && typeof a != "symbol" ? (a = gl(c),
            c = Bi(x).hoistableScripts,
            h = c.get(a),
            h || (h = {
                type: "script",
                instance: null,
                count: 0,
                state: null
            },
            c.set(a, h)),
            h) : {
                type: "void",
                instance: null,
                count: 0,
                state: null
            };
        default:
            throw Error(r(444, i))
        }
    }
    function ml(i) {
        return 'href="' + En(i) + '"'
    }
    function Ma(i) {
        return 'link[rel="stylesheet"][' + i + "]"
    }
    function oy(i) {
        return g({}, i, {
            "data-precedence": i.precedence,
            precedence: null
        })
    }
    function oS(i, a, c, h) {
        i.querySelector('link[rel="preload"][as="style"][' + a + "]") ? h.loading = 1 : (a = i.createElement("link"),
        h.preload = a,
        a.addEventListener("load", function() {
            return h.loading |= 1
        }),
        a.addEventListener("error", function() {
            return h.loading |= 2
        }),
        Ot(a, "link", c),
        vt(a),
        i.head.appendChild(a))
    }
    function gl(i) {
        return '[src="' + En(i) + '"]'
    }
    function Oa(i) {
        return "script[async]" + i
    }
    function uy(i, a, c) {
        if (a.count++,
        a.instance === null)
            switch (a.type) {
            case "style":
                var h = i.querySelector('style[data-href~="' + En(c.href) + '"]');
                if (h)
                    return a.instance = h,
                    vt(h),
                    h;
                var x = g({}, c, {
                    "data-href": c.href,
                    "data-precedence": c.precedence,
                    href: null,
                    precedence: null
                });
                return h = (i.ownerDocument || i).createElement("style"),
                vt(h),
                Ot(h, "style", x),
                Pu(h, c.precedence, i),
                a.instance = h;
            case "stylesheet":
                x = ml(c.href);
                var b = i.querySelector(Ma(x));
                if (b)
                    return a.state.loading |= 4,
                    a.instance = b,
                    vt(b),
                    b;
                h = oy(c),
                (x = Rn.get(x)) && g0(h, x),
                b = (i.ownerDocument || i).createElement("link"),
                vt(b);
                var S = b;
                return S._p = new Promise(function(j, T) {
                    S.onload = j,
                    S.onerror = T
                }
                ),
                Ot(b, "link", h),
                a.state.loading |= 4,
                Pu(b, c.precedence, i),
                a.instance = b;
            case "script":
                return b = gl(c.src),
                (x = i.querySelector(Oa(b))) ? (a.instance = x,
                vt(x),
                x) : (h = c,
                (x = Rn.get(b)) && (h = g({}, c),
                x0(h, x)),
                i = i.ownerDocument || i,
                x = i.createElement("script"),
                vt(x),
                Ot(x, "link", h),
                i.head.appendChild(x),
                a.instance = x);
            case "void":
                return null;
            default:
                throw Error(r(443, a.type))
            }
        else
            a.type === "stylesheet" && (a.state.loading & 4) === 0 && (h = a.instance,
            a.state.loading |= 4,
            Pu(h, c.precedence, i));
        return a.instance
    }
    function Pu(i, a, c) {
        for (var h = c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'), x = h.length ? h[h.length - 1] : null, b = x, S = 0; S < h.length; S++) {
            var j = h[S];
            if (j.dataset.precedence === a)
                b = j;
            else if (b !== x)
                break
        }
        b ? b.parentNode.insertBefore(i, b.nextSibling) : (a = c.nodeType === 9 ? c.head : c,
        a.insertBefore(i, a.firstChild))
    }
    function g0(i, a) {
        i.crossOrigin == null && (i.crossOrigin = a.crossOrigin),
        i.referrerPolicy == null && (i.referrerPolicy = a.referrerPolicy),
        i.title == null && (i.title = a.title)
    }
    function x0(i, a) {
        i.crossOrigin == null && (i.crossOrigin = a.crossOrigin),
        i.referrerPolicy == null && (i.referrerPolicy = a.referrerPolicy),
        i.integrity == null && (i.integrity = a.integrity)
    }
    var Vu = null;
    function cy(i, a, c) {
        if (Vu === null) {
            var h = new Map
              , x = Vu = new Map;
            x.set(c, h)
        } else
            x = Vu,
            h = x.get(c),
            h || (h = new Map,
            x.set(c, h));
        if (h.has(i))
            return h;
        for (h.set(i, null),
        c = c.getElementsByTagName(i),
        x = 0; x < c.length; x++) {
            var b = c[x];
            if (!(b[Jl] || b[_t] || i === "link" && b.getAttribute("rel") === "stylesheet") && b.namespaceURI !== "http://www.w3.org/2000/svg") {
                var S = b.getAttribute(a) || "";
                S = i + S;
                var j = h.get(S);
                j ? j.push(b) : h.set(S, [b])
            }
        }
        return h
    }
    function dy(i, a, c) {
        i = i.ownerDocument || i,
        i.head.insertBefore(c, a === "title" ? i.querySelector("head > title") : null)
    }
    function uS(i, a, c) {
        if (c === 1 || a.itemProp != null)
            return !1;
        switch (i) {
        case "meta":
        case "title":
            return !0;
        case "style":
            if (typeof a.precedence != "string" || typeof a.href != "string" || a.href === "")
                break;
            return !0;
        case "link":
            if (typeof a.rel != "string" || typeof a.href != "string" || a.href === "" || a.onLoad || a.onError)
                break;
            return a.rel === "stylesheet" ? (i = a.disabled,
            typeof a.precedence == "string" && i == null) : !0;
        case "script":
            if (a.async && typeof a.async != "function" && typeof a.async != "symbol" && !a.onLoad && !a.onError && a.src && typeof a.src == "string")
                return !0
        }
        return !1
    }
    function fy(i) {
        return !(i.type === "stylesheet" && (i.state.loading & 3) === 0)
    }
    function cS(i, a, c, h) {
        if (c.type === "stylesheet" && (typeof h.media != "string" || matchMedia(h.media).matches !== !1) && (c.state.loading & 4) === 0) {
            if (c.instance === null) {
                var x = ml(h.href)
                  , b = a.querySelector(Ma(x));
                if (b) {
                    a = b._p,
                    a !== null && typeof a == "object" && typeof a.then == "function" && (i.count++,
                    i = Gu.bind(i),
                    a.then(i, i)),
                    c.state.loading |= 4,
                    c.instance = b,
                    vt(b);
                    return
                }
                b = a.ownerDocument || a,
                h = oy(h),
                (x = Rn.get(x)) && g0(h, x),
                b = b.createElement("link"),
                vt(b);
                var S = b;
                S._p = new Promise(function(j, T) {
                    S.onload = j,
                    S.onerror = T
                }
                ),
                Ot(b, "link", h),
                c.instance = b
            }
            i.stylesheets === null && (i.stylesheets = new Map),
            i.stylesheets.set(c, a),
            (a = c.state.preload) && (c.state.loading & 3) === 0 && (i.count++,
            c = Gu.bind(i),
            a.addEventListener("load", c),
            a.addEventListener("error", c))
        }
    }
    var b0 = 0;
    function dS(i, a) {
        return i.stylesheets && i.count === 0 && Yu(i, i.stylesheets),
        0 < i.count || 0 < i.imgCount ? function(c) {
            var h = setTimeout(function() {
                if (i.stylesheets && Yu(i, i.stylesheets),
                i.unsuspend) {
                    var b = i.unsuspend;
                    i.unsuspend = null,
                    b()
                }
            }, 6e4 + a);
            0 < i.imgBytes && b0 === 0 && (b0 = 62500 * VC());
            var x = setTimeout(function() {
                if (i.waitingForImages = !1,
                i.count === 0 && (i.stylesheets && Yu(i, i.stylesheets),
                i.unsuspend)) {
                    var b = i.unsuspend;
                    i.unsuspend = null,
                    b()
                }
            }, (i.imgBytes > b0 ? 50 : 800) + a);
            return i.unsuspend = c,
            function() {
                i.unsuspend = null,
                clearTimeout(h),
                clearTimeout(x)
            }
        }
        : null
    }
    function Gu() {
        if (this.count--,
        this.count === 0 && (this.imgCount === 0 || !this.waitingForImages)) {
            if (this.stylesheets)
                Yu(this, this.stylesheets);
            else if (this.unsuspend) {
                var i = this.unsuspend;
                this.unsuspend = null,
                i()
            }
        }
    }
    var Ku = null;
    function Yu(i, a) {
        i.stylesheets = null,
        i.unsuspend !== null && (i.count++,
        Ku = new Map,
        a.forEach(fS, i),
        Ku = null,
        Gu.call(i))
    }
    function fS(i, a) {
        if (!(a.state.loading & 4)) {
            var c = Ku.get(i);
            if (c)
                var h = c.get(null);
            else {
                c = new Map,
                Ku.set(i, c);
                for (var x = i.querySelectorAll("link[data-precedence],style[data-precedence]"), b = 0; b < x.length; b++) {
                    var S = x[b];
                    (S.nodeName === "LINK" || S.getAttribute("media") !== "not all") && (c.set(S.dataset.precedence, S),
                    h = S)
                }
                h && c.set(null, h)
            }
            x = a.instance,
            S = x.getAttribute("data-precedence"),
            b = c.get(S) || h,
            b === h && c.set(null, x),
            c.set(S, x),
            this.count++,
            h = Gu.bind(this),
            x.addEventListener("load", h),
            x.addEventListener("error", h),
            b ? b.parentNode.insertBefore(x, b.nextSibling) : (i = i.nodeType === 9 ? i.head : i,
            i.insertBefore(x, i.firstChild)),
            a.state.loading |= 4
        }
    }
    var Ra = {
        $$typeof: _,
        Provider: null,
        Consumer: null,
        _currentValue: ae,
        _currentValue2: ae,
        _threadCount: 0
    };
    function hS(i, a, c, h, x, b, S, j, T) {
        this.tag = 1,
        this.containerInfo = i,
        this.pingCache = this.current = this.pendingChildren = null,
        this.timeoutHandle = -1,
        this.callbackNode = this.next = this.pendingContext = this.context = this.cancelPendingCommit = null,
        this.callbackPriority = 0,
        this.expirationTimes = hf(-1),
        this.entangledLanes = this.shellSuspendCounter = this.errorRecoveryDisabledLanes = this.expiredLanes = this.warmLanes = this.pingedLanes = this.suspendedLanes = this.pendingLanes = 0,
        this.entanglements = hf(0),
        this.hiddenUpdates = hf(null),
        this.identifierPrefix = h,
        this.onUncaughtError = x,
        this.onCaughtError = b,
        this.onRecoverableError = S,
        this.pooledCache = null,
        this.pooledCacheLanes = 0,
        this.formState = T,
        this.incompleteTransitions = new Map
    }
    function hy(i, a, c, h, x, b, S, j, T, F, P, J) {
        return i = new hS(i,a,c,S,T,F,P,J,j),
        a = 1,
        b === !0 && (a |= 24),
        b = pn(3, null, null, a),
        i.current = b,
        b.stateNode = i,
        a = Qf(),
        a.refCount++,
        i.pooledCache = a,
        a.refCount++,
        b.memoizedState = {
            element: h,
            isDehydrated: c,
            cache: a
        },
        th(b),
        i
    }
    function py(i) {
        return i ? (i = Ki,
        i) : Ki
    }
    function my(i, a, c, h, x, b) {
        x = py(x),
        h.context === null ? h.context = x : h.pendingContext = x,
        h = ns(a),
        h.payload = {
            element: c
        },
        b = b === void 0 ? null : b,
        b !== null && (h.callback = b),
        c = rs(i, h, a),
        c !== null && (rn(c, i, a),
        fa(c, i, a))
    }
    function gy(i, a) {
        if (i = i.memoizedState,
        i !== null && i.dehydrated !== null) {
            var c = i.retryLane;
            i.retryLane = c !== 0 && c < a ? c : a
        }
    }
    function y0(i, a) {
        gy(i, a),
        (i = i.alternate) && gy(i, a)
    }
    function xy(i) {
        if (i.tag === 13 || i.tag === 31) {
            var a = Qs(i, 67108864);
            a !== null && rn(a, i, 67108864),
            y0(i, 67108864)
        }
    }
    function by(i) {
        if (i.tag === 13 || i.tag === 31) {
            var a = yn();
            a = pf(a);
            var c = Qs(i, a);
            c !== null && rn(c, i, a),
            y0(i, a)
        }
    }
    var Ju = !0;
    function pS(i, a, c, h) {
        var x = q.T;
        q.T = null;
        var b = Z.p;
        try {
            Z.p = 2,
            v0(i, a, c, h)
        } finally {
            Z.p = b,
            q.T = x
        }
    }
    function mS(i, a, c, h) {
        var x = q.T;
        q.T = null;
        var b = Z.p;
        try {
            Z.p = 8,
            v0(i, a, c, h)
        } finally {
            Z.p = b,
            q.T = x
        }
    }
    function v0(i, a, c, h) {
        if (Ju) {
            var x = N0(h);
            if (x === null)
                l0(i, a, h, Xu, c),
                vy(i, h);
            else if (xS(x, i, a, c, h))
                h.stopPropagation();
            else if (vy(i, h),
            a & 4 && -1 < gS.indexOf(i)) {
                for (; x !== null; ) {
                    var b = Li(x);
                    if (b !== null)
                        switch (b.tag) {
                        case 3:
                            if (b = b.stateNode,
                            b.current.memoizedState.isDehydrated) {
                                var S = Gs(b.pendingLanes);
                                if (S !== 0) {
                                    var j = b;
                                    for (j.pendingLanes |= 2,
                                    j.entangledLanes |= 2; S; ) {
                                        var T = 1 << 31 - fn(S);
                                        j.entanglements[1] |= T,
                                        S &= ~T
                                    }
                                    nr(b),
                                    (Re & 6) === 0 && (Mu = cn() + 500,
                                    Aa(0))
                                }
                            }
                            break;
                        case 31:
                        case 13:
                            j = Qs(b, 2),
                            j !== null && rn(j, b, 2),
                            Ru(),
                            y0(b, 2)
                        }
                    if (b = N0(h),
                    b === null && l0(i, a, h, Xu, c),
                    b === x)
                        break;
                    x = b
                }
                x !== null && h.stopPropagation()
            } else
                l0(i, a, h, null, c)
        }
    }
    function N0(i) {
        return i = Cf(i),
        w0(i)
    }
    var Xu = null;
    function w0(i) {
        if (Xu = null,
        i = zi(i),
        i !== null) {
            var a = l(i);
            if (a === null)
                i = null;
            else {
                var c = a.tag;
                if (c === 13) {
                    if (i = o(a),
                    i !== null)
                        return i;
                    i = null
                } else if (c === 31) {
                    if (i = u(a),
                    i !== null)
                        return i;
                    i = null
                } else if (c === 3) {
                    if (a.stateNode.current.memoizedState.isDehydrated)
                        return a.tag === 3 ? a.stateNode.containerInfo : null;
                    i = null
                } else
                    a !== i && (i = null)
            }
        }
        return Xu = i,
        null
    }
    function yy(i) {
        switch (i) {
        case "beforetoggle":
        case "cancel":
        case "click":
        case "close":
        case "contextmenu":
        case "copy":
        case "cut":
        case "auxclick":
        case "dblclick":
        case "dragend":
        case "dragstart":
        case "drop":
        case "focusin":
        case "focusout":
        case "input":
        case "invalid":
        case "keydown":
        case "keypress":
        case "keyup":
        case "mousedown":
        case "mouseup":
        case "paste":
        case "pause":
        case "play":
        case "pointercancel":
        case "pointerdown":
        case "pointerup":
        case "ratechange":
        case "reset":
        case "resize":
        case "seeked":
        case "submit":
        case "toggle":
        case "touchcancel":
        case "touchend":
        case "touchstart":
        case "volumechange":
        case "change":
        case "selectionchange":
        case "textInput":
        case "compositionstart":
        case "compositionend":
        case "compositionupdate":
        case "beforeblur":
        case "afterblur":
        case "beforeinput":
        case "blur":
        case "fullscreenchange":
        case "focus":
        case "hashchange":
        case "popstate":
        case "select":
        case "selectstart":
            return 2;
        case "drag":
        case "dragenter":
        case "dragexit":
        case "dragleave":
        case "dragover":
        case "mousemove":
        case "mouseout":
        case "mouseover":
        case "pointermove":
        case "pointerout":
        case "pointerover":
        case "scroll":
        case "touchmove":
        case "wheel":
        case "mouseenter":
        case "mouseleave":
        case "pointerenter":
        case "pointerleave":
            return 8;
        case "message":
            switch (tw()) {
            case kg:
                return 2;
            case Ag:
                return 8;
            case Ho:
            case nw:
                return 32;
            case _g:
                return 268435456;
            default:
                return 32
            }
        default:
            return 32
        }
    }
    var C0 = !1
      , ms = null
      , gs = null
      , xs = null
      , za = new Map
      , La = new Map
      , bs = []
      , gS = "mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");
    function vy(i, a) {
        switch (i) {
        case "focusin":
        case "focusout":
            ms = null;
            break;
        case "dragenter":
        case "dragleave":
            gs = null;
            break;
        case "mouseover":
        case "mouseout":
            xs = null;
            break;
        case "pointerover":
        case "pointerout":
            za.delete(a.pointerId);
            break;
        case "gotpointercapture":
        case "lostpointercapture":
            La.delete(a.pointerId)
        }
    }
    function Ba(i, a, c, h, x, b) {
        return i === null || i.nativeEvent !== b ? (i = {
            blockedOn: a,
            domEventName: c,
            eventSystemFlags: h,
            nativeEvent: b,
            targetContainers: [x]
        },
        a !== null && (a = Li(a),
        a !== null && xy(a)),
        i) : (i.eventSystemFlags |= h,
        a = i.targetContainers,
        x !== null && a.indexOf(x) === -1 && a.push(x),
        i)
    }
    function xS(i, a, c, h, x) {
        switch (a) {
        case "focusin":
            return ms = Ba(ms, i, a, c, h, x),
            !0;
        case "dragenter":
            return gs = Ba(gs, i, a, c, h, x),
            !0;
        case "mouseover":
            return xs = Ba(xs, i, a, c, h, x),
            !0;
        case "pointerover":
            var b = x.pointerId;
            return za.set(b, Ba(za.get(b) || null, i, a, c, h, x)),
            !0;
        case "gotpointercapture":
            return b = x.pointerId,
            La.set(b, Ba(La.get(b) || null, i, a, c, h, x)),
            !0
        }
        return !1
    }
    function Ny(i) {
        var a = zi(i.target);
        if (a !== null) {
            var c = l(a);
            if (c !== null) {
                if (a = c.tag,
                a === 13) {
                    if (a = o(c),
                    a !== null) {
                        i.blockedOn = a,
                        zg(i.priority, function() {
                            by(c)
                        });
                        return
                    }
                } else if (a === 31) {
                    if (a = u(c),
                    a !== null) {
                        i.blockedOn = a,
                        zg(i.priority, function() {
                            by(c)
                        });
                        return
                    }
                } else if (a === 3 && c.stateNode.current.memoizedState.isDehydrated) {
                    i.blockedOn = c.tag === 3 ? c.stateNode.containerInfo : null;
                    return
                }
            }
        }
        i.blockedOn = null
    }
    function Qu(i) {
        if (i.blockedOn !== null)
            return !1;
        for (var a = i.targetContainers; 0 < a.length; ) {
            var c = N0(i.nativeEvent);
            if (c === null) {
                c = i.nativeEvent;
                var h = new c.constructor(c.type,c);
                wf = h,
                c.target.dispatchEvent(h),
                wf = null
            } else
                return a = Li(c),
                a !== null && xy(a),
                i.blockedOn = c,
                !1;
            a.shift()
        }
        return !0
    }
    function wy(i, a, c) {
        Qu(i) && c.delete(a)
    }
    function bS() {
        C0 = !1,
        ms !== null && Qu(ms) && (ms = null),
        gs !== null && Qu(gs) && (gs = null),
        xs !== null && Qu(xs) && (xs = null),
        za.forEach(wy),
        La.forEach(wy)
    }
    function Zu(i, a) {
        i.blockedOn === a && (i.blockedOn = null,
        C0 || (C0 = !0,
        t.unstable_scheduleCallback(t.unstable_NormalPriority, bS)))
    }
    var Wu = null;
    function Cy(i) {
        Wu !== i && (Wu = i,
        t.unstable_scheduleCallback(t.unstable_NormalPriority, function() {
            Wu === i && (Wu = null);
            for (var a = 0; a < i.length; a += 3) {
                var c = i[a]
                  , h = i[a + 1]
                  , x = i[a + 2];
                if (typeof h != "function") {
                    if (w0(h || c) === null)
                        continue;
                    break
                }
                var b = Li(c);
                b !== null && (i.splice(a, 3),
                a -= 3,
                Nh(b, {
                    pending: !0,
                    data: x,
                    method: c.method,
                    action: h
                }, h, x))
            }
        }))
    }
    function xl(i) {
        function a(T) {
            return Zu(T, i)
        }
        ms !== null && Zu(ms, i),
        gs !== null && Zu(gs, i),
        xs !== null && Zu(xs, i),
        za.forEach(a),
        La.forEach(a);
        for (var c = 0; c < bs.length; c++) {
            var h = bs[c];
            h.blockedOn === i && (h.blockedOn = null)
        }
        for (; 0 < bs.length && (c = bs[0],
        c.blockedOn === null); )
            Ny(c),
            c.blockedOn === null && bs.shift();
        if (c = (i.ownerDocument || i).$$reactFormReplay,
        c != null)
            for (h = 0; h < c.length; h += 3) {
                var x = c[h]
                  , b = c[h + 1]
                  , S = x[Qt] || null;
                if (typeof b == "function")
                    S || Cy(c);
                else if (S) {
                    var j = null;
                    if (b && b.hasAttribute("formAction")) {
                        if (x = b,
                        S = b[Qt] || null)
                            j = S.formAction;
                        else if (w0(x) !== null)
                            continue
                    } else
                        j = S.action;
                    typeof j == "function" ? c[h + 1] = j : (c.splice(h, 3),
                    h -= 3),
                    Cy(c)
                }
            }
    }
    function Sy() {
        function i(b) {
            b.canIntercept && b.info === "react-transition" && b.intercept({
                handler: function() {
                    return new Promise(function(S) {
                        return x = S
                    }
                    )
                },
                focusReset: "manual",
                scroll: "manual"
            })
        }
        function a() {
            x !== null && (x(),
            x = null),
            h || setTimeout(c, 20)
        }
        function c() {
            if (!h && !navigation.transition) {
                var b = navigation.currentEntry;
                b && b.url != null && navigation.navigate(b.url, {
                    state: b.getState(),
                    info: "react-transition",
                    history: "replace"
                })
            }
        }
        if (typeof navigation == "object") {
            var h = !1
              , x = null;
            return navigation.addEventListener("navigate", i),
            navigation.addEventListener("navigatesuccess", a),
            navigation.addEventListener("navigateerror", a),
            setTimeout(c, 100),
            function() {
                h = !0,
                navigation.removeEventListener("navigate", i),
                navigation.removeEventListener("navigatesuccess", a),
                navigation.removeEventListener("navigateerror", a),
                x !== null && (x(),
                x = null)
            }
        }
    }
    function S0(i) {
        this._internalRoot = i
    }
    ec.prototype.render = S0.prototype.render = function(i) {
        var a = this._internalRoot;
        if (a === null)
            throw Error(r(409));
        var c = a.current
          , h = yn();
        my(c, h, i, a, null, null)
    }
    ,
    ec.prototype.unmount = S0.prototype.unmount = function() {
        var i = this._internalRoot;
        if (i !== null) {
            this._internalRoot = null;
            var a = i.containerInfo;
            my(i.current, 2, null, i, null, null),
            Ru(),
            a[Ri] = null
        }
    }
    ;
    function ec(i) {
        this._internalRoot = i
    }
    ec.prototype.unstable_scheduleHydration = function(i) {
        if (i) {
            var a = Rg();
            i = {
                blockedOn: null,
                target: i,
                priority: a
            };
            for (var c = 0; c < bs.length && a !== 0 && a < bs[c].priority; c++)
                ;
            bs.splice(c, 0, i),
            c === 0 && Ny(i)
        }
    }
    ;
    var jy = e.version;
    if (jy !== "19.2.3")
        throw Error(r(527, jy, "19.2.3"));
    Z.findDOMNode = function(i) {
        var a = i._reactInternals;
        if (a === void 0)
            throw typeof i.render == "function" ? Error(r(188)) : (i = Object.keys(i).join(","),
            Error(r(268, i)));
        return i = p(a),
        i = i !== null ? m(i) : null,
        i = i === null ? null : i.stateNode,
        i
    }
    ;
    var yS = {
        bundleType: 0,
        version: "19.2.3",
        rendererPackageName: "react-dom",
        currentDispatcherRef: q,
        reconcilerVersion: "19.2.3"
    };
    if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ < "u") {
        var tc = __REACT_DEVTOOLS_GLOBAL_HOOK__;
        if (!tc.isDisabled && tc.supportsFiber)
            try {
                Gl = tc.inject(yS),
                dn = tc
            } catch {}
    }
    return Ha.createRoot = function(i, a) {
        if (!s(i))
            throw Error(r(299));
        var c = !1
          , h = ""
          , x = Mx
          , b = Ox
          , S = Rx;
        return a != null && (a.unstable_strictMode === !0 && (c = !0),
        a.identifierPrefix !== void 0 && (h = a.identifierPrefix),
        a.onUncaughtError !== void 0 && (x = a.onUncaughtError),
        a.onCaughtError !== void 0 && (b = a.onCaughtError),
        a.onRecoverableError !== void 0 && (S = a.onRecoverableError)),
        a = hy(i, 1, !1, null, null, c, h, null, x, b, S, Sy),
        i[Ri] = a.current,
        i0(i),
        new S0(a)
    }
    ,
    Ha.hydrateRoot = function(i, a, c) {
        if (!s(i))
            throw Error(r(299));
        var h = !1
          , x = ""
          , b = Mx
          , S = Ox
          , j = Rx
          , T = null;
        return c != null && (c.unstable_strictMode === !0 && (h = !0),
        c.identifierPrefix !== void 0 && (x = c.identifierPrefix),
        c.onUncaughtError !== void 0 && (b = c.onUncaughtError),
        c.onCaughtError !== void 0 && (S = c.onCaughtError),
        c.onRecoverableError !== void 0 && (j = c.onRecoverableError),
        c.formState !== void 0 && (T = c.formState)),
        a = hy(i, 1, !0, a, c ?? null, h, x, T, b, S, j, Sy),
        a.context = py(null),
        c = a.current,
        h = yn(),
        h = pf(h),
        x = ns(h),
        x.callback = null,
        rs(c, x, h),
        c = h,
        a.current.lanes = c,
        Yl(a, c),
        nr(a),
        i[Ri] = a.current,
        i0(i),
        new ec(a)
    }
    ,
    Ha.version = "19.2.3",
    Ha
}
var zy;
function AS() {
    if (zy)
        return k0.exports;
    zy = 1;
    function t() {
        if (!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ > "u" || typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE != "function"))
            try {
                __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)
            } catch (e) {
                console.error(e)
            }
    }
    return t(),
    k0.exports = kS(),
    k0.exports
}
var _S = AS();
const TS = xm(_S);
function u3(t, e) {
    return function() {
        return t.apply(e, arguments)
    }
}
const {toString: DS} = Object.prototype
  , {getPrototypeOf: ym} = Object
  , {iterator: Ad, toStringTag: c3} = Symbol
  , _d = (t => e => {
    const n = DS.call(e);
    return t[n] || (t[n] = n.slice(8, -1).toLowerCase())
}
)(Object.create(null))
  , Xn = t => (t = t.toLowerCase(),
e => _d(e) === t)
  , Td = t => e => typeof e === t
  , {isArray: Fl} = Array
  , Tl = Td("undefined");
function Co(t) {
    return t !== null && !Tl(t) && t.constructor !== null && !Tl(t.constructor) && ln(t.constructor.isBuffer) && t.constructor.isBuffer(t)
}
const d3 = Xn("ArrayBuffer");
function MS(t) {
    let e;
    return typeof ArrayBuffer < "u" && ArrayBuffer.isView ? e = ArrayBuffer.isView(t) : e = t && t.buffer && d3(t.buffer),
    e
}
const OS = Td("string")
  , ln = Td("function")
  , f3 = Td("number")
  , So = t => t !== null && typeof t == "object"
  , RS = t => t === !0 || t === !1
  , wc = t => {
    if (_d(t) !== "object")
        return !1;
    const e = ym(t);
    return (e === null || e === Object.prototype || Object.getPrototypeOf(e) === null) && !(c3 in t) && !(Ad in t)
}
  , zS = t => {
    if (!So(t) || Co(t))
        return !1;
    try {
        return Object.keys(t).length === 0 && Object.getPrototypeOf(t) === Object.prototype
    } catch {
        return !1
    }
}
  , LS = Xn("Date")
  , BS = Xn("File")
  , FS = Xn("Blob")
  , HS = Xn("FileList")
  , US = t => So(t) && ln(t.pipe)
  , qS = t => {
    let e;
    return t && (typeof FormData == "function" && t instanceof FormData || ln(t.append) && ((e = _d(t)) === "formdata" || e === "object" && ln(t.toString) && t.toString() === "[object FormData]"))
}
  , IS = Xn("URLSearchParams")
  , [$S,PS,VS,GS] = ["ReadableStream", "Request", "Response", "Headers"].map(Xn)
  , KS = t => t.trim ? t.trim() : t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "");
function jo(t, e, {allOwnKeys: n=!1}={}) {
    if (t === null || typeof t > "u")
        return;
    let r, s;
    if (typeof t != "object" && (t = [t]),
    Fl(t))
        for (r = 0,
        s = t.length; r < s; r++)
            e.call(null, t[r], r, t);
    else {
        if (Co(t))
            return;
        const l = n ? Object.getOwnPropertyNames(t) : Object.keys(t)
          , o = l.length;
        let u;
        for (r = 0; r < o; r++)
            u = l[r],
            e.call(null, t[u], u, t)
    }
}
function h3(t, e) {
    if (Co(t))
        return null;
    e = e.toLowerCase();
    const n = Object.keys(t);
    let r = n.length, s;
    for (; r-- > 0; )
        if (s = n[r],
        e === s.toLowerCase())
            return s;
    return null
}
const hi = typeof globalThis < "u" ? globalThis : typeof self < "u" ? self : typeof window < "u" ? window : global
  , p3 = t => !Tl(t) && t !== hi;
function Cp() {
    const {caseless: t, skipUndefined: e} = p3(this) && this || {}
      , n = {}
      , r = (s, l) => {
        const o = t && h3(n, l) || l;
        wc(n[o]) && wc(s) ? n[o] = Cp(n[o], s) : wc(s) ? n[o] = Cp({}, s) : Fl(s) ? n[o] = s.slice() : (!e || !Tl(s)) && (n[o] = s)
    }
    ;
    for (let s = 0, l = arguments.length; s < l; s++)
        arguments[s] && jo(arguments[s], r);
    return n
}
const YS = (t, e, n, {allOwnKeys: r}={}) => (jo(e, (s, l) => {
    n && ln(s) ? t[l] = u3(s, n) : t[l] = s
}
, {
    allOwnKeys: r
}),
t)
  , JS = t => (t.charCodeAt(0) === 65279 && (t = t.slice(1)),
t)
  , XS = (t, e, n, r) => {
    t.prototype = Object.create(e.prototype, r),
    t.prototype.constructor = t,
    Object.defineProperty(t, "super", {
        value: e.prototype
    }),
    n && Object.assign(t.prototype, n)
}
  , QS = (t, e, n, r) => {
    let s, l, o;
    const u = {};
    if (e = e || {},
    t == null)
        return e;
    do {
        for (s = Object.getOwnPropertyNames(t),
        l = s.length; l-- > 0; )
            o = s[l],
            (!r || r(o, t, e)) && !u[o] && (e[o] = t[o],
            u[o] = !0);
        t = n !== !1 && ym(t)
    } while (t && (!n || n(t, e)) && t !== Object.prototype);
    return e
}
  , ZS = (t, e, n) => {
    t = String(t),
    (n === void 0 || n > t.length) && (n = t.length),
    n -= e.length;
    const r = t.indexOf(e, n);
    return r !== -1 && r === n
}
  , WS = t => {
    if (!t)
        return null;
    if (Fl(t))
        return t;
    let e = t.length;
    if (!f3(e))
        return null;
    const n = new Array(e);
    for (; e-- > 0; )
        n[e] = t[e];
    return n
}
  , ej = (t => e => t && e instanceof t)(typeof Uint8Array < "u" && ym(Uint8Array))
  , tj = (t, e) => {
    const r = (t && t[Ad]).call(t);
    let s;
    for (; (s = r.next()) && !s.done; ) {
        const l = s.value;
        e.call(t, l[0], l[1])
    }
}
  , nj = (t, e) => {
    let n;
    const r = [];
    for (; (n = t.exec(e)) !== null; )
        r.push(n);
    return r
}
  , rj = Xn("HTMLFormElement")
  , sj = t => t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g, function(n, r, s) {
    return r.toUpperCase() + s
})
  , Ly = ( ({hasOwnProperty: t}) => (e, n) => t.call(e, n))(Object.prototype)
  , ij = Xn("RegExp")
  , m3 = (t, e) => {
    const n = Object.getOwnPropertyDescriptors(t)
      , r = {};
    jo(n, (s, l) => {
        let o;
        (o = e(s, l, t)) !== !1 && (r[l] = o || s)
    }
    ),
    Object.defineProperties(t, r)
}
  , lj = t => {
    m3(t, (e, n) => {
        if (ln(t) && ["arguments", "caller", "callee"].indexOf(n) !== -1)
            return !1;
        const r = t[n];
        if (ln(r)) {
            if (e.enumerable = !1,
            "writable"in e) {
                e.writable = !1;
                return
            }
            e.set || (e.set = () => {
                throw Error("Can not rewrite read-only method '" + n + "'")
            }
            )
        }
    }
    )
}
  , aj = (t, e) => {
    const n = {}
      , r = s => {
        s.forEach(l => {
            n[l] = !0
        }
        )
    }
    ;
    return Fl(t) ? r(t) : r(String(t).split(e)),
    n
}
  , oj = () => {}
  , uj = (t, e) => t != null && Number.isFinite(t = +t) ? t : e;
function cj(t) {
    return !!(t && ln(t.append) && t[c3] === "FormData" && t[Ad])
}
const dj = t => {
    const e = new Array(10)
      , n = (r, s) => {
        if (So(r)) {
            if (e.indexOf(r) >= 0)
                return;
            if (Co(r))
                return r;
            if (!("toJSON"in r)) {
                e[s] = r;
                const l = Fl(r) ? [] : {};
                return jo(r, (o, u) => {
                    const f = n(o, s + 1);
                    !Tl(f) && (l[u] = f)
                }
                ),
                e[s] = void 0,
                l
            }
        }
        return r
    }
    ;
    return n(t, 0)
}
  , fj = Xn("AsyncFunction")
  , hj = t => t && (So(t) || ln(t)) && ln(t.then) && ln(t.catch)
  , g3 = ( (t, e) => t ? setImmediate : e ? ( (n, r) => (hi.addEventListener("message", ({source: s, data: l}) => {
    s === hi && l === n && r.length && r.shift()()
}
, !1),
s => {
    r.push(s),
    hi.postMessage(n, "*")
}
))(`axios@${Math.random()}`, []) : n => setTimeout(n))(typeof setImmediate == "function", ln(hi.postMessage))
  , pj = typeof queueMicrotask < "u" ? queueMicrotask.bind(hi) : typeof process < "u" && process.nextTick || g3
  , mj = t => t != null && ln(t[Ad])
  , U = {
    isArray: Fl,
    isArrayBuffer: d3,
    isBuffer: Co,
    isFormData: qS,
    isArrayBufferView: MS,
    isString: OS,
    isNumber: f3,
    isBoolean: RS,
    isObject: So,
    isPlainObject: wc,
    isEmptyObject: zS,
    isReadableStream: $S,
    isRequest: PS,
    isResponse: VS,
    isHeaders: GS,
    isUndefined: Tl,
    isDate: LS,
    isFile: BS,
    isBlob: FS,
    isRegExp: ij,
    isFunction: ln,
    isStream: US,
    isURLSearchParams: IS,
    isTypedArray: ej,
    isFileList: HS,
    forEach: jo,
    merge: Cp,
    extend: YS,
    trim: KS,
    stripBOM: JS,
    inherits: XS,
    toFlatObject: QS,
    kindOf: _d,
    kindOfTest: Xn,
    endsWith: ZS,
    toArray: WS,
    forEachEntry: tj,
    matchAll: nj,
    isHTMLForm: rj,
    hasOwnProperty: Ly,
    hasOwnProp: Ly,
    reduceDescriptors: m3,
    freezeMethods: lj,
    toObjectSet: aj,
    toCamelCase: sj,
    noop: oj,
    toFiniteNumber: uj,
    findKey: h3,
    global: hi,
    isContextDefined: p3,
    isSpecCompliantForm: cj,
    toJSONObject: dj,
    isAsyncFn: fj,
    isThenable: hj,
    setImmediate: g3,
    asap: pj,
    isIterable: mj
};
function be(t, e, n, r, s) {
    Error.call(this),
    Error.captureStackTrace ? Error.captureStackTrace(this, this.constructor) : this.stack = new Error().stack,
    this.message = t,
    this.name = "AxiosError",
    e && (this.code = e),
    n && (this.config = n),
    r && (this.request = r),
    s && (this.response = s,
    this.status = s.status ? s.status : null)
}
U.inherits(be, Error, {
    toJSON: function() {
        return {
            message: this.message,
            name: this.name,
            description: this.description,
            number: this.number,
            fileName: this.fileName,
            lineNumber: this.lineNumber,
            columnNumber: this.columnNumber,
            stack: this.stack,
            config: U.toJSONObject(this.config),
            code: this.code,
            status: this.status
        }
    }
});
const x3 = be.prototype
  , b3 = {};
["ERR_BAD_OPTION_VALUE", "ERR_BAD_OPTION", "ECONNABORTED", "ETIMEDOUT", "ERR_NETWORK", "ERR_FR_TOO_MANY_REDIRECTS", "ERR_DEPRECATED", "ERR_BAD_RESPONSE", "ERR_BAD_REQUEST", "ERR_CANCELED", "ERR_NOT_SUPPORT", "ERR_INVALID_URL"].forEach(t => {
    b3[t] = {
        value: t
    }
}
);
Object.defineProperties(be, b3);
Object.defineProperty(x3, "isAxiosError", {
    value: !0
});
be.from = (t, e, n, r, s, l) => {
    const o = Object.create(x3);
    U.toFlatObject(t, o, function(m) {
        return m !== Error.prototype
    }, p => p !== "isAxiosError");
    const u = t && t.message ? t.message : "Error"
      , f = e == null && t ? t.code : e;
    return be.call(o, u, f, n, r, s),
    t && o.cause == null && Object.defineProperty(o, "cause", {
        value: t,
        configurable: !0
    }),
    o.name = t && t.name || "Error",
    l && Object.assign(o, l),
    o
}
;
const gj = null;
function Sp(t) {
    return U.isPlainObject(t) || U.isArray(t)
}
function y3(t) {
    return U.endsWith(t, "[]") ? t.slice(0, -2) : t
}
function By(t, e, n) {
    return t ? t.concat(e).map(function(s, l) {
        return s = y3(s),
        !n && l ? "[" + s + "]" : s
    }).join(n ? "." : "") : e
}
function xj(t) {
    return U.isArray(t) && !t.some(Sp)
}
const bj = U.toFlatObject(U, {}, null, function(e) {
    return /^is[A-Z]/.test(e)
});
function Dd(t, e, n) {
    if (!U.isObject(t))
        throw new TypeError("target must be an object");
    e = e || new FormData,
    n = U.toFlatObject(n, {
        metaTokens: !0,
        dots: !1,
        indexes: !1
    }, !1, function(w, C) {
        return !U.isUndefined(C[w])
    });
    const r = n.metaTokens
      , s = n.visitor || m
      , l = n.dots
      , o = n.indexes
      , f = (n.Blob || typeof Blob < "u" && Blob) && U.isSpecCompliantForm(e);
    if (!U.isFunction(s))
        throw new TypeError("visitor must be a function");
    function p(y) {
        if (y === null)
            return "";
        if (U.isDate(y))
            return y.toISOString();
        if (U.isBoolean(y))
            return y.toString();
        if (!f && U.isBlob(y))
            throw new be("Blob is not supported. Use a Buffer instead.");
        return U.isArrayBuffer(y) || U.isTypedArray(y) ? f && typeof Blob == "function" ? new Blob([y]) : Buffer.from(y) : y
    }
    function m(y, w, C) {
        let E = y;
        if (y && !C && typeof y == "object") {
            if (U.endsWith(w, "{}"))
                w = r ? w : w.slice(0, -2),
                y = JSON.stringify(y);
            else if (U.isArray(y) && xj(y) || (U.isFileList(y) || U.endsWith(w, "[]")) && (E = U.toArray(y)))
                return w = y3(w),
                E.forEach(function(_, O) {
                    !(U.isUndefined(_) || _ === null) && e.append(o === !0 ? By([w], O, l) : o === null ? w : w + "[]", p(_))
                }),
                !1
        }
        return Sp(y) ? !0 : (e.append(By(C, w, l), p(y)),
        !1)
    }
    const g = []
      , v = Object.assign(bj, {
        defaultVisitor: m,
        convertValue: p,
        isVisitable: Sp
    });
    function N(y, w) {
        if (!U.isUndefined(y)) {
            if (g.indexOf(y) !== -1)
                throw Error("Circular reference detected in " + w.join("."));
            g.push(y),
            U.forEach(y, function(E, A) {
                (!(U.isUndefined(E) || E === null) && s.call(e, E, U.isString(A) ? A.trim() : A, w, v)) === !0 && N(E, w ? w.concat(A) : [A])
            }),
            g.pop()
        }
    }
    if (!U.isObject(t))
        throw new TypeError("data must be an object");
    return N(t),
    e
}
function Fy(t) {
    const e = {
        "!": "%21",
        "'": "%27",
        "(": "%28",
        ")": "%29",
        "~": "%7E",
        "%20": "+",
        "%00": "\0"
    };
    return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g, function(r) {
        return e[r]
    })
}
function vm(t, e) {
    this._pairs = [],
    t && Dd(t, this, e)
}
const v3 = vm.prototype;
v3.append = function(e, n) {
    this._pairs.push([e, n])
}
;
v3.toString = function(e) {
    const n = e ? function(r) {
        return e.call(this, r, Fy)
    }
    : Fy;
    return this._pairs.map(function(s) {
        return n(s[0]) + "=" + n(s[1])
    }, "").join("&")
}
;
function yj(t) {
    return encodeURIComponent(t).replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, "+")
}
function N3(t, e, n) {
    if (!e)
        return t;
    const r = n && n.encode || yj;
    U.isFunction(n) && (n = {
        serialize: n
    });
    const s = n && n.serialize;
    let l;
    if (s ? l = s(e, n) : l = U.isURLSearchParams(e) ? e.toString() : new vm(e,n).toString(r),
    l) {
        const o = t.indexOf("#");
        o !== -1 && (t = t.slice(0, o)),
        t += (t.indexOf("?") === -1 ? "?" : "&") + l
    }
    return t
}
class Hy {
    constructor() {
        this.handlers = []
    }
    use(e, n, r) {
        return this.handlers.push({
            fulfilled: e,
            rejected: n,
            synchronous: r ? r.synchronous : !1,
            runWhen: r ? r.runWhen : null
        }),
        this.handlers.length - 1
    }
    eject(e) {
        this.handlers[e] && (this.handlers[e] = null)
    }
    clear() {
        this.handlers && (this.handlers = [])
    }
    forEach(e) {
        U.forEach(this.handlers, function(r) {
            r !== null && e(r)
        })
    }
}
const w3 = {
    silentJSONParsing: !0,
    forcedJSONParsing: !0,
    clarifyTimeoutError: !1
}
  , vj = typeof URLSearchParams < "u" ? URLSearchParams : vm
  , Nj = typeof FormData < "u" ? FormData : null
  , wj = typeof Blob < "u" ? Blob : null
  , Cj = {
    isBrowser: !0,
    classes: {
        URLSearchParams: vj,
        FormData: Nj,
        Blob: wj
    },
    protocols: ["http", "https", "file", "blob", "url", "data"]
}
  , Nm = typeof window < "u" && typeof document < "u"
  , jp = typeof navigator == "object" && navigator || void 0
  , Sj = Nm && (!jp || ["ReactNative", "NativeScript", "NS"].indexOf(jp.product) < 0)
  , jj = typeof WorkerGlobalScope < "u" && self instanceof WorkerGlobalScope && typeof self.importScripts == "function"
  , Ej = Nm && window.location.href || "http://localhost"
  , kj = Object.freeze(Object.defineProperty({
    __proto__: null,
    hasBrowserEnv: Nm,
    hasStandardBrowserEnv: Sj,
    hasStandardBrowserWebWorkerEnv: jj,
    navigator: jp,
    origin: Ej
}, Symbol.toStringTag, {
    value: "Module"
}))
  , Ht = {
    ...kj,
    ...Cj
};
function Aj(t, e) {
    return Dd(t, new Ht.classes.URLSearchParams, {
        visitor: function(n, r, s, l) {
            return Ht.isNode && U.isBuffer(n) ? (this.append(r, n.toString("base64")),
            !1) : l.defaultVisitor.apply(this, arguments)
        },
        ...e
    })
}
function _j(t) {
    return U.matchAll(/\w+|\[(\w*)]/g, t).map(e => e[0] === "[]" ? "" : e[1] || e[0])
}
function Tj(t) {
    const e = {}
      , n = Object.keys(t);
    let r;
    const s = n.length;
    let l;
    for (r = 0; r < s; r++)
        l = n[r],
        e[l] = t[l];
    return e
}
function C3(t) {
    function e(n, r, s, l) {
        let o = n[l++];
        if (o === "__proto__")
            return !0;
        const u = Number.isFinite(+o)
          , f = l >= n.length;
        return o = !o && U.isArray(s) ? s.length : o,
        f ? (U.hasOwnProp(s, o) ? s[o] = [s[o], r] : s[o] = r,
        !u) : ((!s[o] || !U.isObject(s[o])) && (s[o] = []),
        e(n, r, s[o], l) && U.isArray(s[o]) && (s[o] = Tj(s[o])),
        !u)
    }
    if (U.isFormData(t) && U.isFunction(t.entries)) {
        const n = {};
        return U.forEachEntry(t, (r, s) => {
            e(_j(r), s, n, 0)
        }
        ),
        n
    }
    return null
}
function Dj(t, e, n) {
    if (U.isString(t))
        try {
            return (e || JSON.parse)(t),
            U.trim(t)
        } catch (r) {
            if (r.name !== "SyntaxError")
                throw r
        }
    return (n || JSON.stringify)(t)
}
const Eo = {
    transitional: w3,
    adapter: ["xhr", "http", "fetch"],
    transformRequest: [function(e, n) {
        const r = n.getContentType() || ""
          , s = r.indexOf("application/json") > -1
          , l = U.isObject(e);
        if (l && U.isHTMLForm(e) && (e = new FormData(e)),
        U.isFormData(e))
            return s ? JSON.stringify(C3(e)) : e;
        if (U.isArrayBuffer(e) || U.isBuffer(e) || U.isStream(e) || U.isFile(e) || U.isBlob(e) || U.isReadableStream(e))
            return e;
        if (U.isArrayBufferView(e))
            return e.buffer;
        if (U.isURLSearchParams(e))
            return n.setContentType("application/x-www-form-urlencoded;charset=utf-8", !1),
            e.toString();
        let u;
        if (l) {
            if (r.indexOf("application/x-www-form-urlencoded") > -1)
                return Aj(e, this.formSerializer).toString();
            if ((u = U.isFileList(e)) || r.indexOf("multipart/form-data") > -1) {
                const f = this.env && this.env.FormData;
                return Dd(u ? {
                    "files[]": e
                } : e, f && new f, this.formSerializer)
            }
        }
        return l || s ? (n.setContentType("application/json", !1),
        Dj(e)) : e
    }
    ],
    transformResponse: [function(e) {
        const n = this.transitional || Eo.transitional
          , r = n && n.forcedJSONParsing
          , s = this.responseType === "json";
        if (U.isResponse(e) || U.isReadableStream(e))
            return e;
        if (e && U.isString(e) && (r && !this.responseType || s)) {
            const o = !(n && n.silentJSONParsing) && s;
            try {
                return JSON.parse(e, this.parseReviver)
            } catch (u) {
                if (o)
                    throw u.name === "SyntaxError" ? be.from(u, be.ERR_BAD_RESPONSE, this, null, this.response) : u
            }
        }
        return e
    }
    ],
    timeout: 0,
    xsrfCookieName: "XSRF-TOKEN",
    xsrfHeaderName: "X-XSRF-TOKEN",
    maxContentLength: -1,
    maxBodyLength: -1,
    env: {
        FormData: Ht.classes.FormData,
        Blob: Ht.classes.Blob
    },
    validateStatus: function(e) {
        return e >= 200 && e < 300
    },
    headers: {
        common: {
            Accept: "application/json, text/plain, */*",
            "Content-Type": void 0
        }
    }
};
U.forEach(["delete", "get", "head", "post", "put", "patch"], t => {
    Eo.headers[t] = {}
}
);
const Mj = U.toObjectSet(["age", "authorization", "content-length", "content-type", "etag", "expires", "from", "host", "if-modified-since", "if-unmodified-since", "last-modified", "location", "max-forwards", "proxy-authorization", "referer", "retry-after", "user-agent"])
  , Oj = t => {
    const e = {};
    let n, r, s;
    return t && t.split(`
`).forEach(function(o) {
        s = o.indexOf(":"),
        n = o.substring(0, s).trim().toLowerCase(),
        r = o.substring(s + 1).trim(),
        !(!n || e[n] && Mj[n]) && (n === "set-cookie" ? e[n] ? e[n].push(r) : e[n] = [r] : e[n] = e[n] ? e[n] + ", " + r : r)
    }),
    e
}
  , Uy = Symbol("internals");
function Ua(t) {
    return t && String(t).trim().toLowerCase()
}
function Cc(t) {
    return t === !1 || t == null ? t : U.isArray(t) ? t.map(Cc) : String(t)
}
function Rj(t) {
    const e = Object.create(null)
      , n = /([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;
    let r;
    for (; r = n.exec(t); )
        e[r[1]] = r[2];
    return e
}
const zj = t => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());
function D0(t, e, n, r, s) {
    if (U.isFunction(r))
        return r.call(this, e, n);
    if (s && (e = n),
    !!U.isString(e)) {
        if (U.isString(r))
            return e.indexOf(r) !== -1;
        if (U.isRegExp(r))
            return r.test(e)
    }
}
function Lj(t) {
    return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g, (e, n, r) => n.toUpperCase() + r)
}
function Bj(t, e) {
    const n = U.toCamelCase(" " + e);
    ["get", "set", "has"].forEach(r => {
        Object.defineProperty(t, r + n, {
            value: function(s, l, o) {
                return this[r].call(this, e, s, l, o)
            },
            configurable: !0
        })
    }
    )
}
let an = class {
    constructor(e) {
        e && this.set(e)
    }
    set(e, n, r) {
        const s = this;
        function l(u, f, p) {
            const m = Ua(f);
            if (!m)
                throw new Error("header name must be a non-empty string");
            const g = U.findKey(s, m);
            (!g || s[g] === void 0 || p === !0 || p === void 0 && s[g] !== !1) && (s[g || f] = Cc(u))
        }
        const o = (u, f) => U.forEach(u, (p, m) => l(p, m, f));
        if (U.isPlainObject(e) || e instanceof this.constructor)
            o(e, n);
        else if (U.isString(e) && (e = e.trim()) && !zj(e))
            o(Oj(e), n);
        else if (U.isObject(e) && U.isIterable(e)) {
            let u = {}, f, p;
            for (const m of e) {
                if (!U.isArray(m))
                    throw TypeError("Object iterator must return a key-value pair");
                u[p = m[0]] = (f = u[p]) ? U.isArray(f) ? [...f, m[1]] : [f, m[1]] : m[1]
            }
            o(u, n)
        } else
            e != null && l(n, e, r);
        return this
    }
    get(e, n) {
        if (e = Ua(e),
        e) {
            const r = U.findKey(this, e);
            if (r) {
                const s = this[r];
                if (!n)
                    return s;
                if (n === !0)
                    return Rj(s);
                if (U.isFunction(n))
                    return n.call(this, s, r);
                if (U.isRegExp(n))
                    return n.exec(s);
                throw new TypeError("parser must be boolean|regexp|function")
            }
        }
    }
    has(e, n) {
        if (e = Ua(e),
        e) {
            const r = U.findKey(this, e);
            return !!(r && this[r] !== void 0 && (!n || D0(this, this[r], r, n)))
        }
        return !1
    }
    delete(e, n) {
        const r = this;
        let s = !1;
        function l(o) {
            if (o = Ua(o),
            o) {
                const u = U.findKey(r, o);
                u && (!n || D0(r, r[u], u, n)) && (delete r[u],
                s = !0)
            }
        }
        return U.isArray(e) ? e.forEach(l) : l(e),
        s
    }
    clear(e) {
        const n = Object.keys(this);
        let r = n.length
          , s = !1;
        for (; r--; ) {
            const l = n[r];
            (!e || D0(this, this[l], l, e, !0)) && (delete this[l],
            s = !0)
        }
        return s
    }
    normalize(e) {
        const n = this
          , r = {};
        return U.forEach(this, (s, l) => {
            const o = U.findKey(r, l);
            if (o) {
                n[o] = Cc(s),
                delete n[l];
                return
            }
            const u = e ? Lj(l) : String(l).trim();
            u !== l && delete n[l],
            n[u] = Cc(s),
            r[u] = !0
        }
        ),
        this
    }
    concat(...e) {
        return this.constructor.concat(this, ...e)
    }
    toJSON(e) {
        const n = Object.create(null);
        return U.forEach(this, (r, s) => {
            r != null && r !== !1 && (n[s] = e && U.isArray(r) ? r.join(", ") : r)
        }
        ),
        n
    }
    [Symbol.iterator]() {
        return Object.entries(this.toJSON())[Symbol.iterator]()
    }
    toString() {
        return Object.entries(this.toJSON()).map( ([e,n]) => e + ": " + n).join(`
`)
    }
    getSetCookie() {
        return this.get("set-cookie") || []
    }
    get[Symbol.toStringTag]() {
        return "AxiosHeaders"
    }
    static from(e) {
        return e instanceof this ? e : new this(e)
    }
    static concat(e, ...n) {
        const r = new this(e);
        return n.forEach(s => r.set(s)),
        r
    }
    static accessor(e) {
        const r = (this[Uy] = this[Uy] = {
            accessors: {}
        }).accessors
          , s = this.prototype;
        function l(o) {
            const u = Ua(o);
            r[u] || (Bj(s, o),
            r[u] = !0)
        }
        return U.isArray(e) ? e.forEach(l) : l(e),
        this
    }
}
;
an.accessor(["Content-Type", "Content-Length", "Accept", "Accept-Encoding", "User-Agent", "Authorization"]);
U.reduceDescriptors(an.prototype, ({value: t}, e) => {
    let n = e[0].toUpperCase() + e.slice(1);
    return {
        get: () => t,
        set(r) {
            this[n] = r
        }
    }
}
);
U.freezeMethods(an);
function M0(t, e) {
    const n = this || Eo
      , r = e || n
      , s = an.from(r.headers);
    let l = r.data;
    return U.forEach(t, function(u) {
        l = u.call(n, l, s.normalize(), e ? e.status : void 0)
    }),
    s.normalize(),
    l
}
function S3(t) {
    return !!(t && t.__CANCEL__)
}
function Hl(t, e, n) {
    be.call(this, t ?? "canceled", be.ERR_CANCELED, e, n),
    this.name = "CanceledError"
}
U.inherits(Hl, be, {
    __CANCEL__: !0
});
function j3(t, e, n) {
    const r = n.config.validateStatus;
    !n.status || !r || r(n.status) ? t(n) : e(new be("Request failed with status code " + n.status,[be.ERR_BAD_REQUEST, be.ERR_BAD_RESPONSE][Math.floor(n.status / 100) - 4],n.config,n.request,n))
}
function Fj(t) {
    const e = /^([-+\w]{1,25})(:?\/\/|:)/.exec(t);
    return e && e[1] || ""
}
function Hj(t, e) {
    t = t || 10;
    const n = new Array(t)
      , r = new Array(t);
    let s = 0, l = 0, o;
    return e = e !== void 0 ? e : 1e3,
    function(f) {
        const p = Date.now()
          , m = r[l];
        o || (o = p),
        n[s] = f,
        r[s] = p;
        let g = l
          , v = 0;
        for (; g !== s; )
            v += n[g++],
            g = g % t;
        if (s = (s + 1) % t,
        s === l && (l = (l + 1) % t),
        p - o < e)
            return;
        const N = m && p - m;
        return N ? Math.round(v * 1e3 / N) : void 0
    }
}
function Uj(t, e) {
    let n = 0, r = 1e3 / e, s, l;
    const o = (p, m=Date.now()) => {
        n = m,
        s = null,
        l && (clearTimeout(l),
        l = null),
        t(...p)
    }
    ;
    return [ (...p) => {
        const m = Date.now()
          , g = m - n;
        g >= r ? o(p, m) : (s = p,
        l || (l = setTimeout( () => {
            l = null,
            o(s)
        }
        , r - g)))
    }
    , () => s && o(s)]
}
const zc = (t, e, n=3) => {
    let r = 0;
    const s = Hj(50, 250);
    return Uj(l => {
        const o = l.loaded
          , u = l.lengthComputable ? l.total : void 0
          , f = o - r
          , p = s(f)
          , m = o <= u;
        r = o;
        const g = {
            loaded: o,
            total: u,
            progress: u ? o / u : void 0,
            bytes: f,
            rate: p || void 0,
            estimated: p && u && m ? (u - o) / p : void 0,
            event: l,
            lengthComputable: u != null,
            [e ? "download" : "upload"]: !0
        };
        t(g)
    }
    , n)
}
  , qy = (t, e) => {
    const n = t != null;
    return [r => e[0]({
        lengthComputable: n,
        total: t,
        loaded: r
    }), e[1]]
}
  , Iy = t => (...e) => U.asap( () => t(...e))
  , qj = Ht.hasStandardBrowserEnv ? ( (t, e) => n => (n = new URL(n,Ht.origin),
t.protocol === n.protocol && t.host === n.host && (e || t.port === n.port)))(new URL(Ht.origin), Ht.navigator && /(msie|trident)/i.test(Ht.navigator.userAgent)) : () => !0
  , Ij = Ht.hasStandardBrowserEnv ? {
    write(t, e, n, r, s, l, o) {
        if (typeof document > "u")
            return;
        const u = [`${t}=${encodeURIComponent(e)}`];
        U.isNumber(n) && u.push(`expires=${new Date(n).toUTCString()}`),
        U.isString(r) && u.push(`path=${r}`),
        U.isString(s) && u.push(`domain=${s}`),
        l === !0 && u.push("secure"),
        U.isString(o) && u.push(`SameSite=${o}`),
        document.cookie = u.join("; ")
    },
    read(t) {
        if (typeof document > "u")
            return null;
        const e = document.cookie.match(new RegExp("(?:^|; )" + t + "=([^;]*)"));
        return e ? decodeURIComponent(e[1]) : null
    },
    remove(t) {
        this.write(t, "", Date.now() - 864e5, "/")
    }
} : {
    write() {},
    read() {
        return null
    },
    remove() {}
};
function $j(t) {
    return /^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)
}
function Pj(t, e) {
    return e ? t.replace(/\/?\/$/, "") + "/" + e.replace(/^\/+/, "") : t
}
function E3(t, e, n) {
    let r = !$j(e);
    return t && (r || n == !1) ? Pj(t, e) : e
}
const $y = t => t instanceof an ? {
    ...t
} : t;
function Si(t, e) {
    e = e || {};
    const n = {};
    function r(p, m, g, v) {
        return U.isPlainObject(p) && U.isPlainObject(m) ? U.merge.call({
            caseless: v
        }, p, m) : U.isPlainObject(m) ? U.merge({}, m) : U.isArray(m) ? m.slice() : m
    }
    function s(p, m, g, v) {
        if (U.isUndefined(m)) {
            if (!U.isUndefined(p))
                return r(void 0, p, g, v)
        } else
            return r(p, m, g, v)
    }
    function l(p, m) {
        if (!U.isUndefined(m))
            return r(void 0, m)
    }
    function o(p, m) {
        if (U.isUndefined(m)) {
            if (!U.isUndefined(p))
                return r(void 0, p)
        } else
            return r(void 0, m)
    }
    function u(p, m, g) {
        if (g in e)
            return r(p, m);
        if (g in t)
            return r(void 0, p)
    }
    const f = {
        url: l,
        method: l,
        data: l,
        baseURL: o,
        transformRequest: o,
        transformResponse: o,
        paramsSerializer: o,
        timeout: o,
        timeoutMessage: o,
        withCredentials: o,
        withXSRFToken: o,
        adapter: o,
        responseType: o,
        xsrfCookieName: o,
        xsrfHeaderName: o,
        onUploadProgress: o,
        onDownloadProgress: o,
        decompress: o,
        maxContentLength: o,
        maxBodyLength: o,
        beforeRedirect: o,
        transport: o,
        httpAgent: o,
        httpsAgent: o,
        cancelToken: o,
        socketPath: o,
        responseEncoding: o,
        validateStatus: u,
        headers: (p, m, g) => s($y(p), $y(m), g, !0)
    };
    return U.forEach(Object.keys({
        ...t,
        ...e
    }), function(m) {
        const g = f[m] || s
          , v = g(t[m], e[m], m);
        U.isUndefined(v) && g !== u || (n[m] = v)
    }),
    n
}
const k3 = t => {
    const e = Si({}, t);
    let {data: n, withXSRFToken: r, xsrfHeaderName: s, xsrfCookieName: l, headers: o, auth: u} = e;
    if (e.headers = o = an.from(o),
    e.url = N3(E3(e.baseURL, e.url, e.allowAbsoluteUrls), t.params, t.paramsSerializer),
    u && o.set("Authorization", "Basic " + btoa((u.username || "") + ":" + (u.password ? unescape(encodeURIComponent(u.password)) : ""))),
    U.isFormData(n)) {
        if (Ht.hasStandardBrowserEnv || Ht.hasStandardBrowserWebWorkerEnv)
            o.setContentType(void 0);
        else if (U.isFunction(n.getHeaders)) {
            const f = n.getHeaders()
              , p = ["content-type", "content-length"];
            Object.entries(f).forEach( ([m,g]) => {
                p.includes(m.toLowerCase()) && o.set(m, g)
            }
            )
        }
    }
    if (Ht.hasStandardBrowserEnv && (r && U.isFunction(r) && (r = r(e)),
    r || r !== !1 && qj(e.url))) {
        const f = s && l && Ij.read(l);
        f && o.set(s, f)
    }
    return e
}
  , Vj = typeof XMLHttpRequest < "u"
  , Gj = Vj && function(t) {
    return new Promise(function(n, r) {
        const s = k3(t);
        let l = s.data;
        const o = an.from(s.headers).normalize();
        let {responseType: u, onUploadProgress: f, onDownloadProgress: p} = s, m, g, v, N, y;
        function w() {
            N && N(),
            y && y(),
            s.cancelToken && s.cancelToken.unsubscribe(m),
            s.signal && s.signal.removeEventListener("abort", m)
        }
        let C = new XMLHttpRequest;
        C.open(s.method.toUpperCase(), s.url, !0),
        C.timeout = s.timeout;
        function E() {
            if (!C)
                return;
            const _ = an.from("getAllResponseHeaders"in C && C.getAllResponseHeaders())
              , R = {
                data: !u || u === "text" || u === "json" ? C.responseText : C.response,
                status: C.status,
                statusText: C.statusText,
                headers: _,
                config: t,
                request: C
            };
            j3(function(z) {
                n(z),
                w()
            }, function(z) {
                r(z),
                w()
            }, R),
            C = null
        }
        "onloadend"in C ? C.onloadend = E : C.onreadystatechange = function() {
            !C || C.readyState !== 4 || C.status === 0 && !(C.responseURL && C.responseURL.indexOf("file:") === 0) || setTimeout(E)
        }
        ,
        C.onabort = function() {
            C && (r(new be("Request aborted",be.ECONNABORTED,t,C)),
            C = null)
        }
        ,
        C.onerror = function(O) {
            const R = O && O.message ? O.message : "Network Error"
              , $ = new be(R,be.ERR_NETWORK,t,C);
            $.event = O || null,
            r($),
            C = null
        }
        ,
        C.ontimeout = function() {
            let O = s.timeout ? "timeout of " + s.timeout + "ms exceeded" : "timeout exceeded";
            const R = s.transitional || w3;
            s.timeoutErrorMessage && (O = s.timeoutErrorMessage),
            r(new be(O,R.clarifyTimeoutError ? be.ETIMEDOUT : be.ECONNABORTED,t,C)),
            C = null
        }
        ,
        l === void 0 && o.setContentType(null),
        "setRequestHeader"in C && U.forEach(o.toJSON(), function(O, R) {
            C.setRequestHeader(R, O)
        }),
        U.isUndefined(s.withCredentials) || (C.withCredentials = !!s.withCredentials),
        u && u !== "json" && (C.responseType = s.responseType),
        p && ([v,y] = zc(p, !0),
        C.addEventListener("progress", v)),
        f && C.upload && ([g,N] = zc(f),
        C.upload.addEventListener("progress", g),
        C.upload.addEventListener("loadend", N)),
        (s.cancelToken || s.signal) && (m = _ => {
            C && (r(!_ || _.type ? new Hl(null,t,C) : _),
            C.abort(),
            C = null)
        }
        ,
        s.cancelToken && s.cancelToken.subscribe(m),
        s.signal && (s.signal.aborted ? m() : s.signal.addEventListener("abort", m)));
        const A = Fj(s.url);
        if (A && Ht.protocols.indexOf(A) === -1) {
            r(new be("Unsupported protocol " + A + ":",be.ERR_BAD_REQUEST,t));
            return
        }
        C.send(l || null)
    }
    )
}
  , Kj = (t, e) => {
    const {length: n} = t = t ? t.filter(Boolean) : [];
    if (e || n) {
        let r = new AbortController, s;
        const l = function(p) {
            if (!s) {
                s = !0,
                u();
                const m = p instanceof Error ? p : this.reason;
                r.abort(m instanceof be ? m : new Hl(m instanceof Error ? m.message : m))
            }
        };
        let o = e && setTimeout( () => {
            o = null,
            l(new be(`timeout ${e} of ms exceeded`,be.ETIMEDOUT))
        }
        , e);
        const u = () => {
            t && (o && clearTimeout(o),
            o = null,
            t.forEach(p => {
                p.unsubscribe ? p.unsubscribe(l) : p.removeEventListener("abort", l)
            }
            ),
            t = null)
        }
        ;
        t.forEach(p => p.addEventListener("abort", l));
        const {signal: f} = r;
        return f.unsubscribe = () => U.asap(u),
        f
    }
}
  , Yj = function*(t, e) {
    let n = t.byteLength;
    if (n < e) {
        yield t;
        return
    }
    let r = 0, s;
    for (; r < n; )
        s = r + e,
        yield t.slice(r, s),
        r = s
}
  , Jj = async function*(t, e) {
    for await(const n of Xj(t))
        yield*Yj(n, e)
}
  , Xj = async function*(t) {
    if (t[Symbol.asyncIterator]) {
        yield*t;
        return
    }
    const e = t.getReader();
    try {
        for (; ; ) {
            const {done: n, value: r} = await e.read();
            if (n)
                break;
            yield r
        }
    } finally {
        await e.cancel()
    }
}
  , Py = (t, e, n, r) => {
    const s = Jj(t, e);
    let l = 0, o, u = f => {
        o || (o = !0,
        r && r(f))
    }
    ;
    return new ReadableStream({
        async pull(f) {
            try {
                const {done: p, value: m} = await s.next();
                if (p) {
                    u(),
                    f.close();
                    return
                }
                let g = m.byteLength;
                if (n) {
                    let v = l += g;
                    n(v)
                }
                f.enqueue(new Uint8Array(m))
            } catch (p) {
                throw u(p),
                p
            }
        },
        cancel(f) {
            return u(f),
            s.return()
        }
    },{
        highWaterMark: 2
    })
}
  , Vy = 64 * 1024
  , {isFunction: nc} = U
  , Qj = ( ({Request: t, Response: e}) => ({
    Request: t,
    Response: e
}))(U.global)
  , {ReadableStream: Gy, TextEncoder: Ky} = U.global
  , Yy = (t, ...e) => {
    try {
        return !!t(...e)
    } catch {
        return !1
    }
}

  , Zj = t => {
    t = U.merge.call({
        skipUndefined: !0
    }, Qj, t);
    const {fetch: e, Request: n, Response: r} = t
      , s = e ? nc(e) : typeof fetch == "function"
      , l = nc(n)
      , o = nc(r);
    if (!s)
        return !1;
    const u = s && nc(Gy)
      , f = s && (typeof Ky == "function" ? (y => w => y.encode(w))(new Ky) : async y => new Uint8Array(await new n(y).arrayBuffer()))
      , p = l && u && Yy( () => {
        let y = !1;
        const w = new n(Ht.origin,{
            body: new Gy,
            method: "POST",
            get duplex() {
                return y = !0,
                "half"
            }
        }).headers.has("Content-Type");
        return y && !w
    }
    )
      , m = o && u && Yy( () => U.isReadableStream(new r("").body))
      , g = {
        stream: m && (y => y.body)
    };
    s && ["text", "arrayBuffer", "blob", "formData", "stream"].forEach(y => {
        !g[y] && (g[y] = (w, C) => {
            let E = w && w[y];
            if (E)
                return E.call(w);
            throw new be(`Response type '${y}' is not supported`,be.ERR_NOT_SUPPORT,C)
        }
        )
    }
    );
    const v = async y => {
        if (y == null)
            return 0;
        if (U.isBlob(y))
            return y.size;
        if (U.isSpecCompliantForm(y))
            return (await new n(Ht.origin,{
                method: "POST",
                body: y
            }).arrayBuffer()).byteLength;
        if (U.isArrayBufferView(y) || U.isArrayBuffer(y))
            return y.byteLength;
        if (U.isURLSearchParams(y) && (y = y + ""),
        U.isString(y))
            return (await f(y)).byteLength
    }
      , N = async (y, w) => {
        const C = U.toFiniteNumber(y.getContentLength());
        return C ?? v(w)
    }
    ;
    return async y => {
        let {url: w, method: C, data: E, signal: A, cancelToken: _, timeout: O, onDownloadProgress: R, onUploadProgress: $, responseType: z, headers: G, withCredentials: Y="same-origin", fetchOptions: pe} = k3(y)
          , Te = e || fetch;
        z = z ? (z + "").toLowerCase() : "text";
        let le = Kj([A, _ && _.toAbortSignal()], O)
          , Ce = null;
        const Le = le && le.unsubscribe && ( () => {
            le.unsubscribe()
        }
        );
        let Ue;
        try {
            if ($ && p && C !== "get" && C !== "head" && (Ue = await N(G, E)) !== 0) {
                let D = new n(w,{
                    method: "POST",
                    body: E,
                    duplex: "half"
                }), K;
                if (U.isFormData(E) && (K = D.headers.get("content-type")) && G.setContentType(K),
                D.body) {
                    const [te,ne] = qy(Ue, zc(Iy($)));
                    E = Py(D.body, Vy, te, ne)
                }
            }
            U.isString(Y) || (Y = Y ? "include" : "omit");
            const q = l && "credentials"in n.prototype
              , Z = {
                ...pe,
                signal: le,
                method: C.toUpperCase(),
                headers: G.normalize().toJSON(),
                body: E,
                duplex: "half",
                credentials: q ? Y : void 0
            };
            Ce = l && new n(w,Z);
            let ae = await (l ? Te(Ce, pe) : Te(w, Z));
            const Oe = m && (z === "stream" || z === "response");
            if (m && (R || Oe && Le)) {
                const D = {};
                ["status", "statusText", "headers"].forEach(me => {
                    D[me] = ae[me]
                }
                );
                const K = U.toFiniteNumber(ae.headers.get("content-length"))
                  , [te,ne] = R && qy(K, zc(Iy(R), !0)) || [];
                ae = new r(Py(ae.body, Vy, te, () => {
                    ne && ne(),
                    Le && Le()
                }
                ),D)
            }
            z = z || "text";
            let Be = await g[U.findKey(g, z) || "text"](ae, y);
            return !Oe && Le && Le(),
            await new Promise( (D, K) => {
                j3(D, K, {
                    data: Be,
                    headers: an.from(ae.headers),
                    status: ae.status,
                    statusText: ae.statusText,
                    config: y,
                    request: Ce
                })
            }
            )
        } catch (q) {
            throw Le && Le(),
            q && q.name === "TypeError" && /Load failed|fetch/i.test(q.message) ? Object.assign(new be("Network Error",be.ERR_NETWORK,y,Ce), {
                cause: q.cause || q
            }) : be.from(q, q && q.code, y, Ce)
        }
    }
}
  , Wj = new Map
  , A3 = t => {
    let e = t && t.env || {};
    const {fetch: n, Request: r, Response: s} = e
      , l = [r, s, n];
    let o = l.length, u = o, f, p, m = Wj;
    for (; u--; )
        f = l[u],
        p = m.get(f),
        p === void 0 && m.set(f, p = u ? new Map : Zj(e)),
        m = p;
    return p
}
;
A3();
const wm = {
    http: gj,
    xhr: Gj,
    fetch: {
        get: A3
    }
};
U.forEach(wm, (t, e) => {
    if (t) {
        try {
            Object.defineProperty(t, "name", {
                value: e
            })
        } catch {}
        Object.defineProperty(t, "adapterName", {
            value: e
        })
    }
}
);
const Jy = t => `- ${t}`
  , eE = t => U.isFunction(t) || t === null || t === !1;
function tE(t, e) {
    t = U.isArray(t) ? t : [t];
    const {length: n} = t;
    let r, s;
    const l = {};
    for (let o = 0; o < n; o++) {
        r = t[o];
        let u;
        if (s = r,
        !eE(r) && (s = wm[(u = String(r)).toLowerCase()],
        s === void 0))
            throw new be(`Unknown adapter '${u}'`);
        if (s && (U.isFunction(s) || (s = s.get(e))))
            break;
        l[u || "#" + o] = s
    }
    if (!s) {
        const o = Object.entries(l).map( ([f,p]) => `adapter ${f} ` + (p === !1 ? "is not supported by the environment" : "is not available in the build"));
        let u = n ? o.length > 1 ? `since :
` + o.map(Jy).join(`
`) : " " + Jy(o[0]) : "as no adapter specified";
        throw new be("There is no suitable adapter to dispatch the request " + u,"ERR_NOT_SUPPORT")
    }
    return s
}
const _3 = {
    getAdapter: tE,
    adapters: wm
};
function O0(t) {
    if (t.cancelToken && t.cancelToken.throwIfRequested(),
    t.signal && t.signal.aborted)
        throw new Hl(null,t)
}
function Xy(t) {
    return O0(t),
    t.headers = an.from(t.headers),
    t.data = M0.call(t, t.transformRequest),
    ["post", "put", "patch"].indexOf(t.method) !== -1 && t.headers.setContentType("application/x-www-form-urlencoded", !1),
    _3.getAdapter(t.adapter || Eo.adapter, t)(t).then(function(r) {
        return O0(t),
        r.data = M0.call(t, t.transformResponse, r),
        r.headers = an.from(r.headers),
        r
    }, function(r) {
        return S3(r) || (O0(t),
        r && r.response && (r.response.data = M0.call(t, t.transformResponse, r.response),
        r.response.headers = an.from(r.response.headers))),
        Promise.reject(r)
    })
}
const T3 = "1.13.2"
  , Md = {};
["object", "boolean", "number", "function", "string", "symbol"].forEach( (t, e) => {
    Md[t] = function(r) {
        return typeof r === t || "a" + (e < 1 ? "n " : " ") + t
    }
}
);
const Qy = {};
Md.transitional = function(e, n, r) {
    function s(l, o) {
        return "[Axios v" + T3 + "] Transitional option '" + l + "'" + o + (r ? ". " + r : "")
    }
    return (l, o, u) => {
        if (e === !1)
            throw new be(s(o, " has been removed" + (n ? " in " + n : "")),be.ERR_DEPRECATED);
        return n && !Qy[o] && (Qy[o] = !0,
        console.warn(s(o, " has been deprecated since v" + n + " and will be removed in the near future"))),
        e ? e(l, o, u) : !0
    }
}
;
Md.spelling = function(e) {
    return (n, r) => (console.warn(`${r} is likely a misspelling of ${e}`),
    !0)
}
;
function nE(t, e, n) {
    if (typeof t != "object")
        throw new be("options must be an object",be.ERR_BAD_OPTION_VALUE);
    const r = Object.keys(t);
    let s = r.length;
    for (; s-- > 0; ) {
        const l = r[s]
          , o = e[l];
        if (o) {
            const u = t[l]
              , f = u === void 0 || o(u, l, t);
            if (f !== !0)
                throw new be("option " + l + " must be " + f,be.ERR_BAD_OPTION_VALUE);
            continue
        }
        if (n !== !0)
            throw new be("Unknown option " + l,be.ERR_BAD_OPTION)
    }
}
const Sc = {
    assertOptions: nE,
    validators: Md
}
  , rr = Sc.validators;
let bi = class {
    constructor(e) {
        this.defaults = e || {},
        this.interceptors = {
            request: new Hy,
            response: new Hy
        }
    }
    async request(e, n) {
        try {
            return await this._request(e, n)
        } catch (r) {
            if (r instanceof Error) {
                let s = {};
                Error.captureStackTrace ? Error.captureStackTrace(s) : s = new Error;
                const l = s.stack ? s.stack.replace(/^.+\n/, "") : "";
                try {
                    r.stack ? l && !String(r.stack).endsWith(l.replace(/^.+\n.+\n/, "")) && (r.stack += `
` + l) : r.stack = l
                } catch {}
            }
            throw r
        }
    }
    _request(e, n) {
        typeof e == "string" ? (n = n || {},
        n.url = e) : n = e || {},
        n = Si(this.defaults, n);
        const {transitional: r, paramsSerializer: s, headers: l} = n;
        r !== void 0 && Sc.assertOptions(r, {
            silentJSONParsing: rr.transitional(rr.boolean),
            forcedJSONParsing: rr.transitional(rr.boolean),
            clarifyTimeoutError: rr.transitional(rr.boolean)
        }, !1),
        s != null && (U.isFunction(s) ? n.paramsSerializer = {
            serialize: s
        } : Sc.assertOptions(s, {
            encode: rr.function,
            serialize: rr.function
        }, !0)),
        n.allowAbsoluteUrls !== void 0 || (this.defaults.allowAbsoluteUrls !== void 0 ? n.allowAbsoluteUrls = this.defaults.allowAbsoluteUrls : n.allowAbsoluteUrls = !0),
        Sc.assertOptions(n, {
            baseUrl: rr.spelling("baseURL"),
            withXsrfToken: rr.spelling("withXSRFToken")
        }, !0),
        n.method = (n.method || this.defaults.method || "get").toLowerCase();
        let o = l && U.merge(l.common, l[n.method]);
        l && U.forEach(["delete", "get", "head", "post", "put", "patch", "common"], y => {
            delete l[y]
        }
        ),
        n.headers = an.concat(o, l);
        const u = [];
        let f = !0;
        this.interceptors.request.forEach(function(w) {
            typeof w.runWhen == "function" && w.runWhen(n) === !1 || (f = f && w.synchronous,
            u.unshift(w.fulfilled, w.rejected))
        });
        const p = [];
        this.interceptors.response.forEach(function(w) {
            p.push(w.fulfilled, w.rejected)
        });
        let m, g = 0, v;
        if (!f) {
            const y = [Xy.bind(this), void 0];
            for (y.unshift(...u),
            y.push(...p),
            v = y.length,
            m = Promise.resolve(n); g < v; )
                m = m.then(y[g++], y[g++]);
            return m
        }
        v = u.length;
        let N = n;
        for (; g < v; ) {
            const y = u[g++]
              , w = u[g++];
            try {
                N = y(N)
            } catch (C) {
                w.call(this, C);
                break
            }
        }
        try {
            m = Xy.call(this, N)
        } catch (y) {
            return Promise.reject(y)
        }
        for (g = 0,
        v = p.length; g < v; )
            m = m.then(p[g++], p[g++]);
        return m
    }
    getUri(e) {
        e = Si(this.defaults, e);
        const n = E3(e.baseURL, e.url, e.allowAbsoluteUrls);
        return N3(n, e.params, e.paramsSerializer)
    }
}
;
U.forEach(["delete", "get", "head", "options"], function(e) {
    bi.prototype[e] = function(n, r) {
        return this.request(Si(r || {}, {
            method: e,
            url: n,
            data: (r || {}).data
        }))
    }
});
U.forEach(["post", "put", "patch"], function(e) {
    function n(r) {
        return function(l, o, u) {
            return this.request(Si(u || {}, {
                method: e,
                headers: r ? {
                    "Content-Type": "multipart/form-data"
                } : {},
                url: l,
                data: o
            }))
        }
    }
    bi.prototype[e] = n(),
    bi.prototype[e + "Form"] = n(!0)
});
let rE = class D3 {
    constructor(e) {
        if (typeof e != "function")
            throw new TypeError("executor must be a function.");
        let n;
        this.promise = new Promise(function(l) {
            n = l
        }
        );
        const r = this;
        this.promise.then(s => {
            if (!r._listeners)
                return;
            let l = r._listeners.length;
            for (; l-- > 0; )
                r._listeners[l](s);
            r._listeners = null
        }
        ),
        this.promise.then = s => {
            let l;
            const o = new Promise(u => {
                r.subscribe(u),
                l = u
            }
            ).then(s);
            return o.cancel = function() {
                r.unsubscribe(l)
            }
            ,
            o
        }
        ,
        e(function(l, o, u) {
            r.reason || (r.reason = new Hl(l,o,u),
            n(r.reason))
        })
    }
    throwIfRequested() {
        if (this.reason)
            throw this.reason
    }
    subscribe(e) {
        if (this.reason) {
            e(this.reason);
            return
        }
        this._listeners ? this._listeners.push(e) : this._listeners = [e]
    }
    unsubscribe(e) {
        if (!this._listeners)
            return;
        const n = this._listeners.indexOf(e);
        n !== -1 && this._listeners.splice(n, 1)
    }
    toAbortSignal() {
        const e = new AbortController
          , n = r => {
            e.abort(r)
        }
        ;
        return this.subscribe(n),
        e.signal.unsubscribe = () => this.unsubscribe(n),
        e.signal
    }
    static source() {
        let e;
        return {
            token: new D3(function(s) {
                e = s
            }
            ),
            cancel: e
        }
    }
}
;
function sE(t) {
    return function(n) {
        return t.apply(null, n)
    }
}
function iE(t) {
    return U.isObject(t) && t.isAxiosError === !0
}
const Ep = {
    Continue: 100,
    SwitchingProtocols: 101,
    Processing: 102,
    EarlyHints: 103,
    Ok: 200,
    Created: 201,
    Accepted: 202,
    NonAuthoritativeInformation: 203,
    NoContent: 204,
    ResetContent: 205,
    PartialContent: 206,
    MultiStatus: 207,
    AlreadyReported: 208,
    ImUsed: 226,
    MultipleChoices: 300,
    MovedPermanently: 301,
    Found: 302,
    SeeOther: 303,
    NotModified: 304,
    UseProxy: 305,
    Unused: 306,
    TemporaryRedirect: 307,
    PermanentRedirect: 308,
    BadRequest: 400,
    Unauthorized: 401,
    PaymentRequired: 402,
    Forbidden: 403,
    NotFound: 404,
    MethodNotAllowed: 405,
    NotAcceptable: 406,
    ProxyAuthenticationRequired: 407,
    RequestTimeout: 408,
    Conflict: 409,
    Gone: 410,
    LengthRequired: 411,
    PreconditionFailed: 412,
    PayloadTooLarge: 413,
    UriTooLong: 414,
    UnsupportedMediaType: 415,
    RangeNotSatisfiable: 416,
    ExpectationFailed: 417,
    ImATeapot: 418,
    MisdirectedRequest: 421,
    UnprocessableEntity: 422,
    Locked: 423,
    FailedDependency: 424,
    TooEarly: 425,
    UpgradeRequired: 426,
    PreconditionRequired: 428,
    TooManyRequests: 429,
    RequestHeaderFieldsTooLarge: 431,
    UnavailableForLegalReasons: 451,
    InternalServerError: 500,
    NotImplemented: 501,
    BadGateway: 502,
    ServiceUnavailable: 503,
    GatewayTimeout: 504,
    HttpVersionNotSupported: 505,
    VariantAlsoNegotiates: 506,
    InsufficientStorage: 507,
    LoopDetected: 508,
    NotExtended: 510,
    NetworkAuthenticationRequired: 511,
    WebServerIsDown: 521,
    ConnectionTimedOut: 522,
    OriginIsUnreachable: 523,
    TimeoutOccurred: 524,
    SslHandshakeFailed: 525,
    InvalidSslCertificate: 526
};
Object.entries(Ep).forEach( ([t,e]) => {
    Ep[e] = t
}
);
function M3(t) {
    const e = new bi(t)
      , n = u3(bi.prototype.request, e);
    return U.extend(n, bi.prototype, e, {
        allOwnKeys: !0
    }),
    U.extend(n, e, null, {
        allOwnKeys: !0
    }),
    n.create = function(s) {
        return M3(Si(t, s))
    }
    ,
    n
}
const ct = M3(Eo);
ct.Axios = bi;
ct.CanceledError = Hl;
ct.CancelToken = rE;
ct.isCancel = S3;
ct.VERSION = T3;
ct.toFormData = Dd;
ct.AxiosError = be;
ct.Cancel = ct.CanceledError;
ct.all = function(e) {
    return Promise.all(e)
}
;
ct.spread = sE;
ct.isAxiosError = iE;
ct.mergeConfig = Si;
ct.AxiosHeaders = an;
ct.formToJSON = t => C3(U.isHTMLForm(t) ? new FormData(t) : t);
ct.getAdapter = _3.getAdapter;
ct.HttpStatusCode = Ep;
ct.default = ct;
const {Axios: IL, AxiosError: $L, CanceledError: PL, isCancel: VL, CancelToken: GL, VERSION: KL, all: YL, Cancel: JL, isAxiosError: XL, spread: QL, toFormData: ZL, AxiosHeaders: WL, HttpStatusCode: eB, formToJSON: tB, getAdapter: nB, mergeConfig: rB} = ct
  , lE = "https://neuraacademy.onrender.com"
  , W = ct.create({
    baseURL: `${lE}/api`,
    withCredentials: !0
});
var Zy = "popstate";
function aE(t={}) {
    function e(r, s) {
        let {pathname: l, search: o, hash: u} = r.location;
        return kp("", {
            pathname: l,
            search: o,
            hash: u
        }, s.state && s.state.usr || null, s.state && s.state.key || "default")
    }
    function n(r, s) {
        return typeof s == "string" ? s : so(s)
    }
    return uE(e, n, null, t)
}
function We(t, e) {
    if (t === !1 || t === null || typeof t > "u")
        throw new Error(e)
}
function Yn(t, e) {
    if (!t) {
        typeof console < "u" && console.warn(e);
        try {
            throw new Error(e)
        } catch {}
    }
}
function oE() {
    return Math.random().toString(36).substring(2, 10)
}
function Wy(t, e) {
    return {
        usr: t.state,
        key: t.key,
        idx: e
    }
}
function kp(t, e, n=null, r) {
    return {
        pathname: typeof t == "string" ? t : t.pathname,
        search: "",
        hash: "",
        ...typeof e == "string" ? Ul(e) : e,
        state: n,
        key: e && e.key || r || oE()
    }
}
function so({pathname: t="/", search: e="", hash: n=""}) {
    return e && e !== "?" && (t += e.charAt(0) === "?" ? e : "?" + e),
    n && n !== "#" && (t += n.charAt(0) === "#" ? n : "#" + n),
    t
}
function Ul(t) {
    let e = {};
    if (t) {
        let n = t.indexOf("#");
        n >= 0 && (e.hash = t.substring(n),
        t = t.substring(0, n));
        let r = t.indexOf("?");
        r >= 0 && (e.search = t.substring(r),
        t = t.substring(0, r)),
        t && (e.pathname = t)
    }
    return e
}
function uE(t, e, n, r={}) {
    let {window: s=document.defaultView, v5Compat: l=!1} = r
      , o = s.history
      , u = "POP"
      , f = null
      , p = m();
    p == null && (p = 0,
    o.replaceState({
        ...o.state,
        idx: p
    }, ""));
    function m() {
        return (o.state || {
            idx: null
        }).idx
    }
    function g() {
        u = "POP";
        let C = m()
          , E = C == null ? null : C - p;
        p = C,
        f && f({
            action: u,
            location: w.location,
            delta: E
        })
    }
    function v(C, E) {
        u = "PUSH";
        let A = kp(w.location, C, E);
        p = m() + 1;
        let _ = Wy(A, p)
          , O = w.createHref(A);
        try {
            o.pushState(_, "", O)
        } catch (R) {
            if (R instanceof DOMException && R.name === "DataCloneError")
                throw R;
            s.location.assign(O)
        }
        l && f && f({
            action: u,
            location: w.location,
            delta: 1
        })
    }
    function N(C, E) {
        u = "REPLACE";
        let A = kp(w.location, C, E);
        p = m();
        let _ = Wy(A, p)
          , O = w.createHref(A);
        o.replaceState(_, "", O),
        l && f && f({
            action: u,
            location: w.location,
            delta: 0
        })
    }
    function y(C) {
        return cE(C)
    }
    let w = {
        get action() {
            return u
        },
        get location() {
            return t(s, o)
        },
        listen(C) {
            if (f)
                throw new Error("A history only accepts one active listener");
            return s.addEventListener(Zy, g),
            f = C,
            () => {
                s.removeEventListener(Zy, g),
                f = null
            }
        },
        createHref(C) {
            return e(s, C)
        },
        createURL: y,
        encodeLocation(C) {
            let E = y(C);
            return {
                pathname: E.pathname,
                search: E.search,
                hash: E.hash
            }
        },
        push: v,
        replace: N,
        go(C) {
            return o.go(C)
        }
    };
    return w
}
function cE(t, e=!1) {
    let n = "http://localhost";
    typeof window < "u" && (n = window.location.origin !== "null" ? window.location.origin : window.location.href),
    We(n, "No window.location.(origin|href) available to create URL");
    let r = typeof t == "string" ? t : so(t);
    return r = r.replace(/ $/, "%20"),
    !e && r.startsWith("//") && (r = n + r),
    new URL(r,n)
}
function O3(t, e, n="/") {
    return dE(t, e, n, !1)
}
function dE(t, e, n, r) {
    let s = typeof e == "string" ? Ul(e) : e
      , l = Gr(s.pathname || "/", n);
    if (l == null)
        return null;
    let o = R3(t);
    fE(o);
    let u = null;
    for (let f = 0; u == null && f < o.length; ++f) {
        let p = CE(l);
        u = NE(o[f], p, r)
    }
    return u
}
function R3(t, e=[], n=[], r="", s=!1) {
    let l = (o, u, f=s, p) => {
        let m = {
            relativePath: p === void 0 ? o.path || "" : p,
            caseSensitive: o.caseSensitive === !0,
            childrenIndex: u,
            route: o
        };
        if (m.relativePath.startsWith("/")) {
            if (!m.relativePath.startsWith(r) && f)
                return;
            We(m.relativePath.startsWith(r), `Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),
            m.relativePath = m.relativePath.slice(r.length)
        }
        let g = $r([r, m.relativePath])
          , v = n.concat(m);
        o.children && o.children.length > 0 && (We(o.index !== !0, `Index routes must not have child routes. Please remove all child routes from route path "${g}".`),
        R3(o.children, e, v, g, f)),
        !(o.path == null && !o.index) && e.push({
            path: g,
            score: yE(g, o.index),
            routesMeta: v
        })
    }
    ;
    return t.forEach( (o, u) => {
        if (o.path === "" || !o.path?.includes("?"))
            l(o, u);
        else
            for (let f of z3(o.path))
                l(o, u, !0, f)
    }
    ),
    e
}
function z3(t) {
    let e = t.split("/");
    if (e.length === 0)
        return [];
    let[n,...r] = e
      , s = n.endsWith("?")
      , l = n.replace(/\?$/, "");
    if (r.length === 0)
        return s ? [l, ""] : [l];
    let o = z3(r.join("/"))
      , u = [];
    return u.push(...o.map(f => f === "" ? l : [l, f].join("/"))),
    s && u.push(...o),
    u.map(f => t.startsWith("/") && f === "" ? "/" : f)
}
function fE(t) {
    t.sort( (e, n) => e.score !== n.score ? n.score - e.score : vE(e.routesMeta.map(r => r.childrenIndex), n.routesMeta.map(r => r.childrenIndex)))
}
var hE = /^:[\w-]+$/
  , pE = 3
  , mE = 2
  , gE = 1
  , xE = 10
  , bE = -2
  , e2 = t => t === "*";
function yE(t, e) {
    let n = t.split("/")
      , r = n.length;
    return n.some(e2) && (r += bE),
    e && (r += mE),
    n.filter(s => !e2(s)).reduce( (s, l) => s + (hE.test(l) ? pE : l === "" ? gE : xE), r)
}
function vE(t, e) {
    return t.length === e.length && t.slice(0, -1).every( (r, s) => r === e[s]) ? t[t.length - 1] - e[e.length - 1] : 0
}
function NE(t, e, n=!1) {
    let {routesMeta: r} = t
      , s = {}
      , l = "/"
      , o = [];
    for (let u = 0; u < r.length; ++u) {
        let f = r[u]
          , p = u === r.length - 1
          , m = l === "/" ? e : e.slice(l.length) || "/"
          , g = Lc({
            path: f.relativePath,
            caseSensitive: f.caseSensitive,
            end: p
        }, m)
          , v = f.route;
        if (!g && p && n && !r[r.length - 1].route.index && (g = Lc({
            path: f.relativePath,
            caseSensitive: f.caseSensitive,
            end: !1
        }, m)),
        !g)
            return null;
        Object.assign(s, g.params),
        o.push({
            params: s,
            pathname: $r([l, g.pathname]),
            pathnameBase: kE($r([l, g.pathnameBase])),
            route: v
        }),
        g.pathnameBase !== "/" && (l = $r([l, g.pathnameBase]))
    }
    return o
}
function Lc(t, e) {
    typeof t == "string" && (t = {
        path: t,
        caseSensitive: !1,
        end: !0
    });
    let[n,r] = wE(t.path, t.caseSensitive, t.end)
      , s = e.match(n);
    if (!s)
        return null;
    let l = s[0]
      , o = l.replace(/(.)\/+$/, "$1")
      , u = s.slice(1);
    return {
        params: r.reduce( (p, {paramName: m, isOptional: g}, v) => {
            if (m === "*") {
                let y = u[v] || "";
                o = l.slice(0, l.length - y.length).replace(/(.)\/+$/, "$1")
            }
            const N = u[v];
            return g && !N ? p[m] = void 0 : p[m] = (N || "").replace(/%2F/g, "/"),
            p
        }
        , {}),
        pathname: l,
        pathnameBase: o,
        pattern: t
    }
}
function wE(t, e=!1, n=!0) {
    Yn(t === "*" || !t.endsWith("*") || t.endsWith("/*"), `Route path "${t}" will be treated as if it were "${t.replace(/\*$/, "/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/, "/*")}".`);
    let r = []
      , s = "^" + t.replace(/\/*\*?$/, "").replace(/^\/*/, "/").replace(/[\\.*+^${}|()[\]]/g, "\\$&").replace(/\/:([\w-]+)(\?)?/g, (o, u, f) => (r.push({
        paramName: u,
        isOptional: f != null
    }),
    f ? "/?([^\\/]+)?" : "/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g, "(/$1)?$2");
    return t.endsWith("*") ? (r.push({
        paramName: "*"
    }),
    s += t === "*" || t === "/*" ? "(.*)$" : "(?:\\/(.+)|\\/*)$") : n ? s += "\\/*$" : t !== "" && t !== "/" && (s += "(?:(?=\\/|$))"),
    [new RegExp(s,e ? void 0 : "i"), r]
}
function CE(t) {
    try {
        return t.split("/").map(e => decodeURIComponent(e).replace(/\//g, "%2F")).join("/")
    } catch (e) {
        return Yn(!1, `The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),
        t
    }
}
function Gr(t, e) {
    if (e === "/")
        return t;
    if (!t.toLowerCase().startsWith(e.toLowerCase()))
        return null;
    let n = e.endsWith("/") ? e.length - 1 : e.length
      , r = t.charAt(n);
    return r && r !== "/" ? null : t.slice(n) || "/"
}
var L3 = /^(?:[a-z][a-z0-9+.-]*:|\/\/)/i
  , SE = t => L3.test(t);
function jE(t, e="/") {
    let {pathname: n, search: r="", hash: s=""} = typeof t == "string" ? Ul(t) : t, l;
    if (n)
        if (SE(n))
            l = n;
        else {
            if (n.includes("//")) {
                let o = n;
                n = n.replace(/\/\/+/g, "/"),
                Yn(!1, `Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)
            }
            n.startsWith("/") ? l = t2(n.substring(1), "/") : l = t2(n, e)
        }
    else
        l = e;
    return {
        pathname: l,
        search: AE(r),
        hash: _E(s)
    }
}
function t2(t, e) {
    let n = e.replace(/\/+$/, "").split("/");
    return t.split("/").forEach(s => {
        s === ".." ? n.length > 1 && n.pop() : s !== "." && n.push(s)
    }
    ),
    n.length > 1 ? n.join("/") : "/"
}
function R0(t, e, n, r) {
    return `Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`
}
function EE(t) {
    return t.filter( (e, n) => n === 0 || e.route.path && e.route.path.length > 0)
}
function B3(t) {
    let e = EE(t);
    return e.map( (n, r) => r === e.length - 1 ? n.pathname : n.pathnameBase)
}
function F3(t, e, n, r=!1) {
    let s;
    typeof t == "string" ? s = Ul(t) : (s = {
        ...t
    },
    We(!s.pathname || !s.pathname.includes("?"), R0("?", "pathname", "search", s)),
    We(!s.pathname || !s.pathname.includes("#"), R0("#", "pathname", "hash", s)),
    We(!s.search || !s.search.includes("#"), R0("#", "search", "hash", s)));
    let l = t === "" || s.pathname === "", o = l ? "/" : s.pathname, u;
    if (o == null)
        u = n;
    else {
        let g = e.length - 1;
        if (!r && o.startsWith("..")) {
            let v = o.split("/");
            for (; v[0] === ".."; )
                v.shift(),
                g -= 1;
            s.pathname = v.join("/")
        }
        u = g >= 0 ? e[g] : "/"
    }
    let f = jE(s, u)
      , p = o && o !== "/" && o.endsWith("/")
      , m = (l || o === ".") && n.endsWith("/");
    return !f.pathname.endsWith("/") && (p || m) && (f.pathname += "/"),
    f
}
var $r = t => t.join("/").replace(/\/\/+/g, "/")
  , kE = t => t.replace(/\/+$/, "").replace(/^\/*/, "/")
  , AE = t => !t || t === "?" ? "" : t.startsWith("?") ? t : "?" + t
  , _E = t => !t || t === "#" ? "" : t.startsWith("#") ? t : "#" + t
  , TE = class {
    constructor(t, e, n, r=!1) {
        this.status = t,
        this.statusText = e || "",
        this.internal = r,
        n instanceof Error ? (this.data = n.toString(),
        this.error = n) : this.data = n
    }
}
;
function DE(t) {
    return t != null && typeof t.status == "number" && typeof t.statusText == "string" && typeof t.internal == "boolean" && "data"in t
}
function ME(t) {
    return t.map(e => e.route.path).filter(Boolean).join("/").replace(/\/\/*/g, "/") || "/"
}
var H3 = typeof window < "u" && typeof window.document < "u" && typeof window.document.createElement < "u";
function U3(t, e) {
    let n = t;
    if (typeof n != "string" || !L3.test(n))
        return {
            absoluteURL: void 0,
            isExternal: !1,
            to: n
        };
    let r = n
      , s = !1;
    if (H3)
        try {
            let l = new URL(window.location.href)
              , o = n.startsWith("//") ? new URL(l.protocol + n) : new URL(n)
              , u = Gr(o.pathname, e);
            o.origin === l.origin && u != null ? n = u + o.search + o.hash : s = !0
        } catch {
            Yn(!1, `<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)
        }
    return {
        absoluteURL: r,
        isExternal: s,
        to: n
    }
}
Object.getOwnPropertyNames(Object.prototype).sort().join("\0");
var q3 = ["POST", "PUT", "PATCH", "DELETE"];
new Set(q3);
var OE = ["GET", ...q3];
new Set(OE);
var ql = k.createContext(null);
ql.displayName = "DataRouter";
var Od = k.createContext(null);
Od.displayName = "DataRouterState";
var RE = k.createContext(!1)
  , I3 = k.createContext({
    isTransitioning: !1
});
I3.displayName = "ViewTransition";
var zE = k.createContext(new Map);
zE.displayName = "Fetchers";
var LE = k.createContext(null);
LE.displayName = "Await";
var In = k.createContext(null);
In.displayName = "Navigation";
var ko = k.createContext(null);
ko.displayName = "Location";
var pr = k.createContext({
    outlet: null,
    matches: [],
    isDataRoute: !1
});
pr.displayName = "Route";
var Cm = k.createContext(null);
Cm.displayName = "RouteError";
var $3 = "REACT_ROUTER_ERROR"
  , BE = "REDIRECT"
  , FE = "ROUTE_ERROR_RESPONSE";
function HE(t) {
    if (t.startsWith(`${$3}:${BE}:{`))
        try {
            let e = JSON.parse(t.slice(28));
            if (typeof e == "object" && e && typeof e.status == "number" && typeof e.statusText == "string" && typeof e.location == "string" && typeof e.reloadDocument == "boolean" && typeof e.replace == "boolean")
                return e
        } catch {}
}
function UE(t) {
    if (t.startsWith(`${$3}:${FE}:{`))
        try {
            let e = JSON.parse(t.slice(40));
            if (typeof e == "object" && e && typeof e.status == "number" && typeof e.statusText == "string")
                return new TE(e.status,e.statusText,e.data)
        } catch {}
}
function qE(t, {relative: e}={}) {
    We(Ao(), "useHref() may be used only in the context of a <Router> component.");
    let {basename: n, navigator: r} = k.useContext(In)
      , {hash: s, pathname: l, search: o} = _o(t, {
        relative: e
    })
      , u = l;
    return n !== "/" && (u = l === "/" ? n : $r([n, l])),
    r.createHref({
        pathname: u,
        search: o,
        hash: s
    })
}
function Ao() {
    return k.useContext(ko) != null
}
function Mi() {
    return We(Ao(), "useLocation() may be used only in the context of a <Router> component."),
    k.useContext(ko).location
}
var P3 = "You should call navigate() in a React.useEffect(), not when your component is first rendered.";
function V3(t) {
    k.useContext(In).static || k.useLayoutEffect(t)
}
function Ye() {
    let {isDataRoute: t} = k.useContext(pr);
    return t ? ek() : IE()
}
function IE() {
    We(Ao(), "useNavigate() may be used only in the context of a <Router> component.");
    let t = k.useContext(ql)
      , {basename: e, navigator: n} = k.useContext(In)
      , {matches: r} = k.useContext(pr)
      , {pathname: s} = Mi()
      , l = JSON.stringify(B3(r))
      , o = k.useRef(!1);
    return V3( () => {
        o.current = !0
    }
    ),
    k.useCallback( (f, p={}) => {
        if (Yn(o.current, P3),
        !o.current)
            return;
        if (typeof f == "number") {
            n.go(f);
            return
        }
        let m = F3(f, JSON.parse(l), s, p.relative === "path");
        t == null && e !== "/" && (m.pathname = m.pathname === "/" ? e : $r([e, m.pathname])),
        (p.replace ? n.replace : n.push)(m, p.state, p)
    }
    , [e, n, l, s, t])
}
k.createContext(null);
function $n() {
    let {matches: t} = k.useContext(pr)
      , e = t[t.length - 1];
    return e ? e.params : {}
}
function _o(t, {relative: e}={}) {
    let {matches: n} = k.useContext(pr)
      , {pathname: r} = Mi()
      , s = JSON.stringify(B3(n));
    return k.useMemo( () => F3(t, JSON.parse(s), r, e === "path"), [t, s, r, e])
}
function $E(t, e) {
    return G3(t, e)
}
function G3(t, e, n, r, s) {
    We(Ao(), "useRoutes() may be used only in the context of a <Router> component.");
    let {navigator: l} = k.useContext(In)
      , {matches: o} = k.useContext(pr)
      , u = o[o.length - 1]
      , f = u ? u.params : {}
      , p = u ? u.pathname : "/"
      , m = u ? u.pathnameBase : "/"
      , g = u && u.route;
    {
        let A = g && g.path || "";
        Y3(p, !g || A.endsWith("*") || A.endsWith("*?"), `You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A === "/" ? "*" : `${A}/*`}">.`)
    }
    let v = Mi(), N;
    if (e) {
        let A = typeof e == "string" ? Ul(e) : e;
        We(m === "/" || A.pathname?.startsWith(m), `When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${A.pathname}" was given in the \`location\` prop.`),
        N = A
    } else
        N = v;
    let y = N.pathname || "/"
      , w = y;
    if (m !== "/") {
        let A = m.replace(/^\//, "").split("/");
        w = "/" + y.replace(/^\//, "").split("/").slice(A.length).join("/")
    }
    let C = O3(t, {
        pathname: w
    });
    Yn(g || C != null, `No routes matched location "${N.pathname}${N.search}${N.hash}" `),
    Yn(C == null || C[C.length - 1].route.element !== void 0 || C[C.length - 1].route.Component !== void 0 || C[C.length - 1].route.lazy !== void 0, `Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);
    let E = YE(C && C.map(A => Object.assign({}, A, {
        params: Object.assign({}, f, A.params),
        pathname: $r([m, l.encodeLocation ? l.encodeLocation(A.pathname.replace(/\?/g, "%3F").replace(/#/g, "%23")).pathname : A.pathname]),
        pathnameBase: A.pathnameBase === "/" ? m : $r([m, l.encodeLocation ? l.encodeLocation(A.pathnameBase.replace(/\?/g, "%3F").replace(/#/g, "%23")).pathname : A.pathnameBase])
    })), o, n, r, s);
    return e && E ? k.createElement(ko.Provider, {
        value: {
            location: {
                pathname: "/",
                search: "",
                hash: "",
                state: null,
                key: "default",
                ...N
            },
            navigationType: "POP"
        }
    }, E) : E
}
function PE() {
    let t = WE()
      , e = DE(t) ? `${t.status} ${t.statusText}` : t instanceof Error ? t.message : JSON.stringify(t)
      , n = t instanceof Error ? t.stack : null
      , r = "rgba(200,200,200, 0.5)"
      , s = {
        padding: "0.5rem",
        backgroundColor: r
    }
      , l = {
        padding: "2px 4px",
        backgroundColor: r
    }
      , o = null;
    return console.error("Error handled by React Router default ErrorBoundary:", t),
    o = k.createElement(k.Fragment, null, k.createElement("p", null, " Hey developer "), k.createElement("p", null, "You can provide a way better UX than this when your app throws errors by providing your own ", k.createElement("code", {
        style: l
    }, "ErrorBoundary"), " or", " ", k.createElement("code", {
        style: l
    }, "errorElement"), " prop on your route.")),
    k.createElement(k.Fragment, null, k.createElement("h2", null, "Unexpected Application Error!"), k.createElement("h3", {
        style: {
            fontStyle: "italic"
        }
    }, e), n ? k.createElement("pre", {
        style: s
    }, n) : null, o)
}
var VE = k.createElement(PE, null)
  , K3 = class extends k.Component {
    constructor(t) {
        super(t),
        this.state = {
            location: t.location,
            revalidation: t.revalidation,
            error: t.error
        }
    }
    static getDerivedStateFromError(t) {
        return {
            error: t
        }
    }
    static getDerivedStateFromProps(t, e) {
        return e.location !== t.location || e.revalidation !== "idle" && t.revalidation === "idle" ? {
            error: t.error,
            location: t.location,
            revalidation: t.revalidation
        } : {
            error: t.error !== void 0 ? t.error : e.error,
            location: e.location,
            revalidation: t.revalidation || e.revalidation
        }
    }
    componentDidCatch(t, e) {
        this.props.onError ? this.props.onError(t, e) : console.error("React Router caught the following error during render", t)
    }
    render() {
        let t = this.state.error;
        if (this.context && typeof t == "object" && t && "digest"in t && typeof t.digest == "string") {
            const n = UE(t.digest);
            n && (t = n)
        }
        let e = t !== void 0 ? k.createElement(pr.Provider, {
            value: this.props.routeContext
        }, k.createElement(Cm.Provider, {
            value: t,
            children: this.props.component
        })) : this.props.children;
        return this.context ? k.createElement(GE, {
            error: t
        }, e) : e
    }
}
;
K3.contextType = RE;
var z0 = new WeakMap;
function GE({children: t, error: e}) {
    let {basename: n} = k.useContext(In);
    if (typeof e == "object" && e && "digest"in e && typeof e.digest == "string") {
        let r = HE(e.digest);
        if (r) {
            let s = z0.get(e);
            if (s)
                throw s;
            let l = U3(r.location, n);
            if (H3 && !z0.get(e))
                if (l.isExternal || r.reloadDocument)
                    window.location.href = l.absoluteURL || l.to;
                else {
                    const o = Promise.resolve().then( () => window.__reactRouterDataRouter.navigate(l.to, {
                        replace: r.replace
                    }));
                    throw z0.set(e, o),
                    o
                }
            return k.createElement("meta", {
                httpEquiv: "refresh",
                content: `0;url=${l.absoluteURL || l.to}`
            })
        }
    }
    return t
}
function KE({routeContext: t, match: e, children: n}) {
    let r = k.useContext(ql);
    return r && r.static && r.staticContext && (e.route.errorElement || e.route.ErrorBoundary) && (r.staticContext._deepestRenderedBoundaryId = e.route.id),
    k.createElement(pr.Provider, {
        value: t
    }, n)
}
function YE(t, e=[], n=null, r=null, s=null) {
    if (t == null) {
        if (!n)
            return null;
        if (n.errors)
            t = n.matches;
        else if (e.length === 0 && !n.initialized && n.matches.length > 0)
            t = n.matches;
        else
            return null
    }
    let l = t
      , o = n?.errors;
    if (o != null) {
        let m = l.findIndex(g => g.route.id && o?.[g.route.id] !== void 0);
        We(m >= 0, `Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),
        l = l.slice(0, Math.min(l.length, m + 1))
    }
    let u = !1
      , f = -1;
    if (n)
        for (let m = 0; m < l.length; m++) {
            let g = l[m];
            if ((g.route.HydrateFallback || g.route.hydrateFallbackElement) && (f = m),
            g.route.id) {
                let {loaderData: v, errors: N} = n
                  , y = g.route.loader && !v.hasOwnProperty(g.route.id) && (!N || N[g.route.id] === void 0);
                if (g.route.lazy || y) {
                    u = !0,
                    f >= 0 ? l = l.slice(0, f + 1) : l = [l[0]];
                    break
                }
            }
        }
    let p = n && r ? (m, g) => {
        r(m, {
            location: n.location,
            params: n.matches?.[0]?.params ?? {},
            unstable_pattern: ME(n.matches),
            errorInfo: g
        })
    }
    : void 0;
    return l.reduceRight( (m, g, v) => {
        let N, y = !1, w = null, C = null;
        n && (N = o && g.route.id ? o[g.route.id] : void 0,
        w = g.route.errorElement || VE,
        u && (f < 0 && v === 0 ? (Y3("route-fallback", !1, "No `HydrateFallback` element provided to render during initial hydration"),
        y = !0,
        C = null) : f === v && (y = !0,
        C = g.route.hydrateFallbackElement || null)));
        let E = e.concat(l.slice(0, v + 1))
          , A = () => {
            let _;
            return N ? _ = w : y ? _ = C : g.route.Component ? _ = k.createElement(g.route.Component, null) : g.route.element ? _ = g.route.element : _ = m,
            k.createElement(KE, {
                match: g,
                routeContext: {
                    outlet: m,
                    matches: E,
                    isDataRoute: n != null
                },
                children: _
            })
        }
        ;
        return n && (g.route.ErrorBoundary || g.route.errorElement || v === 0) ? k.createElement(K3, {
            location: n.location,
            revalidation: n.revalidation,
            component: w,
            error: N,
            children: A(),
            routeContext: {
                outlet: null,
                matches: E,
                isDataRoute: !0
            },
            onError: p
        }) : A()
    }
    , null)
}
function Sm(t) {
    return `${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`
}
function JE(t) {
    let e = k.useContext(ql);
    return We(e, Sm(t)),
    e
}
function XE(t) {
    let e = k.useContext(Od);
    return We(e, Sm(t)),
    e
}
function QE(t) {
    let e = k.useContext(pr);
    return We(e, Sm(t)),
    e
}
function jm(t) {
    let e = QE(t)
      , n = e.matches[e.matches.length - 1];
    return We(n.route.id, `${t} can only be used on routes that contain a unique "id"`),
    n.route.id
}
function ZE() {
    return jm("useRouteId")
}
function WE() {
    let t = k.useContext(Cm)
      , e = XE("useRouteError")
      , n = jm("useRouteError");
    return t !== void 0 ? t : e.errors?.[n]
}
function ek() {
    let {router: t} = JE("useNavigate")
      , e = jm("useNavigate")
      , n = k.useRef(!1);
    return V3( () => {
        n.current = !0
    }
    ),
    k.useCallback(async (s, l={}) => {
        Yn(n.current, P3),
        n.current && (typeof s == "number" ? await t.navigate(s) : await t.navigate(s, {
            fromRouteId: e,
            ...l
        }))
    }
    , [t, e])
}
var n2 = {};
function Y3(t, e, n) {
    !e && !n2[t] && (n2[t] = !0,
    Yn(!1, n))
}
k.memo(tk);
function tk({routes: t, future: e, state: n, onError: r}) {
    return G3(t, void 0, n, r, e)
}
function we(t) {
    We(!1, "A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")
}
function nk({basename: t="/", children: e=null, location: n, navigationType: r="POP", navigator: s, static: l=!1, unstable_useTransitions: o}) {
    We(!Ao(), "You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");
    let u = t.replace(/^\/*/, "/")
      , f = k.useMemo( () => ({
        basename: u,
        navigator: s,
        static: l,
        unstable_useTransitions: o,
        future: {}
    }), [u, s, l, o]);
    typeof n == "string" && (n = Ul(n));
    let {pathname: p="/", search: m="", hash: g="", state: v=null, key: N="default"} = n
      , y = k.useMemo( () => {
        let w = Gr(p, u);
        return w == null ? null : {
            location: {
                pathname: w,
                search: m,
                hash: g,
                state: v,
                key: N
            },
            navigationType: r
        }
    }
    , [u, p, m, g, v, N, r]);
    return Yn(y != null, `<Router basename="${u}"> is not able to match the URL "${p}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),
    y == null ? null : k.createElement(In.Provider, {
        value: f
    }, k.createElement(ko.Provider, {
        children: e,
        value: y
    }))
}
function rk({children: t, location: e}) {
    return $E(Ap(t), e)
}
function Ap(t, e=[]) {
    let n = [];
    return k.Children.forEach(t, (r, s) => {
        if (!k.isValidElement(r))
            return;
        let l = [...e, s];
        if (r.type === k.Fragment) {
            n.push.apply(n, Ap(r.props.children, l));
            return
        }
        We(r.type === we, `[${typeof r.type == "string" ? r.type : r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),
        We(!r.props.index || !r.props.children, "An index route cannot have child routes.");
        let o = {
            id: r.props.id || l.join("-"),
            caseSensitive: r.props.caseSensitive,
            element: r.props.element,
            Component: r.props.Component,
            index: r.props.index,
            path: r.props.path,
            middleware: r.props.middleware,
            loader: r.props.loader,
            action: r.props.action,
            hydrateFallbackElement: r.props.hydrateFallbackElement,
            HydrateFallback: r.props.HydrateFallback,
            errorElement: r.props.errorElement,
            ErrorBoundary: r.props.ErrorBoundary,
            hasErrorBoundary: r.props.hasErrorBoundary === !0 || r.props.ErrorBoundary != null || r.props.errorElement != null,
            shouldRevalidate: r.props.shouldRevalidate,
            handle: r.props.handle,
            lazy: r.props.lazy
        };
        r.props.children && (o.children = Ap(r.props.children, l)),
        n.push(o)
    }
    ),
    n
}
var jc = "get"
  , Ec = "application/x-www-form-urlencoded";
function Rd(t) {
    return typeof HTMLElement < "u" && t instanceof HTMLElement
}
function sk(t) {
    return Rd(t) && t.tagName.toLowerCase() === "button"
}
function ik(t) {
    return Rd(t) && t.tagName.toLowerCase() === "form"
}
function lk(t) {
    return Rd(t) && t.tagName.toLowerCase() === "input"
}
function ak(t) {
    return !!(t.metaKey || t.altKey || t.ctrlKey || t.shiftKey)
}
function ok(t, e) {
    return t.button === 0 && (!e || e === "_self") && !ak(t)
}
var rc = null;
function uk() {
    if (rc === null)
        try {
            new FormData(document.createElement("form"),0),
            rc = !1
        } catch {
            rc = !0
        }
    return rc
}
var ck = new Set(["application/x-www-form-urlencoded", "multipart/form-data", "text/plain"]);
function L0(t) {
    return t != null && !ck.has(t) ? (Yn(!1, `"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ec}"`),
    null) : t
}
function dk(t, e) {
    let n, r, s, l, o;
    if (ik(t)) {
        let u = t.getAttribute("action");
        r = u ? Gr(u, e) : null,
        n = t.getAttribute("method") || jc,
        s = L0(t.getAttribute("enctype")) || Ec,
        l = new FormData(t)
    } else if (sk(t) || lk(t) && (t.type === "submit" || t.type === "image")) {
        let u = t.form;
        if (u == null)
            throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');
        let f = t.getAttribute("formaction") || u.getAttribute("action");
        if (r = f ? Gr(f, e) : null,
        n = t.getAttribute("formmethod") || u.getAttribute("method") || jc,
        s = L0(t.getAttribute("formenctype")) || L0(u.getAttribute("enctype")) || Ec,
        l = new FormData(u,t),
        !uk()) {
            let {name: p, type: m, value: g} = t;
            if (m === "image") {
                let v = p ? `${p}.` : "";
                l.append(`${v}x`, "0"),
                l.append(`${v}y`, "0")
            } else
                p && l.append(p, g)
        }
    } else {
        if (Rd(t))
            throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');
        n = jc,
        r = null,
        s = Ec,
        o = t
    }
    return l && s === "text/plain" && (o = l,
    l = void 0),
    {
        action: r,
        method: n.toLowerCase(),
        encType: s,
        formData: l,
        body: o
    }
}
Object.getOwnPropertyNames(Object.prototype).sort().join("\0");
function Em(t, e) {
    if (t === !1 || t === null || typeof t > "u")
        throw new Error(e)
}
function fk(t, e, n) {
    let r = typeof t == "string" ? new URL(t,typeof window > "u" ? "server://singlefetch/" : window.location.origin) : t;
    return r.pathname === "/" ? r.pathname = `_root.${n}` : e && Gr(r.pathname, e) === "/" ? r.pathname = `${e.replace(/\/$/, "")}/_root.${n}` : r.pathname = `${r.pathname.replace(/\/$/, "")}.${n}`,
    r
}
async function hk(t, e) {
    if (t.id in e)
        return e[t.id];
    try {
        let n = await import(t.module);
        return e[t.id] = n,
        n
    } catch (n) {
        return console.error(`Error loading route module \`${t.module}\`, reloading page...`),
        console.error(n),
        window.__reactRouterContext && window.__reactRouterContext.isSpaMode,
        window.location.reload(),
        new Promise( () => {}
        )
    }
}
function pk(t) {
    return t == null ? !1 : t.href == null ? t.rel === "preload" && typeof t.imageSrcSet == "string" && typeof t.imageSizes == "string" : typeof t.rel == "string" && typeof t.href == "string"
}
async function mk(t, e, n) {
    let r = await Promise.all(t.map(async s => {
        let l = e.routes[s.route.id];
        if (l) {
            let o = await hk(l, n);
            return o.links ? o.links() : []
        }
        return []
    }
    ));
    return yk(r.flat(1).filter(pk).filter(s => s.rel === "stylesheet" || s.rel === "preload").map(s => s.rel === "stylesheet" ? {
        ...s,
        rel: "prefetch",
        as: "style"
    } : {
        ...s,
        rel: "prefetch"
    }))
}
function r2(t, e, n, r, s, l) {
    let o = (f, p) => n[p] ? f.route.id !== n[p].route.id : !0
      , u = (f, p) => n[p].pathname !== f.pathname || n[p].route.path?.endsWith("*") && n[p].params["*"] !== f.params["*"];
    return l === "assets" ? e.filter( (f, p) => o(f, p) || u(f, p)) : l === "data" ? e.filter( (f, p) => {
        let m = r.routes[f.route.id];
        if (!m || !m.hasLoader)
            return !1;
        if (o(f, p) || u(f, p))
            return !0;
        if (f.route.shouldRevalidate) {
            let g = f.route.shouldRevalidate({
                currentUrl: new URL(s.pathname + s.search + s.hash,window.origin),
                currentParams: n[0]?.params || {},
                nextUrl: new URL(t,window.origin),
                nextParams: f.params,
                defaultShouldRevalidate: !0
            });
            if (typeof g == "boolean")
                return g
        }
        return !0
    }
    ) : []
}
function gk(t, e, {includeHydrateFallback: n}={}) {
    return xk(t.map(r => {
        let s = e.routes[r.route.id];
        if (!s)
            return [];
        let l = [s.module];
        return s.clientActionModule && (l = l.concat(s.clientActionModule)),
        s.clientLoaderModule && (l = l.concat(s.clientLoaderModule)),
        n && s.hydrateFallbackModule && (l = l.concat(s.hydrateFallbackModule)),
        s.imports && (l = l.concat(s.imports)),
        l
    }
    ).flat(1))
}
function xk(t) {
    return [...new Set(t)]
}
function bk(t) {
    let e = {}
      , n = Object.keys(t).sort();
    for (let r of n)
        e[r] = t[r];
    return e
}
function yk(t, e) {
    let n = new Set;
    return new Set(e),
    t.reduce( (r, s) => {
        let l = JSON.stringify(bk(s));
        return n.has(l) || (n.add(l),
        r.push({
            key: l,
            link: s
        })),
        r
    }
    , [])
}
function J3() {
    let t = k.useContext(ql);
    return Em(t, "You must render this element inside a <DataRouterContext.Provider> element"),
    t
}
function vk() {
    let t = k.useContext(Od);
    return Em(t, "You must render this element inside a <DataRouterStateContext.Provider> element"),
    t
}
var km = k.createContext(void 0);
km.displayName = "FrameworkContext";
function X3() {
    let t = k.useContext(km);
    return Em(t, "You must render this element inside a <HydratedRouter> element"),
    t
}
function Nk(t, e) {
    let n = k.useContext(km)
      , [r,s] = k.useState(!1)
      , [l,o] = k.useState(!1)
      , {onFocus: u, onBlur: f, onMouseEnter: p, onMouseLeave: m, onTouchStart: g} = e
      , v = k.useRef(null);
    k.useEffect( () => {
        if (t === "render" && o(!0),
        t === "viewport") {
            let w = E => {
                E.forEach(A => {
                    o(A.isIntersecting)
                }
                )
            }
              , C = new IntersectionObserver(w,{
                threshold: .5
            });
            return v.current && C.observe(v.current),
            () => {
                C.disconnect()
            }
        }
    }
    , [t]),
    k.useEffect( () => {
        if (r) {
            let w = setTimeout( () => {
                o(!0)
            }
            , 100);
            return () => {
                clearTimeout(w)
            }
        }
    }
    , [r]);
    let N = () => {
        s(!0)
    }
      , y = () => {
        s(!1),
        o(!1)
    }
    ;
    return n ? t !== "intent" ? [l, v, {}] : [l, v, {
        onFocus: qa(u, N),
        onBlur: qa(f, y),
        onMouseEnter: qa(p, N),
        onMouseLeave: qa(m, y),
        onTouchStart: qa(g, N)
    }] : [!1, v, {}]
}
function qa(t, e) {
    return n => {
        t && t(n),
        n.defaultPrevented || e(n)
    }
}
function wk({page: t, ...e}) {
    let {router: n} = J3()
      , r = k.useMemo( () => O3(n.routes, t, n.basename), [n.routes, t, n.basename]);
    return r ? k.createElement(Sk, {
        page: t,
        matches: r,
        ...e
    }) : null
}
function Ck(t) {
    let {manifest: e, routeModules: n} = X3()
      , [r,s] = k.useState([]);
    return k.useEffect( () => {
        let l = !1;
        return mk(t, e, n).then(o => {
            l || s(o)
        }
        ),
        () => {
            l = !0
        }
    }
    , [t, e, n]),
    r
}
function Sk({page: t, matches: e, ...n}) {
    let r = Mi()
      , {manifest: s, routeModules: l} = X3()
      , {basename: o} = J3()
      , {loaderData: u, matches: f} = vk()
      , p = k.useMemo( () => r2(t, e, f, s, r, "data"), [t, e, f, s, r])
      , m = k.useMemo( () => r2(t, e, f, s, r, "assets"), [t, e, f, s, r])
      , g = k.useMemo( () => {
        if (t === r.pathname + r.search + r.hash)
            return [];
        let y = new Set
          , w = !1;
        if (e.forEach(E => {
            let A = s.routes[E.route.id];
            !A || !A.hasLoader || (!p.some(_ => _.route.id === E.route.id) && E.route.id in u && l[E.route.id]?.shouldRevalidate || A.hasClientLoader ? w = !0 : y.add(E.route.id))
        }
        ),
        y.size === 0)
            return [];
        let C = fk(t, o, "data");
        return w && y.size > 0 && C.searchParams.set("_routes", e.filter(E => y.has(E.route.id)).map(E => E.route.id).join(",")),
        [C.pathname + C.search]
    }
    , [o, u, r, s, p, e, t, l])
      , v = k.useMemo( () => gk(m, s), [m, s])
      , N = Ck(m);
    return k.createElement(k.Fragment, null, g.map(y => k.createElement("link", {
        key: y,
        rel: "prefetch",
        as: "fetch",
        href: y,
        ...n
    })), v.map(y => k.createElement("link", {
        key: y,
        rel: "modulepreload",
        href: y,
        ...n
    })), N.map( ({key: y, link: w}) => k.createElement("link", {
        key: y,
        nonce: n.nonce,
        ...w
    })))
}
function jk(...t) {
    return e => {
        t.forEach(n => {
            typeof n == "function" ? n(e) : n != null && (n.current = e)
        }
        )
    }
}
var Ek = typeof window < "u" && typeof window.document < "u" && typeof window.document.createElement < "u";
try {
    Ek && (window.__reactRouterVersion = "7.11.0")
} catch {}
function kk({basename: t, children: e, unstable_useTransitions: n, window: r}) {
    let s = k.useRef();
    s.current == null && (s.current = aE({
        window: r,
        v5Compat: !0
    }));
    let l = s.current
      , [o,u] = k.useState({
        action: l.action,
        location: l.location
    })
      , f = k.useCallback(p => {
        n === !1 ? u(p) : k.startTransition( () => u(p))
    }
    , [n]);
    return k.useLayoutEffect( () => l.listen(f), [l, f]),
    k.createElement(nk, {
        basename: t,
        children: e,
        location: o.location,
        navigationType: o.action,
        navigator: l,
        unstable_useTransitions: n
    })
}
var Q3 = /^(?:[a-z][a-z0-9+.-]*:|\/\/)/i
  , xt = k.forwardRef(function({onClick: e, discover: n="render", prefetch: r="none", relative: s, reloadDocument: l, replace: o, state: u, target: f, to: p, preventScrollReset: m, viewTransition: g, unstable_defaultShouldRevalidate: v, ...N}, y) {
    let {basename: w, unstable_useTransitions: C} = k.useContext(In)
      , E = typeof p == "string" && Q3.test(p)
      , A = U3(p, w);
    p = A.to;
    let _ = qE(p, {
        relative: s
    })
      , [O,R,$] = Nk(r, N)
      , z = Dk(p, {
        replace: o,
        state: u,
        target: f,
        preventScrollReset: m,
        relative: s,
        viewTransition: g,
        unstable_defaultShouldRevalidate: v,
        unstable_useTransitions: C
    });
    function G(pe) {
        e && e(pe),
        pe.defaultPrevented || z(pe)
    }
    let Y = k.createElement("a", {
        ...N,
        ...$,
        href: A.absoluteURL || _,
        onClick: A.isExternal || l ? e : G,
        ref: jk(y, R),
        target: f,
        "data-discover": !E && n === "render" ? "true" : void 0
    });
    return O && !E ? k.createElement(k.Fragment, null, Y, k.createElement(wk, {
        page: _
    })) : Y
});
xt.displayName = "Link";
var Ak = k.forwardRef(function({"aria-current": e="page", caseSensitive: n=!1, className: r="", end: s=!1, style: l, to: o, viewTransition: u, children: f, ...p}, m) {
    let g = _o(o, {
        relative: p.relative
    })
      , v = Mi()
      , N = k.useContext(Od)
      , {navigator: y, basename: w} = k.useContext(In)
      , C = N != null && Lk(g) && u === !0
      , E = y.encodeLocation ? y.encodeLocation(g).pathname : g.pathname
      , A = v.pathname
      , _ = N && N.navigation && N.navigation.location ? N.navigation.location.pathname : null;
    n || (A = A.toLowerCase(),
    _ = _ ? _.toLowerCase() : null,
    E = E.toLowerCase()),
    _ && w && (_ = Gr(_, w) || _);
    const O = E !== "/" && E.endsWith("/") ? E.length - 1 : E.length;
    let R = A === E || !s && A.startsWith(E) && A.charAt(O) === "/", $ = _ != null && (_ === E || !s && _.startsWith(E) && _.charAt(E.length) === "/"), z = {
        isActive: R,
        isPending: $,
        isTransitioning: C
    }, G = R ? e : void 0, Y;
    typeof r == "function" ? Y = r(z) : Y = [r, R ? "active" : null, $ ? "pending" : null, C ? "transitioning" : null].filter(Boolean).join(" ");
    let pe = typeof l == "function" ? l(z) : l;
    return k.createElement(xt, {
        ...p,
        "aria-current": G,
        className: Y,
        ref: m,
        style: pe,
        to: o,
        viewTransition: u
    }, typeof f == "function" ? f(z) : f)
});
Ak.displayName = "NavLink";
var _k = k.forwardRef( ({discover: t="render", fetcherKey: e, navigate: n, reloadDocument: r, replace: s, state: l, method: o=jc, action: u, onSubmit: f, relative: p, preventScrollReset: m, viewTransition: g, unstable_defaultShouldRevalidate: v, ...N}, y) => {
    let {unstable_useTransitions: w} = k.useContext(In)
      , C = Rk()
      , E = zk(u, {
        relative: p
    })
      , A = o.toLowerCase() === "get" ? "get" : "post"
      , _ = typeof u == "string" && Q3.test(u)
      , O = R => {
        if (f && f(R),
        R.defaultPrevented)
            return;
        R.preventDefault();
        let $ = R.nativeEvent.submitter
          , z = $?.getAttribute("formmethod") || o
          , G = () => C($ || R.currentTarget, {
            fetcherKey: e,
            method: z,
            navigate: n,
            replace: s,
            state: l,
            relative: p,
            preventScrollReset: m,
            viewTransition: g,
            unstable_defaultShouldRevalidate: v
        });
        w && n !== !1 ? k.startTransition( () => G()) : G()
    }
    ;
    return k.createElement("form", {
        ref: y,
        method: A,
        action: E,
        onSubmit: r ? f : O,
        ...N,
        "data-discover": !_ && t === "render" ? "true" : void 0
    })
}
);
_k.displayName = "Form";
function Tk(t) {
    return `${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`
}
function Z3(t) {
    let e = k.useContext(ql);
    return We(e, Tk(t)),
    e
}
function Dk(t, {target: e, replace: n, state: r, preventScrollReset: s, relative: l, viewTransition: o, unstable_defaultShouldRevalidate: u, unstable_useTransitions: f}={}) {
    let p = Ye()
      , m = Mi()
      , g = _o(t, {
        relative: l
    });
    return k.useCallback(v => {
        if (ok(v, e)) {
            v.preventDefault();
            let N = n !== void 0 ? n : so(m) === so(g)
              , y = () => p(t, {
                replace: N,
                state: r,
                preventScrollReset: s,
                relative: l,
                viewTransition: o,
                unstable_defaultShouldRevalidate: u
            });
            f ? k.startTransition( () => y()) : y()
        }
    }
    , [m, p, g, n, r, e, t, s, l, o, u, f])
}
var Mk = 0
  , Ok = () => `__${String(++Mk)}__`;
function Rk() {
    let {router: t} = Z3("useSubmit")
      , {basename: e} = k.useContext(In)
      , n = ZE()
      , r = t.fetch
      , s = t.navigate;
    return k.useCallback(async (l, o={}) => {
        let {action: u, method: f, encType: p, formData: m, body: g} = dk(l, e);
        if (o.navigate === !1) {
            let v = o.fetcherKey || Ok();
            await r(v, n, o.action || u, {
                unstable_defaultShouldRevalidate: o.unstable_defaultShouldRevalidate,
                preventScrollReset: o.preventScrollReset,
                formData: m,
                body: g,
                formMethod: o.method || f,
                formEncType: o.encType || p,
                flushSync: o.flushSync
            })
        } else
            await s(o.action || u, {
                unstable_defaultShouldRevalidate: o.unstable_defaultShouldRevalidate,
                preventScrollReset: o.preventScrollReset,
                formData: m,
                body: g,
                formMethod: o.method || f,
                formEncType: o.encType || p,
                replace: o.replace,
                state: o.state,
                fromRouteId: n,
                flushSync: o.flushSync,
                viewTransition: o.viewTransition
            })
    }
    , [r, s, e, n])
}
function zk(t, {relative: e}={}) {
    let {basename: n} = k.useContext(In)
      , r = k.useContext(pr);
    We(r, "useFormAction must be used inside a RouteContext");
    let[s] = r.matches.slice(-1)
      , l = {
        ..._o(t || ".", {
            relative: e
        })
    }
      , o = Mi();
    if (t == null) {
        l.search = o.search;
        let u = new URLSearchParams(l.search)
          , f = u.getAll("index");
        if (f.some(m => m === "")) {
            u.delete("index"),
            f.filter(g => g).forEach(g => u.append("index", g));
            let m = u.toString();
            l.search = m ? `?${m}` : ""
        }
    }
    return (!t || t === ".") && s.route.index && (l.search = l.search ? l.search.replace(/^\?/, "?index&") : "?index"),
    n !== "/" && (l.pathname = l.pathname === "/" ? n : $r([n, l.pathname])),
    so(l)
}
function Lk(t, {relative: e}={}) {
    let n = k.useContext(I3);
    We(n != null, "`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");
    let {basename: r} = Z3("useViewTransitionState")
      , s = _o(t, {
        relative: e
    });
    if (!n.isTransitioning)
        return !1;
    let l = Gr(n.currentLocation.pathname, r) || n.currentLocation.pathname
      , o = Gr(n.nextLocation.pathname, r) || n.nextLocation.pathname;
    return Lc(s.pathname, o) != null || Lc(s.pathname, l) != null
}
var Bk = o3();
const Fk = xm(Bk);
const Hk = t => t.replace(/([a-z0-9])([A-Z])/g, "$1-$2").toLowerCase()
  , Uk = t => t.replace(/^([A-Z])|[\s-_]+(\w)/g, (e, n, r) => r ? r.toUpperCase() : n.toLowerCase())
  , s2 = t => {
    const e = Uk(t);
    return e.charAt(0).toUpperCase() + e.slice(1)
}
  , W3 = (...t) => t.filter( (e, n, r) => !!e && e.trim() !== "" && r.indexOf(e) === n).join(" ").trim()
  , qk = t => {
    for (const e in t)
        if (e.startsWith("aria-") || e === "role" || e === "title")
            return !0
}
;
var Ik = {
    xmlns: "http://www.w3.org/2000/svg",
    width: 24,
    height: 24,
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: 2,
    strokeLinecap: "round",
    strokeLinejoin: "round"
};
const $k = k.forwardRef( ({color: t="currentColor", size: e=24, strokeWidth: n=2, absoluteStrokeWidth: r, className: s="", children: l, iconNode: o, ...u}, f) => k.createElement("svg", {
    ref: f,
    ...Ik,
    width: e,
    height: e,
    stroke: t,
    strokeWidth: r ? Number(n) * 24 / Number(e) : n,
    className: W3("lucide", s),
    ...!l && !qk(u) && {
        "aria-hidden": "true"
    },
    ...u
}, [...o.map( ([p,m]) => k.createElement(p, m)), ...Array.isArray(l) ? l : [l]]));
const fe = (t, e) => {
    const n = k.forwardRef( ({className: r, ...s}, l) => k.createElement($k, {
        ref: l,
        iconNode: e,
        className: W3(`lucide-${Hk(s2(t))}`, `lucide-${t}`, r),
        ...s
    }));
    return n.displayName = s2(t),
    n
}
;
const Pk = [["path", {
    d: "m12 19-7-7 7-7",
    key: "1l729n"
}], ["path", {
    d: "M19 12H5",
    key: "x3x0zl"
}]]
  , To = fe("arrow-left", Pk);
const Vk = [["path", {
    d: "m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",
    key: "1yiouv"
}], ["circle", {
    cx: "12",
    cy: "8",
    r: "6",
    key: "1vp47v"
}]]
  , _p = fe("award", Vk);
const Gk = [["path", {
    d: "M12 7v14",
    key: "1akyts"
}], ["path", {
    d: "M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",
    key: "ruj8y"
}]]
  , cr = fe("book-open", Gk);
const Kk = [["path", {
    d: "M12 8V4H8",
    key: "hb8ula"
}], ["rect", {
    width: "16",
    height: "12",
    x: "4",
    y: "8",
    rx: "2",
    key: "enze0r"
}], ["path", {
    d: "M2 14h2",
    key: "vft8re"
}], ["path", {
    d: "M20 14h2",
    key: "4cs60a"
}], ["path", {
    d: "M15 13v2",
    key: "1xurst"
}], ["path", {
    d: "M9 13v2",
    key: "rq6x2g"
}]]
  , Yk = fe("bot", Kk);
const Jk = [["path", {
    d: "M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",
    key: "jecpp"
}], ["rect", {
    width: "20",
    height: "14",
    x: "2",
    y: "6",
    rx: "2",
    key: "i6l2r4"
}]]
  , Xk = fe("briefcase", Jk);
const Qk = [["path", {
    d: "M3 3v16a2 2 0 0 0 2 2h16",
    key: "c24i48"
}], ["path", {
    d: "M7 16h8",
    key: "srdodz"
}], ["path", {
    d: "M7 11h12",
    key: "127s9w"
}], ["path", {
    d: "M7 6h3",
    key: "w9rmul"
}]]
  , Zk = fe("chart-bar", Qk);
const Wk = [["path", {
    d: "M3 3v16a2 2 0 0 0 2 2h16",
    key: "c24i48"
}], ["path", {
    d: "M18 17V9",
    key: "2bz60n"
}], ["path", {
    d: "M13 17V5",
    key: "1frdt8"
}], ["path", {
    d: "M8 17v-3",
    key: "17ska0"
}]]
  , e5 = fe("chart-column", Wk);
const t5 = [["path", {
    d: "M3 3v16a2 2 0 0 0 2 2h16",
    key: "c24i48"
}], ["path", {
    d: "m19 9-5 5-4-4-3 3",
    key: "2osh9i"
}]]
  , n5 = fe("chart-line", t5);
const r5 = [["path", {
    d: "M20 6 9 17l-5-5",
    key: "1gmf2c"
}]]
  , s5 = fe("check", r5);
const i5 = [["path", {
    d: "m6 9 6 6 6-6",
    key: "qrunsl"
}]]
  , l5 = fe("chevron-down", i5);
const a5 = [["circle", {
    cx: "12",
    cy: "12",
    r: "10",
    key: "1mglay"
}], ["line", {
    x1: "12",
    x2: "12",
    y1: "8",
    y2: "12",
    key: "1pkeuh"
}], ["line", {
    x1: "12",
    x2: "12.01",
    y1: "16",
    y2: "16",
    key: "4dfq90"
}]]
  , o5 = fe("circle-alert", a5);
const u5 = [["path", {
    d: "M21.801 10A10 10 0 1 1 17 3.335",
    key: "yps3ct"
}], ["path", {
    d: "m9 11 3 3L22 4",
    key: "1pflzl"
}]]
  , i2 = fe("circle-check-big", u5);
const c5 = [["path", {
    d: "M12 6v6l4 2",
    key: "mmk7yg"
}], ["circle", {
    cx: "12",
    cy: "12",
    r: "10",
    key: "1mglay"
}]]
  , e6 = fe("clock", c5);
const d5 = [["line", {
    x1: "12",
    x2: "12",
    y1: "2",
    y2: "22",
    key: "7eqyqh"
}], ["path", {
    d: "M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",
    key: "1b0p4s"
}]]
  , f5 = fe("dollar-sign", d5);
const h5 = [["path", {
    d: "M15 3h6v6",
    key: "1q9fwt"
}], ["path", {
    d: "M10 14 21 3",
    key: "gplh6r"
}], ["path", {
    d: "M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",
    key: "a6xqqp"
}]]
  , p5 = fe("external-link", h5);
const m5 = [["path", {
    d: "M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",
    key: "ct8e1f"
}], ["path", {
    d: "M14.084 14.158a3 3 0 0 1-4.242-4.242",
    key: "151rxh"
}], ["path", {
    d: "M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",
    key: "13bj9a"
}], ["path", {
    d: "m2 2 20 20",
    key: "1ooewy"
}]]
  , Tp = fe("eye-off", m5);
const g5 = [["path", {
    d: "M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",
    key: "1nclc0"
}], ["circle", {
    cx: "12",
    cy: "12",
    r: "3",
    key: "1v7zrd"
}]]
  , Dp = fe("eye", g5);
const x5 = [["path", {
    d: "M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",
    key: "1jg4f8"
}]]
  , zd = fe("facebook", x5);
const b5 = [["path", {
    d: "M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",
    key: "1oefj6"
}], ["path", {
    d: "M14 2v5a1 1 0 0 0 1 1h5",
    key: "wfsgrz"
}], ["path", {
    d: "M10 9H8",
    key: "b1mrlr"
}], ["path", {
    d: "M16 13H8",
    key: "t4e002"
}], ["path", {
    d: "M16 17H8",
    key: "z1uh3a"
}]]
  , Do = fe("file-text", b5);
const y5 = [["path", {
    d: "M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",
    key: "tonef"
}], ["path", {
    d: "M9 18c-4.51 2-5-2-7-2",
    key: "9comsn"
}]]
  , Il = fe("github", y5);
const v5 = [["circle", {
    cx: "12",
    cy: "12",
    r: "10",
    key: "1mglay"
}], ["path", {
    d: "M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",
    key: "13o1zl"
}], ["path", {
    d: "M2 12h20",
    key: "9i4pu4"
}]]
  , t6 = fe("globe", v5);
const N5 = [["path", {
    d: "M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",
    key: "j76jl0"
}], ["path", {
    d: "M22 10v6",
    key: "1lu8f3"
}], ["path", {
    d: "M6 12.5V16a6 3 0 0 0 12 0v-3.5",
    key: "1r8lef"
}]]
  , w5 = fe("graduation-cap", N5);
const C5 = [["path", {
    d: "M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",
    key: "5wwlr5"
}], ["path", {
    d: "M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",
    key: "r6nss1"
}]]
  , S5 = fe("house", C5);
const j5 = [["rect", {
    width: "20",
    height: "20",
    x: "2",
    y: "2",
    rx: "5",
    ry: "5",
    key: "2e1cvw"
}], ["path", {
    d: "M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",
    key: "9exkf1"
}], ["line", {
    x1: "17.5",
    x2: "17.51",
    y1: "6.5",
    y2: "6.5",
    key: "r4j83e"
}]]
  , Ld = fe("instagram", j5);
const E5 = [["path", {
    d: "M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",
    key: "c2jq9f"
}], ["rect", {
    width: "4",
    height: "12",
    x: "2",
    y: "9",
    key: "mk3on5"
}], ["circle", {
    cx: "4",
    cy: "4",
    r: "2",
    key: "bt5ra8"
}]]
  , Bd = fe("linkedin", E5);
const k5 = [["path", {
    d: "m16 17 5-5-5-5",
    key: "1bji2h"
}], ["path", {
    d: "M21 12H9",
    key: "dn1m92"
}], ["path", {
    d: "M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",
    key: "1uf3rs"
}]]
  , Kr = fe("log-out", k5);
const A5 = [["path", {
    d: "m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",
    key: "132q7q"
}], ["rect", {
    x: "2",
    y: "4",
    width: "20",
    height: "16",
    rx: "2",
    key: "izxlao"
}]]
  , Am = fe("mail", A5);
const _5 = [["path", {
    d: "M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",
    key: "1r0f0z"
}], ["circle", {
    cx: "12",
    cy: "10",
    r: "3",
    key: "ilqhr7"
}]]
  , _m = fe("map-pin", _5);
const T5 = [["path", {
    d: "M4 5h16",
    key: "1tepv9"
}], ["path", {
    d: "M4 12h16",
    key: "1lakjw"
}], ["path", {
    d: "M4 19h16",
    key: "1djgab"
}]]
  , D5 = fe("menu", T5);
const M5 = [["path", {
    d: "M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",
    key: "nt11vn"
}], ["path", {
    d: "m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",
    key: "15qc1e"
}], ["path", {
    d: "m2.3 2.3 7.286 7.286",
    key: "1wuzzi"
}], ["circle", {
    cx: "11",
    cy: "11",
    r: "2",
    key: "xmgehs"
}]]
  , O5 = fe("pen-tool", M5);
const R5 = [["path", {
    d: "M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",
    key: "1a8usu"
}]]
  , Tm = fe("pen", R5);
const z5 = [["path", {
    d: "M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",
    key: "1a8usu"
}], ["path", {
    d: "m15 5 4 4",
    key: "1mk7zo"
}]]
  , L5 = fe("pencil", z5);
const B5 = [["path", {
    d: "M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",
    key: "9njp5v"
}]]
  , Fd = fe("phone", B5);
const F5 = [["path", {
    d: "M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",
    key: "10ikf1"
}]]
  , H5 = fe("play", F5);
const U5 = [["path", {
    d: "M5 12h14",
    key: "1ays0h"
}], ["path", {
    d: "M12 5v14",
    key: "s699le"
}]]
  , l2 = fe("plus", U5);
const q5 = [["path", {
    d: "M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",
    key: "m3kijz"
}], ["path", {
    d: "m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",
    key: "1fmvmk"
}], ["path", {
    d: "M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",
    key: "1f8sc4"
}], ["path", {
    d: "M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",
    key: "qeys4"
}]]
  , I5 = fe("rocket", q5);
const $5 = [["path", {
    d: "M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",
    key: "1c8476"
}], ["path", {
    d: "M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",
    key: "1ydtos"
}], ["path", {
    d: "M7 3v4a1 1 0 0 0 1 1h7",
    key: "t51u73"
}]]
  , n6 = fe("save", $5);
const P5 = [["path", {
    d: "m21 21-4.34-4.34",
    key: "14j7rj"
}], ["circle", {
    cx: "11",
    cy: "11",
    r: "8",
    key: "4ej97u"
}]]
  , V5 = fe("search", P5);
const G5 = [["path", {
    d: "M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",
    key: "1i5ecw"
}], ["circle", {
    cx: "12",
    cy: "12",
    r: "3",
    key: "1v7zrd"
}]]
  , r6 = fe("settings", G5);
const K5 = [["path", {
    d: "M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",
    key: "oel41y"
}], ["path", {
    d: "m9 12 2 2 4-4",
    key: "dzmm74"
}]]
  , Y5 = fe("shield-check", K5);
const J5 = [["path", {
    d: "M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",
    key: "oel41y"
}]]
  , a2 = fe("shield", J5);
const X5 = [["path", {
    d: "M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",
    key: "r04s7s"
}]]
  , Bc = fe("star", X5);
const Q5 = [["path", {
    d: "M10 11v6",
    key: "nco0om"
}], ["path", {
    d: "M14 11v6",
    key: "outv1u"
}], ["path", {
    d: "M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",
    key: "miytrc"
}], ["path", {
    d: "M3 6h18",
    key: "d0wm0j"
}], ["path", {
    d: "M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",
    key: "e791ji"
}]]
  , Z5 = fe("trash-2", Q5);
const W5 = [["path", {
    d: "M16 7h6v6",
    key: "box55l"
}], ["path", {
    d: "m22 7-8.5 8.5-5-5L2 17",
    key: "1t1m79"
}]]
  , Fc = fe("trending-up", W5);
const e8 = [["path", {
    d: "M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",
    key: "pff0z6"
}]]
  , Hd = fe("twitter", e8);
const t8 = [["path", {
    d: "M12 3v12",
    key: "1x0j5s"
}], ["path", {
    d: "m17 8-5-5-5 5",
    key: "7q97r8"
}], ["path", {
    d: "M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",
    key: "ih7n3h"
}]]
  , n8 = fe("upload", t8);
const r8 = [["path", {
    d: "M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",
    key: "975kel"
}], ["circle", {
    cx: "12",
    cy: "7",
    r: "4",
    key: "17ys0d"
}]]
  , s6 = fe("user", r8);
const s8 = [["path", {
    d: "M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",
    key: "1yyitq"
}], ["path", {
    d: "M16 3.128a4 4 0 0 1 0 7.744",
    key: "16gr8j"
}], ["path", {
    d: "M22 21v-2a4 4 0 0 0-3-3.87",
    key: "kshegd"
}], ["circle", {
    cx: "9",
    cy: "7",
    r: "4",
    key: "nufk8"
}]]
  , Jn = fe("users", s8);
const i8 = [["path", {
    d: "m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",
    key: "ftymec"
}], ["rect", {
    x: "2",
    y: "6",
    width: "14",
    height: "12",
    rx: "2",
    key: "158x01"
}]]
  , Mp = fe("video", i8);
const l8 = [["path", {
    d: "M18 6 6 18",
    key: "1bl5f8"
}], ["path", {
    d: "m6 6 12 12",
    key: "d8bk6v"
}]]
  , Ud = fe("x", l8);
const a8 = [["path", {
    d: "M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",
    key: "1q2vi4"
}], ["path", {
    d: "m10 15 5-3-5-3z",
    key: "1jp15x"
}]]
  , o8 = fe("youtube", a8);
function B0({role: t}) {
    const e = Ye()
      , [n,r] = k.useState(!1)
      , [s,l] = k.useState(!1)
      , [o,u] = k.useState("")
      , [f,p] = k.useState({
        email: "",
        password: ""
    })
      , m = N => {
        p({
            ...f,
            [N.target.name]: N.target.value
        }),
        u("")
    }
      , g = async N => {
        N.preventDefault(),
        l(!0),
        u("");
        try {
            const y = `/auth/login/${t}`
              , C = (await W.post(y, f)).data.user.role;
            (await W.get("/auth/check_profile")).data.profile_exists ? (C === "student" && e("/student/dashboard"),
            C === "teacher" && e("/teacher/dashboard"),
            C === "parent" && e("/parent/dashboard")) : (C === "student" && e("/student/profile"),
            C === "teacher" && e("/teacher/profile"),
            C === "parent" && e("/parent/profile"))
        } catch (y) {
            u(y.response?.data?.message || "Login failed. Please try again."),
            console.error(y.response?.data || y.message)
        } finally {
            l(!1)
        }
    }
      , v = () => ({
        student: "Student",
        teacher: "Teacher",
        parent: "Parent",
        admin: "Admin"
    })[t] || t;
    return d.jsx("div", {
        className: "auth-container",
        children: d.jsxs("div", {
            className: "auth-form-wrapper",
            children: [d.jsxs("div", {
                className: "auth-header",
                children: [d.jsx("div", {
                    className: "auth-logo",
                    children: "NeuraAcademy"
                }), d.jsx("h1", {
                    className: "auth-title",
                    children: "Welcome Back"
                }), d.jsxs("p", {
                    className: "auth-subtitle",
                    children: ["Sign in as ", v()]
                })]
            }), o && d.jsx("div", {
                className: "error-message",
                children: o
            }), d.jsx("div", {
                style: {
                    display: "flex",
                    gap: "0.5rem",
                    marginBottom: "0.75rem"
                },
                children: ( () => {
                    const N = W?.defaults?.baseURL || ""
                      , y = N.startsWith("http") ? N.replace(/\/$/, "") : `${window.location.origin.replace(/\/$/, "")}${N.startsWith("/") ? "" : "/"}${N.replace(/\/$/, "")}`
                      , w = encodeURIComponent(window.location.origin);
                    return d.jsxs(d.Fragment, {
                        children: [d.jsx("button", {
                            onClick: () => {
                                window.location.href = `${y}/auth/oauth/google?role=${t}&next=${w}`
                            }
                            ,
                            type: "button",
                            className: "auth-oauth-button google",
                            children: "Sign in with Google"
                        }), d.jsxs("button", {
                            onClick: () => {
                                window.location.href = `${y}/auth/oauth/github?role=${t}&next=${w}`
                            }
                            ,
                            type: "button",
                            className: "auth-oauth-button github",
                            children: [d.jsx(Il, {
                                size: 16,
                                style: {
                                    marginRight: "0.5rem"
                                }
                            }), " GitHub"]
                        })]
                    })
                }
                )()
            }), d.jsxs("form", {
                onSubmit: g,
                children: [d.jsxs("div", {
                    className: "form-group",
                    children: [d.jsx("label", {
                        className: "form-label",
                        children: "Email Address"
                    }), d.jsx("input", {
                        type: "email",
                        name: "email",
                        placeholder: "you@example.com",
                        value: f.email,
                        onChange: m,
                        className: "form-input",
                        required: !0
                    })]
                }), d.jsxs("div", {
                    className: "form-group",
                    children: [d.jsx("label", {
                        className: "form-label",
                        children: "Password"
                    }), d.jsxs("div", {
                        className: "form-input-group",
                        children: [d.jsx("input", {
                            type: n ? "text" : "password",
                            name: "password",
                            placeholder: "Enter your password",
                            value: f.password,
                            onChange: m,
                            className: "form-input",
                            required: !0
                        }), d.jsx("span", {
                            className: "password-toggle",
                            onClick: () => r(!n),
                            children: n ? d.jsx(Tp, {
                                size: 18
                            }) : d.jsx(Dp, {
                                size: 18
                            })
                        })]
                    })]
                }), d.jsx("div", {
                    className: "auth-links",
                    children: d.jsx(xt, {
                        to: "/auth/forgot_password",
                        className: "auth-link",
                        children: "Forgot password?"
                    })
                }), d.jsx("button", {
                    type: "submit",
                    className: "auth-button",
                    disabled: s,
                    children: s ? d.jsxs(d.Fragment, {
                        children: [d.jsx("span", {
                            className: "loading-spinner"
                        }), "Signing in..."]
                    }) : "Sign In"
                })]
            }), d.jsxs("div", {
                className: "auth-signup-link",
                children: ["Don't have an account?", " ", d.jsx(xt, {
                    to: `/auth/register/${t}`,
                    children: "Create one"
                })]
            })]
        })
    })
}
function F0({role: t}) {
    const e = Ye()
      , [n,r] = k.useState(!1)
      , [s,l] = k.useState(!1)
      , [o,u] = k.useState(!1)
      , [f,p] = k.useState("")
      , [m,g] = k.useState("")
      , [v,N] = k.useState({
        email: "",
        username: "",
        password: "",
        confirm_password: ""
    })
      , y = A => {
        N({
            ...v,
            [A.target.name]: A.target.value
        }),
        p("")
    }
      , w = () => !v.email || !v.username || !v.password || !v.confirm_password ? (p("All fields are required"),
    !1) : v.password.length < 8 ? (p("Password must be at least 8 characters"),
    !1) : v.password !== v.confirm_password ? (p("Passwords do not match"),
    !1) : !0
      , C = async A => {
        if (A.preventDefault(),
        p(""),
        g(""),
        !!w()) {
            u(!0);
            try {
                const _ = `/auth/register/${t}`
                  , O = await W.post(_, v);
                g("Registration successful! Please check your email to confirm."),
                setTimeout( () => {
                    e(`/auth/login/${t}`)
                }
                , 2e3)
            } catch (_) {
                p(_.response?.data?.message || "Registration failed. Please try again."),
                console.error(_.response?.data || _.message)
            } finally {
                u(!1)
            }
        }
    }
      , E = () => ({
        student: "Student",
        teacher: "Teacher",
        parent: "Parent"
    })[t] || t;
    return d.jsx("div", {
        className: "auth-container",
        children: d.jsxs("div", {
            className: "auth-form-wrapper",
            children: [d.jsxs("div", {
                className: "auth-header",
                children: [d.jsx("div", {
                    className: "auth-logo",
                    children: "NeuraAcademy"
                }), d.jsxs("h1", {
                    className: "auth-title",
                    children: ["Join as ", E()]
                }), d.jsx("p", {
                    className: "auth-subtitle",
                    children: "Create your account to get started"
                })]
            }), f && d.jsx("div", {
                className: "error-message",
                children: f
            }), m && d.jsxs("div", {
                className: "success-message",
                children: [d.jsx(s5, {
                    size: 18,
                    style: {
                        display: "inline",
                        marginRight: "0.5rem"
                    }
                }), m]
            }), d.jsx("div", {
                style: {
                    display: "flex",
                    gap: "0.5rem",
                    marginBottom: "0.75rem"
                },
                children: ( () => {
                    const A = W?.defaults?.baseURL || ""
                      , _ = A.startsWith("http") ? A.replace(/\/$/, "") : `${window.location.origin.replace(/\/$/, "")}${A.startsWith("/") ? "" : "/"}${A.replace(/\/$/, "")}`
                      , O = encodeURIComponent(window.location.origin);
                    return d.jsxs(d.Fragment, {
                        children: [d.jsx("button", {
                            onClick: () => {
                                window.location.href = `${_}/auth/oauth/google?role=${t}&next=${O}`
                            }
                            ,
                            type: "button",
                            className: "auth-oauth-button google",
                            children: "Continue with Google"
                        }), d.jsxs("button", {
                            onClick: () => {
                                window.location.href = `${_}/auth/oauth/github?role=${t}&next=${O}`
                            }
                            ,
                            type: "button",
                            className: "auth-oauth-button github",
                            children: [d.jsx(Il, {
                                size: 16,
                                style: {
                                    marginRight: "0.5rem"
                                }
                            }), " GitHub"]
                        })]
                    })
                }
                )()
            }), d.jsxs("form", {
                onSubmit: C,
                children: [d.jsxs("div", {
                    className: "form-group",
                    children: [d.jsx("label", {
                        className: "form-label",
                        children: "Email Address"
                    }), d.jsx("input", {
                        type: "email",
                        name: "email",
                        placeholder: "you@example.com",
                        value: v.email,
                        onChange: y,
                        className: "form-input",
                        required: !0
                    })]
                }), d.jsxs("div", {
                    className: "form-group",
                    children: [d.jsx("label", {
                        className: "form-label",
                        children: "Username"
                    }), d.jsx("input", {
                        type: "text",
                        name: "username",
                        placeholder: "Choose a username",
                        value: v.username,
                        onChange: y,
                        className: "form-input",
                        required: !0
                    })]
                }), d.jsxs("div", {
                    className: "form-group",
                    children: [d.jsx("label", {
                        className: "form-label",
                        children: "Password"
                    }), d.jsxs("div", {
                        className: "form-input-group",
                        children: [d.jsx("input", {
                            type: n ? "text" : "password",
                            name: "password",
                            placeholder: "At least 8 characters",
                            value: v.password,
                            onChange: y,
                            className: "form-input",
                            required: !0
                        }), d.jsx("span", {
                            className: "password-toggle",
                            onClick: () => r(!n),
                            children: n ? d.jsx(Tp, {
                                size: 18
                            }) : d.jsx(Dp, {
                                size: 18
                            })
                        })]
                    })]
                }), d.jsxs("div", {
                    className: "form-group",
                    children: [d.jsx("label", {
                        className: "form-label",
                        children: "Confirm Password"
                    }), d.jsxs("div", {
                        className: "form-input-group",
                        children: [d.jsx("input", {
                            type: s ? "text" : "password",
                            name: "confirm_password",
                            placeholder: "Re-enter your password",
                            value: v.confirm_password,
                            onChange: y,
                            className: "form-input",
                            required: !0
                        }), d.jsx("span", {
                            className: "password-toggle",
                            onClick: () => l(!s),
                            children: s ? d.jsx(Tp, {
                                size: 18
                            }) : d.jsx(Dp, {
                                size: 18
                            })
                        })]
                    })]
                }), d.jsx("button", {
                    type: "submit",
                    className: "auth-button",
                    disabled: o,
                    children: o ? d.jsxs(d.Fragment, {
                        children: [d.jsx("span", {
                            className: "loading-spinner"
                        }), "Creating account..."]
                    }) : "Create Account"
                })]
            }), d.jsxs("div", {
                className: "auth-signup-link",
                children: ["Already have an account?", " ", d.jsx(xt, {
                    to: `/auth/login/${t}`,
                    children: "Sign in"
                })]
            })]
        })
    })
}
function u8() {
    const t = Ye()
      , [e,n] = k.useState(!1)
      , [r,s] = k.useState("")
      , [l,o] = k.useState(0)
      , [u,f] = k.useState(!1)
      , p = [{
        question: "What is the admin key?",
        field: "admin_key",
        correctAnswers: ["nishchup", "one_piece", "One_piece"]
    }, {
        question: "What is the admin secret?",
        field: "admin_secret",
        correctAnswers: ["one piece", "9296292178", "onepiece"]
    }, {
        question: "What is the name of the One Archeologist?",
        field: "name_one_archaeologist",
        correctAnswers: ["nico robin", "Nico Robin", "robin"]
    }]
      , [m,g] = k.useState({
        admin_key: "",
        admin_secret: "",
        name_one_archaeologist: ""
    })
      , [v,N] = k.useState({
        email: "",
        password: ""
    })
      , y = O => {
        s(""),
        g({
            ...m,
            [p[l].field]: O.target.value
        })
    }
      , w = O => {
        s(""),
        N({
            ...v,
            [O.target.name]: O.target.value
        })
    }
      , C = async O => {
        O.preventDefault();
        const R = p[l]
          , $ = m[R.field].trim().toLowerCase();
        if (!R.correctAnswers.some(G => G.toLowerCase() === $)) {
            s("Incorrect answer. Please try again.");
            return
        }
        l < p.length - 1 ? (o(l + 1),
        s("")) : (f(!0),
        s(""))
    }
      , E = async O => {
        O.preventDefault(),
        n(!0),
        s("");
        try {
            const R = await W.post("/auth/login/admin", v);
            t("/admin/dashboard")
        } catch (R) {
            s(R.response?.data?.message || "Login failed. Please try again."),
            console.error(R.response?.data || R.message)
        } finally {
            n(!1)
        }
    }
      , A = () => {
        l > 0 ? (o(l - 1),
        s("")) : t("/")
    }
      , _ = p[l];
    return u ? d.jsx("div", {
        className: "auth-container",
        children: d.jsxs("div", {
            className: "auth-form-wrapper",
            children: [d.jsxs("div", {
                className: "auth-header",
                children: [d.jsx("div", {
                    className: "auth-logo",
                    children: " NeuraAcademy Admin"
                }), d.jsx("h1", {
                    className: "auth-title",
                    children: "Admin Login"
                }), d.jsx("p", {
                    className: "auth-subtitle",
                    children: "Enter your credentials"
                })]
            }), r && d.jsx("div", {
                className: "error-message",
                children: r
            }), d.jsxs("form", {
                onSubmit: E,
                children: [d.jsxs("div", {
                    className: "form-group",
                    children: [d.jsx("label", {
                        className: "form-label",
                        children: "Email Address"
                    }), d.jsx("input", {
                        type: "email",
                        name: "email",
                        placeholder: "admin@example.com",
                        value: v.email,
                        onChange: w,
                        className: "form-input",
                        required: !0
                    })]
                }), d.jsxs("div", {
                    className: "form-group",
                    children: [d.jsx("label", {
                        className: "form-label",
                        children: "Password"
                    }), d.jsx("input", {
                        type: "password",
                        name: "password",
                        placeholder: "Enter your password",
                        value: v.password,
                        onChange: w,
                        className: "form-input",
                        required: !0
                    })]
                }), d.jsx("button", {
                    type: "submit",
                    className: "auth-button",
                    disabled: e,
                    children: e ? d.jsxs(d.Fragment, {
                        children: [d.jsx("span", {
                            className: "loading-spinner"
                        }), "Signing in..."]
                    }) : "Sign In"
                })]
            }), d.jsx("div", {
                style: {
                    marginTop: "16px",
                    textAlign: "center"
                },
                children: d.jsx("button", {
                    onClick: () => {
                        f(!1),
                        o(0),
                        s("")
                    }
                    ,
                    style: {
                        background: "none",
                        border: "none",
                        color: "#3b82f6",
                        cursor: "pointer",
                        textDecoration: "underline",
                        fontSize: "0.875rem"
                    },
                    children: "Back to security questions"
                })
            })]
        })
    }) : d.jsx("div", {
        className: "auth-container",
        children: d.jsxs("div", {
            className: "auth-form-wrapper",
            children: [d.jsxs("div", {
                className: "auth-header",
                children: [d.jsx("div", {
                    className: "auth-logo",
                    children: " NeuraAcademy Admin"
                }), d.jsx("h1", {
                    className: "auth-title",
                    children: "Admin Security Verification"
                }), d.jsxs("p", {
                    className: "auth-subtitle",
                    children: ["Question ", l + 1, " of ", p.length]
                })]
            }), r && d.jsxs("div", {
                className: "error-message",
                style: {
                    display: "flex",
                    gap: "10px",
                    alignItems: "flex-start"
                },
                children: [d.jsx(o5, {
                    size: 20,
                    style: {
                        marginTop: "2px",
                        flexShrink: 0
                    }
                }), d.jsx("span", {
                    children: r
                })]
            }), d.jsxs("form", {
                onSubmit: C,
                children: [d.jsxs("div", {
                    className: "form-group",
                    children: [d.jsx("label", {
                        className: "form-label",
                        children: _.question
                    }), d.jsx("input", {
                        type: "text",
                        placeholder: "Enter your answer",
                        value: m[_.field],
                        onChange: y,
                        className: "form-input",
                        autoFocus: !0,
                        required: !0
                    })]
                }), d.jsxs("div", {
                    style: {
                        display: "flex",
                        gap: "10px"
                    },
                    children: [d.jsx("button", {
                        type: "button",
                        onClick: A,
                        className: "auth-button",
                        style: {
                            backgroundColor: "#6b7280",
                            flex: 1
                        },
                        children: l > 0 ? "Previous" : "Back"
                    }), d.jsx("button", {
                        type: "submit",
                        className: "auth-button",
                        disabled: e || !m[_.field].trim(),
                        style: {
                            flex: 1
                        },
                        children: e ? d.jsxs(d.Fragment, {
                            children: [d.jsx("span", {
                                className: "loading-spinner"
                            }), "Processing..."]
                        }) : l === p.length - 1 ? "Verify" : "Next"
                    })]
                })]
            }), d.jsx("div", {
                style: {
                    marginTop: "20px",
                    textAlign: "center"
                },
                children: d.jsx("div", {
                    style: {
                        display: "flex",
                        gap: "8px",
                        justifyContent: "center"
                    },
                    children: p.map( (O, R) => d.jsx("div", {
                        style: {
                            width: "12px",
                            height: "12px",
                            borderRadius: "50%",
                            backgroundColor: R <= l ? "#3b82f6" : "#d1d5db",
                            transition: "background-color 0.3s"
                        }
                    }, R))
                })
            })]
        })
    })
}
function o2() {
    const [t,e] = k.useState("")
      , [n,r] = k.useState("")
      , s = o => {
        e(o.target.value)
    }
      , l = async o => {
        o.preventDefault();
        try {
            const u = await W.post("/auth/forgot_password", {
                email: t
            });
            r(u.data.message)
        } catch (u) {
            r(u.response?.data?.message || u.message)
        }
    }
    ;
    return d.jsxs(d.Fragment, {
        children: [d.jsx("h1", {
            children: "Forgot password"
        }), d.jsx("br", {}), d.jsxs("form", {
            onSubmit: l,
            children: [d.jsx("input", {
                type: "email",
                name: "email",
                id: "email",
                placeholder: "Enter your Email",
                onChange: s,
                value: t,
                required: !0
            }), d.jsx("br", {}), d.jsx("button", {
                type: "submit",
                children: "Send verification link"
            })]
        }), d.jsx("div", {
            className: "message",
            children: n
        })]
    })
}
function c8() {
    const {token: t} = $n()
      , [e,n] = k.useState("");
    return k.useEffect( () => {
        async function r() {
            try {
                const s = await W.get(`/auth/confirm/${t}`);
                n(s.data.message)
            } catch (s) {
                n("Invalid or expired confirmation link"),
                console.error(s.message)
            }
        }
        r()
    }
    , [t]),
    d.jsxs(d.Fragment, {
        children: [d.jsx("h1", {
            children: "Email Confirmation"
        }), d.jsx("p", {
            children: e
        })]
    })
}
function d8() {
    const t = k.useRef(null);
    return d.jsxs("div", {
        className: "font-sans text-gray-900 bg-white",
        children: [d.jsx("header", {
            className: "sticky top-0 z-50 bg-white border-b",
            children: d.jsxs("div", {
                className: "max-w-7xl mx-auto flex items-center justify-between px-5 py-4",
                children: [d.jsx("div", {
                    className: "text-2xl font-extrabold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",
                    children: "NeuraAcademy"
                }), d.jsxs("nav", {
                    className: "hidden md:flex gap-8 text-gray-600 font-medium",
                    children: [d.jsx("a", {
                        href: "#roles",
                        className: "hover:text-indigo-600",
                        children: "Roles"
                    }), d.jsx("a", {
                        href: "#features",
                        className: "hover:text-indigo-600",
                        children: "Features"
                    }), d.jsx("a", {
                        href: "#neurallearn",
                        className: "hover:text-indigo-600",
                        children: "NeuralLearn"
                    }), d.jsx("a", {
                        href: "#about",
                        className: "hover:text-indigo-600",
                        children: "About"
                    })]
                }), d.jsxs("div", {
                    className: "hidden md:flex gap-3 items-center",
                    children: [d.jsx(xt, {
                        to: "/auth/login/student",
                        className: "px-4 py-2 border rounded-md text-indigo-600 hover:bg-indigo-50",
                        children: "Student Login"
                    }), d.jsx(xt, {
                        to: "/auth/login/teacher",
                        className: "px-4 py-2 border rounded-md text-indigo-600 hover:bg-indigo-50",
                        children: "Teacher Login"
                    }), d.jsx(xt, {
                        to: "/auth/login/parent",
                        className: "px-4 py-2 border rounded-md text-indigo-600 hover:bg-indigo-50",
                        children: "Parent Login"
                    }), d.jsx("a", {
                        href: "#roles",
                        className: "px-4 py-2 bg-indigo-600 text-white rounded-md",
                        children: "Register"
                    })]
                })]
            })
        }), d.jsx("section", {
            className: "relative min-h-[90vh] flex items-center bg-gradient-to-r from-indigo-50 to-purple-50 overflow-hidden",
            children: d.jsxs("div", {
                className: "max-w-7xl mx-auto grid md:grid-cols-2 gap-12 px-6 py-20 items-center",
                children: [d.jsxs("div", {
                    ref: t,
                    className: "space-y-6",
                    children: [d.jsxs("h1", {
                        className: "text-4xl md:text-5xl xl:text-6xl font-extrabold leading-tight text-indigo-900",
                        children: ["Learn Smarter.", d.jsx("br", {}), "Teach Better.", d.jsx("br", {}), "Track Everything."]
                    }), d.jsx("p", {
                        className: "text-lg text-gray-600 max-w-xl",
                        children: "NeuraAcademy is a modern education platform for students, teachers, and parents  focused on consistency, analytics, and clarity."
                    }), d.jsxs("div", {
                        className: "flex gap-4 flex-wrap",
                        children: [d.jsx(xt, {
                            to: "/auth/register/student",
                            className: "px-6 py-3 bg-indigo-600 text-white rounded-lg shadow",
                            children: "Start Learning"
                        }), d.jsx("a", {
                            href: "#roles",
                            className: "px-6 py-3 border border-indigo-600 text-indigo-600 rounded-lg",
                            children: "See How It Works"
                        })]
                    })]
                }), d.jsx("div", {
                    className: "relative",
                    children: d.jsx("img", {
                        src: "/images/hero1.png",
                        alt: "NeuraAcademy Dashboard",
                        className: "w-full max-w-xl mx-auto object-contain drop-shadow-2xl",
                        loading: "eager"
                    })
                })]
            })
        }), d.jsxs("section", {
            id: "roles",
            className: "py-24 bg-white",
            children: [d.jsx("h2", {
                className: "text-4xl font-extrabold text-center mb-14",
                children: "Built for Everyone in Education"
            }), d.jsxs("div", {
                className: "max-w-7xl mx-auto grid gap-8 md:grid-cols-2 lg:grid-cols-4 px-6",
                children: [d.jsx(sc, {
                    icon: d.jsx(w5, {}),
                    title: "Students",
                    items: ["Explore structured courses", "Exclusive lesson rooms", "Consistency tracking & analytics", "Leaderboard & friends ranking", "Interactive bots & embedded Wikipedia"]
                }), d.jsx(sc, {
                    icon: d.jsx(O5, {}),
                    title: "Teachers",
                    items: ["Create courses in your own environment", "Embed YouTube classes easily", "Rich Tiptap editor", "Course analytics & exams system"]
                }), d.jsx(sc, {
                    icon: d.jsx(Jn, {}),
                    title: "Parents",
                    items: ["Link with your children", "Track progress & performance", "Online supervision & insights"]
                }), d.jsx(sc, {
                    icon: d.jsx(r6, {}),
                    title: "Admin",
                    items: ["Full platform control", "Advanced analytics & reports", "Contact: Nishchup", "Mail: nishchup489@gmail.com"]
                })]
            })]
        }), d.jsxs("section", {
            id: "features",
            className: "py-24 bg-gray-50",
            children: [d.jsx("h2", {
                className: "text-4xl font-extrabold text-center mb-14",
                children: "Platform Highlights"
            }), d.jsxs("div", {
                className: "max-w-6xl mx-auto grid gap-8 md:grid-cols-3 px-6",
                children: [d.jsx(bl, {
                    icon: d.jsx(e5, {}),
                    title: "Deep Analytics"
                }), d.jsx(bl, {
                    icon: d.jsx(Yk, {}),
                    title: "AI Assistance & Bots"
                }), d.jsx(bl, {
                    icon: d.jsx(cr, {}),
                    title: "Structured Learning Flow"
                }), d.jsx(bl, {
                    icon: d.jsx(n5, {}),
                    title: "Consistency Tracking"
                }), d.jsx(bl, {
                    icon: d.jsx(Y5, {}),
                    title: "Secure Authentication"
                }), d.jsx(bl, {
                    icon: d.jsx(o8, {}),
                    title: "Embedded Video Classes"
                })]
            }), d.jsx("p", {
                className: "text-center text-gray-500 mt-10 max-w-3xl mx-auto",
                children: "Secure login system with encrypted databases. No shortcuts. No fake claims. Security is implemented using industry-standard practices."
            })]
        }), d.jsxs("section", {
            id: "neurallearn",
            className: "py-24 bg-white text-center",
            children: [d.jsx("h2", {
                className: "text-4xl font-extrabold mb-6",
                children: "NeuralLearn"
            }), d.jsx("p", {
                className: "text-gray-600 max-w-3xl mx-auto mb-8",
                children: "NeuralLearn is our future flagship vision. NeuraAcademy is an MVP prototype designed to test ideas, architecture, and real usage."
            }), d.jsxs("a", {
                href: "https://neurallearndocs.vercel.app",
                target: "_blank",
                rel: "noreferrer",
                className: "inline-flex items-center gap-2 px-6 py-3 bg-indigo-600 text-white rounded-lg",
                children: ["Read NeuralLearn Docs ", d.jsx(p5, {
                    size: 18
                })]
            })]
        }), d.jsx("section", {
            id: "about",
            className: "py-24 bg-gray-50",
            children: d.jsxs("div", {
                className: "max-w-4xl mx-auto text-center px-6",
                children: [d.jsx("h2", {
                    className: "text-4xl font-extrabold mb-6",
                    children: "About Us"
                }), d.jsxs("p", {
                    className: "text-gray-600 mb-4",
                    children: ["MVP Project created by ", d.jsx("strong", {
                        children: "Sadnan Nishthup"
                    }), "."]
                }), d.jsxs("p", {
                    className: "text-gray-600 mb-10",
                    children: ["This project is an early prototype of our future platform ", d.jsx("strong", {
                        children: " NeuralLearn"
                    }), "."]
                }), d.jsxs("form", {
                    action: "mailto:nishchup489@gmail.com",
                    method: "POST",
                    encType: "text/plain",
                    className: "flex flex-col md:flex-row gap-4 justify-center",
                    children: [d.jsx("input", {
                        type: "text",
                        name: "message",
                        placeholder: "Have an idea? Want to join?",
                        className: "px-4 py-3 border rounded-lg w-full md:w-96",
                        required: !0
                    }), d.jsxs("button", {
                        type: "submit",
                        className: "inline-flex items-center gap-2 px-6 py-3 bg-indigo-600 text-white rounded-lg",
                        children: ["Send ", d.jsx(Am, {
                            size: 18
                        })]
                    })]
                })]
            })
        }), d.jsxs("footer", {
            className: "py-6 text-center text-gray-400 border-t",
            children: [" ", new Date().getFullYear(), " NeuraAcademy. Prototype build."]
        })]
    })
}
function sc({icon: t, title: e, items: n}) {
    return d.jsxs("div", {
        className: "border rounded-xl p-6 shadow-sm hover:shadow-md transition",
        children: [d.jsxs("div", {
            className: "flex items-center gap-3 mb-4 text-indigo-600",
            children: [t, d.jsx("h3", {
                className: "text-xl font-semibold",
                children: e
            })]
        }), d.jsx("ul", {
            className: "space-y-2 text-gray-600 text-sm",
            children: n.map( (r, s) => d.jsxs("li", {
                children: [" ", r]
            }, s))
        }), d.jsx("div", {
            className: "mt-4 flex gap-3",
            children: ( () => {
                const r = e.toLowerCase()
                  , s = r.includes("student") ? "student" : r.includes("teacher") ? "teacher" : r.includes("parent") ? "parent" : "admin";
                return s === "admin" ? d.jsx(xt, {
                    to: `/auth/login/${s}`,
                    className: "px-4 py-2 bg-indigo-600 text-white rounded-md",
                    children: "Admin Login"
                }) : d.jsxs(d.Fragment, {
                    children: [d.jsxs(xt, {
                        to: `/auth/login/${s}`,
                        className: "px-4 py-2 border rounded-md text-indigo-600",
                        children: [e.slice(0, -1), " Login"]
                    }), d.jsxs(xt, {
                        to: `/auth/register/${s}`,
                        className: "px-4 py-2 bg-indigo-600 text-white rounded-md",
                        children: [e.slice(0, -1), " Register"]
                    })]
                })
            }
            )()
        })]
    })
}
function bl({icon: t, title: e}) {
    return d.jsxs("div", {
        className: "bg-white p-6 rounded-xl border shadow-sm text-center",
        children: [d.jsx("div", {
            className: "flex justify-center mb-3 text-indigo-600",
            children: t
        }), d.jsx("h4", {
            className: "font-semibold",
            children: e
        })]
    })
}
const u2 = {};
function f8(t) {
    let e = u2[t];
    if (e)
        return e;
    e = u2[t] = [];
    for (let n = 0; n < 128; n++) {
        const r = String.fromCharCode(n);
        e.push(r)
    }
    for (let n = 0; n < t.length; n++) {
        const r = t.charCodeAt(n);
        e[r] = "%" + ("0" + r.toString(16).toUpperCase()).slice(-2)
    }
    return e
}
function Dl(t, e) {
    typeof e != "string" && (e = Dl.defaultChars);
    const n = f8(e);
    return t.replace(/(%[a-f0-9]{2})+/gi, function(r) {
        let s = "";
        for (let l = 0, o = r.length; l < o; l += 3) {
            const u = parseInt(r.slice(l + 1, l + 3), 16);
            if (u < 128) {
                s += n[u];
                continue
            }
            if ((u & 224) === 192 && l + 3 < o) {
                const f = parseInt(r.slice(l + 4, l + 6), 16);
                if ((f & 192) === 128) {
                    const p = u << 6 & 1984 | f & 63;
                    p < 128 ? s += "" : s += String.fromCharCode(p),
                    l += 3;
                    continue
                }
            }
            if ((u & 240) === 224 && l + 6 < o) {
                const f = parseInt(r.slice(l + 4, l + 6), 16)
                  , p = parseInt(r.slice(l + 7, l + 9), 16);
                if ((f & 192) === 128 && (p & 192) === 128) {
                    const m = u << 12 & 61440 | f << 6 & 4032 | p & 63;
                    m < 2048 || m >= 55296 && m <= 57343 ? s += "" : s += String.fromCharCode(m),
                    l += 6;
                    continue
                }
            }
            if ((u & 248) === 240 && l + 9 < o) {
                const f = parseInt(r.slice(l + 4, l + 6), 16)
                  , p = parseInt(r.slice(l + 7, l + 9), 16)
                  , m = parseInt(r.slice(l + 10, l + 12), 16);
                if ((f & 192) === 128 && (p & 192) === 128 && (m & 192) === 128) {
                    let g = u << 18 & 1835008 | f << 12 & 258048 | p << 6 & 4032 | m & 63;
                    g < 65536 || g > 1114111 ? s += "" : (g -= 65536,
                    s += String.fromCharCode(55296 + (g >> 10), 56320 + (g & 1023))),
                    l += 9;
                    continue
                }
            }
            s += ""
        }
        return s
    })
}
Dl.defaultChars = ";/?:@&=+$,#";
Dl.componentChars = "";
const c2 = {};
function h8(t) {
    let e = c2[t];
    if (e)
        return e;
    e = c2[t] = [];
    for (let n = 0; n < 128; n++) {
        const r = String.fromCharCode(n);
        /^[0-9a-z]$/i.test(r) ? e.push(r) : e.push("%" + ("0" + n.toString(16).toUpperCase()).slice(-2))
    }
    for (let n = 0; n < t.length; n++)
        e[t.charCodeAt(n)] = t[n];
    return e
}
function Mo(t, e, n) {
    typeof e != "string" && (n = e,
    e = Mo.defaultChars),
    typeof n > "u" && (n = !0);
    const r = h8(e);
    let s = "";
    for (let l = 0, o = t.length; l < o; l++) {
        const u = t.charCodeAt(l);
        if (n && u === 37 && l + 2 < o && /^[0-9a-f]{2}$/i.test(t.slice(l + 1, l + 3))) {
            s += t.slice(l, l + 3),
            l += 2;
            continue
        }
        if (u < 128) {
            s += r[u];
            continue
        }
        if (u >= 55296 && u <= 57343) {
            if (u >= 55296 && u <= 56319 && l + 1 < o) {
                const f = t.charCodeAt(l + 1);
                if (f >= 56320 && f <= 57343) {
                    s += encodeURIComponent(t[l] + t[l + 1]),
                    l++;
                    continue
                }
            }
            s += "%EF%BF%BD";
            continue
        }
        s += encodeURIComponent(t[l])
    }
    return s
}
Mo.defaultChars = ";/?:@&=+$,-_.!~*'()#";
Mo.componentChars = "-_.!~*'()";
function Dm(t) {
    let e = "";
    return e += t.protocol || "",
    e += t.slashes ? "//" : "",
    e += t.auth ? t.auth + "@" : "",
    t.hostname && t.hostname.indexOf(":") !== -1 ? e += "[" + t.hostname + "]" : e += t.hostname || "",
    e += t.port ? ":" + t.port : "",
    e += t.pathname || "",
    e += t.search || "",
    e += t.hash || "",
    e
}
function Hc() {
    this.protocol = null,
    this.slashes = null,
    this.auth = null,
    this.port = null,
    this.hostname = null,
    this.hash = null,
    this.search = null,
    this.pathname = null
}
const p8 = /^([a-z0-9.+-]+:)/i
  , m8 = /:[0-9]*$/
  , g8 = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/
  , x8 = ["<", ">", '"', "`", " ", "\r", `
`, "	"]
  , b8 = ["{", "}", "|", "\\", "^", "`"].concat(x8)
  , y8 = ["'"].concat(b8)
  , d2 = ["%", "/", "?", ";", "#"].concat(y8)
  , f2 = ["/", "?", "#"]
  , v8 = 255
  , h2 = /^[+a-z0-9A-Z_-]{0,63}$/
  , N8 = /^([+a-z0-9A-Z_-]{0,63})(.*)$/
  , p2 = {
    javascript: !0,
    "javascript:": !0
}
  , m2 = {
    http: !0,
    https: !0,
    ftp: !0,
    gopher: !0,
    file: !0,
    "http:": !0,
    "https:": !0,
    "ftp:": !0,
    "gopher:": !0,
    "file:": !0
};
function Mm(t, e) {
    if (t && t instanceof Hc)
        return t;
    const n = new Hc;
    return n.parse(t, e),
    n
}
Hc.prototype.parse = function(t, e) {
    let n, r, s, l = t;
    if (l = l.trim(),
    !e && t.split("#").length === 1) {
        const p = g8.exec(l);
        if (p)
            return this.pathname = p[1],
            p[2] && (this.search = p[2]),
            this
    }
    let o = p8.exec(l);
    if (o && (o = o[0],
    n = o.toLowerCase(),
    this.protocol = o,
    l = l.substr(o.length)),
    (e || o || l.match(/^\/\/[^@\/]+@[^@\/]+/)) && (s = l.substr(0, 2) === "//",
    s && !(o && p2[o]) && (l = l.substr(2),
    this.slashes = !0)),
    !p2[o] && (s || o && !m2[o])) {
        let p = -1;
        for (let y = 0; y < f2.length; y++)
            r = l.indexOf(f2[y]),
            r !== -1 && (p === -1 || r < p) && (p = r);
        let m, g;
        p === -1 ? g = l.lastIndexOf("@") : g = l.lastIndexOf("@", p),
        g !== -1 && (m = l.slice(0, g),
        l = l.slice(g + 1),
        this.auth = m),
        p = -1;
        for (let y = 0; y < d2.length; y++)
            r = l.indexOf(d2[y]),
            r !== -1 && (p === -1 || r < p) && (p = r);
        p === -1 && (p = l.length),
        l[p - 1] === ":" && p--;
        const v = l.slice(0, p);
        l = l.slice(p),
        this.parseHost(v),
        this.hostname = this.hostname || "";
        const N = this.hostname[0] === "[" && this.hostname[this.hostname.length - 1] === "]";
        if (!N) {
            const y = this.hostname.split(/\./);
            for (let w = 0, C = y.length; w < C; w++) {
                const E = y[w];
                if (E && !E.match(h2)) {
                    let A = "";
                    for (let _ = 0, O = E.length; _ < O; _++)
                        E.charCodeAt(_) > 127 ? A += "x" : A += E[_];
                    if (!A.match(h2)) {
                        const _ = y.slice(0, w)
                          , O = y.slice(w + 1)
                          , R = E.match(N8);
                        R && (_.push(R[1]),
                        O.unshift(R[2])),
                        O.length && (l = O.join(".") + l),
                        this.hostname = _.join(".");
                        break
                    }
                }
            }
        }
        this.hostname.length > v8 && (this.hostname = ""),
        N && (this.hostname = this.hostname.substr(1, this.hostname.length - 2))
    }
    const u = l.indexOf("#");
    u !== -1 && (this.hash = l.substr(u),
    l = l.slice(0, u));
    const f = l.indexOf("?");
    return f !== -1 && (this.search = l.substr(f),
    l = l.slice(0, f)),
    l && (this.pathname = l),
    m2[n] && this.hostname && !this.pathname && (this.pathname = ""),
    this
}
;
Hc.prototype.parseHost = function(t) {
    let e = m8.exec(t);
    e && (e = e[0],
    e !== ":" && (this.port = e.substr(1)),
    t = t.substr(0, t.length - e.length)),
    t && (this.hostname = t)
}
;
const w8 = Object.freeze(Object.defineProperty({
    __proto__: null,
    decode: Dl,
    encode: Mo,
    format: Dm,
    parse: Mm
}, Symbol.toStringTag, {
    value: "Module"
}))
  , i6 = /[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/
  , l6 = /[\0-\x1F\x7F-\x9F]/
  , C8 = /[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/
  , Om = /[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/
  , a6 = /[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/
  , o6 = /[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/
  , S8 = Object.freeze(Object.defineProperty({
    __proto__: null,
    Any: i6,
    Cc: l6,
    Cf: C8,
    P: Om,
    S: a6,
    Z: o6
}, Symbol.toStringTag, {
    value: "Module"
}))
  , j8 = new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t => t.charCodeAt(0)))
  , E8 = new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(t => t.charCodeAt(0)));
var H0;
const k8 = new Map([[0, 65533], [128, 8364], [130, 8218], [131, 402], [132, 8222], [133, 8230], [134, 8224], [135, 8225], [136, 710], [137, 8240], [138, 352], [139, 8249], [140, 338], [142, 381], [145, 8216], [146, 8217], [147, 8220], [148, 8221], [149, 8226], [150, 8211], [151, 8212], [152, 732], [153, 8482], [154, 353], [155, 8250], [156, 339], [158, 382], [159, 376]])
  , A8 = (H0 = String.fromCodePoint) !== null && H0 !== void 0 ? H0 : function(t) {
    let e = "";
    return t > 65535 && (t -= 65536,
    e += String.fromCharCode(t >>> 10 & 1023 | 55296),
    t = 56320 | t & 1023),
    e += String.fromCharCode(t),
    e
}
;
function _8(t) {
    var e;
    return t >= 55296 && t <= 57343 || t > 1114111 ? 65533 : (e = k8.get(t)) !== null && e !== void 0 ? e : t
}
var St;
(function(t) {
    t[t.NUM = 35] = "NUM",
    t[t.SEMI = 59] = "SEMI",
    t[t.EQUALS = 61] = "EQUALS",
    t[t.ZERO = 48] = "ZERO",
    t[t.NINE = 57] = "NINE",
    t[t.LOWER_A = 97] = "LOWER_A",
    t[t.LOWER_F = 102] = "LOWER_F",
    t[t.LOWER_X = 120] = "LOWER_X",
    t[t.LOWER_Z = 122] = "LOWER_Z",
    t[t.UPPER_A = 65] = "UPPER_A",
    t[t.UPPER_F = 70] = "UPPER_F",
    t[t.UPPER_Z = 90] = "UPPER_Z"
}
)(St || (St = {}));
const T8 = 32;
var Ts;
(function(t) {
    t[t.VALUE_LENGTH = 49152] = "VALUE_LENGTH",
    t[t.BRANCH_LENGTH = 16256] = "BRANCH_LENGTH",
    t[t.JUMP_TABLE = 127] = "JUMP_TABLE"
}
)(Ts || (Ts = {}));
function Op(t) {
    return t >= St.ZERO && t <= St.NINE
}
function D8(t) {
    return t >= St.UPPER_A && t <= St.UPPER_F || t >= St.LOWER_A && t <= St.LOWER_F
}
function M8(t) {
    return t >= St.UPPER_A && t <= St.UPPER_Z || t >= St.LOWER_A && t <= St.LOWER_Z || Op(t)
}
function O8(t) {
    return t === St.EQUALS || M8(t)
}
var wt;
(function(t) {
    t[t.EntityStart = 0] = "EntityStart",
    t[t.NumericStart = 1] = "NumericStart",
    t[t.NumericDecimal = 2] = "NumericDecimal",
    t[t.NumericHex = 3] = "NumericHex",
    t[t.NamedEntity = 4] = "NamedEntity"
}
)(wt || (wt = {}));
var Es;
(function(t) {
    t[t.Legacy = 0] = "Legacy",
    t[t.Strict = 1] = "Strict",
    t[t.Attribute = 2] = "Attribute"
}
)(Es || (Es = {}));
class R8 {
    constructor(e, n, r) {
        this.decodeTree = e,
        this.emitCodePoint = n,
        this.errors = r,
        this.state = wt.EntityStart,
        this.consumed = 1,
        this.result = 0,
        this.treeIndex = 0,
        this.excess = 1,
        this.decodeMode = Es.Strict
    }
    startEntity(e) {
        this.decodeMode = e,
        this.state = wt.EntityStart,
        this.result = 0,
        this.treeIndex = 0,
        this.excess = 1,
        this.consumed = 1
    }
    write(e, n) {
        switch (this.state) {
        case wt.EntityStart:
            return e.charCodeAt(n) === St.NUM ? (this.state = wt.NumericStart,
            this.consumed += 1,
            this.stateNumericStart(e, n + 1)) : (this.state = wt.NamedEntity,
            this.stateNamedEntity(e, n));
        case wt.NumericStart:
            return this.stateNumericStart(e, n);
        case wt.NumericDecimal:
            return this.stateNumericDecimal(e, n);
        case wt.NumericHex:
            return this.stateNumericHex(e, n);
        case wt.NamedEntity:
            return this.stateNamedEntity(e, n)
        }
    }
    stateNumericStart(e, n) {
        return n >= e.length ? -1 : (e.charCodeAt(n) | T8) === St.LOWER_X ? (this.state = wt.NumericHex,
        this.consumed += 1,
        this.stateNumericHex(e, n + 1)) : (this.state = wt.NumericDecimal,
        this.stateNumericDecimal(e, n))
    }
    addToNumericResult(e, n, r, s) {
        if (n !== r) {
            const l = r - n;
            this.result = this.result * Math.pow(s, l) + parseInt(e.substr(n, l), s),
            this.consumed += l
        }
    }
    stateNumericHex(e, n) {
        const r = n;
        for (; n < e.length; ) {
            const s = e.charCodeAt(n);
            if (Op(s) || D8(s))
                n += 1;
            else
                return this.addToNumericResult(e, r, n, 16),
                this.emitNumericEntity(s, 3)
        }
        return this.addToNumericResult(e, r, n, 16),
        -1
    }
    stateNumericDecimal(e, n) {
        const r = n;
        for (; n < e.length; ) {
            const s = e.charCodeAt(n);
            if (Op(s))
                n += 1;
            else
                return this.addToNumericResult(e, r, n, 10),
                this.emitNumericEntity(s, 2)
        }
        return this.addToNumericResult(e, r, n, 10),
        -1
    }
    emitNumericEntity(e, n) {
        var r;
        if (this.consumed <= n)
            return (r = this.errors) === null || r === void 0 || r.absenceOfDigitsInNumericCharacterReference(this.consumed),
            0;
        if (e === St.SEMI)
            this.consumed += 1;
        else if (this.decodeMode === Es.Strict)
            return 0;
        return this.emitCodePoint(_8(this.result), this.consumed),
        this.errors && (e !== St.SEMI && this.errors.missingSemicolonAfterCharacterReference(),
        this.errors.validateNumericCharacterReference(this.result)),
        this.consumed
    }
    stateNamedEntity(e, n) {
        const {decodeTree: r} = this;
        let s = r[this.treeIndex]
          , l = (s & Ts.VALUE_LENGTH) >> 14;
        for (; n < e.length; n++,
        this.excess++) {
            const o = e.charCodeAt(n);
            if (this.treeIndex = z8(r, s, this.treeIndex + Math.max(1, l), o),
            this.treeIndex < 0)
                return this.result === 0 || this.decodeMode === Es.Attribute && (l === 0 || O8(o)) ? 0 : this.emitNotTerminatedNamedEntity();
            if (s = r[this.treeIndex],
            l = (s & Ts.VALUE_LENGTH) >> 14,
            l !== 0) {
                if (o === St.SEMI)
                    return this.emitNamedEntityData(this.treeIndex, l, this.consumed + this.excess);
                this.decodeMode !== Es.Strict && (this.result = this.treeIndex,
                this.consumed += this.excess,
                this.excess = 0)
            }
        }
        return -1
    }
    emitNotTerminatedNamedEntity() {
        var e;
        const {result: n, decodeTree: r} = this
          , s = (r[n] & Ts.VALUE_LENGTH) >> 14;
        return this.emitNamedEntityData(n, s, this.consumed),
        (e = this.errors) === null || e === void 0 || e.missingSemicolonAfterCharacterReference(),
        this.consumed
    }
    emitNamedEntityData(e, n, r) {
        const {decodeTree: s} = this;
        return this.emitCodePoint(n === 1 ? s[e] & ~Ts.VALUE_LENGTH : s[e + 1], r),
        n === 3 && this.emitCodePoint(s[e + 2], r),
        r
    }
    end() {
        var e;
        switch (this.state) {
        case wt.NamedEntity:
            return this.result !== 0 && (this.decodeMode !== Es.Attribute || this.result === this.treeIndex) ? this.emitNotTerminatedNamedEntity() : 0;
        case wt.NumericDecimal:
            return this.emitNumericEntity(0, 2);
        case wt.NumericHex:
            return this.emitNumericEntity(0, 3);
        case wt.NumericStart:
            return (e = this.errors) === null || e === void 0 || e.absenceOfDigitsInNumericCharacterReference(this.consumed),
            0;
        case wt.EntityStart:
            return 0
        }
    }
}
function u6(t) {
    let e = "";
    const n = new R8(t,r => e += A8(r));
    return function(s, l) {
        let o = 0
          , u = 0;
        for (; (u = s.indexOf("&", u)) >= 0; ) {
            e += s.slice(o, u),
            n.startEntity(l);
            const p = n.write(s, u + 1);
            if (p < 0) {
                o = u + n.end();
                break
            }
            o = u + p,
            u = p === 0 ? o + 1 : o
        }
        const f = e + s.slice(o);
        return e = "",
        f
    }
}
function z8(t, e, n, r) {
    const s = (e & Ts.BRANCH_LENGTH) >> 7
      , l = e & Ts.JUMP_TABLE;
    if (s === 0)
        return l !== 0 && r === l ? n : -1;
    if (l) {
        const f = r - l;
        return f < 0 || f >= s ? -1 : t[n + f] - 1
    }
    let o = n
      , u = o + s - 1;
    for (; o <= u; ) {
        const f = o + u >>> 1
          , p = t[f];
        if (p < r)
            o = f + 1;
        else if (p > r)
            u = f - 1;
        else
            return t[f + s]
    }
    return -1
}
const L8 = u6(j8);
u6(E8);
function c6(t, e=Es.Legacy) {
    return L8(t, e)
}
function B8(t) {
    return Object.prototype.toString.call(t)
}
function Rm(t) {
    return B8(t) === "[object String]"
}
const F8 = Object.prototype.hasOwnProperty;
function H8(t, e) {
    return F8.call(t, e)
}
function qd(t) {
    return Array.prototype.slice.call(arguments, 1).forEach(function(n) {
        if (n) {
            if (typeof n != "object")
                throw new TypeError(n + "must be object");
            Object.keys(n).forEach(function(r) {
                t[r] = n[r]
            })
        }
    }),
    t
}
function d6(t, e, n) {
    return [].concat(t.slice(0, e), n, t.slice(e + 1))
}
function zm(t) {
    return !(t >= 55296 && t <= 57343 || t >= 64976 && t <= 65007 || (t & 65535) === 65535 || (t & 65535) === 65534 || t >= 0 && t <= 8 || t === 11 || t >= 14 && t <= 31 || t >= 127 && t <= 159 || t > 1114111)
}
function Uc(t) {
    if (t > 65535) {
        t -= 65536;
        const e = 55296 + (t >> 10)
          , n = 56320 + (t & 1023);
        return String.fromCharCode(e, n)
    }
    return String.fromCharCode(t)
}
const f6 = /\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g
  , U8 = /&([a-z#][a-z0-9]{1,31});/gi
  , q8 = new RegExp(f6.source + "|" + U8.source,"gi")
  , I8 = /^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;
function $8(t, e) {
    if (e.charCodeAt(0) === 35 && I8.test(e)) {
        const r = e[1].toLowerCase() === "x" ? parseInt(e.slice(2), 16) : parseInt(e.slice(1), 10);
        return zm(r) ? Uc(r) : t
    }
    const n = c6(t);
    return n !== t ? n : t
}
function P8(t) {
    return t.indexOf("\\") < 0 ? t : t.replace(f6, "$1")
}
function Ml(t) {
    return t.indexOf("\\") < 0 && t.indexOf("&") < 0 ? t : t.replace(q8, function(e, n, r) {
        return n || $8(e, r)
    })
}
const V8 = /[&<>"]/
  , G8 = /[&<>"]/g
  , K8 = {
    "&": "&amp;",
    "<": "&lt;",
    ">": "&gt;",
    '"': "&quot;"
};
function Y8(t) {
    return K8[t]
}
function Hs(t) {
    return V8.test(t) ? t.replace(G8, Y8) : t
}
const J8 = /[.?*+^$[\]\\(){}|-]/g;
function X8(t) {
    return t.replace(J8, "\\$&")
}
function Ge(t) {
    switch (t) {
    case 9:
    case 32:
        return !0
    }
    return !1
}
function io(t) {
    if (t >= 8192 && t <= 8202)
        return !0;
    switch (t) {
    case 9:
    case 10:
    case 11:
    case 12:
    case 13:
    case 32:
    case 160:
    case 5760:
    case 8239:
    case 8287:
    case 12288:
        return !0
    }
    return !1
}
function lo(t) {
    return Om.test(t) || a6.test(t)
}
function ao(t) {
    switch (t) {
    case 33:
    case 34:
    case 35:
    case 36:
    case 37:
    case 38:
    case 39:
    case 40:
    case 41:
    case 42:
    case 43:
    case 44:
    case 45:
    case 46:
    case 47:
    case 58:
    case 59:
    case 60:
    case 61:
    case 62:
    case 63:
    case 64:
    case 91:
    case 92:
    case 93:
    case 94:
    case 95:
    case 96:
    case 123:
    case 124:
    case 125:
    case 126:
        return !0;
    default:
        return !1
    }
}
function Id(t) {
    return t = t.trim().replace(/\s+/g, " "),
    "".toLowerCase() === "" && (t = t.replace(//g, "")),
    t.toLowerCase().toUpperCase()
}
const Q8 = {
    mdurl: w8,
    ucmicro: S8
}
  , Z8 = Object.freeze(Object.defineProperty({
    __proto__: null,
    arrayReplaceAt: d6,
    assign: qd,
    escapeHtml: Hs,
    escapeRE: X8,
    fromCodePoint: Uc,
    has: H8,
    isMdAsciiPunct: ao,
    isPunctChar: lo,
    isSpace: Ge,
    isString: Rm,
    isValidEntityCode: zm,
    isWhiteSpace: io,
    lib: Q8,
    normalizeReference: Id,
    unescapeAll: Ml,
    unescapeMd: P8
}, Symbol.toStringTag, {
    value: "Module"
}));
function W8(t, e, n) {
    let r, s, l, o;
    const u = t.posMax
      , f = t.pos;
    for (t.pos = e + 1,
    r = 1; t.pos < u; ) {
        if (l = t.src.charCodeAt(t.pos),
        l === 93 && (r--,
        r === 0)) {
            s = !0;
            break
        }
        if (o = t.pos,
        t.md.inline.skipToken(t),
        l === 91) {
            if (o === t.pos - 1)
                r++;
            else if (n)
                return t.pos = f,
                -1
        }
    }
    let p = -1;
    return s && (p = t.pos),
    t.pos = f,
    p
}
function eA(t, e, n) {
    let r, s = e;
    const l = {
        ok: !1,
        pos: 0,
        str: ""
    };
    if (t.charCodeAt(s) === 60) {
        for (s++; s < n; ) {
            if (r = t.charCodeAt(s),
            r === 10 || r === 60)
                return l;
            if (r === 62)
                return l.pos = s + 1,
                l.str = Ml(t.slice(e + 1, s)),
                l.ok = !0,
                l;
            if (r === 92 && s + 1 < n) {
                s += 2;
                continue
            }
            s++
        }
        return l
    }
    let o = 0;
    for (; s < n && (r = t.charCodeAt(s),
    !(r === 32 || r < 32 || r === 127)); ) {
        if (r === 92 && s + 1 < n) {
            if (t.charCodeAt(s + 1) === 32)
                break;
            s += 2;
            continue
        }
        if (r === 40 && (o++,
        o > 32))
            return l;
        if (r === 41) {
            if (o === 0)
                break;
            o--
        }
        s++
    }
    return e === s || o !== 0 || (l.str = Ml(t.slice(e, s)),
    l.pos = s,
    l.ok = !0),
    l
}
function tA(t, e, n, r) {
    let s, l = e;
    const o = {
        ok: !1,
        can_continue: !1,
        pos: 0,
        str: "",
        marker: 0
    };
    if (r)
        o.str = r.str,
        o.marker = r.marker;
    else {
        if (l >= n)
            return o;
        let u = t.charCodeAt(l);
        if (u !== 34 && u !== 39 && u !== 40)
            return o;
        e++,
        l++,
        u === 40 && (u = 41),
        o.marker = u
    }
    for (; l < n; ) {
        if (s = t.charCodeAt(l),
        s === o.marker)
            return o.pos = l + 1,
            o.str += Ml(t.slice(e, l)),
            o.ok = !0,
            o;
        if (s === 40 && o.marker === 41)
            return o;
        s === 92 && l + 1 < n && l++,
        l++
    }
    return o.can_continue = !0,
    o.str += Ml(t.slice(e, l)),
    o
}
const nA = Object.freeze(Object.defineProperty({
    __proto__: null,
    parseLinkDestination: eA,
    parseLinkLabel: W8,
    parseLinkTitle: tA
}, Symbol.toStringTag, {
    value: "Module"
}))
  , mr = {};
mr.code_inline = function(t, e, n, r, s) {
    const l = t[e];
    return "<code" + s.renderAttrs(l) + ">" + Hs(l.content) + "</code>"
}
;
mr.code_block = function(t, e, n, r, s) {
    const l = t[e];
    return "<pre" + s.renderAttrs(l) + "><code>" + Hs(t[e].content) + `</code></pre>
`
}
;
mr.fence = function(t, e, n, r, s) {
    const l = t[e]
      , o = l.info ? Ml(l.info).trim() : "";
    let u = ""
      , f = "";
    if (o) {
        const m = o.split(/(\s+)/g);
        u = m[0],
        f = m.slice(2).join("")
    }
    let p;
    if (n.highlight ? p = n.highlight(l.content, u, f) || Hs(l.content) : p = Hs(l.content),
    p.indexOf("<pre") === 0)
        return p + `
`;
    if (o) {
        const m = l.attrIndex("class")
          , g = l.attrs ? l.attrs.slice() : [];
        m < 0 ? g.push(["class", n.langPrefix + u]) : (g[m] = g[m].slice(),
        g[m][1] += " " + n.langPrefix + u);
        const v = {
            attrs: g
        };
        return `<pre><code${s.renderAttrs(v)}>${p}</code></pre>
`
    }
    return `<pre><code${s.renderAttrs(l)}>${p}</code></pre>
`
}
;
mr.image = function(t, e, n, r, s) {
    const l = t[e];
    return l.attrs[l.attrIndex("alt")][1] = s.renderInlineAsText(l.children, n, r),
    s.renderToken(t, e, n)
}
;
mr.hardbreak = function(t, e, n) {
    return n.xhtmlOut ? `<br />
` : `<br>
`
}
;
mr.softbreak = function(t, e, n) {
    return n.breaks ? n.xhtmlOut ? `<br />
` : `<br>
` : `
`
}
;
mr.text = function(t, e) {
    return Hs(t[e].content)
}
;
mr.html_block = function(t, e) {
    return t[e].content
}
;
mr.html_inline = function(t, e) {
    return t[e].content
}
;
function $l() {
    this.rules = qd({}, mr)
}
$l.prototype.renderAttrs = function(e) {
    let n, r, s;
    if (!e.attrs)
        return "";
    for (s = "",
    n = 0,
    r = e.attrs.length; n < r; n++)
        s += " " + Hs(e.attrs[n][0]) + '="' + Hs(e.attrs[n][1]) + '"';
    return s
}
;
$l.prototype.renderToken = function(e, n, r) {
    const s = e[n];
    let l = "";
    if (s.hidden)
        return "";
    s.block && s.nesting !== -1 && n && e[n - 1].hidden && (l += `
`),
    l += (s.nesting === -1 ? "</" : "<") + s.tag,
    l += this.renderAttrs(s),
    s.nesting === 0 && r.xhtmlOut && (l += " /");
    let o = !1;
    if (s.block && (o = !0,
    s.nesting === 1 && n + 1 < e.length)) {
        const u = e[n + 1];
        (u.type === "inline" || u.hidden || u.nesting === -1 && u.tag === s.tag) && (o = !1)
    }
    return l += o ? `>
` : ">",
    l
}
;
$l.prototype.renderInline = function(t, e, n) {
    let r = "";
    const s = this.rules;
    for (let l = 0, o = t.length; l < o; l++) {
        const u = t[l].type;
        typeof s[u] < "u" ? r += s[u](t, l, e, n, this) : r += this.renderToken(t, l, e)
    }
    return r
}
;
$l.prototype.renderInlineAsText = function(t, e, n) {
    let r = "";
    for (let s = 0, l = t.length; s < l; s++)
        switch (t[s].type) {
        case "text":
            r += t[s].content;
            break;
        case "image":
            r += this.renderInlineAsText(t[s].children, e, n);
            break;
        case "html_inline":
        case "html_block":
            r += t[s].content;
            break;
        case "softbreak":
        case "hardbreak":
            r += `
`;
            break
        }
    return r
}
;
$l.prototype.render = function(t, e, n) {
    let r = "";
    const s = this.rules;
    for (let l = 0, o = t.length; l < o; l++) {
        const u = t[l].type;
        u === "inline" ? r += this.renderInline(t[l].children, e, n) : typeof s[u] < "u" ? r += s[u](t, l, e, n, this) : r += this.renderToken(t, l, e, n)
    }
    return r
}
;
function un() {
    this.__rules__ = [],
    this.__cache__ = null
}
un.prototype.__find__ = function(t) {
    for (let e = 0; e < this.__rules__.length; e++)
        if (this.__rules__[e].name === t)
            return e;
    return -1
}
;
un.prototype.__compile__ = function() {
    const t = this
      , e = [""];
    t.__rules__.forEach(function(n) {
        n.enabled && n.alt.forEach(function(r) {
            e.indexOf(r) < 0 && e.push(r)
        })
    }),
    t.__cache__ = {},
    e.forEach(function(n) {
        t.__cache__[n] = [],
        t.__rules__.forEach(function(r) {
            r.enabled && (n && r.alt.indexOf(n) < 0 || t.__cache__[n].push(r.fn))
        })
    })
}
;
un.prototype.at = function(t, e, n) {
    const r = this.__find__(t)
      , s = n || {};
    if (r === -1)
        throw new Error("Parser rule not found: " + t);
    this.__rules__[r].fn = e,
    this.__rules__[r].alt = s.alt || [],
    this.__cache__ = null
}
;
un.prototype.before = function(t, e, n, r) {
    const s = this.__find__(t)
      , l = r || {};
    if (s === -1)
        throw new Error("Parser rule not found: " + t);
    this.__rules__.splice(s, 0, {
        name: e,
        enabled: !0,
        fn: n,
        alt: l.alt || []
    }),
    this.__cache__ = null
}
;
un.prototype.after = function(t, e, n, r) {
    const s = this.__find__(t)
      , l = r || {};
    if (s === -1)
        throw new Error("Parser rule not found: " + t);
    this.__rules__.splice(s + 1, 0, {
        name: e,
        enabled: !0,
        fn: n,
        alt: l.alt || []
    }),
    this.__cache__ = null
}
;
un.prototype.push = function(t, e, n) {
    const r = n || {};
    this.__rules__.push({
        name: t,
        enabled: !0,
        fn: e,
        alt: r.alt || []
    }),
    this.__cache__ = null
}
;
un.prototype.enable = function(t, e) {
    Array.isArray(t) || (t = [t]);
    const n = [];
    return t.forEach(function(r) {
        const s = this.__find__(r);
        if (s < 0) {
            if (e)
                return;
            throw new Error("Rules manager: invalid rule name " + r)
        }
        this.__rules__[s].enabled = !0,
        n.push(r)
    }, this),
    this.__cache__ = null,
    n
}
;
un.prototype.enableOnly = function(t, e) {
    Array.isArray(t) || (t = [t]),
    this.__rules__.forEach(function(n) {
        n.enabled = !1
    }),
    this.enable(t, e)
}
;
un.prototype.disable = function(t, e) {
    Array.isArray(t) || (t = [t]);
    const n = [];
    return t.forEach(function(r) {
        const s = this.__find__(r);
        if (s < 0) {
            if (e)
                return;
            throw new Error("Rules manager: invalid rule name " + r)
        }
        this.__rules__[s].enabled = !1,
        n.push(r)
    }, this),
    this.__cache__ = null,
    n
}
;
un.prototype.getRules = function(t) {
    return this.__cache__ === null && this.__compile__(),
    this.__cache__[t] || []
}
;
function Qn(t, e, n) {
    this.type = t,
    this.tag = e,
    this.attrs = null,
    this.map = null,
    this.nesting = n,
    this.level = 0,
    this.children = null,
    this.content = "",
    this.markup = "",
    this.info = "",
    this.meta = null,
    this.block = !1,
    this.hidden = !1
}
Qn.prototype.attrIndex = function(e) {
    if (!this.attrs)
        return -1;
    const n = this.attrs;
    for (let r = 0, s = n.length; r < s; r++)
        if (n[r][0] === e)
            return r;
    return -1
}
;
Qn.prototype.attrPush = function(e) {
    this.attrs ? this.attrs.push(e) : this.attrs = [e]
}
;
Qn.prototype.attrSet = function(e, n) {
    const r = this.attrIndex(e)
      , s = [e, n];
    r < 0 ? this.attrPush(s) : this.attrs[r] = s
}
;
Qn.prototype.attrGet = function(e) {
    const n = this.attrIndex(e);
    let r = null;
    return n >= 0 && (r = this.attrs[n][1]),
    r
}
;
Qn.prototype.attrJoin = function(e, n) {
    const r = this.attrIndex(e);
    r < 0 ? this.attrPush([e, n]) : this.attrs[r][1] = this.attrs[r][1] + " " + n
}
;
function h6(t, e, n) {
    this.src = t,
    this.env = n,
    this.tokens = [],
    this.inlineMode = !1,
    this.md = e
}
h6.prototype.Token = Qn;
const rA = /\r\n?|\n/g
  , sA = /\0/g;
function iA(t) {
    let e;
    e = t.src.replace(rA, `
`),
    e = e.replace(sA, ""),
    t.src = e
}
function lA(t) {
    let e;
    t.inlineMode ? (e = new t.Token("inline","",0),
    e.content = t.src,
    e.map = [0, 1],
    e.children = [],
    t.tokens.push(e)) : t.md.block.parse(t.src, t.md, t.env, t.tokens)
}
function aA(t) {
    const e = t.tokens;
    for (let n = 0, r = e.length; n < r; n++) {
        const s = e[n];
        s.type === "inline" && t.md.inline.parse(s.content, t.md, t.env, s.children)
    }
}
function oA(t) {
    return /^<a[>\s]/i.test(t)
}
function uA(t) {
    return /^<\/a\s*>/i.test(t)
}
function cA(t) {
    const e = t.tokens;
    if (t.md.options.linkify)
        for (let n = 0, r = e.length; n < r; n++) {
            if (e[n].type !== "inline" || !t.md.linkify.pretest(e[n].content))
                continue;
            let s = e[n].children
              , l = 0;
            for (let o = s.length - 1; o >= 0; o--) {
                const u = s[o];
                if (u.type === "link_close") {
                    for (o--; s[o].level !== u.level && s[o].type !== "link_open"; )
                        o--;
                    continue
                }
                if (u.type === "html_inline" && (oA(u.content) && l > 0 && l--,
                uA(u.content) && l++),
                !(l > 0) && u.type === "text" && t.md.linkify.test(u.content)) {
                    const f = u.content;
                    let p = t.md.linkify.match(f);
                    const m = [];
                    let g = u.level
                      , v = 0;
                    p.length > 0 && p[0].index === 0 && o > 0 && s[o - 1].type === "text_special" && (p = p.slice(1));
                    for (let N = 0; N < p.length; N++) {
                        const y = p[N].url
                          , w = t.md.normalizeLink(y);
                        if (!t.md.validateLink(w))
                            continue;
                        let C = p[N].text;
                        p[N].schema ? p[N].schema === "mailto:" && !/^mailto:/i.test(C) ? C = t.md.normalizeLinkText("mailto:" + C).replace(/^mailto:/, "") : C = t.md.normalizeLinkText(C) : C = t.md.normalizeLinkText("http://" + C).replace(/^http:\/\//, "");
                        const E = p[N].index;
                        if (E > v) {
                            const R = new t.Token("text","",0);
                            R.content = f.slice(v, E),
                            R.level = g,
                            m.push(R)
                        }
                        const A = new t.Token("link_open","a",1);
                        A.attrs = [["href", w]],
                        A.level = g++,
                        A.markup = "linkify",
                        A.info = "auto",
                        m.push(A);
                        const _ = new t.Token("text","",0);
                        _.content = C,
                        _.level = g,
                        m.push(_);
                        const O = new t.Token("link_close","a",-1);
                        O.level = --g,
                        O.markup = "linkify",
                        O.info = "auto",
                        m.push(O),
                        v = p[N].lastIndex
                    }
                    if (v < f.length) {
                        const N = new t.Token("text","",0);
                        N.content = f.slice(v),
                        N.level = g,
                        m.push(N)
                    }
                    e[n].children = s = d6(s, o, m)
                }
            }
        }
}
const p6 = /\+-|\.\.|\?\?\?\?|!!!!|,,|--/
  , dA = /\((c|tm|r)\)/i
  , fA = /\((c|tm|r)\)/ig
  , hA = {
    c: "",
    r: "",
    tm: ""
};
function pA(t, e) {
    return hA[e.toLowerCase()]
}
function mA(t) {
    let e = 0;
    for (let n = t.length - 1; n >= 0; n--) {
        const r = t[n];
        r.type === "text" && !e && (r.content = r.content.replace(fA, pA)),
        r.type === "link_open" && r.info === "auto" && e--,
        r.type === "link_close" && r.info === "auto" && e++
    }
}
function gA(t) {
    let e = 0;
    for (let n = t.length - 1; n >= 0; n--) {
        const r = t[n];
        r.type === "text" && !e && p6.test(r.content) && (r.content = r.content.replace(/\+-/g, "").replace(/\.{2,}/g, "").replace(/([?!])/g, "$1..").replace(/([?!]){4,}/g, "$1$1$1").replace(/,{2,}/g, ",").replace(/(^|[^-])---(?=[^-]|$)/mg, "$1").replace(/(^|\s)--(?=\s|$)/mg, "$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg, "$1")),
        r.type === "link_open" && r.info === "auto" && e--,
        r.type === "link_close" && r.info === "auto" && e++
    }
}
function xA(t) {
    let e;
    if (t.md.options.typographer)
        for (e = t.tokens.length - 1; e >= 0; e--)
            t.tokens[e].type === "inline" && (dA.test(t.tokens[e].content) && mA(t.tokens[e].children),
            p6.test(t.tokens[e].content) && gA(t.tokens[e].children))
}
const bA = /['"]/
  , g2 = /['"]/g
  , x2 = "";
function ic(t, e, n) {
    return t.slice(0, e) + n + t.slice(e + 1)
}
function yA(t, e) {
    let n;
    const r = [];
    for (let s = 0; s < t.length; s++) {
        const l = t[s]
          , o = t[s].level;
        for (n = r.length - 1; n >= 0 && !(r[n].level <= o); n--)
            ;
        if (r.length = n + 1,
        l.type !== "text")
            continue;
        let u = l.content
          , f = 0
          , p = u.length;
        e: for (; f < p; ) {
            g2.lastIndex = f;
            const m = g2.exec(u);
            if (!m)
                break;
            let g = !0
              , v = !0;
            f = m.index + 1;
            const N = m[0] === "'";
            let y = 32;
            if (m.index - 1 >= 0)
                y = u.charCodeAt(m.index - 1);
            else
                for (n = s - 1; n >= 0 && !(t[n].type === "softbreak" || t[n].type === "hardbreak"); n--)
                    if (t[n].content) {
                        y = t[n].content.charCodeAt(t[n].content.length - 1);
                        break
                    }
            let w = 32;
            if (f < p)
                w = u.charCodeAt(f);
            else
                for (n = s + 1; n < t.length && !(t[n].type === "softbreak" || t[n].type === "hardbreak"); n++)
                    if (t[n].content) {
                        w = t[n].content.charCodeAt(0);
                        break
                    }
            const C = ao(y) || lo(String.fromCharCode(y))
              , E = ao(w) || lo(String.fromCharCode(w))
              , A = io(y)
              , _ = io(w);
            if (_ ? g = !1 : E && (A || C || (g = !1)),
            A ? v = !1 : C && (_ || E || (v = !1)),
            w === 34 && m[0] === '"' && y >= 48 && y <= 57 && (v = g = !1),
            g && v && (g = C,
            v = E),
            !g && !v) {
                N && (l.content = ic(l.content, m.index, x2));
                continue
            }
            if (v)
                for (n = r.length - 1; n >= 0; n--) {
                    let O = r[n];
                    if (r[n].level < o)
                        break;
                    if (O.single === N && r[n].level === o) {
                        O = r[n];
                        let R, $;
                        N ? (R = e.md.options.quotes[2],
                        $ = e.md.options.quotes[3]) : (R = e.md.options.quotes[0],
                        $ = e.md.options.quotes[1]),
                        l.content = ic(l.content, m.index, $),
                        t[O.token].content = ic(t[O.token].content, O.pos, R),
                        f += $.length - 1,
                        O.token === s && (f += R.length - 1),
                        u = l.content,
                        p = u.length,
                        r.length = n;
                        continue e
                    }
                }
            g ? r.push({
                token: s,
                pos: m.index,
                single: N,
                level: o
            }) : v && N && (l.content = ic(l.content, m.index, x2))
        }
    }
}
function vA(t) {
    if (t.md.options.typographer)
        for (let e = t.tokens.length - 1; e >= 0; e--)
            t.tokens[e].type !== "inline" || !bA.test(t.tokens[e].content) || yA(t.tokens[e].children, t)
}
function NA(t) {
    let e, n;
    const r = t.tokens
      , s = r.length;
    for (let l = 0; l < s; l++) {
        if (r[l].type !== "inline")
            continue;
        const o = r[l].children
          , u = o.length;
        for (e = 0; e < u; e++)
            o[e].type === "text_special" && (o[e].type = "text");
        for (e = n = 0; e < u; e++)
            o[e].type === "text" && e + 1 < u && o[e + 1].type === "text" ? o[e + 1].content = o[e].content + o[e + 1].content : (e !== n && (o[n] = o[e]),
            n++);
        e !== n && (o.length = n)
    }
}
const U0 = [["normalize", iA], ["block", lA], ["inline", aA], ["linkify", cA], ["replacements", xA], ["smartquotes", vA], ["text_join", NA]];
function Lm() {
    this.ruler = new un;
    for (let t = 0; t < U0.length; t++)
        this.ruler.push(U0[t][0], U0[t][1])
}
Lm.prototype.process = function(t) {
    const e = this.ruler.getRules("");
    for (let n = 0, r = e.length; n < r; n++)
        e[n](t)
}
;
Lm.prototype.State = h6;
function gr(t, e, n, r) {
    this.src = t,
    this.md = e,
    this.env = n,
    this.tokens = r,
    this.bMarks = [],
    this.eMarks = [],
    this.tShift = [],
    this.sCount = [],
    this.bsCount = [],
    this.blkIndent = 0,
    this.line = 0,
    this.lineMax = 0,
    this.tight = !1,
    this.ddIndent = -1,
    this.listIndent = -1,
    this.parentType = "root",
    this.level = 0;
    const s = this.src;
    for (let l = 0, o = 0, u = 0, f = 0, p = s.length, m = !1; o < p; o++) {
        const g = s.charCodeAt(o);
        if (!m)
            if (Ge(g)) {
                u++,
                g === 9 ? f += 4 - f % 4 : f++;
                continue
            } else
                m = !0;
        (g === 10 || o === p - 1) && (g !== 10 && o++,
        this.bMarks.push(l),
        this.eMarks.push(o),
        this.tShift.push(u),
        this.sCount.push(f),
        this.bsCount.push(0),
        m = !1,
        u = 0,
        f = 0,
        l = o + 1)
    }
    this.bMarks.push(s.length),
    this.eMarks.push(s.length),
    this.tShift.push(0),
    this.sCount.push(0),
    this.bsCount.push(0),
    this.lineMax = this.bMarks.length - 1
}
gr.prototype.push = function(t, e, n) {
    const r = new Qn(t,e,n);
    return r.block = !0,
    n < 0 && this.level--,
    r.level = this.level,
    n > 0 && this.level++,
    this.tokens.push(r),
    r
}
;
gr.prototype.isEmpty = function(e) {
    return this.bMarks[e] + this.tShift[e] >= this.eMarks[e]
}
;
gr.prototype.skipEmptyLines = function(e) {
    for (let n = this.lineMax; e < n && !(this.bMarks[e] + this.tShift[e] < this.eMarks[e]); e++)
        ;
    return e
}
;
gr.prototype.skipSpaces = function(e) {
    for (let n = this.src.length; e < n; e++) {
        const r = this.src.charCodeAt(e);
        if (!Ge(r))
            break
    }
    return e
}
;
gr.prototype.skipSpacesBack = function(e, n) {
    if (e <= n)
        return e;
    for (; e > n; )
        if (!Ge(this.src.charCodeAt(--e)))
            return e + 1;
    return e
}
;
gr.prototype.skipChars = function(e, n) {
    for (let r = this.src.length; e < r && this.src.charCodeAt(e) === n; e++)
        ;
    return e
}
;
gr.prototype.skipCharsBack = function(e, n, r) {
    if (e <= r)
        return e;
    for (; e > r; )
        if (n !== this.src.charCodeAt(--e))
            return e + 1;
    return e
}
;
gr.prototype.getLines = function(e, n, r, s) {
    if (e >= n)
        return "";
    const l = new Array(n - e);
    for (let o = 0, u = e; u < n; u++,
    o++) {
        let f = 0;
        const p = this.bMarks[u];
        let m = p, g;
        for (u + 1 < n || s ? g = this.eMarks[u] + 1 : g = this.eMarks[u]; m < g && f < r; ) {
            const v = this.src.charCodeAt(m);
            if (Ge(v))
                v === 9 ? f += 4 - (f + this.bsCount[u]) % 4 : f++;
            else if (m - p < this.tShift[u])
                f++;
            else
                break;
            m++
        }
        f > r ? l[o] = new Array(f - r + 1).join(" ") + this.src.slice(m, g) : l[o] = this.src.slice(m, g)
    }
    return l.join("")
}
;
gr.prototype.Token = Qn;
const wA = 65536;
function q0(t, e) {
    const n = t.bMarks[e] + t.tShift[e]
      , r = t.eMarks[e];
    return t.src.slice(n, r)
}
function b2(t) {
    const e = []
      , n = t.length;
    let r = 0
      , s = t.charCodeAt(r)
      , l = !1
      , o = 0
      , u = "";
    for (; r < n; )
        s === 124 && (l ? (u += t.substring(o, r - 1),
        o = r) : (e.push(u + t.substring(o, r)),
        u = "",
        o = r + 1)),
        l = s === 92,
        r++,
        s = t.charCodeAt(r);
    return e.push(u + t.substring(o)),
    e
}
function CA(t, e, n, r) {
    if (e + 2 > n)
        return !1;
    let s = e + 1;
    if (t.sCount[s] < t.blkIndent || t.sCount[s] - t.blkIndent >= 4)
        return !1;
    let l = t.bMarks[s] + t.tShift[s];
    if (l >= t.eMarks[s])
        return !1;
    const o = t.src.charCodeAt(l++);
    if (o !== 124 && o !== 45 && o !== 58 || l >= t.eMarks[s])
        return !1;
    const u = t.src.charCodeAt(l++);
    if (u !== 124 && u !== 45 && u !== 58 && !Ge(u) || o === 45 && Ge(u))
        return !1;
    for (; l < t.eMarks[s]; ) {
        const O = t.src.charCodeAt(l);
        if (O !== 124 && O !== 45 && O !== 58 && !Ge(O))
            return !1;
        l++
    }
    let f = q0(t, e + 1)
      , p = f.split("|");
    const m = [];
    for (let O = 0; O < p.length; O++) {
        const R = p[O].trim();
        if (!R) {
            if (O === 0 || O === p.length - 1)
                continue;
            return !1
        }
        if (!/^:?-+:?$/.test(R))
            return !1;
        R.charCodeAt(R.length - 1) === 58 ? m.push(R.charCodeAt(0) === 58 ? "center" : "right") : R.charCodeAt(0) === 58 ? m.push("left") : m.push("")
    }
    if (f = q0(t, e).trim(),
    f.indexOf("|") === -1 || t.sCount[e] - t.blkIndent >= 4)
        return !1;
    p = b2(f),
    p.length && p[0] === "" && p.shift(),
    p.length && p[p.length - 1] === "" && p.pop();
    const g = p.length;
    if (g === 0 || g !== m.length)
        return !1;
    if (r)
        return !0;
    const v = t.parentType;
    t.parentType = "table";
    const N = t.md.block.ruler.getRules("blockquote")
      , y = t.push("table_open", "table", 1)
      , w = [e, 0];
    y.map = w;
    const C = t.push("thead_open", "thead", 1);
    C.map = [e, e + 1];
    const E = t.push("tr_open", "tr", 1);
    E.map = [e, e + 1];
    for (let O = 0; O < p.length; O++) {
        const R = t.push("th_open", "th", 1);
        m[O] && (R.attrs = [["style", "text-align:" + m[O]]]);
        const $ = t.push("inline", "", 0);
        $.content = p[O].trim(),
        $.children = [],
        t.push("th_close", "th", -1)
    }
    t.push("tr_close", "tr", -1),
    t.push("thead_close", "thead", -1);
    let A, _ = 0;
    for (s = e + 2; s < n && !(t.sCount[s] < t.blkIndent); s++) {
        let O = !1;
        for (let $ = 0, z = N.length; $ < z; $++)
            if (N[$](t, s, n, !0)) {
                O = !0;
                break
            }
        if (O || (f = q0(t, s).trim(),
        !f) || t.sCount[s] - t.blkIndent >= 4 || (p = b2(f),
        p.length && p[0] === "" && p.shift(),
        p.length && p[p.length - 1] === "" && p.pop(),
        _ += g - p.length,
        _ > wA))
            break;
        if (s === e + 2) {
            const $ = t.push("tbody_open", "tbody", 1);
            $.map = A = [e + 2, 0]
        }
        const R = t.push("tr_open", "tr", 1);
        R.map = [s, s + 1];
        for (let $ = 0; $ < g; $++) {
            const z = t.push("td_open", "td", 1);
            m[$] && (z.attrs = [["style", "text-align:" + m[$]]]);
            const G = t.push("inline", "", 0);
            G.content = p[$] ? p[$].trim() : "",
            G.children = [],
            t.push("td_close", "td", -1)
        }
        t.push("tr_close", "tr", -1)
    }
    return A && (t.push("tbody_close", "tbody", -1),
    A[1] = s),
    t.push("table_close", "table", -1),
    w[1] = s,
    t.parentType = v,
    t.line = s,
    !0
}
function SA(t, e, n) {
    if (t.sCount[e] - t.blkIndent < 4)
        return !1;
    let r = e + 1
      , s = r;
    for (; r < n; ) {
        if (t.isEmpty(r)) {
            r++;
            continue
        }
        if (t.sCount[r] - t.blkIndent >= 4) {
            r++,
            s = r;
            continue
        }
        break
    }
    t.line = s;
    const l = t.push("code_block", "code", 0);
    return l.content = t.getLines(e, s, 4 + t.blkIndent, !1) + `
`,
    l.map = [e, t.line],
    !0
}
function jA(t, e, n, r) {
    let s = t.bMarks[e] + t.tShift[e]
      , l = t.eMarks[e];
    if (t.sCount[e] - t.blkIndent >= 4 || s + 3 > l)
        return !1;
    const o = t.src.charCodeAt(s);
    if (o !== 126 && o !== 96)
        return !1;
    let u = s;
    s = t.skipChars(s, o);
    let f = s - u;
    if (f < 3)
        return !1;
    const p = t.src.slice(u, s)
      , m = t.src.slice(s, l);
    if (o === 96 && m.indexOf(String.fromCharCode(o)) >= 0)
        return !1;
    if (r)
        return !0;
    let g = e
      , v = !1;
    for (; g++,
    !(g >= n || (s = u = t.bMarks[g] + t.tShift[g],
    l = t.eMarks[g],
    s < l && t.sCount[g] < t.blkIndent)); )
        if (t.src.charCodeAt(s) === o && !(t.sCount[g] - t.blkIndent >= 4) && (s = t.skipChars(s, o),
        !(s - u < f) && (s = t.skipSpaces(s),
        !(s < l)))) {
            v = !0;
            break
        }
    f = t.sCount[e],
    t.line = g + (v ? 1 : 0);
    const N = t.push("fence", "code", 0);
    return N.info = m,
    N.content = t.getLines(e + 1, g, f, !0),
    N.markup = p,
    N.map = [e, t.line],
    !0
}
function EA(t, e, n, r) {
    let s = t.bMarks[e] + t.tShift[e]
      , l = t.eMarks[e];
    const o = t.lineMax;
    if (t.sCount[e] - t.blkIndent >= 4 || t.src.charCodeAt(s) !== 62)
        return !1;
    if (r)
        return !0;
    const u = []
      , f = []
      , p = []
      , m = []
      , g = t.md.block.ruler.getRules("blockquote")
      , v = t.parentType;
    t.parentType = "blockquote";
    let N = !1, y;
    for (y = e; y < n; y++) {
        const _ = t.sCount[y] < t.blkIndent;
        if (s = t.bMarks[y] + t.tShift[y],
        l = t.eMarks[y],
        s >= l)
            break;
        if (t.src.charCodeAt(s++) === 62 && !_) {
            let R = t.sCount[y] + 1, $, z;
            t.src.charCodeAt(s) === 32 ? (s++,
            R++,
            z = !1,
            $ = !0) : t.src.charCodeAt(s) === 9 ? ($ = !0,
            (t.bsCount[y] + R) % 4 === 3 ? (s++,
            R++,
            z = !1) : z = !0) : $ = !1;
            let G = R;
            for (u.push(t.bMarks[y]),
            t.bMarks[y] = s; s < l; ) {
                const Y = t.src.charCodeAt(s);
                if (Ge(Y))
                    Y === 9 ? G += 4 - (G + t.bsCount[y] + (z ? 1 : 0)) % 4 : G++;
                else
                    break;
                s++
            }
            N = s >= l,
            f.push(t.bsCount[y]),
            t.bsCount[y] = t.sCount[y] + 1 + ($ ? 1 : 0),
            p.push(t.sCount[y]),
            t.sCount[y] = G - R,
            m.push(t.tShift[y]),
            t.tShift[y] = s - t.bMarks[y];
            continue
        }
        if (N)
            break;
        let O = !1;
        for (let R = 0, $ = g.length; R < $; R++)
            if (g[R](t, y, n, !0)) {
                O = !0;
                break
            }
        if (O) {
            t.lineMax = y,
            t.blkIndent !== 0 && (u.push(t.bMarks[y]),
            f.push(t.bsCount[y]),
            m.push(t.tShift[y]),
            p.push(t.sCount[y]),
            t.sCount[y] -= t.blkIndent);
            break
        }
        u.push(t.bMarks[y]),
        f.push(t.bsCount[y]),
        m.push(t.tShift[y]),
        p.push(t.sCount[y]),
        t.sCount[y] = -1
    }
    const w = t.blkIndent;
    t.blkIndent = 0;
    const C = t.push("blockquote_open", "blockquote", 1);
    C.markup = ">";
    const E = [e, 0];
    C.map = E,
    t.md.block.tokenize(t, e, y);
    const A = t.push("blockquote_close", "blockquote", -1);
    A.markup = ">",
    t.lineMax = o,
    t.parentType = v,
    E[1] = t.line;
    for (let _ = 0; _ < m.length; _++)
        t.bMarks[_ + e] = u[_],
        t.tShift[_ + e] = m[_],
        t.sCount[_ + e] = p[_],
        t.bsCount[_ + e] = f[_];
    return t.blkIndent = w,
    !0
}
function kA(t, e, n, r) {
    const s = t.eMarks[e];
    if (t.sCount[e] - t.blkIndent >= 4)
        return !1;
    let l = t.bMarks[e] + t.tShift[e];
    const o = t.src.charCodeAt(l++);
    if (o !== 42 && o !== 45 && o !== 95)
        return !1;
    let u = 1;
    for (; l < s; ) {
        const p = t.src.charCodeAt(l++);
        if (p !== o && !Ge(p))
            return !1;
        p === o && u++
    }
    if (u < 3)
        return !1;
    if (r)
        return !0;
    t.line = e + 1;
    const f = t.push("hr", "hr", 0);
    return f.map = [e, t.line],
    f.markup = Array(u + 1).join(String.fromCharCode(o)),
    !0
}
function y2(t, e) {
    const n = t.eMarks[e];
    let r = t.bMarks[e] + t.tShift[e];
    const s = t.src.charCodeAt(r++);
    if (s !== 42 && s !== 45 && s !== 43)
        return -1;
    if (r < n) {
        const l = t.src.charCodeAt(r);
        if (!Ge(l))
            return -1
    }
    return r
}
function v2(t, e) {
    const n = t.bMarks[e] + t.tShift[e]
      , r = t.eMarks[e];
    let s = n;
    if (s + 1 >= r)
        return -1;
    let l = t.src.charCodeAt(s++);
    if (l < 48 || l > 57)
        return -1;
    for (; ; ) {
        if (s >= r)
            return -1;
        if (l = t.src.charCodeAt(s++),
        l >= 48 && l <= 57) {
            if (s - n >= 10)
                return -1;
            continue
        }
        if (l === 41 || l === 46)
            break;
        return -1
    }
    return s < r && (l = t.src.charCodeAt(s),
    !Ge(l)) ? -1 : s
}
function AA(t, e) {
    const n = t.level + 2;
    for (let r = e + 2, s = t.tokens.length - 2; r < s; r++)
        t.tokens[r].level === n && t.tokens[r].type === "paragraph_open" && (t.tokens[r + 2].hidden = !0,
        t.tokens[r].hidden = !0,
        r += 2)
}
function _A(t, e, n, r) {
    let s, l, o, u, f = e, p = !0;
    if (t.sCount[f] - t.blkIndent >= 4 || t.listIndent >= 0 && t.sCount[f] - t.listIndent >= 4 && t.sCount[f] < t.blkIndent)
        return !1;
    let m = !1;
    r && t.parentType === "paragraph" && t.sCount[f] >= t.blkIndent && (m = !0);
    let g, v, N;
    if ((N = v2(t, f)) >= 0) {
        if (g = !0,
        o = t.bMarks[f] + t.tShift[f],
        v = Number(t.src.slice(o, N - 1)),
        m && v !== 1)
            return !1
    } else if ((N = y2(t, f)) >= 0)
        g = !1;
    else
        return !1;
    if (m && t.skipSpaces(N) >= t.eMarks[f])
        return !1;
    if (r)
        return !0;
    const y = t.src.charCodeAt(N - 1)
      , w = t.tokens.length;
    g ? (u = t.push("ordered_list_open", "ol", 1),
    v !== 1 && (u.attrs = [["start", v]])) : u = t.push("bullet_list_open", "ul", 1);
    const C = [f, 0];
    u.map = C,
    u.markup = String.fromCharCode(y);
    let E = !1;
    const A = t.md.block.ruler.getRules("list")
      , _ = t.parentType;
    for (t.parentType = "list"; f < n; ) {
        l = N,
        s = t.eMarks[f];
        const O = t.sCount[f] + N - (t.bMarks[f] + t.tShift[f]);
        let R = O;
        for (; l < s; ) {
            const Ue = t.src.charCodeAt(l);
            if (Ue === 9)
                R += 4 - (R + t.bsCount[f]) % 4;
            else if (Ue === 32)
                R++;
            else
                break;
            l++
        }
        const $ = l;
        let z;
        $ >= s ? z = 1 : z = R - O,
        z > 4 && (z = 1);
        const G = O + z;
        u = t.push("list_item_open", "li", 1),
        u.markup = String.fromCharCode(y);
        const Y = [f, 0];
        u.map = Y,
        g && (u.info = t.src.slice(o, N - 1));
        const pe = t.tight
          , Te = t.tShift[f]
          , le = t.sCount[f]
          , Ce = t.listIndent;
        if (t.listIndent = t.blkIndent,
        t.blkIndent = G,
        t.tight = !0,
        t.tShift[f] = $ - t.bMarks[f],
        t.sCount[f] = R,
        $ >= s && t.isEmpty(f + 1) ? t.line = Math.min(t.line + 2, n) : t.md.block.tokenize(t, f, n, !0),
        (!t.tight || E) && (p = !1),
        E = t.line - f > 1 && t.isEmpty(t.line - 1),
        t.blkIndent = t.listIndent,
        t.listIndent = Ce,
        t.tShift[f] = Te,
        t.sCount[f] = le,
        t.tight = pe,
        u = t.push("list_item_close", "li", -1),
        u.markup = String.fromCharCode(y),
        f = t.line,
        Y[1] = f,
        f >= n || t.sCount[f] < t.blkIndent || t.sCount[f] - t.blkIndent >= 4)
            break;
        let Le = !1;
        for (let Ue = 0, q = A.length; Ue < q; Ue++)
            if (A[Ue](t, f, n, !0)) {
                Le = !0;
                break
            }
        if (Le)
            break;
        if (g) {
            if (N = v2(t, f),
            N < 0)
                break;
            o = t.bMarks[f] + t.tShift[f]
        } else if (N = y2(t, f),
        N < 0)
            break;
        if (y !== t.src.charCodeAt(N - 1))
            break
    }
    return g ? u = t.push("ordered_list_close", "ol", -1) : u = t.push("bullet_list_close", "ul", -1),
    u.markup = String.fromCharCode(y),
    C[1] = f,
    t.line = f,
    t.parentType = _,
    p && AA(t, w),
    !0
}
function TA(t, e, n, r) {
    let s = t.bMarks[e] + t.tShift[e]
      , l = t.eMarks[e]
      , o = e + 1;
    if (t.sCount[e] - t.blkIndent >= 4 || t.src.charCodeAt(s) !== 91)
        return !1;
    function u(A) {
        const _ = t.lineMax;
        if (A >= _ || t.isEmpty(A))
            return null;
        let O = !1;
        if (t.sCount[A] - t.blkIndent > 3 && (O = !0),
        t.sCount[A] < 0 && (O = !0),
        !O) {
            const z = t.md.block.ruler.getRules("reference")
              , G = t.parentType;
            t.parentType = "reference";
            let Y = !1;
            for (let pe = 0, Te = z.length; pe < Te; pe++)
                if (z[pe](t, A, _, !0)) {
                    Y = !0;
                    break
                }
            if (t.parentType = G,
            Y)
                return null
        }
        const R = t.bMarks[A] + t.tShift[A]
          , $ = t.eMarks[A];
        return t.src.slice(R, $ + 1)
    }
    let f = t.src.slice(s, l + 1);
    l = f.length;
    let p = -1;
    for (s = 1; s < l; s++) {
        const A = f.charCodeAt(s);
        if (A === 91)
            return !1;
        if (A === 93) {
            p = s;
            break
        } else if (A === 10) {
            const _ = u(o);
            _ !== null && (f += _,
            l = f.length,
            o++)
        } else if (A === 92 && (s++,
        s < l && f.charCodeAt(s) === 10)) {
            const _ = u(o);
            _ !== null && (f += _,
            l = f.length,
            o++)
        }
    }
    if (p < 0 || f.charCodeAt(p + 1) !== 58)
        return !1;
    for (s = p + 2; s < l; s++) {
        const A = f.charCodeAt(s);
        if (A === 10) {
            const _ = u(o);
            _ !== null && (f += _,
            l = f.length,
            o++)
        } else if (!Ge(A))
            break
    }
    const m = t.md.helpers.parseLinkDestination(f, s, l);
    if (!m.ok)
        return !1;
    const g = t.md.normalizeLink(m.str);
    if (!t.md.validateLink(g))
        return !1;
    s = m.pos;
    const v = s
      , N = o
      , y = s;
    for (; s < l; s++) {
        const A = f.charCodeAt(s);
        if (A === 10) {
            const _ = u(o);
            _ !== null && (f += _,
            l = f.length,
            o++)
        } else if (!Ge(A))
            break
    }
    let w = t.md.helpers.parseLinkTitle(f, s, l);
    for (; w.can_continue; ) {
        const A = u(o);
        if (A === null)
            break;
        f += A,
        s = l,
        l = f.length,
        o++,
        w = t.md.helpers.parseLinkTitle(f, s, l, w)
    }
    let C;
    for (s < l && y !== s && w.ok ? (C = w.str,
    s = w.pos) : (C = "",
    s = v,
    o = N); s < l; ) {
        const A = f.charCodeAt(s);
        if (!Ge(A))
            break;
        s++
    }
    if (s < l && f.charCodeAt(s) !== 10 && C)
        for (C = "",
        s = v,
        o = N; s < l; ) {
            const A = f.charCodeAt(s);
            if (!Ge(A))
                break;
            s++
        }
    if (s < l && f.charCodeAt(s) !== 10)
        return !1;
    const E = Id(f.slice(1, p));
    return E ? (r || (typeof t.env.references > "u" && (t.env.references = {}),
    typeof t.env.references[E] > "u" && (t.env.references[E] = {
        title: C,
        href: g
    }),
    t.line = o),
    !0) : !1
}
const DA = ["address", "article", "aside", "base", "basefont", "blockquote", "body", "caption", "center", "col", "colgroup", "dd", "details", "dialog", "dir", "div", "dl", "dt", "fieldset", "figcaption", "figure", "footer", "form", "frame", "frameset", "h1", "h2", "h3", "h4", "h5", "h6", "head", "header", "hr", "html", "iframe", "legend", "li", "link", "main", "menu", "menuitem", "nav", "noframes", "ol", "optgroup", "option", "p", "param", "search", "section", "summary", "table", "tbody", "td", "tfoot", "th", "thead", "title", "tr", "track", "ul"]
  , MA = "[a-zA-Z_:][a-zA-Z0-9:._-]*"
  , OA = "[^\"'=<>`\\x00-\\x20]+"
  , RA = "'[^']*'"
  , zA = '"[^"]*"'
  , LA = "(?:" + OA + "|" + RA + "|" + zA + ")"
  , BA = "(?:\\s+" + MA + "(?:\\s*=\\s*" + LA + ")?)"
  , m6 = "<[A-Za-z][A-Za-z0-9\\-]*" + BA + "*\\s*\\/?>"
  , g6 = "<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>"
  , FA = "<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->"
  , HA = "<[?][\\s\\S]*?[?]>"
  , UA = "<![A-Za-z][^>]*>"
  , qA = "<!\\[CDATA\\[[\\s\\S]*?\\]\\]>"
  , IA = new RegExp("^(?:" + m6 + "|" + g6 + "|" + FA + "|" + HA + "|" + UA + "|" + qA + ")")
  , $A = new RegExp("^(?:" + m6 + "|" + g6 + ")")
  , yl = [[/^<(script|pre|style|textarea)(?=(\s|>|$))/i, /<\/(script|pre|style|textarea)>/i, !0], [/^<!--/, /-->/, !0], [/^<\?/, /\?>/, !0], [/^<![A-Z]/, />/, !0], [/^<!\[CDATA\[/, /\]\]>/, !0], [new RegExp("^</?(" + DA.join("|") + ")(?=(\\s|/?>|$))","i"), /^$/, !0], [new RegExp($A.source + "\\s*$"), /^$/, !1]];
function PA(t, e, n, r) {
    let s = t.bMarks[e] + t.tShift[e]
      , l = t.eMarks[e];
    if (t.sCount[e] - t.blkIndent >= 4 || !t.md.options.html || t.src.charCodeAt(s) !== 60)
        return !1;
    let o = t.src.slice(s, l)
      , u = 0;
    for (; u < yl.length && !yl[u][0].test(o); u++)
        ;
    if (u === yl.length)
        return !1;
    if (r)
        return yl[u][2];
    let f = e + 1;
    if (!yl[u][1].test(o)) {
        for (; f < n && !(t.sCount[f] < t.blkIndent); f++)
            if (s = t.bMarks[f] + t.tShift[f],
            l = t.eMarks[f],
            o = t.src.slice(s, l),
            yl[u][1].test(o)) {
                o.length !== 0 && f++;
                break
            }
    }
    t.line = f;
    const p = t.push("html_block", "", 0);
    return p.map = [e, f],
    p.content = t.getLines(e, f, t.blkIndent, !0),
    !0
}
function VA(t, e, n, r) {
    let s = t.bMarks[e] + t.tShift[e]
      , l = t.eMarks[e];
    if (t.sCount[e] - t.blkIndent >= 4)
        return !1;
    let o = t.src.charCodeAt(s);
    if (o !== 35 || s >= l)
        return !1;
    let u = 1;
    for (o = t.src.charCodeAt(++s); o === 35 && s < l && u <= 6; )
        u++,
        o = t.src.charCodeAt(++s);
    if (u > 6 || s < l && !Ge(o))
        return !1;
    if (r)
        return !0;
    l = t.skipSpacesBack(l, s);
    const f = t.skipCharsBack(l, 35, s);
    f > s && Ge(t.src.charCodeAt(f - 1)) && (l = f),
    t.line = e + 1;
    const p = t.push("heading_open", "h" + String(u), 1);
    p.markup = "########".slice(0, u),
    p.map = [e, t.line];
    const m = t.push("inline", "", 0);
    m.content = t.src.slice(s, l).trim(),
    m.map = [e, t.line],
    m.children = [];
    const g = t.push("heading_close", "h" + String(u), -1);
    return g.markup = "########".slice(0, u),
    !0
}
function GA(t, e, n) {
    const r = t.md.block.ruler.getRules("paragraph");
    if (t.sCount[e] - t.blkIndent >= 4)
        return !1;
    const s = t.parentType;
    t.parentType = "paragraph";
    let l = 0, o, u = e + 1;
    for (; u < n && !t.isEmpty(u); u++) {
        if (t.sCount[u] - t.blkIndent > 3)
            continue;
        if (t.sCount[u] >= t.blkIndent) {
            let N = t.bMarks[u] + t.tShift[u];
            const y = t.eMarks[u];
            if (N < y && (o = t.src.charCodeAt(N),
            (o === 45 || o === 61) && (N = t.skipChars(N, o),
            N = t.skipSpaces(N),
            N >= y))) {
                l = o === 61 ? 1 : 2;
                break
            }
        }
        if (t.sCount[u] < 0)
            continue;
        let v = !1;
        for (let N = 0, y = r.length; N < y; N++)
            if (r[N](t, u, n, !0)) {
                v = !0;
                break
            }
        if (v)
            break
    }
    if (!l)
        return !1;
    const f = t.getLines(e, u, t.blkIndent, !1).trim();
    t.line = u + 1;
    const p = t.push("heading_open", "h" + String(l), 1);
    p.markup = String.fromCharCode(o),
    p.map = [e, t.line];
    const m = t.push("inline", "", 0);
    m.content = f,
    m.map = [e, t.line - 1],
    m.children = [];
    const g = t.push("heading_close", "h" + String(l), -1);
    return g.markup = String.fromCharCode(o),
    t.parentType = s,
    !0
}
function KA(t, e, n) {
    const r = t.md.block.ruler.getRules("paragraph")
      , s = t.parentType;
    let l = e + 1;
    for (t.parentType = "paragraph"; l < n && !t.isEmpty(l); l++) {
        if (t.sCount[l] - t.blkIndent > 3 || t.sCount[l] < 0)
            continue;
        let p = !1;
        for (let m = 0, g = r.length; m < g; m++)
            if (r[m](t, l, n, !0)) {
                p = !0;
                break
            }
        if (p)
            break
    }
    const o = t.getLines(e, l, t.blkIndent, !1).trim();
    t.line = l;
    const u = t.push("paragraph_open", "p", 1);
    u.map = [e, t.line];
    const f = t.push("inline", "", 0);
    return f.content = o,
    f.map = [e, t.line],
    f.children = [],
    t.push("paragraph_close", "p", -1),
    t.parentType = s,
    !0
}
const lc = [["table", CA, ["paragraph", "reference"]], ["code", SA], ["fence", jA, ["paragraph", "reference", "blockquote", "list"]], ["blockquote", EA, ["paragraph", "reference", "blockquote", "list"]], ["hr", kA, ["paragraph", "reference", "blockquote", "list"]], ["list", _A, ["paragraph", "reference", "blockquote"]], ["reference", TA], ["html_block", PA, ["paragraph", "reference", "blockquote"]], ["heading", VA, ["paragraph", "reference", "blockquote"]], ["lheading", GA], ["paragraph", KA]];
function $d() {
    this.ruler = new un;
    for (let t = 0; t < lc.length; t++)
        this.ruler.push(lc[t][0], lc[t][1], {
            alt: (lc[t][2] || []).slice()
        })
}
$d.prototype.tokenize = function(t, e, n) {
    const r = this.ruler.getRules("")
      , s = r.length
      , l = t.md.options.maxNesting;
    let o = e
      , u = !1;
    for (; o < n && (t.line = o = t.skipEmptyLines(o),
    !(o >= n || t.sCount[o] < t.blkIndent)); ) {
        if (t.level >= l) {
            t.line = n;
            break
        }
        const f = t.line;
        let p = !1;
        for (let m = 0; m < s; m++)
            if (p = r[m](t, o, n, !1),
            p) {
                if (f >= t.line)
                    throw new Error("block rule didn't increment state.line");
                break
            }
        if (!p)
            throw new Error("none of the block rules matched");
        t.tight = !u,
        t.isEmpty(t.line - 1) && (u = !0),
        o = t.line,
        o < n && t.isEmpty(o) && (u = !0,
        o++,
        t.line = o)
    }
}
;
$d.prototype.parse = function(t, e, n, r) {
    if (!t)
        return;
    const s = new this.State(t,e,n,r);
    this.tokenize(s, s.line, s.lineMax)
}
;
$d.prototype.State = gr;
function Oo(t, e, n, r) {
    this.src = t,
    this.env = n,
    this.md = e,
    this.tokens = r,
    this.tokens_meta = Array(r.length),
    this.pos = 0,
    this.posMax = this.src.length,
    this.level = 0,
    this.pending = "",
    this.pendingLevel = 0,
    this.cache = {},
    this.delimiters = [],
    this._prev_delimiters = [],
    this.backticks = {},
    this.backticksScanned = !1,
    this.linkLevel = 0
}
Oo.prototype.pushPending = function() {
    const t = new Qn("text","",0);
    return t.content = this.pending,
    t.level = this.pendingLevel,
    this.tokens.push(t),
    this.pending = "",
    t
}
;
Oo.prototype.push = function(t, e, n) {
    this.pending && this.pushPending();
    const r = new Qn(t,e,n);
    let s = null;
    return n < 0 && (this.level--,
    this.delimiters = this._prev_delimiters.pop()),
    r.level = this.level,
    n > 0 && (this.level++,
    this._prev_delimiters.push(this.delimiters),
    this.delimiters = [],
    s = {
        delimiters: this.delimiters
    }),
    this.pendingLevel = this.level,
    this.tokens.push(r),
    this.tokens_meta.push(s),
    r
}
;
Oo.prototype.scanDelims = function(t, e) {
    const n = this.posMax
      , r = this.src.charCodeAt(t)
      , s = t > 0 ? this.src.charCodeAt(t - 1) : 32;
    let l = t;
    for (; l < n && this.src.charCodeAt(l) === r; )
        l++;
    const o = l - t
      , u = l < n ? this.src.charCodeAt(l) : 32
      , f = ao(s) || lo(String.fromCharCode(s))
      , p = ao(u) || lo(String.fromCharCode(u))
      , m = io(s)
      , g = io(u)
      , v = !g && (!p || m || f)
      , N = !m && (!f || g || p);
    return {
        can_open: v && (e || !N || f),
        can_close: N && (e || !v || p),
        length: o
    }
}
;
Oo.prototype.Token = Qn;
function YA(t) {
    switch (t) {
    case 10:
    case 33:
    case 35:
    case 36:
    case 37:
    case 38:
    case 42:
    case 43:
    case 45:
    case 58:
    case 60:
    case 61:
    case 62:
    case 64:
    case 91:
    case 92:
    case 93:
    case 94:
    case 95:
    case 96:
    case 123:
    case 125:
    case 126:
        return !0;
    default:
        return !1
    }
}
function JA(t, e) {
    let n = t.pos;
    for (; n < t.posMax && !YA(t.src.charCodeAt(n)); )
        n++;
    return n === t.pos ? !1 : (e || (t.pending += t.src.slice(t.pos, n)),
    t.pos = n,
    !0)
}
const XA = /(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;
function QA(t, e) {
    if (!t.md.options.linkify || t.linkLevel > 0)
        return !1;
    const n = t.pos
      , r = t.posMax;
    if (n + 3 > r || t.src.charCodeAt(n) !== 58 || t.src.charCodeAt(n + 1) !== 47 || t.src.charCodeAt(n + 2) !== 47)
        return !1;
    const s = t.pending.match(XA);
    if (!s)
        return !1;
    const l = s[1]
      , o = t.md.linkify.matchAtStart(t.src.slice(n - l.length));
    if (!o)
        return !1;
    let u = o.url;
    if (u.length <= l.length)
        return !1;
    u = u.replace(/\*+$/, "");
    const f = t.md.normalizeLink(u);
    if (!t.md.validateLink(f))
        return !1;
    if (!e) {
        t.pending = t.pending.slice(0, -l.length);
        const p = t.push("link_open", "a", 1);
        p.attrs = [["href", f]],
        p.markup = "linkify",
        p.info = "auto";
        const m = t.push("text", "", 0);
        m.content = t.md.normalizeLinkText(u);
        const g = t.push("link_close", "a", -1);
        g.markup = "linkify",
        g.info = "auto"
    }
    return t.pos += u.length - l.length,
    !0
}
function ZA(t, e) {
    let n = t.pos;
    if (t.src.charCodeAt(n) !== 10)
        return !1;
    const r = t.pending.length - 1
      , s = t.posMax;
    if (!e)
        if (r >= 0 && t.pending.charCodeAt(r) === 32)
            if (r >= 1 && t.pending.charCodeAt(r - 1) === 32) {
                let l = r - 1;
                for (; l >= 1 && t.pending.charCodeAt(l - 1) === 32; )
                    l--;
                t.pending = t.pending.slice(0, l),
                t.push("hardbreak", "br", 0)
            } else
                t.pending = t.pending.slice(0, -1),
                t.push("softbreak", "br", 0);
        else
            t.push("softbreak", "br", 0);
    for (n++; n < s && Ge(t.src.charCodeAt(n)); )
        n++;
    return t.pos = n,
    !0
}
const Bm = [];
for (let t = 0; t < 256; t++)
    Bm.push(0);
"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t) {
    Bm[t.charCodeAt(0)] = 1
});
function WA(t, e) {
    let n = t.pos;
    const r = t.posMax;
    if (t.src.charCodeAt(n) !== 92 || (n++,
    n >= r))
        return !1;
    let s = t.src.charCodeAt(n);
    if (s === 10) {
        for (e || t.push("hardbreak", "br", 0),
        n++; n < r && (s = t.src.charCodeAt(n),
        !!Ge(s)); )
            n++;
        return t.pos = n,
        !0
    }
    let l = t.src[n];
    if (s >= 55296 && s <= 56319 && n + 1 < r) {
        const u = t.src.charCodeAt(n + 1);
        u >= 56320 && u <= 57343 && (l += t.src[n + 1],
        n++)
    }
    const o = "\\" + l;
    if (!e) {
        const u = t.push("text_special", "", 0);
        s < 256 && Bm[s] !== 0 ? u.content = l : u.content = o,
        u.markup = o,
        u.info = "escape"
    }
    return t.pos = n + 1,
    !0
}
function e_(t, e) {
    let n = t.pos;
    if (t.src.charCodeAt(n) !== 96)
        return !1;
    const s = n;
    n++;
    const l = t.posMax;
    for (; n < l && t.src.charCodeAt(n) === 96; )
        n++;
    const o = t.src.slice(s, n)
      , u = o.length;
    if (t.backticksScanned && (t.backticks[u] || 0) <= s)
        return e || (t.pending += o),
        t.pos += u,
        !0;
    let f = n, p;
    for (; (p = t.src.indexOf("`", f)) !== -1; ) {
        for (f = p + 1; f < l && t.src.charCodeAt(f) === 96; )
            f++;
        const m = f - p;
        if (m === u) {
            if (!e) {
                const g = t.push("code_inline", "code", 0);
                g.markup = o,
                g.content = t.src.slice(n, p).replace(/\n/g, " ").replace(/^ (.+) $/, "$1")
            }
            return t.pos = f,
            !0
        }
        t.backticks[m] = p
    }
    return t.backticksScanned = !0,
    e || (t.pending += o),
    t.pos += u,
    !0
}
function t_(t, e) {
    const n = t.pos
      , r = t.src.charCodeAt(n);
    if (e || r !== 126)
        return !1;
    const s = t.scanDelims(t.pos, !0);
    let l = s.length;
    const o = String.fromCharCode(r);
    if (l < 2)
        return !1;
    let u;
    l % 2 && (u = t.push("text", "", 0),
    u.content = o,
    l--);
    for (let f = 0; f < l; f += 2)
        u = t.push("text", "", 0),
        u.content = o + o,
        t.delimiters.push({
            marker: r,
            length: 0,
            token: t.tokens.length - 1,
            end: -1,
            open: s.can_open,
            close: s.can_close
        });
    return t.pos += s.length,
    !0
}
function N2(t, e) {
    let n;
    const r = []
      , s = e.length;
    for (let l = 0; l < s; l++) {
        const o = e[l];
        if (o.marker !== 126 || o.end === -1)
            continue;
        const u = e[o.end];
        n = t.tokens[o.token],
        n.type = "s_open",
        n.tag = "s",
        n.nesting = 1,
        n.markup = "~~",
        n.content = "",
        n = t.tokens[u.token],
        n.type = "s_close",
        n.tag = "s",
        n.nesting = -1,
        n.markup = "~~",
        n.content = "",
        t.tokens[u.token - 1].type === "text" && t.tokens[u.token - 1].content === "~" && r.push(u.token - 1)
    }
    for (; r.length; ) {
        const l = r.pop();
        let o = l + 1;
        for (; o < t.tokens.length && t.tokens[o].type === "s_close"; )
            o++;
        o--,
        l !== o && (n = t.tokens[o],
        t.tokens[o] = t.tokens[l],
        t.tokens[l] = n)
    }
}
function n_(t) {
    const e = t.tokens_meta
      , n = t.tokens_meta.length;
    N2(t, t.delimiters);
    for (let r = 0; r < n; r++)
        e[r] && e[r].delimiters && N2(t, e[r].delimiters)
}
const x6 = {
    tokenize: t_,
    postProcess: n_
};
function r_(t, e) {
    const n = t.pos
      , r = t.src.charCodeAt(n);
    if (e || r !== 95 && r !== 42)
        return !1;
    const s = t.scanDelims(t.pos, r === 42);
    for (let l = 0; l < s.length; l++) {
        const o = t.push("text", "", 0);
        o.content = String.fromCharCode(r),
        t.delimiters.push({
            marker: r,
            length: s.length,
            token: t.tokens.length - 1,
            end: -1,
            open: s.can_open,
            close: s.can_close
        })
    }
    return t.pos += s.length,
    !0
}
function w2(t, e) {
    const n = e.length;
    for (let r = n - 1; r >= 0; r--) {
        const s = e[r];
        if (s.marker !== 95 && s.marker !== 42 || s.end === -1)
            continue;
        const l = e[s.end]
          , o = r > 0 && e[r - 1].end === s.end + 1 && e[r - 1].marker === s.marker && e[r - 1].token === s.token - 1 && e[s.end + 1].token === l.token + 1
          , u = String.fromCharCode(s.marker)
          , f = t.tokens[s.token];
        f.type = o ? "strong_open" : "em_open",
        f.tag = o ? "strong" : "em",
        f.nesting = 1,
        f.markup = o ? u + u : u,
        f.content = "";
        const p = t.tokens[l.token];
        p.type = o ? "strong_close" : "em_close",
        p.tag = o ? "strong" : "em",
        p.nesting = -1,
        p.markup = o ? u + u : u,
        p.content = "",
        o && (t.tokens[e[r - 1].token].content = "",
        t.tokens[e[s.end + 1].token].content = "",
        r--)
    }
}
function s_(t) {
    const e = t.tokens_meta
      , n = t.tokens_meta.length;
    w2(t, t.delimiters);
    for (let r = 0; r < n; r++)
        e[r] && e[r].delimiters && w2(t, e[r].delimiters)
}
const b6 = {
    tokenize: r_,
    postProcess: s_
};
function i_(t, e) {
    let n, r, s, l, o = "", u = "", f = t.pos, p = !0;
    if (t.src.charCodeAt(t.pos) !== 91)
        return !1;
    const m = t.pos
      , g = t.posMax
      , v = t.pos + 1
      , N = t.md.helpers.parseLinkLabel(t, t.pos, !0);
    if (N < 0)
        return !1;
    let y = N + 1;
    if (y < g && t.src.charCodeAt(y) === 40) {
        for (p = !1,
        y++; y < g && (n = t.src.charCodeAt(y),
        !(!Ge(n) && n !== 10)); y++)
            ;
        if (y >= g)
            return !1;
        if (f = y,
        s = t.md.helpers.parseLinkDestination(t.src, y, t.posMax),
        s.ok) {
            for (o = t.md.normalizeLink(s.str),
            t.md.validateLink(o) ? y = s.pos : o = "",
            f = y; y < g && (n = t.src.charCodeAt(y),
            !(!Ge(n) && n !== 10)); y++)
                ;
            if (s = t.md.helpers.parseLinkTitle(t.src, y, t.posMax),
            y < g && f !== y && s.ok)
                for (u = s.str,
                y = s.pos; y < g && (n = t.src.charCodeAt(y),
                !(!Ge(n) && n !== 10)); y++)
                    ;
        }
        (y >= g || t.src.charCodeAt(y) !== 41) && (p = !0),
        y++
    }
    if (p) {
        if (typeof t.env.references > "u")
            return !1;
        if (y < g && t.src.charCodeAt(y) === 91 ? (f = y + 1,
        y = t.md.helpers.parseLinkLabel(t, y),
        y >= 0 ? r = t.src.slice(f, y++) : y = N + 1) : y = N + 1,
        r || (r = t.src.slice(v, N)),
        l = t.env.references[Id(r)],
        !l)
            return t.pos = m,
            !1;
        o = l.href,
        u = l.title
    }
    if (!e) {
        t.pos = v,
        t.posMax = N;
        const w = t.push("link_open", "a", 1)
          , C = [["href", o]];
        w.attrs = C,
        u && C.push(["title", u]),
        t.linkLevel++,
        t.md.inline.tokenize(t),
        t.linkLevel--,
        t.push("link_close", "a", -1)
    }
    return t.pos = y,
    t.posMax = g,
    !0
}
function l_(t, e) {
    let n, r, s, l, o, u, f, p, m = "";
    const g = t.pos
      , v = t.posMax;
    if (t.src.charCodeAt(t.pos) !== 33 || t.src.charCodeAt(t.pos + 1) !== 91)
        return !1;
    const N = t.pos + 2
      , y = t.md.helpers.parseLinkLabel(t, t.pos + 1, !1);
    if (y < 0)
        return !1;
    if (l = y + 1,
    l < v && t.src.charCodeAt(l) === 40) {
        for (l++; l < v && (n = t.src.charCodeAt(l),
        !(!Ge(n) && n !== 10)); l++)
            ;
        if (l >= v)
            return !1;
        for (p = l,
        u = t.md.helpers.parseLinkDestination(t.src, l, t.posMax),
        u.ok && (m = t.md.normalizeLink(u.str),
        t.md.validateLink(m) ? l = u.pos : m = ""),
        p = l; l < v && (n = t.src.charCodeAt(l),
        !(!Ge(n) && n !== 10)); l++)
            ;
        if (u = t.md.helpers.parseLinkTitle(t.src, l, t.posMax),
        l < v && p !== l && u.ok)
            for (f = u.str,
            l = u.pos; l < v && (n = t.src.charCodeAt(l),
            !(!Ge(n) && n !== 10)); l++)
                ;
        else
            f = "";
        if (l >= v || t.src.charCodeAt(l) !== 41)
            return t.pos = g,
            !1;
        l++
    } else {
        if (typeof t.env.references > "u")
            return !1;
        if (l < v && t.src.charCodeAt(l) === 91 ? (p = l + 1,
        l = t.md.helpers.parseLinkLabel(t, l),
        l >= 0 ? s = t.src.slice(p, l++) : l = y + 1) : l = y + 1,
        s || (s = t.src.slice(N, y)),
        o = t.env.references[Id(s)],
        !o)
            return t.pos = g,
            !1;
        m = o.href,
        f = o.title
    }
    if (!e) {
        r = t.src.slice(N, y);
        const w = [];
        t.md.inline.parse(r, t.md, t.env, w);
        const C = t.push("image", "img", 0)
          , E = [["src", m], ["alt", ""]];
        C.attrs = E,
        C.children = w,
        C.content = r,
        f && E.push(["title", f])
    }
    return t.pos = l,
    t.posMax = v,
    !0
}
const a_ = /^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/
  , o_ = /^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;
function u_(t, e) {
    let n = t.pos;
    if (t.src.charCodeAt(n) !== 60)
        return !1;
    const r = t.pos
      , s = t.posMax;
    for (; ; ) {
        if (++n >= s)
            return !1;
        const o = t.src.charCodeAt(n);
        if (o === 60)
            return !1;
        if (o === 62)
            break
    }
    const l = t.src.slice(r + 1, n);
    if (o_.test(l)) {
        const o = t.md.normalizeLink(l);
        if (!t.md.validateLink(o))
            return !1;
        if (!e) {
            const u = t.push("link_open", "a", 1);
            u.attrs = [["href", o]],
            u.markup = "autolink",
            u.info = "auto";
            const f = t.push("text", "", 0);
            f.content = t.md.normalizeLinkText(l);
            const p = t.push("link_close", "a", -1);
            p.markup = "autolink",
            p.info = "auto"
        }
        return t.pos += l.length + 2,
        !0
    }
    if (a_.test(l)) {
        const o = t.md.normalizeLink("mailto:" + l);
        if (!t.md.validateLink(o))
            return !1;
        if (!e) {
            const u = t.push("link_open", "a", 1);
            u.attrs = [["href", o]],
            u.markup = "autolink",
            u.info = "auto";
            const f = t.push("text", "", 0);
            f.content = t.md.normalizeLinkText(l);
            const p = t.push("link_close", "a", -1);
            p.markup = "autolink",
            p.info = "auto"
        }
        return t.pos += l.length + 2,
        !0
    }
    return !1
}
function c_(t) {
    return /^<a[>\s]/i.test(t)
}
function d_(t) {
    return /^<\/a\s*>/i.test(t)
}
function f_(t) {
    const e = t | 32;
    return e >= 97 && e <= 122
}
function h_(t, e) {
    if (!t.md.options.html)
        return !1;
    const n = t.posMax
      , r = t.pos;
    if (t.src.charCodeAt(r) !== 60 || r + 2 >= n)
        return !1;
    const s = t.src.charCodeAt(r + 1);
    if (s !== 33 && s !== 63 && s !== 47 && !f_(s))
        return !1;
    const l = t.src.slice(r).match(IA);
    if (!l)
        return !1;
    if (!e) {
        const o = t.push("html_inline", "", 0);
        o.content = l[0],
        c_(o.content) && t.linkLevel++,
        d_(o.content) && t.linkLevel--
    }
    return t.pos += l[0].length,
    !0
}
const p_ = /^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i
  , m_ = /^&([a-z][a-z0-9]{1,31});/i;
function g_(t, e) {
    const n = t.pos
      , r = t.posMax;
    if (t.src.charCodeAt(n) !== 38 || n + 1 >= r)
        return !1;
    if (t.src.charCodeAt(n + 1) === 35) {
        const l = t.src.slice(n).match(p_);
        if (l) {
            if (!e) {
                const o = l[1][0].toLowerCase() === "x" ? parseInt(l[1].slice(1), 16) : parseInt(l[1], 10)
                  , u = t.push("text_special", "", 0);
                u.content = zm(o) ? Uc(o) : Uc(65533),
                u.markup = l[0],
                u.info = "entity"
            }
            return t.pos += l[0].length,
            !0
        }
    } else {
        const l = t.src.slice(n).match(m_);
        if (l) {
            const o = c6(l[0]);
            if (o !== l[0]) {
                if (!e) {
                    const u = t.push("text_special", "", 0);
                    u.content = o,
                    u.markup = l[0],
                    u.info = "entity"
                }
                return t.pos += l[0].length,
                !0
            }
        }
    }
    return !1
}
function C2(t) {
    const e = {}
      , n = t.length;
    if (!n)
        return;
    let r = 0
      , s = -2;
    const l = [];
    for (let o = 0; o < n; o++) {
        const u = t[o];
        if (l.push(0),
        (t[r].marker !== u.marker || s !== u.token - 1) && (r = o),
        s = u.token,
        u.length = u.length || 0,
        !u.close)
            continue;
        e.hasOwnProperty(u.marker) || (e[u.marker] = [-1, -1, -1, -1, -1, -1]);
        const f = e[u.marker][(u.open ? 3 : 0) + u.length % 3];
        let p = r - l[r] - 1
          , m = p;
        for (; p > f; p -= l[p] + 1) {
            const g = t[p];
            if (g.marker === u.marker && g.open && g.end < 0) {
                let v = !1;
                if ((g.close || u.open) && (g.length + u.length) % 3 === 0 && (g.length % 3 !== 0 || u.length % 3 !== 0) && (v = !0),
                !v) {
                    const N = p > 0 && !t[p - 1].open ? l[p - 1] + 1 : 0;
                    l[o] = o - p + N,
                    l[p] = N,
                    u.open = !1,
                    g.end = o,
                    g.close = !1,
                    m = -1,
                    s = -2;
                    break
                }
            }
        }
        m !== -1 && (e[u.marker][(u.open ? 3 : 0) + (u.length || 0) % 3] = m)
    }
}
function x_(t) {
    const e = t.tokens_meta
      , n = t.tokens_meta.length;
    C2(t.delimiters);
    for (let r = 0; r < n; r++)
        e[r] && e[r].delimiters && C2(e[r].delimiters)
}
function b_(t) {
    let e, n, r = 0;
    const s = t.tokens
      , l = t.tokens.length;
    for (e = n = 0; e < l; e++)
        s[e].nesting < 0 && r--,
        s[e].level = r,
        s[e].nesting > 0 && r++,
        s[e].type === "text" && e + 1 < l && s[e + 1].type === "text" ? s[e + 1].content = s[e].content + s[e + 1].content : (e !== n && (s[n] = s[e]),
        n++);
    e !== n && (s.length = n)
}
const I0 = [["text", JA], ["linkify", QA], ["newline", ZA], ["escape", WA], ["backticks", e_], ["strikethrough", x6.tokenize], ["emphasis", b6.tokenize], ["link", i_], ["image", l_], ["autolink", u_], ["html_inline", h_], ["entity", g_]]
  , $0 = [["balance_pairs", x_], ["strikethrough", x6.postProcess], ["emphasis", b6.postProcess], ["fragments_join", b_]];
function Ro() {
    this.ruler = new un;
    for (let t = 0; t < I0.length; t++)
        this.ruler.push(I0[t][0], I0[t][1]);
    this.ruler2 = new un;
    for (let t = 0; t < $0.length; t++)
        this.ruler2.push($0[t][0], $0[t][1])
}
Ro.prototype.skipToken = function(t) {
    const e = t.pos
      , n = this.ruler.getRules("")
      , r = n.length
      , s = t.md.options.maxNesting
      , l = t.cache;
    if (typeof l[e] < "u") {
        t.pos = l[e];
        return
    }
    let o = !1;
    if (t.level < s) {
        for (let u = 0; u < r; u++)
            if (t.level++,
            o = n[u](t, !0),
            t.level--,
            o) {
                if (e >= t.pos)
                    throw new Error("inline rule didn't increment state.pos");
                break
            }
    } else
        t.pos = t.posMax;
    o || t.pos++,
    l[e] = t.pos
}
;
Ro.prototype.tokenize = function(t) {
    const e = this.ruler.getRules("")
      , n = e.length
      , r = t.posMax
      , s = t.md.options.maxNesting;
    for (; t.pos < r; ) {
        const l = t.pos;
        let o = !1;
        if (t.level < s) {
            for (let u = 0; u < n; u++)
                if (o = e[u](t, !1),
                o) {
                    if (l >= t.pos)
                        throw new Error("inline rule didn't increment state.pos");
                    break
                }
        }
        if (o) {
            if (t.pos >= r)
                break;
            continue
        }
        t.pending += t.src[t.pos++]
    }
    t.pending && t.pushPending()
}
;
Ro.prototype.parse = function(t, e, n, r) {
    const s = new this.State(t,e,n,r);
    this.tokenize(s);
    const l = this.ruler2.getRules("")
      , o = l.length;
    for (let u = 0; u < o; u++)
        l[u](s)
}
;
Ro.prototype.State = Oo;
function y_(t) {
    const e = {};
    t = t || {},
    e.src_Any = i6.source,
    e.src_Cc = l6.source,
    e.src_Z = o6.source,
    e.src_P = Om.source,
    e.src_ZPCc = [e.src_Z, e.src_P, e.src_Cc].join("|"),
    e.src_ZCc = [e.src_Z, e.src_Cc].join("|");
    const n = "[><]";
    return e.src_pseudo_letter = "(?:(?!" + n + "|" + e.src_ZPCc + ")" + e.src_Any + ")",
    e.src_ip4 = "(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",
    e.src_auth = "(?:(?:(?!" + e.src_ZCc + "|[@/\\[\\]()]).)+@)?",
    e.src_port = "(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",
    e.src_host_terminator = "(?=$|" + n + "|" + e.src_ZPCc + ")(?!" + (t["---"] ? "-(?!--)|" : "-|") + "_|:\\d|\\.-|\\.(?!$|" + e.src_ZPCc + "))",
    e.src_path = "(?:[/?#](?:(?!" + e.src_ZCc + "|" + n + `|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!` + e.src_ZCc + "|\\]).)*\\]|\\((?:(?!" + e.src_ZCc + "|[)]).)*\\)|\\{(?:(?!" + e.src_ZCc + '|[}]).)*\\}|\\"(?:(?!' + e.src_ZCc + `|["]).)+\\"|\\'(?:(?!` + e.src_ZCc + "|[']).)+\\'|\\'(?=" + e.src_pseudo_letter + "|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!" + e.src_ZCc + "|[.]|$)|" + (t["---"] ? "\\-(?!--(?:[^-]|$))(?:-*)|" : "\\-+|") + ",(?!" + e.src_ZCc + "|$)|;(?!" + e.src_ZCc + "|$)|\\!+(?!" + e.src_ZCc + "|[!]|$)|\\?(?!" + e.src_ZCc + "|[?]|$))+|\\/)?",
    e.src_email_name = '[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',
    e.src_xn = "xn--[a-z0-9\\-]{1,59}",
    e.src_domain_root = "(?:" + e.src_xn + "|" + e.src_pseudo_letter + "{1,63})",
    e.src_domain = "(?:" + e.src_xn + "|(?:" + e.src_pseudo_letter + ")|(?:" + e.src_pseudo_letter + "(?:-|" + e.src_pseudo_letter + "){0,61}" + e.src_pseudo_letter + "))",
    e.src_host = "(?:(?:(?:(?:" + e.src_domain + ")\\.)*" + e.src_domain + "))",
    e.tpl_host_fuzzy = "(?:" + e.src_ip4 + "|(?:(?:(?:" + e.src_domain + ")\\.)+(?:%TLDS%)))",
    e.tpl_host_no_ip_fuzzy = "(?:(?:(?:" + e.src_domain + ")\\.)+(?:%TLDS%))",
    e.src_host_strict = e.src_host + e.src_host_terminator,
    e.tpl_host_fuzzy_strict = e.tpl_host_fuzzy + e.src_host_terminator,
    e.src_host_port_strict = e.src_host + e.src_port + e.src_host_terminator,
    e.tpl_host_port_fuzzy_strict = e.tpl_host_fuzzy + e.src_port + e.src_host_terminator,
    e.tpl_host_port_no_ip_fuzzy_strict = e.tpl_host_no_ip_fuzzy + e.src_port + e.src_host_terminator,
    e.tpl_host_fuzzy_test = "localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:" + e.src_ZPCc + "|>|$))",
    e.tpl_email_fuzzy = "(^|" + n + '|"|\\(|' + e.src_ZCc + ")(" + e.src_email_name + "@" + e.tpl_host_fuzzy_strict + ")",
    e.tpl_link_fuzzy = "(^|(?![.:/\\-_@])(?:[$+<=>^`|]|" + e.src_ZPCc + "))((?![$+<=>^`|])" + e.tpl_host_port_fuzzy_strict + e.src_path + ")",
    e.tpl_link_no_ip_fuzzy = "(^|(?![.:/\\-_@])(?:[$+<=>^`|]|" + e.src_ZPCc + "))((?![$+<=>^`|])" + e.tpl_host_port_no_ip_fuzzy_strict + e.src_path + ")",
    e
}
function Rp(t) {
    return Array.prototype.slice.call(arguments, 1).forEach(function(n) {
        n && Object.keys(n).forEach(function(r) {
            t[r] = n[r]
        })
    }),
    t
}
function Pd(t) {
    return Object.prototype.toString.call(t)
}
function v_(t) {
    return Pd(t) === "[object String]"
}
function N_(t) {
    return Pd(t) === "[object Object]"
}
function w_(t) {
    return Pd(t) === "[object RegExp]"
}
function S2(t) {
    return Pd(t) === "[object Function]"
}
function C_(t) {
    return t.replace(/[.?*+^$[\]\\(){}|-]/g, "\\$&")
}
const y6 = {
    fuzzyLink: !0,
    fuzzyEmail: !0,
    fuzzyIP: !1
};
function S_(t) {
    return Object.keys(t || {}).reduce(function(e, n) {
        return e || y6.hasOwnProperty(n)
    }, !1)
}
const j_ = {
    "http:": {
        validate: function(t, e, n) {
            const r = t.slice(e);
            return n.re.http || (n.re.http = new RegExp("^\\/\\/" + n.re.src_auth + n.re.src_host_port_strict + n.re.src_path,"i")),
            n.re.http.test(r) ? r.match(n.re.http)[0].length : 0
        }
    },
    "https:": "http:",
    "ftp:": "http:",
    "//": {
        validate: function(t, e, n) {
            const r = t.slice(e);
            return n.re.no_http || (n.re.no_http = new RegExp("^" + n.re.src_auth + "(?:localhost|(?:(?:" + n.re.src_domain + ")\\.)+" + n.re.src_domain_root + ")" + n.re.src_port + n.re.src_host_terminator + n.re.src_path,"i")),
            n.re.no_http.test(r) ? e >= 3 && t[e - 3] === ":" || e >= 3 && t[e - 3] === "/" ? 0 : r.match(n.re.no_http)[0].length : 0
        }
    },
    "mailto:": {
        validate: function(t, e, n) {
            const r = t.slice(e);
            return n.re.mailto || (n.re.mailto = new RegExp("^" + n.re.src_email_name + "@" + n.re.src_host_strict,"i")),
            n.re.mailto.test(r) ? r.match(n.re.mailto)[0].length : 0
        }
    }
}
  , E_ = "a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"
  , k_ = "biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");
function A_(t) {
    t.__index__ = -1,
    t.__text_cache__ = ""
}
function __(t) {
    return function(e, n) {
        const r = e.slice(n);
        return t.test(r) ? r.match(t)[0].length : 0
    }
}
function j2() {
    return function(t, e) {
        e.normalize(t)
    }
}
function qc(t) {
    const e = t.re = y_(t.__opts__)
      , n = t.__tlds__.slice();
    t.onCompile(),
    t.__tlds_replaced__ || n.push(E_),
    n.push(e.src_xn),
    e.src_tlds = n.join("|");
    function r(u) {
        return u.replace("%TLDS%", e.src_tlds)
    }
    e.email_fuzzy = RegExp(r(e.tpl_email_fuzzy), "i"),
    e.link_fuzzy = RegExp(r(e.tpl_link_fuzzy), "i"),
    e.link_no_ip_fuzzy = RegExp(r(e.tpl_link_no_ip_fuzzy), "i"),
    e.host_fuzzy_test = RegExp(r(e.tpl_host_fuzzy_test), "i");
    const s = [];
    t.__compiled__ = {};
    function l(u, f) {
        throw new Error('(LinkifyIt) Invalid schema "' + u + '": ' + f)
    }
    Object.keys(t.__schemas__).forEach(function(u) {
        const f = t.__schemas__[u];
        if (f === null)
            return;
        const p = {
            validate: null,
            link: null
        };
        if (t.__compiled__[u] = p,
        N_(f)) {
            w_(f.validate) ? p.validate = __(f.validate) : S2(f.validate) ? p.validate = f.validate : l(u, f),
            S2(f.normalize) ? p.normalize = f.normalize : f.normalize ? l(u, f) : p.normalize = j2();
            return
        }
        if (v_(f)) {
            s.push(u);
            return
        }
        l(u, f)
    }),
    s.forEach(function(u) {
        t.__compiled__[t.__schemas__[u]] && (t.__compiled__[u].validate = t.__compiled__[t.__schemas__[u]].validate,
        t.__compiled__[u].normalize = t.__compiled__[t.__schemas__[u]].normalize)
    }),
    t.__compiled__[""] = {
        validate: null,
        normalize: j2()
    };
    const o = Object.keys(t.__compiled__).filter(function(u) {
        return u.length > 0 && t.__compiled__[u]
    }).map(C_).join("|");
    t.re.schema_test = RegExp("(^|(?!_)(?:[><]|" + e.src_ZPCc + "))(" + o + ")", "i"),
    t.re.schema_search = RegExp("(^|(?!_)(?:[><]|" + e.src_ZPCc + "))(" + o + ")", "ig"),
    t.re.schema_at_start = RegExp("^" + t.re.schema_search.source, "i"),
    t.re.pretest = RegExp("(" + t.re.schema_test.source + ")|(" + t.re.host_fuzzy_test.source + ")|@", "i"),
    A_(t)
}
function T_(t, e) {
    const n = t.__index__
      , r = t.__last_index__
      , s = t.__text_cache__.slice(n, r);
    this.schema = t.__schema__.toLowerCase(),
    this.index = n + e,
    this.lastIndex = r + e,
    this.raw = s,
    this.text = s,
    this.url = s
}
function zp(t, e) {
    const n = new T_(t,e);
    return t.__compiled__[n.schema].normalize(n, t),
    n
}
function Sn(t, e) {
    if (!(this instanceof Sn))
        return new Sn(t,e);
    e || S_(t) && (e = t,
    t = {}),
    this.__opts__ = Rp({}, y6, e),
    this.__index__ = -1,
    this.__last_index__ = -1,
    this.__schema__ = "",
    this.__text_cache__ = "",
    this.__schemas__ = Rp({}, j_, t),
    this.__compiled__ = {},
    this.__tlds__ = k_,
    this.__tlds_replaced__ = !1,
    this.re = {},
    qc(this)
}
Sn.prototype.add = function(e, n) {
    return this.__schemas__[e] = n,
    qc(this),
    this
}
;
Sn.prototype.set = function(e) {
    return this.__opts__ = Rp(this.__opts__, e),
    this
}
;
Sn.prototype.test = function(e) {
    if (this.__text_cache__ = e,
    this.__index__ = -1,
    !e.length)
        return !1;
    let n, r, s, l, o, u, f, p, m;
    if (this.re.schema_test.test(e)) {
        for (f = this.re.schema_search,
        f.lastIndex = 0; (n = f.exec(e)) !== null; )
            if (l = this.testSchemaAt(e, n[2], f.lastIndex),
            l) {
                this.__schema__ = n[2],
                this.__index__ = n.index + n[1].length,
                this.__last_index__ = n.index + n[0].length + l;
                break
            }
    }
    return this.__opts__.fuzzyLink && this.__compiled__["http:"] && (p = e.search(this.re.host_fuzzy_test),
    p >= 0 && (this.__index__ < 0 || p < this.__index__) && (r = e.match(this.__opts__.fuzzyIP ? this.re.link_fuzzy : this.re.link_no_ip_fuzzy)) !== null && (o = r.index + r[1].length,
    (this.__index__ < 0 || o < this.__index__) && (this.__schema__ = "",
    this.__index__ = o,
    this.__last_index__ = r.index + r[0].length))),
    this.__opts__.fuzzyEmail && this.__compiled__["mailto:"] && (m = e.indexOf("@"),
    m >= 0 && (s = e.match(this.re.email_fuzzy)) !== null && (o = s.index + s[1].length,
    u = s.index + s[0].length,
    (this.__index__ < 0 || o < this.__index__ || o === this.__index__ && u > this.__last_index__) && (this.__schema__ = "mailto:",
    this.__index__ = o,
    this.__last_index__ = u))),
    this.__index__ >= 0
}
;
Sn.prototype.pretest = function(e) {
    return this.re.pretest.test(e)
}
;
Sn.prototype.testSchemaAt = function(e, n, r) {
    return this.__compiled__[n.toLowerCase()] ? this.__compiled__[n.toLowerCase()].validate(e, r, this) : 0
}
;
Sn.prototype.match = function(e) {
    const n = [];
    let r = 0;
    this.__index__ >= 0 && this.__text_cache__ === e && (n.push(zp(this, r)),
    r = this.__last_index__);
    let s = r ? e.slice(r) : e;
    for (; this.test(s); )
        n.push(zp(this, r)),
        s = s.slice(this.__last_index__),
        r += this.__last_index__;
    return n.length ? n : null
}
;
Sn.prototype.matchAtStart = function(e) {
    if (this.__text_cache__ = e,
    this.__index__ = -1,
    !e.length)
        return null;
    const n = this.re.schema_at_start.exec(e);
    if (!n)
        return null;
    const r = this.testSchemaAt(e, n[2], n[0].length);
    return r ? (this.__schema__ = n[2],
    this.__index__ = n.index + n[1].length,
    this.__last_index__ = n.index + n[0].length + r,
    zp(this, 0)) : null
}
;
Sn.prototype.tlds = function(e, n) {
    return e = Array.isArray(e) ? e : [e],
    n ? (this.__tlds__ = this.__tlds__.concat(e).sort().filter(function(r, s, l) {
        return r !== l[s - 1]
    }).reverse(),
    qc(this),
    this) : (this.__tlds__ = e.slice(),
    this.__tlds_replaced__ = !0,
    qc(this),
    this)
}
;
Sn.prototype.normalize = function(e) {
    e.schema || (e.url = "http://" + e.url),
    e.schema === "mailto:" && !/^mailto:/i.test(e.url) && (e.url = "mailto:" + e.url)
}
;
Sn.prototype.onCompile = function() {}
;
const kl = 2147483647
  , ar = 36
  , Fm = 1
  , oo = 26
  , D_ = 38
  , M_ = 700
  , v6 = 72
  , N6 = 128
  , w6 = "-"
  , O_ = /^xn--/
  , R_ = /[^\0-\x7F]/
  , z_ = /[\x2E\u3002\uFF0E\uFF61]/g
  , L_ = {
    overflow: "Overflow: input needs wider integers to process",
    "not-basic": "Illegal input >= 0x80 (not a basic code point)",
    "invalid-input": "Invalid input"
}
  , P0 = ar - Fm
  , or = Math.floor
  , V0 = String.fromCharCode;
function ws(t) {
    throw new RangeError(L_[t])
}
function B_(t, e) {
    const n = [];
    let r = t.length;
    for (; r--; )
        n[r] = e(t[r]);
    return n
}
function C6(t, e) {
    const n = t.split("@");
    let r = "";
    n.length > 1 && (r = n[0] + "@",
    t = n[1]),
    t = t.replace(z_, ".");
    const s = t.split(".")
      , l = B_(s, e).join(".");
    return r + l
}
function S6(t) {
    const e = [];
    let n = 0;
    const r = t.length;
    for (; n < r; ) {
        const s = t.charCodeAt(n++);
        if (s >= 55296 && s <= 56319 && n < r) {
            const l = t.charCodeAt(n++);
            (l & 64512) == 56320 ? e.push(((s & 1023) << 10) + (l & 1023) + 65536) : (e.push(s),
            n--)
        } else
            e.push(s)
    }
    return e
}
const F_ = t => String.fromCodePoint(...t)
  , H_ = function(t) {
    return t >= 48 && t < 58 ? 26 + (t - 48) : t >= 65 && t < 91 ? t - 65 : t >= 97 && t < 123 ? t - 97 : ar
}
  , E2 = function(t, e) {
    return t + 22 + 75 * (t < 26) - ((e != 0) << 5)
}
  , j6 = function(t, e, n) {
    let r = 0;
    for (t = n ? or(t / M_) : t >> 1,
    t += or(t / e); t > P0 * oo >> 1; r += ar)
        t = or(t / P0);
    return or(r + (P0 + 1) * t / (t + D_))
}
  , E6 = function(t) {
    const e = []
      , n = t.length;
    let r = 0
      , s = N6
      , l = v6
      , o = t.lastIndexOf(w6);
    o < 0 && (o = 0);
    for (let u = 0; u < o; ++u)
        t.charCodeAt(u) >= 128 && ws("not-basic"),
        e.push(t.charCodeAt(u));
    for (let u = o > 0 ? o + 1 : 0; u < n; ) {
        const f = r;
        for (let m = 1, g = ar; ; g += ar) {
            u >= n && ws("invalid-input");
            const v = H_(t.charCodeAt(u++));
            v >= ar && ws("invalid-input"),
            v > or((kl - r) / m) && ws("overflow"),
            r += v * m;
            const N = g <= l ? Fm : g >= l + oo ? oo : g - l;
            if (v < N)
                break;
            const y = ar - N;
            m > or(kl / y) && ws("overflow"),
            m *= y
        }
        const p = e.length + 1;
        l = j6(r - f, p, f == 0),
        or(r / p) > kl - s && ws("overflow"),
        s += or(r / p),
        r %= p,
        e.splice(r++, 0, s)
    }
    return String.fromCodePoint(...e)
}
  , k6 = function(t) {
    const e = [];
    t = S6(t);
    const n = t.length;
    let r = N6
      , s = 0
      , l = v6;
    for (const f of t)
        f < 128 && e.push(V0(f));
    const o = e.length;
    let u = o;
    for (o && e.push(w6); u < n; ) {
        let f = kl;
        for (const m of t)
            m >= r && m < f && (f = m);
        const p = u + 1;
        f - r > or((kl - s) / p) && ws("overflow"),
        s += (f - r) * p,
        r = f;
        for (const m of t)
            if (m < r && ++s > kl && ws("overflow"),
            m === r) {
                let g = s;
                for (let v = ar; ; v += ar) {
                    const N = v <= l ? Fm : v >= l + oo ? oo : v - l;
                    if (g < N)
                        break;
                    const y = g - N
                      , w = ar - N;
                    e.push(V0(E2(N + y % w, 0))),
                    g = or(y / w)
                }
                e.push(V0(E2(g, 0))),
                l = j6(s, p, u === o),
                s = 0,
                ++u
            }
        ++s,
        ++r
    }
    return e.join("")
}
  , U_ = function(t) {
    return C6(t, function(e) {
        return O_.test(e) ? E6(e.slice(4).toLowerCase()) : e
    })
}
  , q_ = function(t) {
    return C6(t, function(e) {
        return R_.test(e) ? "xn--" + k6(e) : e
    })
}
  , A6 = {
    version: "2.3.1",
    ucs2: {
        decode: S6,
        encode: F_
    },
    decode: E6,
    encode: k6,
    toASCII: q_,
    toUnicode: U_
}
  , I_ = {
    options: {
        html: !1,
        xhtmlOut: !1,
        breaks: !1,
        langPrefix: "language-",
        linkify: !1,
        typographer: !1,
        quotes: "",
        highlight: null,
        maxNesting: 100
    },
    components: {
        core: {},
        block: {},
        inline: {}
    }
}
  , $_ = {
    options: {
        html: !1,
        xhtmlOut: !1,
        breaks: !1,
        langPrefix: "language-",
        linkify: !1,
        typographer: !1,
        quotes: "",
        highlight: null,
        maxNesting: 20
    },
    components: {
        core: {
            rules: ["normalize", "block", "inline", "text_join"]
        },
        block: {
            rules: ["paragraph"]
        },
        inline: {
            rules: ["text"],
            rules2: ["balance_pairs", "fragments_join"]
        }
    }
}
  , P_ = {
    options: {
        html: !0,
        xhtmlOut: !0,
        breaks: !1,
        langPrefix: "language-",
        linkify: !1,
        typographer: !1,
        quotes: "",
        highlight: null,
        maxNesting: 20
    },
    components: {
        core: {
            rules: ["normalize", "block", "inline", "text_join"]
        },
        block: {
            rules: ["blockquote", "code", "fence", "heading", "hr", "html_block", "lheading", "list", "reference", "paragraph"]
        },
        inline: {
            rules: ["autolink", "backticks", "emphasis", "entity", "escape", "html_inline", "image", "link", "newline", "text"],
            rules2: ["balance_pairs", "emphasis", "fragments_join"]
        }
    }
}
  , V_ = {
    default: I_,
    zero: $_,
    commonmark: P_
}
  , G_ = /^(vbscript|javascript|file|data):/
  , K_ = /^data:image\/(gif|png|jpeg|webp);/;
function Y_(t) {
    const e = t.trim().toLowerCase();
    return G_.test(e) ? K_.test(e) : !0
}
const _6 = ["http:", "https:", "mailto:"];
function J_(t) {
    const e = Mm(t, !0);
    if (e.hostname && (!e.protocol || _6.indexOf(e.protocol) >= 0))
        try {
            e.hostname = A6.toASCII(e.hostname)
        } catch {}
    return Mo(Dm(e))
}
function X_(t) {
    const e = Mm(t, !0);
    if (e.hostname && (!e.protocol || _6.indexOf(e.protocol) >= 0))
        try {
            e.hostname = A6.toUnicode(e.hostname)
        } catch {}
    return Dl(Dm(e), Dl.defaultChars + "%")
}
function qn(t, e) {
    if (!(this instanceof qn))
        return new qn(t,e);
    e || Rm(t) || (e = t || {},
    t = "default"),
    this.inline = new Ro,
    this.block = new $d,
    this.core = new Lm,
    this.renderer = new $l,
    this.linkify = new Sn,
    this.validateLink = Y_,
    this.normalizeLink = J_,
    this.normalizeLinkText = X_,
    this.utils = Z8,
    this.helpers = qd({}, nA),
    this.options = {},
    this.configure(t),
    e && this.set(e)
}
qn.prototype.set = function(t) {
    return qd(this.options, t),
    this
}
;
qn.prototype.configure = function(t) {
    const e = this;
    if (Rm(t)) {
        const n = t;
        if (t = V_[n],
        !t)
            throw new Error('Wrong `markdown-it` preset "' + n + '", check name')
    }
    if (!t)
        throw new Error("Wrong `markdown-it` preset, can't be empty");
    return t.options && e.set(t.options),
    t.components && Object.keys(t.components).forEach(function(n) {
        t.components[n].rules && e[n].ruler.enableOnly(t.components[n].rules),
        t.components[n].rules2 && e[n].ruler2.enableOnly(t.components[n].rules2)
    }),
    this
}
;
qn.prototype.enable = function(t, e) {
    let n = [];
    Array.isArray(t) || (t = [t]),
    ["core", "block", "inline"].forEach(function(s) {
        n = n.concat(this[s].ruler.enable(t, !0))
    }, this),
    n = n.concat(this.inline.ruler2.enable(t, !0));
    const r = t.filter(function(s) {
        return n.indexOf(s) < 0
    });
    if (r.length && !e)
        throw new Error("MarkdownIt. Failed to enable unknown rule(s): " + r);
    return this
}
;
qn.prototype.disable = function(t, e) {
    let n = [];
    Array.isArray(t) || (t = [t]),
    ["core", "block", "inline"].forEach(function(s) {
        n = n.concat(this[s].ruler.disable(t, !0))
    }, this),
    n = n.concat(this.inline.ruler2.disable(t, !0));
    const r = t.filter(function(s) {
        return n.indexOf(s) < 0
    });
    if (r.length && !e)
        throw new Error("MarkdownIt. Failed to disable unknown rule(s): " + r);
    return this
}
;
qn.prototype.use = function(t) {
    const e = [this].concat(Array.prototype.slice.call(arguments, 1));
    return t.apply(t, e),
    this
}
;
qn.prototype.parse = function(t, e) {
    if (typeof t != "string")
        throw new Error("Input data should be a String");
    const n = new this.core.State(t,this,e);
    return this.core.process(n),
    n.tokens
}
;
qn.prototype.render = function(t, e) {
    return e = e || {},
    this.renderer.render(this.parse(t, e), this.options, e)
}
;
qn.prototype.parseInline = function(t, e) {
    const n = new this.core.State(t,this,e);
    return n.inlineMode = !0,
    this.core.process(n),
    n.tokens
}
;
qn.prototype.renderInline = function(t, e) {
    return e = e || {},
    this.renderer.render(this.parseInline(t, e), this.options, e)
}
;
const G0 = new qn({
    html: !1,
    linkify: !0
});
function Us({floating: t=!1, fixed: e=!1, lessonId: n=null, thinkSeconds: r=.1, systemPrompt: s=null}) {
    const [l,o] = k.useState(!t && e)
      , [u,f] = k.useState([])
      , [p,m] = k.useState("")
      , [g,v] = k.useState(!1)
      , N = k.useRef()
      , [y,w] = k.useState({});
    k.useEffect( () => {
        u.length > 30 && f(_ => _.slice(-30))
    }
    , [u]);
    const C = async () => {
        const _ = (p || "").trim();
        if (!_)
            return;
        const O = {
            role: "user",
            text: _
        };
        f(R => [...R, O]),
        m(""),
        v(!0);
        try {
            r > 0 && await new Promise(G => setTimeout(G, Math.max(0, r) * 1e3));
            const R = {
                message: _,
                context: {
                    lessonId: n
                }
            };
            s && (R.system = s);
            const z = (await W.post("/chat", R)).data?.answer || "No reply";
            f(G => [...G, {
                role: "bot",
                text: z
            }])
        } catch {
            f($ => [...$, {
                role: "bot",
                text: "Error: failed to fetch reply"
            }])
        } finally {
            v(!1)
        }
    }
      , E = (_, O) => {
        if (!_)
            return null;
        const R = []
          , $ = /```(\w*)\n([\s\S]*?)```/g;
        let z = 0, G;
        for (; (G = $.exec(_)) !== null; ) {
            const Y = G.index;
            Y > z && R.push({
                type: "md",
                content: _.slice(z, Y)
            }),
            R.push({
                type: "code",
                lang: G[1] || "",
                content: G[2]
            }),
            z = $.lastIndex
        }
        return z < _.length && R.push({
            type: "md",
            content: _.slice(z)
        }),
        R.map( (Y, pe) => Y.type === "md" ? d.jsx("div", {
            dangerouslySetInnerHTML: {
                __html: G0.render(Y.content)
            }
        }, O + "-md-" + pe) : d.jsxs("div", {
            className: "relative my-3",
            children: [d.jsx("pre", {
                className: "bg-gray-900 text-white rounded p-3 overflow-auto",
                children: d.jsx("code", {
                    children: Y.content
                })
            }), d.jsx("button", {
                className: "absolute right-2 top-2 bg-indigo-600 text-white text-xs px-2 py-1 rounded",
                onClick: () => {
                    navigator.clipboard.writeText(Y.content).then( () => {}
                    ).catch( () => {}
                    )
                }
                ,
                children: "Copy"
            })]
        }, O + "-code-" + pe))
    }
      , A = u.map( (_, O) => {
        const R = _.role === "bot"
          , $ = _.role === "system"
          , z = `msg-${O}`
          , G = !!y[z];
        return d.jsx("div", {
            className: `mb-3 ${_.role === "user" ? "text-right" : "text-left"}`,
            children: d.jsx("div", {
                className: `${_.role === "user" ? "inline-block bg-indigo-600 text-white" : $ ? "inline-block bg-gray-200 text-gray-700 italic" : "inline-block bg-gray-100 text-gray-900"} p-3 rounded-md max-w-[80%]`,
                children: R ? d.jsx("div", {
                    children: G ? d.jsxs("div", {
                        children: [E(_.text, z), d.jsx("div", {
                            children: d.jsx("button", {
                                onClick: () => w(Y => ({
                                    ...Y,
                                    [z]: !1
                                })),
                                className: "text-xs text-gray-600 mt-2",
                                children: "Less"
                            })
                        })]
                    }) : d.jsxs("div", {
                        children: [d.jsx("div", {
                            children: d.jsx("div", {
                                dangerouslySetInnerHTML: {
                                    __html: G0.render((_.text || "").split(`

`)[0] || "")
                                }
                            })
                        }), (_.text || "").includes(`

`) && d.jsx("div", {
                            children: d.jsx("button", {
                                onClick: () => w(Y => ({
                                    ...Y,
                                    [z]: !0
                                })),
                                className: "text-xs text-indigo-600 mt-2",
                                children: "More"
                            })
                        })]
                    })
                }) : d.jsx("div", {
                    dangerouslySetInnerHTML: {
                        __html: G0.render(_.text)
                    }
                })
            })
        }, O)
    }
    );
    return t ? d.jsx("div", {
        children: d.jsxs("div", {
            className: "fixed bottom-6 right-6 z-50",
            children: [s && d.jsxs("div", {
                className: "mb-2 text-xs text-gray-500 text-right",
                children: ["System: ", s]
            }), l && d.jsxs("div", {
                ref: N,
                className: "w-80 h-96 bg-white shadow-lg rounded-lg overflow-hidden flex flex-col",
                children: [d.jsxs("div", {
                    className: "p-3 border-b flex items-center justify-between",
                    children: [d.jsx("div", {
                        className: "font-semibold",
                        children: "Assistant"
                    }), d.jsx("button", {
                        onClick: () => o(!1),
                        className: "text-sm text-gray-600",
                        children: "Close"
                    })]
                }), d.jsx("div", {
                    className: "p-3 overflow-auto flex-1 bg-gray-50",
                    children: A
                }), d.jsxs("div", {
                    className: "p-3 border-t bg-white",
                    children: [d.jsx("textarea", {
                        value: p,
                        onChange: _ => m(_.target.value),
                        rows: 2,
                        className: "w-full p-2 border rounded",
                        placeholder: "Ask the assistant..."
                    }), d.jsx("div", {
                        className: "flex justify-end mt-2",
                        children: d.jsx("button", {
                            onClick: C,
                            disabled: g,
                            className: "px-3 py-1 bg-indigo-600 text-white rounded",
                            children: g ? "..." : "Send"
                        })
                    })]
                })]
            }), !l && d.jsx("button", {
                onClick: () => o(!0),
                className: "w-12 h-12 rounded-full bg-indigo-600 text-white shadow-lg flex items-center justify-center",
                children: ""
            })]
        })
    }) : e ? d.jsx("div", {
        className: "mt-6",
        children: d.jsxs("div", {
            className: "bg-white rounded-lg shadow p-4",
            children: [d.jsx("h4", {
                className: "font-semibold mb-2",
                children: "Assistant"
            }), s && d.jsxs("div", {
                className: "text-xs text-gray-500 italic mb-2",
                children: ["System: ", s]
            }), d.jsx("div", {
                className: "max-h-60 overflow-auto mb-3 bg-gray-50 p-3 rounded",
                children: A
            }), d.jsx("textarea", {
                value: p,
                onChange: _ => m(_.target.value),
                rows: 3,
                className: "w-full p-2 border rounded mb-2",
                placeholder: "Ask the assistant about this lesson..."
            }), d.jsx("div", {
                className: "flex justify-end",
                children: d.jsx("button", {
                    onClick: C,
                    disabled: g,
                    className: "px-4 py-2 bg-indigo-600 text-white rounded",
                    children: g ? "..." : "Ask"
                })
            })]
        })
    }) : null
}
function Q_() {
    const t = Ye()
      , [e,n] = k.useState(null)
      , [r,s] = k.useState(!0)
      , [l,o] = k.useState(!1);
    k.useEffect( () => {
        u()
    }
    , []);
    const u = async () => {
        try {
            const p = await W.get("/student/dashboard");
            n(p.data)
        } catch (p) {
            console.error(p.response?.data || p.message)
        } finally {
            s(!1)
        }
    }
      , f = async () => {
        try {
            await W.get("/auth/logout"),
            t("/")
        } catch (p) {
            console.error("Logout error:", p)
        }
    }
    ;
    return r ? d.jsx("div", {
        className: "flex items-center justify-center min-h-screen bg-gradient-to-br from-indigo-50 to-purple-50",
        children: d.jsxs("div", {
            className: "text-center",
            children: [d.jsx("div", {
                className: "animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"
            }), d.jsx("p", {
                className: "text-gray-600",
                children: "Loading your dashboard..."
            })]
        })
    }) : e ? d.jsxs("div", {
        className: "min-h-screen bg-gradient-to-br from-indigo-50 to-purple-50 relative",
        children: [d.jsx("header", {
            className: "bg-white shadow-sm sticky top-0 z-50",
            children: d.jsxs("div", {
                className: "max-w-7xl mx-auto px-6 py-4 flex justify-between items-center",
                children: [d.jsx("h1", {
                    className: "text-2xl font-bold text-indigo-600",
                    children: "NeuraAcademy"
                }), d.jsxs("div", {
                    className: "flex items-center gap-4",
                    children: [d.jsx("button", {
                        onClick: () => t("/student/profile/view"),
                        className: "px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition",
                        children: "Profile"
                    }), d.jsxs("button", {
                        onClick: f,
                        className: "flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition",
                        children: [d.jsx(Kr, {
                            size: 18
                        }), "Logout"]
                    })]
                })]
            })
        }), d.jsxs("main", {
            className: "max-w-7xl mx-auto px-6 py-8",
            children: [d.jsxs("div", {
                className: "mb-8",
                children: [d.jsx("h2", {
                    className: "text-3xl font-bold text-gray-900 mb-2",
                    children: "Welcome back! "
                }), d.jsx("p", {
                    className: "text-gray-600",
                    children: "You're doing great! Keep up the momentum."
                })]
            }), d.jsxs("div", {
                className: "grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",
                children: [d.jsx("div", {
                    className: "bg-white rounded-lg p-6 shadow-sm hover:shadow-md transition",
                    children: d.jsxs("div", {
                        className: "flex items-center justify-between",
                        children: [d.jsxs("div", {
                            children: [d.jsx("p", {
                                className: "text-gray-600 text-sm font-medium",
                                children: "Active Courses"
                            }), d.jsx("p", {
                                className: "text-3xl font-bold text-indigo-600 mt-2",
                                children: e.active_courses
                            })]
                        }), d.jsx(cr, {
                            size: 32,
                            className: "text-indigo-200"
                        })]
                    })
                }), d.jsx("div", {
                    className: "bg-white rounded-lg p-6 shadow-sm hover:shadow-md transition",
                    children: d.jsxs("div", {
                        className: "flex items-center justify-between",
                        children: [d.jsxs("div", {
                            children: [d.jsx("p", {
                                className: "text-gray-600 text-sm font-medium",
                                children: "Avg Score"
                            }), d.jsxs("p", {
                                className: "text-3xl font-bold text-purple-600 mt-2",
                                children: [Math.round(e.avg_score), "%"]
                            })]
                        }), d.jsx(_p, {
                            size: 32,
                            className: "text-purple-200"
                        })]
                    })
                }), d.jsx("div", {
                    className: "bg-white rounded-lg p-6 shadow-sm hover:shadow-md transition",
                    children: d.jsxs("div", {
                        className: "flex items-center justify-between",
                        children: [d.jsxs("div", {
                            children: [d.jsx("p", {
                                className: "text-gray-600 text-sm font-medium",
                                children: "Consistency"
                            }), d.jsxs("p", {
                                className: "text-3xl font-bold text-green-600 mt-2",
                                children: [e.consistency, "%"]
                            })]
                        }), d.jsx(Fc, {
                            size: 32,
                            className: "text-green-200"
                        })]
                    })
                }), d.jsx("div", {
                    className: "bg-white rounded-lg p-6 shadow-sm hover:shadow-md transition",
                    children: d.jsxs("div", {
                        className: "flex items-center justify-between",
                        children: [d.jsxs("div", {
                            children: [d.jsx("p", {
                                className: "text-gray-600 text-sm font-medium",
                                children: "Global Rank"
                            }), d.jsxs("p", {
                                className: "text-3xl font-bold text-orange-600 mt-2",
                                children: ["#", e.global_rank]
                            })]
                        }), d.jsx(Jn, {
                            size: 32,
                            className: "text-orange-200"
                        })]
                    })
                })]
            }), d.jsxs("div", {
                className: "grid grid-cols-1 lg:grid-cols-3 gap-8",
                children: [d.jsx("div", {
                    className: "lg:col-span-2",
                    children: d.jsxs("div", {
                        className: "bg-white rounded-lg shadow-sm p-6",
                        children: [d.jsx("h3", {
                            className: "text-xl font-bold text-gray-900 mb-6",
                            children: "Your Active Courses"
                        }), e.courses && e.courses.length > 0 ? d.jsx("div", {
                            className: "space-y-4",
                            children: e.courses.map(p => d.jsxs("div", {
                                onClick: () => t(`/student/course/${p.id}`),
                                className: "border border-gray-200 rounded-lg p-4 hover:border-indigo-300 hover:shadow-md transition cursor-pointer",
                                children: [d.jsxs("div", {
                                    className: "flex items-start justify-between mb-3",
                                    children: [d.jsxs("div", {
                                        className: "flex items-center gap-4",
                                        children: [d.jsx("img", {
                                            src: p.thumbnail_url || "/images/course_.jpg",
                                            alt: p.title,
                                            className: "w-16 h-12 object-cover rounded"
                                        }), d.jsx("h4", {
                                            className: "font-semibold text-gray-900",
                                            children: p.title
                                        })]
                                    }), d.jsxs("span", {
                                        className: "text-sm text-indigo-600 font-medium",
                                        children: [p.progress, "%"]
                                    })]
                                }), d.jsx("div", {
                                    className: "w-full bg-gray-200 rounded-full h-2 overflow-hidden mb-2",
                                    children: d.jsx("div", {
                                        className: "bg-gradient-to-r from-indigo-500 to-purple-500 h-full transition-all duration-300",
                                        style: {
                                            width: `${p.progress}%`
                                        }
                                    })
                                }), d.jsxs("p", {
                                    className: "text-sm text-gray-500 mb-2",
                                    children: [p.chapters, " chapters"]
                                }), d.jsx("button", {
                                    onClick: m => {
                                        m.stopPropagation(),
                                        t(`/student/course/${p.id}/exams`)
                                    }
                                    ,
                                    className: "px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium",
                                    children: "Attend Exam"
                                })]
                            }, p.id))
                        }) : d.jsxs("div", {
                            className: "text-center py-8",
                            children: [d.jsx("p", {
                                className: "text-gray-500 mb-4",
                                children: "No active courses yet"
                            }), d.jsx("button", {
                                onClick: () => t("/student/explore"),
                                className: "px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition",
                                children: "Explore Courses"
                            })]
                        })]
                    })
                }), d.jsx("div", {
                    children: d.jsxs("div", {
                        className: "bg-white rounded-lg shadow-sm p-6",
                        children: [d.jsx("h3", {
                            className: "text-xl font-bold text-gray-900 mb-6",
                            children: "Quick Actions"
                        }), d.jsxs("div", {
                            className: "space-y-3",
                            children: [d.jsxs("button", {
                                onClick: () => t("/student/explore"),
                                className: "w-full px-4 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition font-medium flex items-center justify-center gap-2",
                                children: [d.jsx(cr, {
                                    size: 18
                                }), " Browse Courses"]
                            }), d.jsxs("button", {
                                onClick: () => t("/student/analytics"),
                                className: "w-full px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition font-medium flex items-center justify-center gap-2",
                                children: [d.jsx(Fc, {
                                    size: 18
                                }), " View Analytics"]
                            }), d.jsxs("button", {
                                onClick: () => t("/student/friends"),
                                className: "w-full px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium flex items-center justify-center gap-2",
                                children: [d.jsx(Jn, {
                                    size: 18
                                }), " Friends & Social"]
                            })]
                        })]
                    })
                })]
            }), e.recent_exams && e.recent_exams.length > 0 && d.jsxs("div", {
                className: "mt-8 bg-white rounded-lg shadow-sm p-6",
                children: [d.jsx("h3", {
                    className: "text-xl font-bold text-gray-900 mb-6",
                    children: "Recent Exam Results"
                }), d.jsx("div", {
                    className: "space-y-3",
                    children: e.recent_exams.slice(0, 5).map( (p, m) => d.jsxs("div", {
                        className: "flex items-center justify-between p-3 border border-gray-100 rounded-lg hover:bg-gray-50 transition",
                        children: [d.jsxs("div", {
                            children: [d.jsx("p", {
                                className: "font-medium text-gray-900",
                                children: p.title
                            }), d.jsx("p", {
                                className: "text-sm text-gray-500",
                                children: p.attempted_at
                            })]
                        }), d.jsx("div", {
                            className: "text-right",
                            children: d.jsxs("p", {
                                className: `text-lg font-bold ${p.score >= 60 ? "text-green-600" : "text-red-600"}`,
                                children: [Math.round(p.score), "%"]
                            })
                        })]
                    }, m))
                })]
            })]
        }), !l && d.jsx("button", {
            onClick: () => o(!0),
            className: "fixed bottom-8 left-8 bg-indigo-600 text-white p-4 rounded-full shadow-lg hover:bg-indigo-700 transition z-50",
            children: d.jsx(t6, {
                size: 24
            })
        }), l && d.jsxs("div", {
            className: "fixed bottom-8 right-8 w-96 h-[500px] bg-white border rounded-lg shadow-xl z-50 flex flex-col overflow-hidden",
            children: [d.jsxs("div", {
                className: "flex justify-between items-center bg-indigo-600 text-white p-3",
                children: [d.jsx("span", {
                    children: "Wikipedia"
                }), d.jsx("button", {
                    onClick: () => o(!1),
                    children: d.jsx(Ud, {
                        size: 20
                    })
                })]
            }), d.jsx("iframe", {
                src: "https://en.wikipedia.org/wiki/Special:Random",
                className: "flex-1 w-full",
                title: "Groq Bot Wiki"
            })]
        }), d.jsx(Us, {
            floating: !0
        })]
    }) : d.jsx("div", {
        className: "min-h-screen bg-gradient-to-br from-indigo-50 to-purple-50 flex items-center justify-center",
        children: d.jsxs("div", {
            className: "text-center",
            children: [d.jsx("p", {
                className: "text-gray-600 mb-4",
                children: "Failed to load dashboard"
            }), d.jsx("button", {
                onClick: u,
                className: "px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition",
                children: "Retry"
            })]
        })
    })
}
function Z_() {
    const t = Ye()
      , [e,n] = k.useState(!1)
      , [r,s] = k.useState("")
      , [l,o] = k.useState(null)
      , [u,f] = k.useState({
        avatar: null,
        first_name: "",
        last_name: "",
        date_of_birth: "",
        country_code: "+1",
        country: "",
        phone: "",
        bio: "",
        github: "",
        facebook: "",
        x: "",
        linkedin: "",
        instagram: ""
    })
      , p = ["+1", "+44", "+91", "+61", "+81", "+880"]
      , m = async v => {
        v.preventDefault(),
        n(!0),
        s("");
        const N = new FormData;
        for (let y in u)
            u[y] && N.append(y, u[y]);
        try {
            const y = await W.post("/student/profile", N, {
                headers: {
                    "Content-Type": "multipart/form-data"
                },
                withCredentials: !0
            });
            console.log("profile updated", y.data),
            t("/student/dashboard")
        } catch (y) {
            s(y.response?.data?.message || "Failed to save profile"),
            console.error(y.response?.data || y.message)
        } finally {
            n(!1)
        }
    }
      , g = v => {
        const {name: N, value: y, files: w} = v.target;
        if (N === "avatar") {
            const C = w[0];
            if (f({
                ...u,
                [N]: C
            }),
            C) {
                const E = new FileReader;
                E.onloadend = () => {
                    o(E.result)
                }
                ,
                E.readAsDataURL(C)
            }
        } else
            f({
                ...u,
                [N]: y
            })
    }
    ;
    return d.jsx("div", {
        className: "profile-container",
        children: d.jsxs("div", {
            className: "profile-wrapper",
            children: [d.jsxs("div", {
                className: "profile-header",
                children: [d.jsx("h1", {
                    className: "profile-title",
                    children: "Complete Your Profile"
                }), d.jsx("p", {
                    className: "profile-subtitle",
                    children: "Help us get to know you better"
                })]
            }), r && d.jsx("div", {
                className: "error-message",
                children: r
            }), d.jsxs("form", {
                onSubmit: m,
                className: "profile-form",
                children: [d.jsxs("div", {
                    className: "form-section",
                    children: [d.jsx("h2", {
                        className: "section-title",
                        children: "Profile Picture"
                    }), d.jsxs("div", {
                        className: "avatar-upload",
                        children: [d.jsxs("div", {
                            className: "avatar-preview",
                            children: [l ? d.jsx("img", {
                                src: l,
                                alt: "Preview"
                            }) : d.jsxs(d.Fragment, {
                                children: [d.jsx(n8, {
                                    size: 32
                                }), d.jsx("p", {
                                    children: "Click to upload"
                                })]
                            }), d.jsx("input", {
                                type: "file",
                                name: "avatar",
                                id: "avatar",
                                onChange: g,
                                accept: "image/*",
                                className: "file-input"
                            })]
                        }), d.jsx("p", {
                            className: "helper-text",
                            children: "PNG, JPG up to 10MB"
                        })]
                    })]
                }), d.jsxs("div", {
                    className: "form-section",
                    children: [d.jsxs("h2", {
                        className: "section-title",
                        children: [d.jsx(s6, {
                            size: 20
                        }), " Basic Information"]
                    }), d.jsxs("div", {
                        className: "form-row",
                        children: [d.jsxs("div", {
                            className: "form-group",
                            children: [d.jsx("label", {
                                className: "form-label",
                                children: "First Name *"
                            }), d.jsx("input", {
                                type: "text",
                                name: "first_name",
                                placeholder: "John",
                                value: u.first_name,
                                onChange: g,
                                className: "form-input",
                                required: !0
                            })]
                        }), d.jsxs("div", {
                            className: "form-group",
                            children: [d.jsx("label", {
                                className: "form-label",
                                children: "Last Name *"
                            }), d.jsx("input", {
                                type: "text",
                                name: "last_name",
                                placeholder: "Doe",
                                value: u.last_name,
                                onChange: g,
                                className: "form-input",
                                required: !0
                            })]
                        })]
                    }), d.jsx("div", {
                        className: "form-row",
                        children: d.jsxs("div", {
                            className: "form-group",
                            children: [d.jsx("label", {
                                className: "form-label",
                                children: "Date of Birth"
                            }), d.jsx("input", {
                                type: "date",
                                name: "date_of_birth",
                                value: u.date_of_birth,
                                onChange: g,
                                className: "form-input"
                            })]
                        })
                    })]
                }), d.jsxs("div", {
                    className: "form-section",
                    children: [d.jsxs("h2", {
                        className: "section-title",
                        children: [d.jsx(_m, {
                            size: 20
                        }), " Location"]
                    }), d.jsx("div", {
                        className: "form-row",
                        children: d.jsxs("div", {
                            className: "form-group",
                            children: [d.jsx("label", {
                                className: "form-label",
                                children: "Country"
                            }), d.jsx("input", {
                                type: "text",
                                name: "country",
                                placeholder: "e.g., United States",
                                value: u.country,
                                onChange: g,
                                className: "form-input"
                            })]
                        })
                    }), d.jsxs("div", {
                        className: "form-row",
                        children: [d.jsxs("div", {
                            className: "form-group",
                            children: [d.jsx("label", {
                                className: "form-label",
                                children: "Country Code"
                            }), d.jsx("select", {
                                name: "country_code",
                                value: u.country_code,
                                onChange: g,
                                className: "form-input",
                                children: p.map(v => d.jsx("option", {
                                    value: v,
                                    children: v
                                }, v))
                            })]
                        }), d.jsxs("div", {
                            className: "form-group",
                            children: [d.jsxs("label", {
                                className: "form-label",
                                children: [d.jsx(Fd, {
                                    size: 18
                                }), " Phone Number"]
                            }), d.jsx("input", {
                                type: "tel",
                                name: "phone",
                                placeholder: "Enter your phone number",
                                value: u.phone,
                                onChange: g,
                                className: "form-input"
                            })]
                        })]
                    })]
                }), d.jsxs("div", {
                    className: "form-section",
                    children: [d.jsxs("h2", {
                        className: "section-title",
                        children: [d.jsx(Do, {
                            size: 20
                        }), " About You"]
                    }), d.jsxs("div", {
                        className: "form-group",
                        children: [d.jsx("label", {
                            className: "form-label",
                            children: "Bio"
                        }), d.jsx("textarea", {
                            name: "bio",
                            placeholder: "Tell us about yourself...",
                            value: u.bio,
                            onChange: g,
                            className: "form-textarea",
                            rows: "4"
                        })]
                    })]
                }), d.jsxs("div", {
                    className: "form-section",
                    children: [d.jsx("h2", {
                        className: "section-title",
                        children: "Social Links"
                    }), d.jsx("p", {
                        className: "section-desc",
                        children: "Add your social profiles (optional)"
                    }), d.jsxs("div", {
                        className: "social-links",
                        children: [d.jsxs("div", {
                            className: "form-group",
                            children: [d.jsxs("label", {
                                className: "form-label",
                                children: [d.jsx(Il, {
                                    size: 18
                                }), " GitHub"]
                            }), d.jsx("input", {
                                type: "url",
                                name: "github",
                                placeholder: "https://github.com/username",
                                value: u.github,
                                onChange: g,
                                className: "form-input"
                            })]
                        }), d.jsxs("div", {
                            className: "form-group",
                            children: [d.jsxs("label", {
                                className: "form-label",
                                children: [d.jsx(Bd, {
                                    size: 18
                                }), " LinkedIn"]
                            }), d.jsx("input", {
                                type: "url",
                                name: "linkedin",
                                placeholder: "https://linkedin.com/in/username",
                                value: u.linkedin,
                                onChange: g,
                                className: "form-input"
                            })]
                        }), d.jsxs("div", {
                            className: "form-group",
                            children: [d.jsxs("label", {
                                className: "form-label",
                                children: [d.jsx(Hd, {
                                    size: 18
                                }), " X (Twitter)"]
                            }), d.jsx("input", {
                                type: "url",
                                name: "x",
                                placeholder: "https://x.com/username",
                                value: u.x,
                                onChange: g,
                                className: "form-input"
                            })]
                        }), d.jsxs("div", {
                            className: "form-group",
                            children: [d.jsxs("label", {
                                className: "form-label",
                                children: [d.jsx(zd, {
                                    size: 18
                                }), " Facebook"]
                            }), d.jsx("input", {
                                type: "url",
                                name: "facebook",
                                placeholder: "https://facebook.com/username",
                                value: u.facebook,
                                onChange: g,
                                className: "form-input"
                            })]
                        }), d.jsxs("div", {
                            className: "form-group",
                            children: [d.jsxs("label", {
                                className: "form-label",
                                children: [d.jsx(Ld, {
                                    size: 18
                                }), " Instagram"]
                            }), d.jsx("input", {
                                type: "url",
                                name: "instagram",
                                placeholder: "https://instagram.com/username",
                                value: u.instagram,
                                onChange: g,
                                className: "form-input"
                            })]
                        })]
                    })]
                }), d.jsx("button", {
                    type: "submit",
                    className: "submit-button",
                    disabled: e,
                    children: e ? "Saving..." : "Continue to Dashboard"
                })]
            })]
        })
    })
}
function W_() {
    const t = Ye()
      , [e,n] = k.useState(null)
      , [r,s] = k.useState(!0)
      , l = async () => {
        try {
            const u = await W.get("/student/profile");
            n(u.data),
            s(!1)
        } catch (u) {
            console.error(u.response?.data || u.message),
            s(!1),
            u.response?.status === 404 && setTimeout( () => t("/student/profile"), 100)
        }
    }
    ;
    k.useEffect( () => {
        l()
    }
    , []);
    const o = async () => {
        try {
            await W.get("/auth/logout"),
            t("/")
        } catch (u) {
            console.error("Logout error:", u)
        }
    }
    ;
    return r ? d.jsx("div", {
        className: "profile-view-container",
        children: d.jsx("div", {
            className: "loading",
            children: "Loading profile..."
        })
    }) : e ? d.jsxs("div", {
        className: "profile-view-container",
        children: [d.jsxs("div", {
            className: "profile-view-header",
            children: [d.jsxs("button", {
                onClick: () => t("/student/dashboard"),
                className: "back-button",
                children: [d.jsx(To, {
                    size: 20
                }), " Back to Dashboard"]
            }), d.jsxs("div", {
                className: "header-actions",
                children: [d.jsxs("button", {
                    onClick: () => t("/student/profile"),
                    className: "edit-button",
                    children: [d.jsx(Tm, {
                        size: 18
                    }), " Edit Profile"]
                }), d.jsxs("button", {
                    onClick: o,
                    className: "logout-button",
                    children: [d.jsx(Kr, {
                        size: 18
                    }), " Logout"]
                })]
            })]
        }), d.jsxs("div", {
            className: "profile-view-content",
            children: [d.jsxs("div", {
                className: "profile-cover",
                children: [d.jsx("div", {
                    className: "cover-background"
                }), e.avatar ? d.jsx("img", {
                    src: e.avatar,
                    alt: e.first_name,
                    className: "profile-avatar"
                }) : d.jsxs("div", {
                    className: "profile-avatar-placeholder",
                    children: [e.first_name?.charAt(0), e.last_name?.charAt(0)]
                })]
            }), d.jsxs("div", {
                className: "profile-info-section",
                children: [d.jsxs("div", {
                    className: "profile-name-section",
                    children: [d.jsxs("h1", {
                        className: "profile-name",
                        children: [e.first_name, " ", e.last_name]
                    }), d.jsx("p", {
                        className: "profile-role",
                        children: "Student"
                    })]
                }), d.jsxs("div", {
                    className: "profile-stats",
                    children: [d.jsxs("div", {
                        className: "stat",
                        children: [d.jsx("div", {
                            className: "stat-value",
                            children: "0"
                        }), d.jsx("div", {
                            className: "stat-label",
                            children: "Courses"
                        })]
                    }), d.jsxs("div", {
                        className: "stat",
                        children: [d.jsx("div", {
                            className: "stat-value",
                            children: "0"
                        }), d.jsx("div", {
                            className: "stat-label",
                            children: "Completed"
                        })]
                    }), d.jsxs("div", {
                        className: "stat",
                        children: [d.jsx("div", {
                            className: "stat-value",
                            children: "0"
                        }), d.jsx("div", {
                            className: "stat-label",
                            children: "Achievements"
                        })]
                    })]
                }), e.bio && d.jsxs("div", {
                    className: "profile-section",
                    children: [d.jsxs("h3", {
                        className: "section-heading",
                        children: [d.jsx(Do, {
                            size: 18
                        }), " About"]
                    }), d.jsx("p", {
                        className: "section-content",
                        children: e.bio
                    })]
                }), d.jsxs("div", {
                    className: "profile-section",
                    children: [d.jsx("h3", {
                        className: "section-heading",
                        children: "Contact Information"
                    }), d.jsxs("div", {
                        className: "contact-grid",
                        children: [e.phone && d.jsxs("div", {
                            className: "contact-item",
                            children: [d.jsx(Fd, {
                                size: 18,
                                className: "contact-icon"
                            }), d.jsxs("div", {
                                children: [d.jsx("div", {
                                    className: "contact-label",
                                    children: "Phone"
                                }), d.jsxs("div", {
                                    className: "contact-value",
                                    children: [e.country_code, " ", e.phone]
                                })]
                            })]
                        }), e.country && d.jsxs("div", {
                            className: "contact-item",
                            children: [d.jsx(_m, {
                                size: 18,
                                className: "contact-icon"
                            }), d.jsxs("div", {
                                children: [d.jsx("div", {
                                    className: "contact-label",
                                    children: "Location"
                                }), d.jsx("div", {
                                    className: "contact-value",
                                    children: e.country
                                })]
                            })]
                        }), e.date_of_birth && d.jsxs("div", {
                            className: "contact-item",
                            children: [d.jsx(Am, {
                                size: 18,
                                className: "contact-icon"
                            }), d.jsxs("div", {
                                children: [d.jsx("div", {
                                    className: "contact-label",
                                    children: "Date of Birth"
                                }), d.jsx("div", {
                                    className: "contact-value",
                                    children: e.date_of_birth
                                })]
                            })]
                        })]
                    })]
                }), (e.github || e.linkedin || e.x || e.facebook || e.instagram) && d.jsxs("div", {
                    className: "profile-section",
                    children: [d.jsx("h3", {
                        className: "section-heading",
                        children: "Social Profiles"
                    }), d.jsxs("div", {
                        className: "social-links-view",
                        children: [e.github && d.jsxs("a", {
                            href: e.github,
                            target: "_blank",
                            rel: "noopener noreferrer",
                            className: "social-link github",
                            children: [d.jsx(Il, {
                                size: 20
                            }), d.jsx("span", {
                                children: "GitHub"
                            })]
                        }), e.linkedin && d.jsxs("a", {
                            href: e.linkedin,
                            target: "_blank",
                            rel: "noopener noreferrer",
                            className: "social-link linkedin",
                            children: [d.jsx(Bd, {
                                size: 20
                            }), d.jsx("span", {
                                children: "LinkedIn"
                            })]
                        }), e.x && d.jsxs("a", {
                            href: e.x,
                            target: "_blank",
                            rel: "noopener noreferrer",
                            className: "social-link twitter",
                            children: [d.jsx(Hd, {
                                size: 20
                            }), d.jsx("span", {
                                children: "X"
                            })]
                        }), e.facebook && d.jsxs("a", {
                            href: e.facebook,
                            target: "_blank",
                            rel: "noopener noreferrer",
                            className: "social-link facebook",
                            children: [d.jsx(zd, {
                                size: 20
                            }), d.jsx("span", {
                                children: "Facebook"
                            })]
                        }), e.instagram && d.jsxs("a", {
                            href: e.instagram,
                            target: "_blank",
                            rel: "noopener noreferrer",
                            className: "social-link instagram",
                            children: [d.jsx(Ld, {
                                size: 20
                            }), d.jsx("span", {
                                children: "Instagram"
                            })]
                        })]
                    })]
                })]
            })]
        })]
    }) : d.jsx("div", {
        className: "profile-view-container",
        children: d.jsx("div", {
            className: "error",
            children: "Profile not found"
        })
    })
}
function eT() {
    const t = Ye()
      , [e,n] = k.useState({
        avatar: null,
        first_name: "",
        last_name: "",
        date_of_birth: "",
        country_code: "+1",
        country: "",
        phone: "",
        bio: "",
        github: "",
        facebook: "",
        x: "",
        linkedin: "",
        instagram: "",
        platform_name: "",
        education_info: "",
        years_experience: 0
    })
      , [r,s] = k.useState(null)
      , l = ["+1", "+44", "+91", "+61", "+81", "+880"]
      , o = f => {
        const {name: p, value: m, files: g} = f.target;
        p === "avatar" && g && g[0] ? (n(v => ({
            ...v,
            avatar: g[0]
        })),
        s(URL.createObjectURL(g[0]))) : n(v => ({
            ...v,
            [p]: m
        }))
    }
      , u = async f => {
        f.preventDefault();
        try {
            const p = new FormData;
            Object.entries(e).forEach( ([m,g]) => {
                g !== "" && g !== null && p.append(m, g)
            }
            ),
            await W.post("/teacher/profile", p, {
                headers: {
                    "Content-Type": "multipart/form-data"
                },
                withCredentials: !0
            }),
            t("/teacher/dashboard")
        } catch (p) {
            console.error(p.response?.data || p.message)
        }
    }
    ;
    return d.jsx("div", {
        className: "min-h-screen bg-gray-50 flex items-center justify-center p-4",
        children: d.jsxs("form", {
            onSubmit: u,
            className: "bg-white rounded-xl shadow-md p-6 w-full max-w-2xl space-y-6",
            children: [d.jsx("h2", {
                className: "text-2xl font-bold text-gray-800",
                children: "Basic Info"
            }), d.jsxs("div", {
                className: "flex flex-col items-center gap-2",
                children: [d.jsx("label", {
                    htmlFor: "avatar",
                    className: "font-semibold text-gray-700",
                    children: "Profile Picture"
                }), d.jsx("div", {
                    className: "w-40 h-40 border rounded-full overflow-hidden flex items-center justify-center bg-gray-100",
                    children: r ? d.jsx("img", {
                        src: r,
                        alt: "Avatar Preview",
                        className: "w-full h-full object-cover"
                    }) : d.jsx("span", {
                        className: "text-gray-400",
                        children: "No image selected"
                    })
                }), d.jsx("input", {
                    type: "file",
                    name: "avatar",
                    id: "avatar",
                    onChange: o,
                    className: "mt-2"
                })]
            }), d.jsxs("div", {
                className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                children: [d.jsx("input", {
                    type: "text",
                    name: "first_name",
                    placeholder: "First Name",
                    value: e.first_name,
                    onChange: o,
                    className: "border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 w-full"
                }), d.jsx("input", {
                    type: "text",
                    name: "last_name",
                    placeholder: "Last Name",
                    value: e.last_name,
                    onChange: o,
                    className: "border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 w-full"
                })]
            }), d.jsxs("div", {
                className: "grid grid-cols-1 md:grid-cols-3 gap-4",
                children: [d.jsx("input", {
                    type: "date",
                    name: "date_of_birth",
                    value: e.date_of_birth,
                    onChange: o,
                    className: "border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 w-full"
                }), d.jsx("input", {
                    type: "text",
                    name: "country",
                    placeholder: "Country",
                    value: e.country,
                    onChange: o,
                    className: "border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 w-full"
                }), d.jsx("select", {
                    name: "country_code",
                    value: e.country_code,
                    onChange: o,
                    className: "border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 w-full",
                    children: l.map(f => d.jsx("option", {
                        value: f,
                        children: f
                    }, f))
                })]
            }), d.jsx("input", {
                type: "tel",
                name: "phone",
                placeholder: "Phone",
                value: e.phone,
                onChange: o,
                className: "border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 w-full"
            }), d.jsx("input", {
                type: "text",
                name: "bio",
                placeholder: "Bio",
                value: e.bio,
                onChange: o,
                className: "border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 w-full"
            }), d.jsxs("div", {
                className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                children: [d.jsx("input", {
                    type: "url",
                    name: "github",
                    placeholder: "Github URL",
                    value: e.github,
                    onChange: o,
                    className: "border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 w-full"
                }), d.jsx("input", {
                    type: "url",
                    name: "facebook",
                    placeholder: "Facebook URL",
                    value: e.facebook,
                    onChange: o,
                    className: "border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 w-full"
                }), d.jsx("input", {
                    type: "url",
                    name: "x",
                    placeholder: "X URL",
                    value: e.x,
                    onChange: o,
                    className: "border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 w-full"
                }), d.jsx("input", {
                    type: "url",
                    name: "linkedin",
                    placeholder: "LinkedIn URL",
                    value: e.linkedin,
                    onChange: o,
                    className: "border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 w-full"
                }), d.jsx("input", {
                    type: "url",
                    name: "instagram",
                    placeholder: "Instagram URL",
                    value: e.instagram,
                    onChange: o,
                    className: "border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 w-full"
                })]
            }), d.jsx("h2", {
                className: "text-2xl font-bold text-gray-800 mt-6",
                children: "Teacher Info"
            }), d.jsxs("div", {
                className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                children: [d.jsx("input", {
                    type: "text",
                    name: "platform_name",
                    placeholder: "Platform Name",
                    value: e.platform_name,
                    onChange: o,
                    className: "border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 w-full"
                }), d.jsx("input", {
                    type: "text",
                    name: "education_info",
                    placeholder: "Education Info",
                    value: e.education_info,
                    onChange: o,
                    className: "border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 w-full"
                }), d.jsx("input", {
                    type: "number",
                    name: "years_experience",
                    placeholder: "Years of Experience",
                    value: e.years_experience,
                    onChange: o,
                    className: "border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 w-full"
                })]
            }), d.jsx("button", {
                type: "submit",
                className: "w-full bg-indigo-600 text-white font-semibold py-2 rounded-lg hover:bg-indigo-700 transition",
                children: "Submit Profile"
            })]
        })
    })
}
function tT() {
    const t = Ye()
      , [e,n] = k.useState(null)
      , [r,s] = k.useState(!0);
    k.useEffect( () => {
        l()
    }
    , []);
    const l = async () => {
        try {
            const u = await W.get("/teacher/profile");
            n(u.data)
        } catch (u) {
            console.error(u.response?.data || u.message),
            u.response?.status === 404 && t("/teacher/profile")
        } finally {
            s(!1)
        }
    }
      , o = async () => {
        try {
            await W.get("/auth/logout"),
            t("/")
        } catch (u) {
            console.error("Logout error:", u)
        }
    }
    ;
    return r ? d.jsx("div", {
        className: "flex items-center justify-center min-h-screen bg-gray-50",
        children: d.jsx("span", {
            className: "text-gray-500 text-lg",
            children: "Loading profile..."
        })
    }) : e ? d.jsxs("div", {
        className: "min-h-screen bg-gradient-to-br from-indigo-100/10 to-purple-300/10 p-6",
        children: [d.jsxs("div", {
            className: "max-w-4xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",
            children: [d.jsxs("button", {
                onClick: () => t("/teacher/dashboard"),
                className: "flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 text-gray-800 font-semibold",
                children: [d.jsx(To, {
                    size: 20
                }), " Back to Dashboard"]
            }), d.jsxs("div", {
                className: "flex gap-3",
                children: [d.jsxs("button", {
                    onClick: () => t("/teacher/profile"),
                    className: "flex items-center gap-1 px-4 py-2 font-semibold text-white rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 hover:shadow-lg hover:-translate-y-1 transition-all",
                    children: [d.jsx(Tm, {
                        size: 18
                    }), " Edit Profile"]
                }), d.jsxs("button", {
                    onClick: o,
                    className: "flex items-center gap-1 px-4 py-2 font-semibold text-red-600 bg-white border border-red-300 rounded-lg hover:bg-red-100 transition-all",
                    children: [d.jsx(Kr, {
                        size: 18
                    }), " Logout"]
                })]
            })]
        }), d.jsxs("div", {
            className: "max-w-4xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden",
            children: [d.jsx("div", {
                className: "relative h-52 bg-gradient-to-br from-indigo-500 to-purple-600",
                children: e.avatar_url ? d.jsx("img", {
                    src: e.avatar_url,
                    alt: e.first_name,
                    className: "absolute -bottom-16 left-6 w-36 h-36 rounded-xl border-4 border-white object-cover"
                }) : d.jsxs("div", {
                    className: "absolute -bottom-16 left-6 w-36 h-36 rounded-xl border-4 border-white bg-gray-100 flex items-center justify-center text-4xl font-bold text-indigo-600",
                    children: [e.first_name?.charAt(0), e.last_name?.charAt(0)]
                })
            }), d.jsxs("div", {
                className: "pt-20 pb-8 px-6 space-y-6",
                children: [d.jsxs("div", {
                    className: "flex flex-col md:flex-row md:justify-between md:items-center gap-4",
                    children: [d.jsxs("div", {
                        children: [d.jsxs("h1", {
                            className: "text-3xl font-extrabold text-gray-800",
                            children: [e.first_name, " ", e.last_name]
                        }), d.jsx("p", {
                            className: "text-gray-500 mt-1",
                            children: "Teacher"
                        })]
                    }), d.jsxs("div", {
                        className: "grid grid-cols-3 gap-4 text-center bg-gray-100 p-4 rounded-lg",
                        children: [d.jsxs("div", {
                            children: [d.jsx("div", {
                                className: "text-indigo-600 font-bold text-2xl",
                                children: e.years_experience || 0
                            }), d.jsx("div", {
                                className: "text-gray-500 text-sm",
                                children: "Years Exp"
                            })]
                        }), d.jsxs("div", {
                            children: [d.jsx("div", {
                                className: "text-indigo-600 font-bold text-2xl",
                                children: e.total_students || 0
                            }), d.jsx("div", {
                                className: "text-gray-500 text-sm",
                                children: "Students"
                            })]
                        }), d.jsxs("div", {
                            children: [d.jsx("div", {
                                className: "text-indigo-600 font-bold text-2xl",
                                children: e.total_courses || 0
                            }), d.jsx("div", {
                                className: "text-gray-500 text-sm",
                                children: "Courses"
                            })]
                        })]
                    })]
                }), e.bio && d.jsxs("div", {
                    className: "space-y-2",
                    children: [d.jsxs("h3", {
                        className: "flex items-center gap-2 font-semibold text-gray-800",
                        children: [d.jsx(Do, {
                            size: 18,
                            className: "text-indigo-500"
                        }), " About"]
                    }), d.jsx("p", {
                        className: "text-gray-600",
                        children: e.bio
                    })]
                }), (e.platform_name || e.education_info) && d.jsxs("div", {
                    className: "space-y-2",
                    children: [d.jsxs("h3", {
                        className: "flex items-center gap-2 font-semibold text-gray-800",
                        children: [d.jsx(_p, {
                            size: 18,
                            className: "text-indigo-500"
                        }), " Teaching Profile"]
                    }), d.jsxs("div", {
                        className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                        children: [e.platform_name && d.jsxs("div", {
                            className: "flex gap-3 p-4 bg-gray-50 rounded-lg border-l-4 border-indigo-500",
                            children: [d.jsx(Jn, {
                                size: 20,
                                className: "text-indigo-500 flex-shrink-0"
                            }), d.jsxs("div", {
                                children: [d.jsx("div", {
                                    className: "text-gray-500 text-sm",
                                    children: "Platform/School"
                                }), d.jsx("div", {
                                    className: "text-gray-800 font-medium",
                                    children: e.platform_name
                                })]
                            })]
                        }), e.education_info && d.jsxs("div", {
                            className: "flex gap-3 p-4 bg-gray-50 rounded-lg border-l-4 border-yellow-400",
                            children: [d.jsx(_p, {
                                size: 20,
                                className: "text-yellow-400 flex-shrink-0"
                            }), d.jsxs("div", {
                                children: [d.jsx("div", {
                                    className: "text-gray-500 text-sm",
                                    children: "Education"
                                }), d.jsx("div", {
                                    className: "text-gray-800 font-medium",
                                    children: e.education_info
                                })]
                            })]
                        })]
                    })]
                }), d.jsxs("div", {
                    className: "space-y-2",
                    children: [d.jsx("h3", {
                        className: "font-semibold text-gray-800",
                        children: "Contact Information"
                    }), d.jsxs("div", {
                        className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                        children: [e.phone && d.jsxs("div", {
                            className: "flex gap-3 p-4 bg-gray-50 rounded-lg border-l-4 border-green-500",
                            children: [d.jsx(Fd, {
                                size: 20,
                                className: "text-green-500 flex-shrink-0"
                            }), d.jsxs("div", {
                                children: [d.jsx("div", {
                                    className: "text-gray-500 text-sm",
                                    children: "Phone"
                                }), d.jsxs("div", {
                                    className: "text-gray-800 font-medium",
                                    children: [e.country_code, " ", e.phone]
                                })]
                            })]
                        }), e.country && d.jsxs("div", {
                            className: "flex gap-3 p-4 bg-gray-50 rounded-lg border-l-4 border-red-500",
                            children: [d.jsx(_m, {
                                size: 20,
                                className: "text-red-500 flex-shrink-0"
                            }), d.jsxs("div", {
                                children: [d.jsx("div", {
                                    className: "text-gray-500 text-sm",
                                    children: "Location"
                                }), d.jsx("div", {
                                    className: "text-gray-800 font-medium",
                                    children: e.country
                                })]
                            })]
                        })]
                    })]
                }), (e.github || e.linkedin || e.x || e.facebook || e.instagram) && d.jsxs("div", {
                    className: "space-y-2",
                    children: [d.jsx("h3", {
                        className: "font-semibold text-gray-800",
                        children: "Social Profiles"
                    }), d.jsxs("div", {
                        className: "grid grid-cols-2 md:grid-cols-5 gap-4",
                        children: [e.github && d.jsxs("a", {
                            href: e.github,
                            target: "_blank",
                            rel: "noopener noreferrer",
                            className: "flex flex-col items-center justify-center gap-2 p-4 bg-gray-100 border-2 border-gray-300 rounded-lg font-semibold text-sm hover:bg-gray-800 hover:text-white transition-transform transform hover:-translate-y-1",
                            children: [d.jsx(Il, {
                                size: 20
                            }), " GitHub"]
                        }), e.linkedin && d.jsxs("a", {
                            href: e.linkedin,
                            target: "_blank",
                            rel: "noopener noreferrer",
                            className: "flex flex-col items-center justify-center gap-2 p-4 bg-blue-100 border-2 border-blue-500 text-blue-700 rounded-lg font-semibold text-sm hover:bg-blue-700 hover:text-white transition-transform transform hover:-translate-y-1",
                            children: [d.jsx(Bd, {
                                size: 20
                            }), " LinkedIn"]
                        }), e.x && d.jsxs("a", {
                            href: e.x,
                            target: "_blank",
                            rel: "noopener noreferrer",
                            className: "flex flex-col items-center justify-center gap-2 p-4 bg-blue-50 border-2 border-blue-400 text-blue-600 rounded-lg font-semibold text-sm hover:bg-blue-600 hover:text-white transition-transform transform hover:-translate-y-1",
                            children: [d.jsx(Hd, {
                                size: 20
                            }), " X"]
                        }), e.facebook && d.jsxs("a", {
                            href: e.facebook,
                            target: "_blank",
                            rel: "noopener noreferrer",
                            className: "flex flex-col items-center justify-center gap-2 p-4 bg-blue-100 border-2 border-blue-500 text-blue-800 rounded-lg font-semibold text-sm hover:bg-blue-800 hover:text-white transition-transform transform hover:-translate-y-1",
                            children: [d.jsx(zd, {
                                size: 20
                            }), " Facebook"]
                        }), e.instagram && d.jsxs("a", {
                            href: e.instagram,
                            target: "_blank",
                            rel: "noopener noreferrer",
                            className: "flex flex-col items-center justify-center gap-2 p-4 bg-pink-100 border-2 border-pink-500 text-pink-600 rounded-lg font-semibold text-sm hover:bg-pink-600 hover:text-white transition-transform transform hover:-translate-y-1",
                            children: [d.jsx(Ld, {
                                size: 20
                            }), " Instagram"]
                        })]
                    })]
                })]
            })]
        })]
    }) : d.jsx("div", {
        className: "flex items-center justify-center min-h-screen bg-gray-50",
        children: d.jsx("span", {
            className: "text-red-500 text-lg",
            children: "Profile not found"
        })
    })
}
function nT() {
    const t = Ye()
      , [e,n] = k.useState({
        avatar: null,
        first_name: "",
        last_name: "",
        date_of_birth: "",
        country_code: "+1",
        country: "",
        phone: "",
        bio: "",
        github: "",
        facebook: "",
        x: "",
        linkedin: "",
        instagram: ""
    })
      , [r,s] = k.useState({
        parent_code: "",
        action: "update",
        student_id: ""
    })
      , l = ["+1", "+44", "+91", "+61", "+81", "+880"]
      , [o,u] = k.useState(null)
      , f = g => {
        const {name: v, value: N, files: y} = g.target;
        if (v === "avatar") {
            const w = y && y[0];
            if (n(C => ({
                ...C,
                avatar: w
            })),
            w) {
                const C = URL.createObjectURL(w);
                u(C)
            }
        } else
            n(w => ({
                ...w,
                [v]: N
            }))
    }
      , p = g => {
        const {name: v, value: N} = g.target;
        s(y => ({
            ...y,
            [v]: N
        }))
    }
      , m = async g => {
        g.preventDefault();
        try {
            const v = new FormData;
            Object.entries(e).forEach( ([y,w]) => {
                w !== "" && w !== null && v.append(y, w)
            }
            ),
            await W.post("/student/profile", v, {
                headers: {
                    "Content-Type": "multipart/form-data"
                },
                withCredentials: !0
            });
            const N = new FormData;
            Object.entries(r).forEach( ([y,w]) => {
                w && N.append(y, w)
            }
            ),
            await W.post("/parent/profile", N, {
                headers: {
                    "Content-Type": "multipart/form-data"
                },
                withCredentials: !0
            }),
            t("/parent/dashboard")
        } catch (v) {
            console.error(v.response?.data || v.message)
        }
    }
    ;
    return k.useEffect( () => () => {
        o && URL.revokeObjectURL(o)
    }
    , [o]),
    d.jsx("div", {
        className: "profile-view-container",
        children: d.jsx("div", {
            className: "profile-view-content",
            children: d.jsxs("div", {
                className: "profile-info-section",
                style: {
                    padding: "2rem"
                },
                children: [d.jsxs("div", {
                    className: "profile-name-section",
                    children: [d.jsx("h2", {
                        className: "profile-name",
                        children: "Set up your Parent Profile"
                    }), d.jsx("p", {
                        className: "profile-role",
                        children: "A few quick details to personalize your account"
                    })]
                }), d.jsxs("div", {
                    className: "profile-grid",
                    style: {
                        display: "grid",
                        gridTemplateColumns: "320px 1fr",
                        gap: "1.5rem",
                        alignItems: "start"
                    },
                    children: [d.jsxs("aside", {
                        className: "profile-sidebar",
                        children: [d.jsxs("div", {
                            className: "avatar-card",
                            children: [d.jsx("div", {
                                className: "avatar-preview",
                                children: o ? d.jsx("img", {
                                    src: o,
                                    alt: "avatar",
                                    style: {
                                        width: "100%",
                                        height: "100%",
                                        objectFit: "cover",
                                        borderRadius: "8px"
                                    }
                                }) : d.jsxs("div", {
                                    className: "profile-avatar-placeholder",
                                    style: {
                                        width: "100%",
                                        height: "100%",
                                        display: "flex",
                                        alignItems: "center",
                                        justifyContent: "center",
                                        fontSize: "2.5rem"
                                    },
                                    children: [e.first_name?.charAt(0) || "P", e.last_name?.charAt(0) || ""]
                                })
                            }), d.jsxs("label", {
                                className: "upload-label",
                                style: {
                                    marginTop: "0.75rem",
                                    display: "block"
                                },
                                children: [d.jsx("input", {
                                    type: "file",
                                    name: "avatar",
                                    onChange: f,
                                    style: {
                                        display: "none"
                                    }
                                }), d.jsx("button", {
                                    type: "button",
                                    className: "edit-button",
                                    onClick: g => {
                                        g.currentTarget.previousElementSibling.click()
                                    }
                                    ,
                                    style: {
                                        width: "100%"
                                    },
                                    children: "Choose Avatar"
                                })]
                            })]
                        }), d.jsxs("div", {
                            style: {
                                marginTop: "1rem",
                                background: "var(--light-bg)",
                                padding: "1rem",
                                borderRadius: "8px"
                            },
                            children: [d.jsxs("div", {
                                style: {
                                    fontWeight: 700
                                },
                                children: [e.first_name || "First", " ", e.last_name || "Last"]
                            }), d.jsx("div", {
                                style: {
                                    color: "var(--text-light)",
                                    marginTop: "0.25rem"
                                },
                                children: "Parent  NeuraAcademy"
                            }), d.jsxs("div", {
                                style: {
                                    marginTop: "0.75rem",
                                    fontSize: "0.95rem"
                                },
                                children: [d.jsx("div", {
                                    style: {
                                        marginBottom: "0.5rem"
                                    },
                                    children: "Quick tips"
                                }), d.jsxs("ul", {
                                    style: {
                                        margin: 0,
                                        paddingLeft: "1rem",
                                        color: "var(--text-light)"
                                    },
                                    children: [d.jsx("li", {
                                        children: "Upload a clear avatar"
                                    }), d.jsx("li", {
                                        children: "Provide at least one contact method"
                                    })]
                                })]
                            })]
                        })]
                    }), d.jsxs("form", {
                        onSubmit: m,
                        className: "profile-form",
                        style: {
                            display: "grid",
                            gap: "1rem"
                        },
                        children: [d.jsxs("div", {
                            style: {
                                display: "grid",
                                gridTemplateColumns: "1fr 1fr",
                                gap: "1rem"
                            },
                            children: [d.jsxs("div", {
                                className: "input-group",
                                children: [d.jsx("label", {
                                    children: "First name"
                                }), d.jsx("input", {
                                    className: "input",
                                    type: "text",
                                    name: "first_name",
                                    placeholder: "First name",
                                    value: e.first_name,
                                    onChange: f
                                })]
                            }), d.jsxs("div", {
                                className: "input-group",
                                children: [d.jsx("label", {
                                    children: "Last name"
                                }), d.jsx("input", {
                                    className: "input",
                                    type: "text",
                                    name: "last_name",
                                    placeholder: "Last name",
                                    value: e.last_name,
                                    onChange: f
                                })]
                            })]
                        }), d.jsxs("div", {
                            style: {
                                display: "grid",
                                gridTemplateColumns: "1fr 1fr",
                                gap: "1rem"
                            },
                            children: [d.jsxs("div", {
                                className: "input-group",
                                children: [d.jsx("label", {
                                    children: "Date of birth"
                                }), d.jsx("input", {
                                    className: "input",
                                    type: "date",
                                    name: "date_of_birth",
                                    value: e.date_of_birth,
                                    onChange: f
                                })]
                            }), d.jsxs("div", {
                                className: "input-group",
                                children: [d.jsx("label", {
                                    children: "Country"
                                }), d.jsx("input", {
                                    className: "input",
                                    type: "text",
                                    name: "country",
                                    placeholder: "Country",
                                    value: e.country,
                                    onChange: f
                                })]
                            })]
                        }), d.jsxs("div", {
                            style: {
                                display: "grid",
                                gridTemplateColumns: "160px 1fr",
                                gap: "1rem",
                                alignItems: "end"
                            },
                            children: [d.jsxs("div", {
                                className: "input-group",
                                children: [d.jsx("label", {
                                    children: "Country code"
                                }), d.jsx("select", {
                                    className: "input",
                                    name: "country_code",
                                    value: e.country_code,
                                    onChange: f,
                                    children: l.map(g => d.jsx("option", {
                                        value: g,
                                        children: g
                                    }, g))
                                })]
                            }), d.jsxs("div", {
                                className: "input-group",
                                children: [d.jsx("label", {
                                    children: "Phone"
                                }), d.jsx("input", {
                                    className: "input",
                                    type: "tel",
                                    name: "phone",
                                    placeholder: "Phone number",
                                    value: e.phone,
                                    onChange: f
                                })]
                            })]
                        }), d.jsxs("div", {
                            className: "input-group",
                            children: [d.jsx("label", {
                                children: "Bio"
                            }), d.jsx("textarea", {
                                className: "textarea",
                                name: "bio",
                                placeholder: "Short bio",
                                value: e.bio,
                                onChange: f
                            })]
                        }), d.jsxs("div", {
                            style: {
                                display: "grid",
                                gridTemplateColumns: "1fr 1fr",
                                gap: "1rem"
                            },
                            children: [d.jsx("input", {
                                className: "input",
                                type: "url",
                                name: "github",
                                placeholder: "Github",
                                value: e.github,
                                onChange: f
                            }), d.jsx("input", {
                                className: "input",
                                type: "url",
                                name: "linkedin",
                                placeholder: "LinkedIn",
                                value: e.linkedin,
                                onChange: f
                            })]
                        }), d.jsxs("div", {
                            style: {
                                display: "grid",
                                gridTemplateColumns: "1fr 1fr",
                                gap: "1rem"
                            },
                            children: [d.jsx("input", {
                                className: "input",
                                type: "url",
                                name: "facebook",
                                placeholder: "Facebook",
                                value: e.facebook,
                                onChange: f
                            }), d.jsx("input", {
                                className: "input",
                                type: "url",
                                name: "x",
                                placeholder: "X",
                                value: e.x,
                                onChange: f
                            })]
                        }), d.jsxs("div", {
                            style: {
                                display: "grid",
                                gridTemplateColumns: "1fr 1fr",
                                gap: "1rem"
                            },
                            children: [d.jsxs("div", {
                                children: [d.jsx("h3", {
                                    style: {
                                        marginTop: 0
                                    },
                                    children: "Parent Info"
                                }), d.jsx("label", {
                                    children: "Parent code"
                                }), d.jsx("input", {
                                    className: "input",
                                    type: "text",
                                    name: "parent_code",
                                    placeholder: "Parent code",
                                    value: r.parent_code,
                                    onChange: p
                                }), d.jsx("label", {
                                    style: {
                                        marginTop: "0.5rem"
                                    },
                                    children: "Student ID to link (optional)"
                                }), d.jsx("input", {
                                    className: "input",
                                    type: "text",
                                    name: "student_id",
                                    placeholder: "Student ID",
                                    value: r.student_id,
                                    onChange: p
                                })]
                            }), d.jsxs("div", {
                                children: [d.jsx("label", {
                                    children: "Action"
                                }), d.jsxs("select", {
                                    className: "input",
                                    name: "action",
                                    value: r.action,
                                    onChange: p,
                                    children: [d.jsx("option", {
                                        value: "update",
                                        children: "Update Profile"
                                    }), d.jsx("option", {
                                        value: "link_request",
                                        children: "Request Student Link"
                                    })]
                                }), d.jsx("div", {
                                    style: {
                                        marginTop: "1.5rem"
                                    },
                                    children: d.jsx("button", {
                                        type: "submit",
                                        className: "edit-button",
                                        style: {
                                            width: "100%"
                                        },
                                        children: "Save Profile"
                                    })
                                })]
                            })]
                        })]
                    })]
                })]
            })
        })
    })
}
function rT() {
    const t = Ye()
      , [e,n] = k.useState(null)
      , [r,s] = k.useState(!0);
    k.useEffect( () => {
        l()
    }
    , []);
    async function l() {
        try {
            const u = await W.get("/parent/profile");
            n(u.data),
            s(!1)
        } catch (u) {
            console.error(u.response?.data || u.message),
            s(!1),
            u.response?.status === 404 && setTimeout( () => t("/parent/profile"), 100)
        }
    }
    const o = async () => {
        try {
            await W.get("/auth/logout"),
            t("/")
        } catch (u) {
            console.error("Logout error:", u)
        }
    }
    ;
    return r ? d.jsx("div", {
        className: "profile-view-container",
        children: d.jsx("div", {
            className: "loading",
            children: "Loading parent profile..."
        })
    }) : e ? d.jsxs("div", {
        className: "profile-view-container",
        children: [d.jsxs("div", {
            className: "profile-view-header",
            children: [d.jsxs("button", {
                onClick: () => t("/parent/dashboard"),
                className: "back-button",
                children: [d.jsx(To, {
                    size: 20
                }), " Back to Dashboard"]
            }), d.jsxs("div", {
                className: "header-actions",
                children: [d.jsxs("button", {
                    onClick: () => t("/parent/profile"),
                    className: "edit-button",
                    children: [d.jsx(Tm, {
                        size: 18
                    }), " Edit Profile"]
                }), d.jsxs("button", {
                    onClick: o,
                    className: "logout-button",
                    children: [d.jsx(Kr, {
                        size: 18
                    }), " Logout"]
                })]
            })]
        }), d.jsxs("div", {
            className: "profile-view-content",
            children: [d.jsxs("div", {
                className: "profile-cover",
                children: [d.jsx("div", {
                    className: "cover-background"
                }), e.avatar ? d.jsx("img", {
                    src: e.avatar,
                    alt: e.first_name,
                    className: "profile-avatar"
                }) : d.jsxs("div", {
                    className: "profile-avatar-placeholder",
                    children: [e.first_name?.charAt(0), e.last_name?.charAt(0)]
                })]
            }), d.jsxs("div", {
                className: "profile-info-section",
                children: [d.jsxs("div", {
                    className: "profile-name-section",
                    children: [d.jsxs("h1", {
                        className: "profile-name",
                        children: [e.first_name, " ", e.last_name]
                    }), d.jsx("p", {
                        className: "profile-role",
                        children: "Parent"
                    })]
                }), d.jsxs("div", {
                    className: "profile-stats",
                    children: [d.jsxs("div", {
                        className: "stat",
                        children: [d.jsx("div", {
                            className: "stat-value",
                            children: e.children ? e.children.length : 0
                        }), d.jsx("div", {
                            className: "stat-label",
                            children: "Children"
                        })]
                    }), d.jsxs("div", {
                        className: "stat",
                        children: [d.jsx("div", {
                            className: "stat-value",
                            children: e.courses_enrolled || 0
                        }), d.jsx("div", {
                            className: "stat-label",
                            children: "Courses"
                        })]
                    }), d.jsxs("div", {
                        className: "stat",
                        children: [d.jsx("div", {
                            className: "stat-value",
                            children: e.achievements || 0
                        }), d.jsx("div", {
                            className: "stat-label",
                            children: "Achievements"
                        })]
                    })]
                }), e.bio && d.jsxs("div", {
                    className: "profile-section",
                    children: [d.jsxs("h3", {
                        className: "section-heading",
                        children: [d.jsx(Do, {
                            size: 18
                        }), " About"]
                    }), d.jsx("p", {
                        className: "section-content",
                        children: e.bio
                    })]
                }), d.jsxs("div", {
                    className: "profile-section",
                    children: [d.jsx("h3", {
                        className: "section-heading",
                        children: "Contact Information"
                    }), d.jsxs("div", {
                        className: "contact-grid",
                        children: [e.phone && d.jsxs("div", {
                            className: "contact-item",
                            children: [d.jsx(Fd, {
                                size: 18,
                                className: "contact-icon"
                            }), d.jsxs("div", {
                                children: [d.jsx("div", {
                                    className: "contact-label",
                                    children: "Phone"
                                }), d.jsxs("div", {
                                    className: "contact-value",
                                    children: [e.country_code, " ", e.phone]
                                })]
                            })]
                        }), e.address && d.jsxs("div", {
                            className: "contact-item",
                            children: [d.jsx(S5, {
                                size: 18,
                                className: "contact-icon"
                            }), d.jsxs("div", {
                                children: [d.jsx("div", {
                                    className: "contact-label",
                                    children: "Address"
                                }), d.jsx("div", {
                                    className: "contact-value",
                                    children: e.address
                                })]
                            })]
                        }), e.occupation && d.jsxs("div", {
                            className: "contact-item",
                            children: [d.jsx(Xk, {
                                size: 18,
                                className: "contact-icon"
                            }), d.jsxs("div", {
                                children: [d.jsx("div", {
                                    className: "contact-label",
                                    children: "Occupation"
                                }), d.jsx("div", {
                                    className: "contact-value",
                                    children: e.occupation
                                })]
                            })]
                        }), e.email && d.jsxs("div", {
                            className: "contact-item",
                            children: [d.jsx(Am, {
                                size: 18,
                                className: "contact-icon"
                            }), d.jsxs("div", {
                                children: [d.jsx("div", {
                                    className: "contact-label",
                                    children: "Email"
                                }), d.jsx("div", {
                                    className: "contact-value",
                                    children: e.email
                                })]
                            })]
                        })]
                    })]
                }), e.children && e.children.length > 0 && d.jsxs("div", {
                    className: "profile-section",
                    children: [d.jsxs("h3", {
                        className: "section-heading",
                        children: [d.jsx(Jn, {
                            size: 18
                        }), " Children"]
                    }), d.jsx("div", {
                        className: "children-list",
                        children: e.children.map(u => d.jsxs("div", {
                            className: "child-card",
                            children: [d.jsxs("div", {
                                className: "child-name",
                                children: [u.first_name, " ", u.last_name]
                            }), d.jsx("div", {
                                className: "child-meta",
                                children: u.age ? `${u.age} yrs` : u.class_name || "Student"
                            })]
                        }, u.id))
                    })]
                }), (e.github || e.linkedin || e.x || e.facebook || e.instagram) && d.jsxs("div", {
                    className: "profile-section",
                    children: [d.jsx("h3", {
                        className: "section-heading",
                        children: "Social Profiles"
                    }), d.jsxs("div", {
                        className: "social-links-view",
                        children: [e.github && d.jsxs("a", {
                            href: e.github,
                            target: "_blank",
                            rel: "noopener noreferrer",
                            className: "social-link github",
                            children: [d.jsx(Il, {
                                size: 20
                            }), d.jsx("span", {
                                children: "GitHub"
                            })]
                        }), e.linkedin && d.jsxs("a", {
                            href: e.linkedin,
                            target: "_blank",
                            rel: "noopener noreferrer",
                            className: "social-link linkedin",
                            children: [d.jsx(Bd, {
                                size: 20
                            }), d.jsx("span", {
                                children: "LinkedIn"
                            })]
                        }), e.x && d.jsxs("a", {
                            href: e.x,
                            target: "_blank",
                            rel: "noopener noreferrer",
                            className: "social-link twitter",
                            children: [d.jsx(Hd, {
                                size: 20
                            }), d.jsx("span", {
                                children: "X"
                            })]
                        }), e.facebook && d.jsxs("a", {
                            href: e.facebook,
                            target: "_blank",
                            rel: "noopener noreferrer",
                            className: "social-link facebook",
                            children: [d.jsx(zd, {
                                size: 20
                            }), d.jsx("span", {
                                children: "Facebook"
                            })]
                        }), e.instagram && d.jsxs("a", {
                            href: e.instagram,
                            target: "_blank",
                            rel: "noopener noreferrer",
                            className: "social-link instagram",
                            children: [d.jsx(Ld, {
                                size: 20
                            }), d.jsx("span", {
                                children: "Instagram"
                            })]
                        })]
                    })]
                })]
            })]
        })]
    }) : d.jsx("div", {
        className: "profile-view-container",
        children: d.jsx("div", {
            className: "error",
            children: "Parent profile not found"
        })
    })
}
const T6 = t => W.post("/teacher/courses", t)
  , sT = t => W.post(`/teacher/courses/${t}/publish`)
  , iT = t => W.post(`/teacher/courses/${t}/archive`)
  , D6 = t => W.get(`/teacher/courses/${t}/chapters`)
  , lT = (t, e) => W.post(`/teacher/courses/${t}/chapters`, {
    chapters: e
})
  , aT = (t, e, n) => W.put(`/teacher/courses/${t}/chapters/${e}`, n)
  , oT = (t, e) => W.delete(`/teacher/courses/${t}/chapters/${e}`)
  , uT = (t, e) => W.post(`/teacher/courses/${t}/chapters/${e}/publish`)
  , cT = t => W.get(`/teacher/chapters/${t}/lessons`)
  , M6 = (t, e) => W.post(`/teacher/chapters/${t}/lessons`, e)
  , dT = (t, e, n) => W.put(`/teacher/chapters/${t}/lessons/${e}`, n)
  , fT = (t, e) => W.delete(`/teacher/chapters/${t}/lessons/${e}`)
  , hT = (t, e) => W.post(`/teacher/chapters/${t}/lessons/${e}/publish`)
  , pT = t => W.get(`/teacher/lessons/${t}/content`)
  , mT = (t, e) => W.patch(`/teacher/lessons/${t}/content`, e)
  , gT = t => W.get(`/student/lessons/${t}/comments`)
  , xT = (t, e) => W.post(`/student/lessons/${t}/comments`, e)
  , bT = t => W.delete(`/student/lessons/comments/${t}`)
  , yT = (t, e) => W.post(`/student/courses/${t}/rating`, e)
  , vT = t => W.get(`/student/courses/${t}/reviews`)
  , NT = t => W.get(`/teacher/courses/${t}/exams`)
  , wT = t => W.get(`/teacher/analytics/courses/${t}`)
  , CT = () => W.get("/teacher/analytics/teacher/dashboard")
  , ST = (t, e) => W.post(`/teacher/courses/${t}/thumbnail`, e, {
    headers: {
        "Content-Type": "multipart/form-data"
    }
});
function jT() {
    const t = Ye()
      , [e,n] = k.useState(null)
      , [r,s] = k.useState(!0)
      , [l,o] = k.useState(!1)
      , [u,f] = k.useState({
        title: "",
        description: "",
        price: 0,
        currency: "USD",
        thumbnail_url: ""
    });
    k.useEffect( () => {
        p()
    }
    , []);
    const p = async () => {
        try {
            s(!0);
            const y = await CT();
            n(y.data)
        } catch (y) {
            console.error("Error fetching teacher dashboard:", y)
        } finally {
            s(!1)
        }
    }
      , m = async y => {
        y.preventDefault();
        try {
            const w = await T6(u);
            f({
                title: "",
                description: "",
                price: 0,
                currency: "USD"
            }),
            o(!1),
            t(`/teacher/course/${w.data.course_id}/dashboard`)
        } catch (w) {
            console.error("Error creating course:", w),
            alert("Error creating course")
        }
    }
      , g = async () => {
        try {
            await W.get("/auth/logout"),
            t("/")
        } catch (y) {
            console.error("Logout error:", y)
        }
    }
      , v = async y => {
        try {
            await sT(y),
            p(),
            alert("Course published successfully!")
        } catch (w) {
            console.error("Error publishing course:", w),
            alert("Failed to publish course")
        }
    }
      , N = async y => {
        if (window.confirm("Are you sure you want to archive this course?"))
            try {
                await iT(y),
                p(),
                alert("Course archived successfully!")
            } catch (w) {
                console.error("Error archiving course:", w),
                alert("Failed to archive course")
            }
    }
    ;
    return r ? d.jsxs("div", {
        className: "flex items-center justify-center min-h-screen bg-gray-50",
        children: [d.jsxs("div", {
            className: "text-center",
            children: [d.jsx("div", {
                className: "animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"
            }), d.jsx("p", {
                className: "text-gray-500 text-lg",
                children: "Loading your dashboard..."
            })]
        }), d.jsx(Us, {
            floating: !0
        })]
    }) : d.jsxs("div", {
        className: "bg-gray-50 min-h-screen",
        children: [d.jsx("header", {
            className: "bg-white shadow sticky top-0 z-50",
            children: d.jsxs("div", {
                className: "max-w-7xl mx-auto px-6 py-4 flex justify-between items-center",
                children: [d.jsx("h1", {
                    className: "text-2xl font-bold text-gray-900",
                    children: "NeuraAcademy Teacher"
                }), d.jsxs("div", {
                    className: "flex gap-4 items-center",
                    children: [d.jsxs("button", {
                        onClick: () => t("/teacher/profile/view"),
                        className: "text-gray-600 hover:text-indigo-600 font-medium transition",
                        children: [d.jsx(s6, {
                            size: 18
                        }), " Profile"]
                    }), d.jsxs("button", {
                        onClick: g,
                        className: "flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-semibold transition",
                        children: [d.jsx(Kr, {
                            size: 18
                        }), " Logout"]
                    })]
                })]
            })
        }), d.jsxs("main", {
            className: "max-w-7xl mx-auto px-6 py-8 space-y-10",
            children: [d.jsxs("section", {
                className: "mb-8",
                children: [d.jsxs("h2", {
                    className: "text-4xl font-bold text-gray-900 flex items-center gap-3",
                    children: ["Welcome back, ", d.jsx("span", {
                        className: "text-indigo-600",
                        children: e?.first_name || "Teacher"
                    }), "!", d.jsx(Zk, {
                        size: 32,
                        className: "text-indigo-500"
                    })]
                }), d.jsx("p", {
                    className: "text-gray-600 mt-2",
                    children: "Manage your courses, track student progress, and view analytics."
                })]
            }), e && d.jsx("section", {
                className: "grid grid-cols-1 md:grid-cols-4 gap-6",
                children: [{
                    label: "Total Courses",
                    value: e.total_courses,
                    icon: d.jsx(cr, {
                        size: 28,
                        className: "text-blue-500"
                    })
                }, {
                    label: "Total Students",
                    value: e.total_students,
                    icon: d.jsx(Jn, {
                        size: 28,
                        className: "text-green-500"
                    })
                }, {
                    label: "Total Revenue",
                    value: `$${e.total_revenue.toFixed(2)}`,
                    icon: d.jsx(f5, {
                        size: 28,
                        className: "text-green-600"
                    })
                }, {
                    label: "Avg Rating",
                    value: (e.average_rating || 0).toFixed(1),
                    icon: d.jsx(Bc, {
                        size: 28,
                        className: "text-yellow-500"
                    })
                }].map( (y, w) => d.jsxs("div", {
                    className: "bg-white p-6 rounded-xl shadow hover:shadow-xl transition flex items-center gap-4",
                    children: [d.jsx("div", {
                        className: "p-4 bg-gray-100 rounded-full",
                        children: y.icon
                    }), d.jsxs("div", {
                        children: [d.jsx("p", {
                            className: "text-gray-500 font-medium",
                            children: y.label
                        }), d.jsx("p", {
                            className: "text-2xl font-bold text-gray-900",
                            children: y.value
                        })]
                    })]
                }, w))
            }), d.jsxs("section", {
                children: [d.jsxs("div", {
                    className: "flex justify-between items-center mb-4",
                    children: [d.jsx("h3", {
                        className: "text-2xl font-bold text-gray-900",
                        children: "My Courses"
                    }), d.jsx("button", {
                        onClick: () => o(!l),
                        className: "bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-semibold transition",
                        children: l ? "Cancel" : "+ New Course"
                    })]
                }), l && d.jsxs("div", {
                    className: "bg-white p-6 rounded-xl shadow mb-6",
                    children: [d.jsx("h3", {
                        className: "text-xl font-semibold mb-6",
                        children: "Create New Course"
                    }), d.jsxs("form", {
                        onSubmit: m,
                        className: "space-y-4",
                        children: [d.jsxs("div", {
                            className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                            children: [d.jsx("input", {
                                type: "text",
                                placeholder: "Course Title",
                                value: u.title,
                                onChange: y => f({
                                    ...u,
                                    title: y.target.value
                                }),
                                required: !0,
                                className: "border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 w-full"
                            }), d.jsxs("div", {
                                className: "flex gap-2",
                                children: [d.jsx("input", {
                                    type: "number",
                                    placeholder: "Price",
                                    value: u.price,
                                    onChange: y => f({
                                        ...u,
                                        price: parseFloat(y.target.value)
                                    }),
                                    className: "flex-1 border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                }), d.jsxs("select", {
                                    value: u.currency,
                                    onChange: y => f({
                                        ...u,
                                        currency: y.target.value
                                    }),
                                    className: "border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",
                                    children: [d.jsx("option", {
                                        value: "USD",
                                        children: "USD"
                                    }), d.jsx("option", {
                                        value: "EUR",
                                        children: "EUR"
                                    }), d.jsx("option", {
                                        value: "GBP",
                                        children: "GBP"
                                    })]
                                })]
                            })]
                        }), d.jsx("textarea", {
                            placeholder: "Course Description",
                            value: u.description,
                            onChange: y => f({
                                ...u,
                                description: y.target.value
                            }),
                            rows: 4,
                            className: "w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"
                        }), d.jsx("input", {
                            type: "text",
                            placeholder: "Thumbnail URL (optional)",
                            value: u.thumbnail_url,
                            onChange: y => f({
                                ...u,
                                thumbnail_url: y.target.value
                            }),
                            className: "w-full border border-gray-300 rounded-lg px-4 py-2 mt-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"
                        }), d.jsx("button", {
                            type: "submit",
                            className: "bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-semibold transition",
                            children: "Create Course"
                        })]
                    })]
                })]
            }), d.jsx("section", {
                children: e?.courses.length === 0 ? d.jsxs("div", {
                    className: "bg-white rounded-xl shadow p-12 text-center",
                    children: [d.jsx(cr, {
                        size: 48,
                        className: "mx-auto mb-4 text-indigo-500"
                    }), d.jsx("p", {
                        className: "text-xl text-gray-600 mb-4",
                        children: "You haven't created any courses yet"
                    }), d.jsx("button", {
                        onClick: () => o(!0),
                        className: "bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-semibold transition",
                        children: "Create Your First Course"
                    })]
                }) : d.jsx("div", {
                    className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",
                    children: e?.courses.map(y => d.jsxs("div", {
                        className: "bg-white rounded-xl shadow hover:shadow-xl transition overflow-hidden",
                        children: [d.jsx("img", {
                            src: y.thumbnail_url || "/images/course_.jpg",
                            alt: y.title,
                            className: "w-full h-40 object-cover"
                        }), d.jsxs("div", {
                            className: "p-6 space-y-4",
                            children: [d.jsxs("div", {
                                className: "flex justify-between items-start mb-2",
                                children: [d.jsx("h3", {
                                    className: "text-lg font-semibold text-gray-900 flex-1",
                                    children: y.title
                                }), d.jsx("span", {
                                    className: `px-3 py-1 rounded-full text-xs font-semibold ${y.status === "published" ? "bg-green-100 text-green-800" : y.status === "archived" ? "bg-gray-100 text-gray-800" : "bg-yellow-100 text-yellow-800"}`,
                                    children: y.status
                                })]
                            }), d.jsxs("div", {
                                className: "space-y-2 text-sm text-gray-600",
                                children: [d.jsxs("div", {
                                    className: "flex justify-between",
                                    children: [d.jsx("span", {
                                        children: "Students"
                                    }), d.jsx("span", {
                                        className: "font-semibold",
                                        children: y.enrollments
                                    })]
                                }), d.jsxs("div", {
                                    className: "flex justify-between",
                                    children: [d.jsx("span", {
                                        children: "Rating"
                                    }), d.jsx("span", {
                                        className: "font-semibold",
                                        children: y.average_rating
                                    })]
                                }), y.revenue > 0 && d.jsxs("div", {
                                    className: "flex justify-between",
                                    children: [d.jsx("span", {
                                        children: "Revenue"
                                    }), d.jsxs("span", {
                                        className: "font-semibold",
                                        children: ["$", y.revenue.toFixed(2)]
                                    })]
                                })]
                            }), d.jsxs("div", {
                                className: "flex gap-2",
                                children: [d.jsx("button", {
                                    onClick: () => t(`/teacher/course/${y.id}/dashboard`),
                                    className: "flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg font-semibold transition text-sm",
                                    children: "Manage"
                                }), y.status !== "published" && d.jsx("button", {
                                    onClick: () => v(y.id),
                                    className: "flex-1 bg-green-600 hover:bg-green-700 text-white py-2 rounded-lg font-semibold transition text-sm",
                                    children: "Publish"
                                }), y.status !== "archived" && d.jsx("button", {
                                    onClick: () => N(y.id),
                                    className: "px-3 bg-red-100 hover:bg-red-200 text-red-700 py-2 rounded-lg font-semibold transition text-sm",
                                    children: "Archive"
                                })]
                            })]
                        })]
                    }, y.id))
                })
            })]
        }), d.jsx(Us, {
            floating: !0
        })]
    })
}
function ET() {
    const t = Ye()
      , [e,n] = k.useState(null)
      , [r,s] = k.useState(!0);
    k.useEffect( () => {
        l()
    }
    , []);
    const l = async () => {
        try {
            s(!0);
            const u = await W.get("/admin/dashboard");
            n(u.data)
        } catch (u) {
            console.error("Error fetching admin dashboard:", u)
        } finally {
            s(!1)
        }
    }
      , o = async () => {
        try {
            await W.get("/auth/logout"),
            t("/")
        } catch (u) {
            console.error("Logout error:", u)
        }
    }
    ;
    return r ? d.jsxs("div", {
        className: "flex items-center justify-center min-h-screen bg-gray-50",
        children: [d.jsxs("div", {
            className: "text-center",
            children: [d.jsx("div", {
                className: "animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"
            }), d.jsx("p", {
                className: "text-gray-500 text-lg",
                children: "Loading admin dashboard..."
            })]
        }), d.jsx(Us, {
            floating: !0
        })]
    }) : d.jsxs("div", {
        className: "bg-gray-50 min-h-screen",
        children: [d.jsx("header", {
            className: "bg-white shadow sticky top-0 z-50",
            children: d.jsxs("div", {
                className: "max-w-7xl mx-auto px-6 py-4 flex justify-between items-center",
                children: [d.jsxs("div", {
                    className: "flex items-center gap-3",
                    children: [d.jsx(a2, {
                        size: 28,
                        className: "text-indigo-600"
                    }), d.jsx("h1", {
                        className: "text-2xl font-bold text-gray-900",
                        children: "NeuraAcademy Admin"
                    })]
                }), d.jsxs("div", {
                    className: "flex gap-4 items-center",
                    children: [d.jsx("button", {
                        onClick: () => t("/admin/profile/view"),
                        className: "text-gray-600 hover:text-indigo-600 font-medium transition",
                        children: "Profile"
                    }), d.jsxs("button", {
                        onClick: o,
                        className: "flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-semibold transition",
                        children: [d.jsx(Kr, {
                            size: 18
                        }), " Logout"]
                    })]
                })]
            })
        }), d.jsxs("main", {
            className: "max-w-7xl mx-auto px-6 py-8 space-y-10",
            children: [d.jsxs("section", {
                children: [d.jsxs("h2", {
                    className: "text-4xl font-bold text-gray-900 mb-2",
                    children: ["Welcome back, ", e?.first_name || "Admin"]
                }), d.jsx("p", {
                    className: "text-gray-600",
                    children: "Manage platform users, courses, content, and view platform analytics"
                })]
            }), e && d.jsx("section", {
                className: "grid grid-cols-1 md:grid-cols-4 gap-6",
                children: [{
                    label: "Total Users",
                    value: e.total_users || 0,
                    icon: d.jsx(Jn, {
                        size: 28,
                        className: "text-indigo-500"
                    })
                }, {
                    label: "Total Courses",
                    value: e.total_courses || 0,
                    icon: d.jsx(cr, {
                        size: 28,
                        className: "text-green-500"
                    })
                }, {
                    label: "Active Teachers",
                    value: e.total_teachers || 0,
                    icon: d.jsx(a2, {
                        size: 28,
                        className: "text-purple-500"
                    })
                }, {
                    label: "Avg Platform Rating",
                    value: (e.average_rating || 0).toFixed(1),
                    icon: d.jsx(Fc, {
                        size: 28,
                        className: "text-yellow-500"
                    })
                }].map( (u, f) => d.jsxs("div", {
                    className: "bg-white p-6 rounded-xl shadow hover:shadow-xl transition flex items-center gap-4",
                    children: [d.jsx("div", {
                        className: "p-4 bg-gray-100 rounded-full",
                        children: u.icon
                    }), d.jsxs("div", {
                        children: [d.jsx("p", {
                            className: "text-gray-500 font-medium",
                            children: u.label
                        }), d.jsx("p", {
                            className: "text-2xl font-bold text-gray-900",
                            children: u.value
                        })]
                    })]
                }, f))
            }), e && d.jsx("section", {
                className: "grid grid-cols-1 md:grid-cols-3 gap-6",
                children: [{
                    label: "Active Students",
                    value: e.total_students || 0,
                    icon: d.jsx(Jn, {
                        size: 24,
                        className: "text-blue-600"
                    }),
                    bg: "bg-blue-100"
                }, {
                    label: "Total Revenue",
                    value: `$${e.total_revenue || 0}`,
                    icon: d.jsx(Fc, {
                        size: 24,
                        className: "text-green-600"
                    }),
                    bg: "bg-green-100"
                }, {
                    label: "Total Lessons",
                    value: e.total_lessons || 0,
                    icon: d.jsx(cr, {
                        size: 24,
                        className: "text-purple-600"
                    }),
                    bg: "bg-purple-100"
                }].map( (u, f) => d.jsxs("div", {
                    className: "bg-white p-6 rounded-xl shadow hover:shadow-xl transition flex items-center gap-4",
                    children: [d.jsx("div", {
                        className: `${u.bg} p-3 rounded-lg`,
                        children: u.icon
                    }), d.jsxs("div", {
                        children: [d.jsx("p", {
                            className: "text-gray-500 text-sm",
                            children: u.label
                        }), d.jsx("p", {
                            className: "text-2xl font-bold text-gray-900",
                            children: u.value
                        })]
                    })]
                }, f))
            }), e?.recent_users?.length > 0 && d.jsxs("section", {
                className: "bg-white rounded-xl shadow overflow-hidden",
                children: [d.jsx("div", {
                    className: "px-6 py-4 border-b border-gray-200",
                    children: d.jsx("h3", {
                        className: "text-xl font-bold text-gray-900",
                        children: "Recent Users"
                    })
                }), d.jsx("div", {
                    className: "overflow-x-auto",
                    children: d.jsxs("table", {
                        className: "w-full",
                        children: [d.jsx("thead", {
                            className: "bg-gray-50",
                            children: d.jsxs("tr", {
                                children: [d.jsx("th", {
                                    className: "px-6 py-3 text-left text-sm font-medium text-gray-700",
                                    children: "Name"
                                }), d.jsx("th", {
                                    className: "px-6 py-3 text-left text-sm font-medium text-gray-700",
                                    children: "Role"
                                }), d.jsx("th", {
                                    className: "px-6 py-3 text-left text-sm font-medium text-gray-700",
                                    children: "Email"
                                }), d.jsx("th", {
                                    className: "px-6 py-3 text-left text-sm font-medium text-gray-700",
                                    children: "Joined"
                                })]
                            })
                        }), d.jsx("tbody", {
                            children: e.recent_users.map( (u, f) => d.jsxs("tr", {
                                className: "border-t border-gray-200 hover:bg-gray-50",
                                children: [d.jsxs("td", {
                                    className: "px-6 py-4 text-sm text-gray-900",
                                    children: [u.first_name, " ", u.last_name]
                                }), d.jsx("td", {
                                    className: "px-6 py-4 text-sm",
                                    children: d.jsx("span", {
                                        className: `px-3 py-1 rounded-full text-xs font-medium ${u.role === "student" ? "bg-blue-100 text-blue-800" : u.role === "teacher" ? "bg-green-100 text-green-800" : u.role === "parent" ? "bg-purple-100 text-purple-800" : "bg-gray-100 text-gray-800"}`,
                                        children: u.role
                                    })
                                }), d.jsx("td", {
                                    className: "px-6 py-4 text-sm text-gray-600",
                                    children: u.email
                                }), d.jsx("td", {
                                    className: "px-6 py-4 text-sm text-gray-600",
                                    children: u.created_at ? new Date(u.created_at).toLocaleDateString() : "N/A"
                                })]
                            }, f))
                        })]
                    })
                })]
            }), e?.pending_courses?.length > 0 && d.jsxs("section", {
                className: "bg-white rounded-xl shadow overflow-hidden",
                children: [d.jsx("div", {
                    className: "px-6 py-4 border-b border-gray-200",
                    children: d.jsx("h3", {
                        className: "text-xl font-bold text-gray-900",
                        children: "Pending Courses"
                    })
                }), d.jsx("div", {
                    className: "overflow-x-auto",
                    children: d.jsxs("table", {
                        className: "w-full",
                        children: [d.jsx("thead", {
                            className: "bg-gray-50",
                            children: d.jsxs("tr", {
                                children: [d.jsx("th", {
                                    className: "px-6 py-3 text-left text-sm font-medium text-gray-700",
                                    children: "Course Title"
                                }), d.jsx("th", {
                                    className: "px-6 py-3 text-left text-sm font-medium text-gray-700",
                                    children: "Instructor"
                                }), d.jsx("th", {
                                    className: "px-6 py-3 text-left text-sm font-medium text-gray-700",
                                    children: "Status"
                                }), d.jsx("th", {
                                    className: "px-6 py-3 text-left text-sm font-medium text-gray-700",
                                    children: "Created"
                                })]
                            })
                        }), d.jsx("tbody", {
                            children: e.pending_courses.map( (u, f) => d.jsxs("tr", {
                                className: "border-t border-gray-200 hover:bg-gray-50",
                                children: [d.jsx("td", {
                                    className: "px-6 py-4 text-sm font-medium text-gray-900",
                                    children: u.title
                                }), d.jsx("td", {
                                    className: "px-6 py-4 text-sm text-gray-600",
                                    children: u.instructor_name || "Unknown"
                                }), d.jsx("td", {
                                    className: "px-6 py-4 text-sm",
                                    children: d.jsx("span", {
                                        className: "px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",
                                        children: u.status || "Pending"
                                    })
                                }), d.jsx("td", {
                                    className: "px-6 py-4 text-sm text-gray-600",
                                    children: u.created_at ? new Date(u.created_at).toLocaleDateString() : "N/A"
                                })]
                            }, f))
                        })]
                    })
                })]
            })]
        }), d.jsx(Us, {
            floating: !0
        })]
    })
}
function kT() {
    return d.jsxs(d.Fragment, {
        children: [d.jsxs("header", {
            style: vn.header,
            children: [d.jsx("h2", {
                children: "NeuraAcademy"
            }), d.jsxs("nav", {
                style: vn.nav,
                children: [d.jsx(xt, {
                    to: "/parent/dashboard",
                    children: "Dashboard"
                }), d.jsx(xt, {
                    to: "/parent/child",
                    children: "Child Profile"
                }), d.jsx(xt, {
                    to: "/parent/progress",
                    children: "Progress"
                }), d.jsx(xt, {
                    to: "/parent/profile/view",
                    children: "Profile"
                }), d.jsx(xt, {
                    to: "/auth/logout",
                    children: "Logout"
                })]
            })]
        }), d.jsxs("main", {
            style: vn.main,
            children: [d.jsxs("section", {
                style: vn.welcome,
                children: [d.jsx("h1", {
                    children: "Welcome "
                }), d.jsx("p", {
                    children: "Monitor your childs learning and stay connected."
                })]
            }), d.jsxs("section", {
                style: vn.stats,
                children: [d.jsxs("div", {
                    style: vn.card,
                    children: [d.jsx("h3", {
                        children: "Linked Child"
                    }), d.jsx("p", {
                        children: "Not linked"
                    })]
                }), d.jsxs("div", {
                    style: vn.card,
                    children: [d.jsx("h3", {
                        children: "Courses Enrolled"
                    }), d.jsx("p", {
                        children: "0"
                    })]
                }), d.jsxs("div", {
                    style: vn.card,
                    children: [d.jsx("h3", {
                        children: "Attendance"
                    }), d.jsx("p", {
                        children: ""
                    })]
                })]
            }), d.jsxs("section", {
                style: vn.actions,
                children: [d.jsx(xt, {
                    to: "/parent/link-child",
                    style: vn.actionBtn,
                    children: " Link Child Account"
                }), d.jsx(xt, {
                    to: "/parent/messages",
                    style: vn.actionBtn,
                    children: " Message Teachers"
                })]
            }), d.jsxs("section", {
                style: vn.info,
                children: [d.jsx("h3", {
                    children: "Parent Controls"
                }), d.jsxs("ul", {
                    children: [d.jsx("li", {
                        children: "View course progress"
                    }), d.jsx("li", {
                        children: "Receive academic updates"
                    }), d.jsx("li", {
                        children: "Communicate with teachers"
                    })]
                })]
            })]
        }), d.jsxs("footer", {
            style: vn.footer,
            children: [" ", new Date().getFullYear(), " NeuraAcademy"]
        }), d.jsx(Us, {
            floating: !0
        })]
    })
}
const vn = {
    header: {
        display: "flex",
        justifyContent: "space-between",
        padding: "1rem 2rem",
        borderBottom: "1px solid #ddd"
    },
    nav: {
        display: "flex",
        gap: "1.5rem"
    },
    main: {
        padding: "2rem"
    },
    welcome: {
        marginBottom: "2rem"
    },
    stats: {
        display: "grid",
        gridTemplateColumns: "repeat(auto-fit, minmax(200px, 1fr))",
        gap: "1.5rem",
        marginBottom: "2rem"
    },
    card: {
        padding: "1.5rem",
        border: "1px solid #ddd",
        borderRadius: "8px",
        textAlign: "center"
    },
    actions: {
        display: "flex",
        gap: "1rem",
        marginBottom: "2rem"
    },
    actionBtn: {
        padding: "0.75rem 1.5rem",
        border: "1px solid black",
        borderRadius: "6px",
        textDecoration: "none",
        color: "black"
    },
    info: {
        borderTop: "1px solid #eee",
        paddingTop: "1.5rem"
    },
    footer: {
        textAlign: "center",
        padding: "1rem",
        borderTop: "1px solid #ddd",
        marginTop: "3rem"
    }
};
function AT() {
    const [t,e] = k.useState("")
      , [n,r] = k.useState("")
      , [s,l] = k.useState(!1)
      , [o,u] = k.useState(null)
      , f = Ye()
      , p = async m => {
        m.preventDefault(),
        l(!0),
        u(null);
        try {
            const g = new FormData;
            g.append("parent_code", n),
            g.append("student_id", t),
            g.append("action", "link_request");
            const v = await W.post("/parent/profile", g, {
                headers: {
                    "Content-Type": "multipart/form-data"
                }
            });
            u(v.data.message || "Request sent"),
            l(!1),
            f("/parent/dashboard")
        } catch (g) {
            l(!1),
            u(g.response?.data || g.message)
        }
    }
    ;
    return d.jsxs("div", {
        style: {
            padding: 20
        },
        children: [d.jsx("h2", {
            children: "Link Child Account"
        }), d.jsxs("form", {
            onSubmit: p,
            children: [d.jsxs("div", {
                children: [d.jsx("label", {
                    children: "Parent Code"
                }), d.jsx("br", {}), d.jsx("input", {
                    value: n,
                    onChange: m => r(m.target.value),
                    required: !0
                })]
            }), d.jsxs("div", {
                children: [d.jsx("label", {
                    children: "Student ID"
                }), d.jsx("br", {}), d.jsx("input", {
                    value: t,
                    onChange: m => e(m.target.value),
                    required: !0
                })]
            }), d.jsx("button", {
                type: "submit",
                disabled: s,
                children: s ? "Sending..." : "Send Link Request"
            })]
        }), o && d.jsx("div", {
            style: {
                marginTop: 12
            },
            children: String(o)
        })]
    })
}
function _T() {
    const [t,e] = k.useState([])
      , [n,r] = k.useState(!0)
      , [s,l] = k.useState(null)
      , o = async () => {
        r(!0);
        try {
            const f = await W.get("/student/parent_requests");
            e(f.data.requests || [])
        } catch (f) {
            console.error(f.response?.data || f.message)
        } finally {
            r(!1)
        }
    }
    ;
    k.useEffect( () => {
        o()
    }
    , []);
    const u = async (f, p) => {
        l(f);
        try {
            await W.post(`/student/parent_requests/${f}/respond`, {
                action: p
            }),
            await o()
        } catch (m) {
            console.error(m.response?.data || m.message)
        } finally {
            l(null)
        }
    }
    ;
    return n ? d.jsx("div", {
        children: "Loading requests..."
    }) : d.jsxs("div", {
        style: {
            padding: 20
        },
        children: [d.jsx("h2", {
            children: "Pending Parent Requests"
        }), t.length === 0 && d.jsx("div", {
            children: "No pending requests"
        }), d.jsx("ul", {
            children: t.map(f => d.jsxs("li", {
                style: {
                    marginBottom: 12
                },
                children: [d.jsxs("div", {
                    children: [d.jsx("strong", {
                        children: "From:"
                    }), " ", f.parent_name || f.parent_code]
                }), d.jsxs("div", {
                    children: [d.jsx("strong", {
                        children: "Requested:"
                    }), " ", f.requested_at]
                }), d.jsxs("div", {
                    style: {
                        marginTop: 6
                    },
                    children: [d.jsx("button", {
                        onClick: () => u(f.id, "approve"),
                        disabled: s === f.id,
                        children: "Approve"
                    }), d.jsx("button", {
                        onClick: () => u(f.id, "reject"),
                        disabled: s === f.id,
                        style: {
                            marginLeft: 8
                        },
                        children: "Reject"
                    })]
                })]
            }, f.id))
        })]
    })
}
function TT() {
    const t = Ye()
      , [e,n] = k.useState({
        title: "",
        description: "",
        price: 0,
        currency: "USD"
    })
      , [r,s] = k.useState(!1)
      , l = async o => {
        if (o.preventDefault(),
        !e.title.trim()) {
            alert("Please enter a course title");
            return
        }
        s(!0);
        try {
            const u = await T6(e);
            t(`/teacher/course/${u.data.course_id}/dashboard`)
        } catch (u) {
            console.error("Error creating course:", u),
            alert("Error creating course")
        } finally {
            s(!1)
        }
    }
    ;
    return d.jsxs("div", {
        className: "min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",
        children: [d.jsx("div", {
            className: "bg-gradient-blue-purple text-white py-12 shadow-lg",
            children: d.jsxs("div", {
                className: "max-w-4xl mx-auto px-6",
                children: [d.jsx("button", {
                    onClick: () => t("/teacher/dashboard"),
                    className: "text-white hover:text-blue-100 mb-6 font-medium transition",
                    children: " Back to Dashboard"
                }), d.jsx("h1", {
                    className: "text-4xl font-bold mb-2",
                    children: "Create a New Course"
                }), d.jsx("p", {
                    className: "text-blue-100 text-lg",
                    children: "Start building your next course and inspire learners"
                })]
            })
        }), d.jsxs("div", {
            className: "max-w-2xl mx-auto px-6 py-12",
            children: [d.jsxs("form", {
                onSubmit: l,
                className: "bg-white rounded-2xl shadow-xl p-8 space-y-6",
                children: [d.jsxs("div", {
                    children: [d.jsx("label", {
                        className: "block text-lg font-semibold text-gray-900 mb-3",
                        children: " Course Title"
                    }), d.jsx("input", {
                        type: "text",
                        placeholder: "Enter an engaging course title",
                        value: e.title,
                        onChange: o => n({
                            ...e,
                            title: o.target.value
                        }),
                        required: !0,
                        className: "form-input w-full text-lg"
                    }), d.jsx("p", {
                        className: "text-sm text-gray-500 mt-2",
                        children: "Make it clear and descriptive"
                    })]
                }), d.jsxs("div", {
                    children: [d.jsx("label", {
                        className: "block text-lg font-semibold text-gray-900 mb-3",
                        children: " Description"
                    }), d.jsx("textarea", {
                        placeholder: "Describe what students will learn in this course...",
                        value: e.description,
                        onChange: o => n({
                            ...e,
                            description: o.target.value
                        }),
                        rows: "6",
                        className: "form-textarea w-full text-lg"
                    }), d.jsx("p", {
                        className: "text-sm text-gray-500 mt-2",
                        children: "Be specific about the course content and learning outcomes"
                    })]
                }), d.jsxs("div", {
                    className: "grid grid-cols-2 gap-4",
                    children: [d.jsxs("div", {
                        children: [d.jsx("label", {
                            className: "block text-lg font-semibold text-gray-900 mb-3",
                            children: " Price"
                        }), d.jsx("input", {
                            type: "number",
                            placeholder: "0",
                            value: e.price,
                            onChange: o => n({
                                ...e,
                                price: parseFloat(o.target.value) || 0
                            }),
                            min: "0",
                            step: "0.01",
                            className: "form-input w-full"
                        })]
                    }), d.jsxs("div", {
                        children: [d.jsx("label", {
                            className: "block text-lg font-semibold text-gray-900 mb-3",
                            children: "Currency"
                        }), d.jsxs("select", {
                            value: e.currency,
                            onChange: o => n({
                                ...e,
                                currency: o.target.value
                            }),
                            className: "form-input w-full",
                            children: [d.jsx("option", {
                                value: "USD",
                                children: "USD ($)"
                            }), d.jsx("option", {
                                value: "EUR",
                                children: "EUR ()"
                            }), d.jsx("option", {
                                value: "GBP",
                                children: "GBP ()"
                            }), d.jsx("option", {
                                value: "INR",
                                children: "INR ()"
                            })]
                        })]
                    })]
                }), d.jsx("div", {
                    className: "bg-blue-50 border-l-4 border-blue-500 p-4 rounded",
                    children: d.jsxs("p", {
                        className: "text-blue-900 text-sm",
                        children: [" ", d.jsx("strong", {
                            children: "Tip:"
                        }), " You can edit all these details and add chapters and lessons after creating the course."]
                    })
                }), d.jsx("button", {
                    type: "submit",
                    disabled: r,
                    className: "w-full bg-gradient-blue-purple hover:shadow-lg disabled:opacity-50 text-white font-bold py-4 px-6 rounded-xl transition transform hover:scale-105 active:scale-95",
                    children: r ? d.jsxs("span", {
                        className: "flex items-center justify-center gap-2",
                        children: [d.jsx("div", {
                            className: "loading-spinner",
                            style: {
                                width: "20px",
                                height: "20px"
                            }
                        }), "Creating Course..."]
                    }) : " Create Course"
                }), d.jsxs("div", {
                    className: "grid grid-cols-3 gap-4 pt-6 border-t border-gray-200",
                    children: [d.jsxs("div", {
                        className: "text-center",
                        children: [d.jsx("div", {
                            className: "text-2xl mb-2",
                            children: ""
                        }), d.jsx("p", {
                            className: "text-sm font-medium text-gray-700",
                            children: "Add Chapters"
                        })]
                    }), d.jsxs("div", {
                        className: "text-center",
                        children: [d.jsx("div", {
                            className: "text-2xl mb-2",
                            children: ""
                        }), d.jsx("p", {
                            className: "text-sm font-medium text-gray-700",
                            children: "Create Lessons"
                        })]
                    }), d.jsxs("div", {
                        className: "text-center",
                        children: [d.jsx("div", {
                            className: "text-2xl mb-2",
                            children: ""
                        }), d.jsx("p", {
                            className: "text-sm font-medium text-gray-700",
                            children: "Track Analytics"
                        })]
                    })]
                })]
            }), d.jsx("div", {
                className: "mt-8 text-center text-gray-600",
                children: d.jsxs("p", {
                    children: ["Need help? ", d.jsx("a", {
                        href: "#",
                        className: "text-blue-600 hover:text-blue-800 font-medium",
                        children: "View documentation"
                    })]
                })
            })]
        })]
    })
}
function DT() {
    const {courseID: t} = $n()
      , e = Ye()
      , [n,r] = k.useState([])
      , [s,l] = k.useState(!1)
      , [o,u] = k.useState(!0);
    k.useEffect( () => {
        f()
    }
    , [t]);
    const f = async () => {
        try {
            const N = await D6(t);
            r(N.data)
        } catch (N) {
            console.error("Error fetching chapters:", N)
        } finally {
            u(!1)
        }
    }
      , p = () => r([...n, {
        chapter_id: null,
        title: "",
        description: "",
        order: n.length + 1,
        status: "draft"
    }])
      , m = (N, y, w) => {
        const C = [...n];
        C[N][y] = w,
        r(C)
    }
      , g = async N => {
        const y = n[N];
        if (y.chapter_id && window.confirm("Delete this chapter?"))
            try {
                await oT(t, y.chapter_id);
                const w = n.filter( (C, E) => E !== N);
                r(w)
            } catch (w) {
                console.error("Error deleting chapter:", w)
            }
    }
      , v = async () => {
        l(!0);
        try {
            const N = n.filter(y => !y.chapter_id);
            N.length > 0 && await lT(t, N);
            for (const y of n.filter(w => w.chapter_id))
                await aT(t, y.chapter_id, {
                    title: y.title,
                    description: y.description
                });
            await f(),
            alert("Chapters saved successfully!")
        } catch (N) {
            console.error("Error saving chapters:", N),
            alert("Error saving chapters")
        } finally {
            l(!1)
        }
    }
    ;
    return o ? d.jsx("div", {
        className: "p-6 text-center text-gray-600",
        children: "Loading chapters..."
    }) : d.jsxs("div", {
        className: "min-h-screen bg-gray-50",
        children: [d.jsx("div", {
            className: "bg-white shadow sticky top-0 z-40",
            children: d.jsx("div", {
                className: "max-w-7xl mx-auto px-6 py-6",
                children: d.jsxs("div", {
                    className: "flex justify-between items-center",
                    children: [d.jsxs("div", {
                        children: [d.jsx("h1", {
                            className: "text-3xl font-bold text-gray-900",
                            children: "Course Chapters"
                        }), d.jsx("p", {
                            className: "text-gray-600 mt-1",
                            children: "Organize your course content into chapters"
                        })]
                    }), d.jsx("button", {
                        onClick: () => e(`/teacher/course/${t}/dashboard`),
                        className: "text-blue-600 hover:text-blue-800 font-medium",
                        children: " Back to Dashboard"
                    })]
                })
            })
        }), d.jsx("div", {
            className: "max-w-4xl mx-auto px-6 py-8",
            children: n.length === 0 ? d.jsxs("div", {
                className: "bg-white rounded-lg shadow p-12 text-center",
                children: [d.jsx("div", {
                    className: "text-5xl mb-4",
                    children: ""
                }), d.jsx("p", {
                    className: "text-xl text-gray-600 mb-6",
                    children: "No chapters yet. Create your first chapter!"
                }), d.jsx("button", {
                    onClick: p,
                    className: "bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition",
                    children: "+ Add Chapter"
                })]
            }) : d.jsxs(d.Fragment, {
                children: [d.jsx("div", {
                    className: "space-y-4 mb-8",
                    children: n.map( (N, y) => d.jsxs("div", {
                        className: "bg-white rounded-lg shadow p-6 hover:shadow-lg transition border-l-4 border-blue-500",
                        children: [d.jsxs("div", {
                            className: "flex items-start justify-between mb-4",
                            children: [d.jsxs("div", {
                                className: "flex-1",
                                children: [d.jsx("input", {
                                    type: "text",
                                    placeholder: `Chapter ${y + 1} Title`,
                                    value: N.title,
                                    onChange: w => m(y, "title", w.target.value),
                                    className: "text-2xl font-bold text-gray-900 bg-transparent border-b-2 border-transparent hover:border-blue-300 focus:border-blue-500 outline-none w-full transition"
                                }), d.jsxs("p", {
                                    className: "text-sm text-gray-500 mt-2",
                                    children: ["Chapter ", N.order]
                                })]
                            }), d.jsx("span", {
                                className: `px-3 py-1 rounded-full text-sm font-semibold ${N.status === "published" ? "bg-green-100 text-green-800" : "bg-yellow-100 text-yellow-800"}`,
                                children: N.status
                            })]
                        }), d.jsx("textarea", {
                            placeholder: "Chapter description (optional)",
                            value: N.description || "",
                            onChange: w => m(y, "description", w.target.value),
                            className: "w-full border border-gray-300 rounded-lg px-4 py-2 text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 mb-4",
                            rows: "2"
                        }), d.jsxs("div", {
                            className: "flex gap-3",
                            children: [d.jsx("button", {
                                onClick: () => e(`/teacher/course/${t}/chapters/${N.chapter_id}/lessons`),
                                disabled: !N.chapter_id,
                                className: "flex-1 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white px-4 py-2 rounded-lg font-medium transition",
                                children: " View Lessons"
                            }), N.chapter_id && N.status !== "published" && d.jsx("button", {
                                onClick: async () => {
                                    try {
                                        await uT(t, N.chapter_id),
                                        await f(),
                                        alert("Chapter published")
                                    } catch (w) {
                                        console.error(w),
                                        alert("Error publishing chapter")
                                    }
                                }
                                ,
                                className: "bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition",
                                children: " Publish"
                            }), N.chapter_id && d.jsx("button", {
                                onClick: () => g(y),
                                className: "bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg font-medium transition",
                                children: " Delete"
                            })]
                        })]
                    }, y))
                }), d.jsxs("div", {
                    className: "bg-white rounded-lg shadow p-6",
                    children: [d.jsx("button", {
                        onClick: p,
                        className: "w-full bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition mb-4",
                        children: "+ Add Chapter"
                    }), d.jsx("button", {
                        onClick: v,
                        disabled: s,
                        className: "w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white px-6 py-3 rounded-lg font-semibold transition",
                        children: s ? "Saving..." : " Save All Chapters"
                    })]
                })]
            })
        })]
    })
}
function MT() {
    const {chapterID: t, courseID: e} = $n()
      , n = Ye()
      , [r,s] = k.useState([])
      , [l,o] = k.useState(!0)
      , [u,f] = k.useState(null)
      , [p,m] = k.useState({});
    k.useEffect( () => {
        g()
    }
    , [t]);
    const g = async () => {
        try {
            const C = await cT(t);
            s(C.data)
        } catch (C) {
            console.error("Error fetching lessons:", C)
        } finally {
            o(!1)
        }
    }
      , v = async () => {
        try {
            await M6(t, {
                title: "New Lesson",
                order: r.length + 1
            }),
            await g()
        } catch (C) {
            console.error("Error creating lesson:", C)
        }
    }
      , N = C => {
        f(C.lesson_id),
        m(C)
    }
      , y = async () => {
        try {
            await dT(t, u, p),
            await g(),
            f(null)
        } catch (C) {
            console.error("Error updating lesson:", C)
        }
    }
      , w = async C => {
        if (window.confirm("Delete this lesson?"))
            try {
                await fT(t, C),
                await g()
            } catch (E) {
                console.error("Error deleting lesson:", E)
            }
    }
    ;
    return l ? d.jsx("div", {
        className: "p-6 text-center text-gray-600",
        children: "Loading lessons..."
    }) : d.jsxs("div", {
        className: "min-h-screen bg-gray-50",
        children: [d.jsx("div", {
            className: "bg-white shadow sticky top-0 z-40",
            children: d.jsxs("div", {
                className: "max-w-7xl mx-auto px-6 py-6 flex justify-between items-center",
                children: [d.jsxs("div", {
                    children: [d.jsx("h1", {
                        className: "text-3xl font-bold text-gray-900",
                        children: "Chapter Lessons"
                    }), d.jsx("p", {
                        className: "text-gray-600 mt-1",
                        children: "Manage lessons within this chapter"
                    })]
                }), d.jsxs("button", {
                    onClick: () => n(`/teacher/course/${e}/chapters`),
                    className: "flex items-center gap-2 text-blue-600 hover:text-blue-800 font-medium",
                    children: [d.jsx(To, {
                        size: 18
                    }), "Back to Chapters"]
                })]
            })
        }), d.jsx("div", {
            className: "max-w-4xl mx-auto px-6 py-8",
            children: r.length === 0 ? d.jsxs("div", {
                className: "bg-white rounded-lg shadow p-12 text-center",
                children: [d.jsx(cr, {
                    size: 56,
                    className: "mx-auto text-gray-400 mb-4"
                }), d.jsx("p", {
                    className: "text-xl text-gray-600 mb-6",
                    children: "No lessons yet. Create your first lesson."
                }), d.jsxs("button", {
                    onClick: v,
                    className: "inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold",
                    children: [d.jsx(l2, {
                        size: 18
                    }), "Add Lesson"]
                })]
            }) : d.jsxs(d.Fragment, {
                children: [d.jsx("div", {
                    className: "space-y-4 mb-8",
                    children: r.map(C => d.jsx("div", {
                        className: "bg-white rounded-lg shadow p-6 border-l-4 border-indigo-500",
                        children: u === C.lesson_id ? d.jsxs("div", {
                            className: "space-y-4",
                            children: [d.jsx("input", {
                                type: "text",
                                value: p.title,
                                onChange: E => m({
                                    ...p,
                                    title: E.target.value
                                }),
                                className: "text-2xl font-bold border-b-2 border-indigo-500 outline-none w-full pb-2"
                            }), d.jsxs("div", {
                                className: "relative",
                                children: [d.jsx(Mp, {
                                    size: 18,
                                    className: "absolute top-3 left-3 text-gray-400"
                                }), d.jsx("input", {
                                    type: "text",
                                    placeholder: "Embed URL",
                                    value: p.embed_url || "",
                                    onChange: E => m({
                                        ...p,
                                        embed_url: E.target.value
                                    }),
                                    className: "w-full pl-10 border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-indigo-500"
                                })]
                            }), d.jsxs("div", {
                                className: "flex gap-3",
                                children: [d.jsxs("button", {
                                    onClick: y,
                                    className: "flex-1 flex items-center justify-center gap-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium",
                                    children: [d.jsx(n6, {
                                        size: 16
                                    }), "Save"]
                                }), d.jsxs("button", {
                                    onClick: () => f(null),
                                    className: "flex-1 flex items-center justify-center gap-2 bg-gray-400 hover:bg-gray-500 text-white px-4 py-2 rounded-lg font-medium",
                                    children: [d.jsx(Ud, {
                                        size: 16
                                    }), "Cancel"]
                                })]
                            })]
                        }) : d.jsxs(d.Fragment, {
                            children: [d.jsxs("div", {
                                className: "flex justify-between items-start mb-4",
                                children: [d.jsxs("div", {
                                    children: [d.jsx("h3", {
                                        className: "text-2xl font-bold text-gray-900",
                                        children: C.title
                                    }), d.jsxs("p", {
                                        className: "text-sm text-gray-500 mt-1",
                                        children: ["Lesson ", C.order]
                                    }), C.embed_url && d.jsxs("p", {
                                        className: "text-sm text-gray-600 mt-2 flex items-center gap-1",
                                        children: [d.jsx(Mp, {
                                            size: 14
                                        }), C.embed_url]
                                    })]
                                }), d.jsx("span", {
                                    className: `px-3 py-1 rounded-full text-sm font-semibold ${C.status === "published" ? "bg-green-100 text-green-800" : "bg-yellow-100 text-yellow-800"}`,
                                    children: C.status
                                })]
                            }), d.jsxs("div", {
                                className: "flex flex-wrap gap-3",
                                children: [d.jsxs("button", {
                                    onClick: () => n(`/teacher/course/${e}/chapters/${t}/lessons/${C.lesson_id}/content`),
                                    className: "flex items-center gap-2 bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-2 rounded-lg font-medium",
                                    children: [d.jsx(L5, {
                                        size: 16
                                    }), "Edit Content"]
                                }), d.jsxs("button", {
                                    onClick: () => N(C),
                                    className: "flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg font-medium",
                                    children: [d.jsx(r6, {
                                        size: 16
                                    }), "Edit Info"]
                                }), C.status !== "published" && d.jsxs("button", {
                                    onClick: async () => {
                                        try {
                                            await hT(t, C.lesson_id),
                                            await g(),
                                            alert("Lesson published")
                                        } catch (E) {
                                            console.error(E),
                                            alert("Error publishing lesson")
                                        }
                                    }
                                    ,
                                    className: "flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium",
                                    children: [d.jsx(I5, {
                                        size: 16
                                    }), "Publish"]
                                }), d.jsx("button", {
                                    onClick: () => w(C.lesson_id),
                                    className: "flex items-center gap-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg font-medium",
                                    children: d.jsx(Z5, {
                                        size: 16
                                    })
                                })]
                            })]
                        })
                    }, C.lesson_id))
                }), d.jsxs("button", {
                    onClick: v,
                    className: "w-full flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold",
                    children: [d.jsx(l2, {
                        size: 18
                    }), "Add Lesson"]
                })]
            })
        })]
    })
}
function Rt(t) {
    this.content = t
}
Rt.prototype = {
    constructor: Rt,
    find: function(t) {
        for (var e = 0; e < this.content.length; e += 2)
            if (this.content[e] === t)
                return e;
        return -1
    },
    get: function(t) {
        var e = this.find(t);
        return e == -1 ? void 0 : this.content[e + 1]
    },
    update: function(t, e, n) {
        var r = n && n != t ? this.remove(n) : this
          , s = r.find(t)
          , l = r.content.slice();
        return s == -1 ? l.push(n || t, e) : (l[s + 1] = e,
        n && (l[s] = n)),
        new Rt(l)
    },
    remove: function(t) {
        var e = this.find(t);
        if (e == -1)
            return this;
        var n = this.content.slice();
        return n.splice(e, 2),
        new Rt(n)
    },
    addToStart: function(t, e) {
        return new Rt([t, e].concat(this.remove(t).content))
    },
    addToEnd: function(t, e) {
        var n = this.remove(t).content.slice();
        return n.push(t, e),
        new Rt(n)
    },
    addBefore: function(t, e, n) {
        var r = this.remove(e)
          , s = r.content.slice()
          , l = r.find(t);
        return s.splice(l == -1 ? s.length : l, 0, e, n),
        new Rt(s)
    },
    forEach: function(t) {
        for (var e = 0; e < this.content.length; e += 2)
            t(this.content[e], this.content[e + 1])
    },
    prepend: function(t) {
        return t = Rt.from(t),
        t.size ? new Rt(t.content.concat(this.subtract(t).content)) : this
    },
    append: function(t) {
        return t = Rt.from(t),
        t.size ? new Rt(this.subtract(t).content.concat(t.content)) : this
    },
    subtract: function(t) {
        var e = this;
        t = Rt.from(t);
        for (var n = 0; n < t.content.length; n += 2)
            e = e.remove(t.content[n]);
        return e
    },
    toObject: function() {
        var t = {};
        return this.forEach(function(e, n) {
            t[e] = n
        }),
        t
    },
    get size() {
        return this.content.length >> 1
    }
};
Rt.from = function(t) {
    if (t instanceof Rt)
        return t;
    var e = [];
    if (t)
        for (var n in t)
            e.push(n, t[n]);
    return new Rt(e)
}
;
function O6(t, e, n) {
    for (let r = 0; ; r++) {
        if (r == t.childCount || r == e.childCount)
            return t.childCount == e.childCount ? null : n;
        let s = t.child(r)
          , l = e.child(r);
        if (s == l) {
            n += s.nodeSize;
            continue
        }
        if (!s.sameMarkup(l))
            return n;
        if (s.isText && s.text != l.text) {
            for (let o = 0; s.text[o] == l.text[o]; o++)
                n++;
            return n
        }
        if (s.content.size || l.content.size) {
            let o = O6(s.content, l.content, n + 1);
            if (o != null)
                return o
        }
        n += s.nodeSize
    }
}
function R6(t, e, n, r) {
    for (let s = t.childCount, l = e.childCount; ; ) {
        if (s == 0 || l == 0)
            return s == l ? null : {
                a: n,
                b: r
            };
        let o = t.child(--s)
          , u = e.child(--l)
          , f = o.nodeSize;
        if (o == u) {
            n -= f,
            r -= f;
            continue
        }
        if (!o.sameMarkup(u))
            return {
                a: n,
                b: r
            };
        if (o.isText && o.text != u.text) {
            let p = 0
              , m = Math.min(o.text.length, u.text.length);
            for (; p < m && o.text[o.text.length - p - 1] == u.text[u.text.length - p - 1]; )
                p++,
                n--,
                r--;
            return {
                a: n,
                b: r
            }
        }
        if (o.content.size || u.content.size) {
            let p = R6(o.content, u.content, n - 1, r - 1);
            if (p)
                return p
        }
        n -= f,
        r -= f
    }
}
class X {
    constructor(e, n) {
        if (this.content = e,
        this.size = n || 0,
        n == null)
            for (let r = 0; r < e.length; r++)
                this.size += e[r].nodeSize
    }
    nodesBetween(e, n, r, s=0, l) {
        for (let o = 0, u = 0; u < n; o++) {
            let f = this.content[o]
              , p = u + f.nodeSize;
            if (p > e && r(f, s + u, l || null, o) !== !1 && f.content.size) {
                let m = u + 1;
                f.nodesBetween(Math.max(0, e - m), Math.min(f.content.size, n - m), r, s + m)
            }
            u = p
        }
    }
    descendants(e) {
        this.nodesBetween(0, this.size, e)
    }
    textBetween(e, n, r, s) {
        let l = ""
          , o = !0;
        return this.nodesBetween(e, n, (u, f) => {
            let p = u.isText ? u.text.slice(Math.max(e, f) - f, n - f) : u.isLeaf ? s ? typeof s == "function" ? s(u) : s : u.type.spec.leafText ? u.type.spec.leafText(u) : "" : "";
            u.isBlock && (u.isLeaf && p || u.isTextblock) && r && (o ? o = !1 : l += r),
            l += p
        }
        , 0),
        l
    }
    append(e) {
        if (!e.size)
            return this;
        if (!this.size)
            return e;
        let n = this.lastChild
          , r = e.firstChild
          , s = this.content.slice()
          , l = 0;
        for (n.isText && n.sameMarkup(r) && (s[s.length - 1] = n.withText(n.text + r.text),
        l = 1); l < e.content.length; l++)
            s.push(e.content[l]);
        return new X(s,this.size + e.size)
    }
    cut(e, n=this.size) {
        if (e == 0 && n == this.size)
            return this;
        let r = []
          , s = 0;
        if (n > e)
            for (let l = 0, o = 0; o < n; l++) {
                let u = this.content[l]
                  , f = o + u.nodeSize;
                f > e && ((o < e || f > n) && (u.isText ? u = u.cut(Math.max(0, e - o), Math.min(u.text.length, n - o)) : u = u.cut(Math.max(0, e - o - 1), Math.min(u.content.size, n - o - 1))),
                r.push(u),
                s += u.nodeSize),
                o = f
            }
        return new X(r,s)
    }
    cutByIndex(e, n) {
        return e == n ? X.empty : e == 0 && n == this.content.length ? this : new X(this.content.slice(e, n))
    }
    replaceChild(e, n) {
        let r = this.content[e];
        if (r == n)
            return this;
        let s = this.content.slice()
          , l = this.size + n.nodeSize - r.nodeSize;
        return s[e] = n,
        new X(s,l)
    }
    addToStart(e) {
        return new X([e].concat(this.content),this.size + e.nodeSize)
    }
    addToEnd(e) {
        return new X(this.content.concat(e),this.size + e.nodeSize)
    }
    eq(e) {
        if (this.content.length != e.content.length)
            return !1;
        for (let n = 0; n < this.content.length; n++)
            if (!this.content[n].eq(e.content[n]))
                return !1;
        return !0
    }
    get firstChild() {
        return this.content.length ? this.content[0] : null
    }
    get lastChild() {
        return this.content.length ? this.content[this.content.length - 1] : null
    }
    get childCount() {
        return this.content.length
    }
    child(e) {
        let n = this.content[e];
        if (!n)
            throw new RangeError("Index " + e + " out of range for " + this);
        return n
    }
    maybeChild(e) {
        return this.content[e] || null
    }
    forEach(e) {
        for (let n = 0, r = 0; n < this.content.length; n++) {
            let s = this.content[n];
            e(s, r, n),
            r += s.nodeSize
        }
    }
    findDiffStart(e, n=0) {
        return O6(this, e, n)
    }
    findDiffEnd(e, n=this.size, r=e.size) {
        return R6(this, e, n, r)
    }
    findIndex(e) {
        if (e == 0)
            return ac(0, e);
        if (e == this.size)
            return ac(this.content.length, e);
        if (e > this.size || e < 0)
            throw new RangeError(`Position ${e} outside of fragment (${this})`);
        for (let n = 0, r = 0; ; n++) {
            let s = this.child(n)
              , l = r + s.nodeSize;
            if (l >= e)
                return l == e ? ac(n + 1, l) : ac(n, r);
            r = l
        }
    }
    toString() {
        return "<" + this.toStringInner() + ">"
    }
    toStringInner() {
        return this.content.join(", ")
    }
    toJSON() {
        return this.content.length ? this.content.map(e => e.toJSON()) : null
    }
    static fromJSON(e, n) {
        if (!n)
            return X.empty;
        if (!Array.isArray(n))
            throw new RangeError("Invalid input for Fragment.fromJSON");
        return new X(n.map(e.nodeFromJSON))
    }
    static fromArray(e) {
        if (!e.length)
            return X.empty;
        let n, r = 0;
        for (let s = 0; s < e.length; s++) {
            let l = e[s];
            r += l.nodeSize,
            s && l.isText && e[s - 1].sameMarkup(l) ? (n || (n = e.slice(0, s)),
            n[n.length - 1] = l.withText(n[n.length - 1].text + l.text)) : n && n.push(l)
        }
        return new X(n || e,r)
    }
    static from(e) {
        if (!e)
            return X.empty;
        if (e instanceof X)
            return e;
        if (Array.isArray(e))
            return this.fromArray(e);
        if (e.attrs)
            return new X([e],e.nodeSize);
        throw new RangeError("Can not convert " + e + " to a Fragment" + (e.nodesBetween ? " (looks like multiple versions of prosemirror-model were loaded)" : ""))
    }
}
X.empty = new X([],0);
const K0 = {
    index: 0,
    offset: 0
};
function ac(t, e) {
    return K0.index = t,
    K0.offset = e,
    K0
}
function Ic(t, e) {
    if (t === e)
        return !0;
    if (!(t && typeof t == "object") || !(e && typeof e == "object"))
        return !1;
    let n = Array.isArray(t);
    if (Array.isArray(e) != n)
        return !1;
    if (n) {
        if (t.length != e.length)
            return !1;
        for (let r = 0; r < t.length; r++)
            if (!Ic(t[r], e[r]))
                return !1
    } else {
        for (let r in t)
            if (!(r in e) || !Ic(t[r], e[r]))
                return !1;
        for (let r in e)
            if (!(r in t))
                return !1
    }
    return !0
}
let Ve = class Lp {
    constructor(e, n) {
        this.type = e,
        this.attrs = n
    }
    addToSet(e) {
        let n, r = !1;
        for (let s = 0; s < e.length; s++) {
            let l = e[s];
            if (this.eq(l))
                return e;
            if (this.type.excludes(l.type))
                n || (n = e.slice(0, s));
            else {
                if (l.type.excludes(this.type))
                    return e;
                !r && l.type.rank > this.type.rank && (n || (n = e.slice(0, s)),
                n.push(this),
                r = !0),
                n && n.push(l)
            }
        }
        return n || (n = e.slice()),
        r || n.push(this),
        n
    }
    removeFromSet(e) {
        for (let n = 0; n < e.length; n++)
            if (this.eq(e[n]))
                return e.slice(0, n).concat(e.slice(n + 1));
        return e
    }
    isInSet(e) {
        for (let n = 0; n < e.length; n++)
            if (this.eq(e[n]))
                return !0;
        return !1
    }
    eq(e) {
        return this == e || this.type == e.type && Ic(this.attrs, e.attrs)
    }
    toJSON() {
        let e = {
            type: this.type.name
        };
        for (let n in this.attrs) {
            e.attrs = this.attrs;
            break
        }
        return e
    }
    static fromJSON(e, n) {
        if (!n)
            throw new RangeError("Invalid input for Mark.fromJSON");
        let r = e.marks[n.type];
        if (!r)
            throw new RangeError(`There is no mark type ${n.type} in this schema`);
        let s = r.create(n.attrs);
        return r.checkAttrs(s.attrs),
        s
    }
    static sameSet(e, n) {
        if (e == n)
            return !0;
        if (e.length != n.length)
            return !1;
        for (let r = 0; r < e.length; r++)
            if (!e[r].eq(n[r]))
                return !1;
        return !0
    }
    static setFrom(e) {
        if (!e || Array.isArray(e) && e.length == 0)
            return Lp.none;
        if (e instanceof Lp)
            return [e];
        let n = e.slice();
        return n.sort( (r, s) => r.type.rank - s.type.rank),
        n
    }
}
;
Ve.none = [];
class $c extends Error {
}
class ee {
    constructor(e, n, r) {
        this.content = e,
        this.openStart = n,
        this.openEnd = r
    }
    get size() {
        return this.content.size - this.openStart - this.openEnd
    }
    insertAt(e, n) {
        let r = L6(this.content, e + this.openStart, n);
        return r && new ee(r,this.openStart,this.openEnd)
    }
    removeBetween(e, n) {
        return new ee(z6(this.content, e + this.openStart, n + this.openStart),this.openStart,this.openEnd)
    }
    eq(e) {
        return this.content.eq(e.content) && this.openStart == e.openStart && this.openEnd == e.openEnd
    }
    toString() {
        return this.content + "(" + this.openStart + "," + this.openEnd + ")"
    }
    toJSON() {
        if (!this.content.size)
            return null;
        let e = {
            content: this.content.toJSON()
        };
        return this.openStart > 0 && (e.openStart = this.openStart),
        this.openEnd > 0 && (e.openEnd = this.openEnd),
        e
    }
    static fromJSON(e, n) {
        if (!n)
            return ee.empty;
        let r = n.openStart || 0
          , s = n.openEnd || 0;
        if (typeof r != "number" || typeof s != "number")
            throw new RangeError("Invalid input for Slice.fromJSON");
        return new ee(X.fromJSON(e, n.content),r,s)
    }
    static maxOpen(e, n=!0) {
        let r = 0
          , s = 0;
        for (let l = e.firstChild; l && !l.isLeaf && (n || !l.type.spec.isolating); l = l.firstChild)
            r++;
        for (let l = e.lastChild; l && !l.isLeaf && (n || !l.type.spec.isolating); l = l.lastChild)
            s++;
        return new ee(e,r,s)
    }
}
ee.empty = new ee(X.empty,0,0);
function z6(t, e, n) {
    let {index: r, offset: s} = t.findIndex(e)
      , l = t.maybeChild(r)
      , {index: o, offset: u} = t.findIndex(n);
    if (s == e || l.isText) {
        if (u != n && !t.child(o).isText)
            throw new RangeError("Removing non-flat range");
        return t.cut(0, e).append(t.cut(n))
    }
    if (r != o)
        throw new RangeError("Removing non-flat range");
    return t.replaceChild(r, l.copy(z6(l.content, e - s - 1, n - s - 1)))
}
function L6(t, e, n, r) {
    let {index: s, offset: l} = t.findIndex(e)
      , o = t.maybeChild(s);
    if (l == e || o.isText)
        return r && !r.canReplace(s, s, n) ? null : t.cut(0, e).append(n).append(t.cut(e));
    let u = L6(o.content, e - l - 1, n, o);
    return u && t.replaceChild(s, o.copy(u))
}
function OT(t, e, n) {
    if (n.openStart > t.depth)
        throw new $c("Inserted content deeper than insertion position");
    if (t.depth - n.openStart != e.depth - n.openEnd)
        throw new $c("Inconsistent open depths");
    return B6(t, e, n, 0)
}
function B6(t, e, n, r) {
    let s = t.index(r)
      , l = t.node(r);
    if (s == e.index(r) && r < t.depth - n.openStart) {
        let o = B6(t, e, n, r + 1);
        return l.copy(l.content.replaceChild(s, o))
    } else if (n.content.size)
        if (!n.openStart && !n.openEnd && t.depth == r && e.depth == r) {
            let o = t.parent
              , u = o.content;
            return vi(o, u.cut(0, t.parentOffset).append(n.content).append(u.cut(e.parentOffset)))
        } else {
            let {start: o, end: u} = RT(n, t);
            return vi(l, H6(t, o, u, e, r))
        }
    else
        return vi(l, Pc(t, e, r))
}
function F6(t, e) {
    if (!e.type.compatibleContent(t.type))
        throw new $c("Cannot join " + e.type.name + " onto " + t.type.name)
}
function Bp(t, e, n) {
    let r = t.node(n);
    return F6(r, e.node(n)),
    r
}
function yi(t, e) {
    let n = e.length - 1;
    n >= 0 && t.isText && t.sameMarkup(e[n]) ? e[n] = t.withText(e[n].text + t.text) : e.push(t)
}
function Ya(t, e, n, r) {
    let s = (e || t).node(n)
      , l = 0
      , o = e ? e.index(n) : s.childCount;
    t && (l = t.index(n),
    t.depth > n ? l++ : t.textOffset && (yi(t.nodeAfter, r),
    l++));
    for (let u = l; u < o; u++)
        yi(s.child(u), r);
    e && e.depth == n && e.textOffset && yi(e.nodeBefore, r)
}
function vi(t, e) {
    return t.type.checkContent(e),
    t.copy(e)
}
function H6(t, e, n, r, s) {
    let l = t.depth > s && Bp(t, e, s + 1)
      , o = r.depth > s && Bp(n, r, s + 1)
      , u = [];
    return Ya(null, t, s, u),
    l && o && e.index(s) == n.index(s) ? (F6(l, o),
    yi(vi(l, H6(t, e, n, r, s + 1)), u)) : (l && yi(vi(l, Pc(t, e, s + 1)), u),
    Ya(e, n, s, u),
    o && yi(vi(o, Pc(n, r, s + 1)), u)),
    Ya(r, null, s, u),
    new X(u)
}
function Pc(t, e, n) {
    let r = [];
    if (Ya(null, t, n, r),
    t.depth > n) {
        let s = Bp(t, e, n + 1);
        yi(vi(s, Pc(t, e, n + 1)), r)
    }
    return Ya(e, null, n, r),
    new X(r)
}
function RT(t, e) {
    let n = e.depth - t.openStart
      , s = e.node(n).copy(t.content);
    for (let l = n - 1; l >= 0; l--)
        s = e.node(l).copy(X.from(s));
    return {
        start: s.resolveNoCache(t.openStart + n),
        end: s.resolveNoCache(s.content.size - t.openEnd - n)
    }
}
class uo {
    constructor(e, n, r) {
        this.pos = e,
        this.path = n,
        this.parentOffset = r,
        this.depth = n.length / 3 - 1
    }
    resolveDepth(e) {
        return e == null ? this.depth : e < 0 ? this.depth + e : e
    }
    get parent() {
        return this.node(this.depth)
    }
    get doc() {
        return this.node(0)
    }
    node(e) {
        return this.path[this.resolveDepth(e) * 3]
    }
    index(e) {
        return this.path[this.resolveDepth(e) * 3 + 1]
    }
    indexAfter(e) {
        return e = this.resolveDepth(e),
        this.index(e) + (e == this.depth && !this.textOffset ? 0 : 1)
    }
    start(e) {
        return e = this.resolveDepth(e),
        e == 0 ? 0 : this.path[e * 3 - 1] + 1
    }
    end(e) {
        return e = this.resolveDepth(e),
        this.start(e) + this.node(e).content.size
    }
    before(e) {
        if (e = this.resolveDepth(e),
        !e)
            throw new RangeError("There is no position before the top-level node");
        return e == this.depth + 1 ? this.pos : this.path[e * 3 - 1]
    }
    after(e) {
        if (e = this.resolveDepth(e),
        !e)
            throw new RangeError("There is no position after the top-level node");
        return e == this.depth + 1 ? this.pos : this.path[e * 3 - 1] + this.path[e * 3].nodeSize
    }
    get textOffset() {
        return this.pos - this.path[this.path.length - 1]
    }
    get nodeAfter() {
        let e = this.parent
          , n = this.index(this.depth);
        if (n == e.childCount)
            return null;
        let r = this.pos - this.path[this.path.length - 1]
          , s = e.child(n);
        return r ? e.child(n).cut(r) : s
    }
    get nodeBefore() {
        let e = this.index(this.depth)
          , n = this.pos - this.path[this.path.length - 1];
        return n ? this.parent.child(e).cut(0, n) : e == 0 ? null : this.parent.child(e - 1)
    }
    posAtIndex(e, n) {
        n = this.resolveDepth(n);
        let r = this.path[n * 3]
          , s = n == 0 ? 0 : this.path[n * 3 - 1] + 1;
        for (let l = 0; l < e; l++)
            s += r.child(l).nodeSize;
        return s
    }
    marks() {
        let e = this.parent
          , n = this.index();
        if (e.content.size == 0)
            return Ve.none;
        if (this.textOffset)
            return e.child(n).marks;
        let r = e.maybeChild(n - 1)
          , s = e.maybeChild(n);
        if (!r) {
            let u = r;
            r = s,
            s = u
        }
        let l = r.marks;
        for (var o = 0; o < l.length; o++)
            l[o].type.spec.inclusive === !1 && (!s || !l[o].isInSet(s.marks)) && (l = l[o--].removeFromSet(l));
        return l
    }
    marksAcross(e) {
        let n = this.parent.maybeChild(this.index());
        if (!n || !n.isInline)
            return null;
        let r = n.marks
          , s = e.parent.maybeChild(e.index());
        for (var l = 0; l < r.length; l++)
            r[l].type.spec.inclusive === !1 && (!s || !r[l].isInSet(s.marks)) && (r = r[l--].removeFromSet(r));
        return r
    }
    sharedDepth(e) {
        for (let n = this.depth; n > 0; n--)
            if (this.start(n) <= e && this.end(n) >= e)
                return n;
        return 0
    }
    blockRange(e=this, n) {
        if (e.pos < this.pos)
            return e.blockRange(this);
        for (let r = this.depth - (this.parent.inlineContent || this.pos == e.pos ? 1 : 0); r >= 0; r--)
            if (e.pos <= this.end(r) && (!n || n(this.node(r))))
                return new Vc(this,e,r);
        return null
    }
    sameParent(e) {
        return this.pos - this.parentOffset == e.pos - e.parentOffset
    }
    max(e) {
        return e.pos > this.pos ? e : this
    }
    min(e) {
        return e.pos < this.pos ? e : this
    }
    toString() {
        let e = "";
        for (let n = 1; n <= this.depth; n++)
            e += (e ? "/" : "") + this.node(n).type.name + "_" + this.index(n - 1);
        return e + ":" + this.parentOffset
    }
    static resolve(e, n) {
        if (!(n >= 0 && n <= e.content.size))
            throw new RangeError("Position " + n + " out of range");
        let r = []
          , s = 0
          , l = n;
        for (let o = e; ; ) {
            let {index: u, offset: f} = o.content.findIndex(l)
              , p = l - f;
            if (r.push(o, u, s + f),
            !p || (o = o.child(u),
            o.isText))
                break;
            l = p - 1,
            s += f + 1
        }
        return new uo(n,r,l)
    }
    static resolveCached(e, n) {
        let r = k2.get(e);
        if (r)
            for (let l = 0; l < r.elts.length; l++) {
                let o = r.elts[l];
                if (o.pos == n)
                    return o
            }
        else
            k2.set(e, r = new zT);
        let s = r.elts[r.i] = uo.resolve(e, n);
        return r.i = (r.i + 1) % LT,
        s
    }
}
class zT {
    constructor() {
        this.elts = [],
        this.i = 0
    }
}
const LT = 12
  , k2 = new WeakMap;
class Vc {
    constructor(e, n, r) {
        this.$from = e,
        this.$to = n,
        this.depth = r
    }
    get start() {
        return this.$from.before(this.depth + 1)
    }
    get end() {
        return this.$to.after(this.depth + 1)
    }
    get parent() {
        return this.$from.node(this.depth)
    }
    get startIndex() {
        return this.$from.index(this.depth)
    }
    get endIndex() {
        return this.$to.indexAfter(this.depth)
    }
}
const BT = Object.create(null);
let Rs = class Fp {
    constructor(e, n, r, s=Ve.none) {
        this.type = e,
        this.attrs = n,
        this.marks = s,
        this.content = r || X.empty
    }
    get children() {
        return this.content.content
    }
    get nodeSize() {
        return this.isLeaf ? 1 : 2 + this.content.size
    }
    get childCount() {
        return this.content.childCount
    }
    child(e) {
        return this.content.child(e)
    }
    maybeChild(e) {
        return this.content.maybeChild(e)
    }
    forEach(e) {
        this.content.forEach(e)
    }
    nodesBetween(e, n, r, s=0) {
        this.content.nodesBetween(e, n, r, s, this)
    }
    descendants(e) {
        this.nodesBetween(0, this.content.size, e)
    }
    get textContent() {
        return this.isLeaf && this.type.spec.leafText ? this.type.spec.leafText(this) : this.textBetween(0, this.content.size, "")
    }
    textBetween(e, n, r, s) {
        return this.content.textBetween(e, n, r, s)
    }
    get firstChild() {
        return this.content.firstChild
    }
    get lastChild() {
        return this.content.lastChild
    }
    eq(e) {
        return this == e || this.sameMarkup(e) && this.content.eq(e.content)
    }
    sameMarkup(e) {
        return this.hasMarkup(e.type, e.attrs, e.marks)
    }
    hasMarkup(e, n, r) {
        return this.type == e && Ic(this.attrs, n || e.defaultAttrs || BT) && Ve.sameSet(this.marks, r || Ve.none)
    }
    copy(e=null) {
        return e == this.content ? this : new Fp(this.type,this.attrs,e,this.marks)
    }
    mark(e) {
        return e == this.marks ? this : new Fp(this.type,this.attrs,this.content,e)
    }
    cut(e, n=this.content.size) {
        return e == 0 && n == this.content.size ? this : this.copy(this.content.cut(e, n))
    }
    slice(e, n=this.content.size, r=!1) {
        if (e == n)
            return ee.empty;
        let s = this.resolve(e)
          , l = this.resolve(n)
          , o = r ? 0 : s.sharedDepth(n)
          , u = s.start(o)
          , p = s.node(o).content.cut(s.pos - u, l.pos - u);
        return new ee(p,s.depth - o,l.depth - o)
    }
    replace(e, n, r) {
        return OT(this.resolve(e), this.resolve(n), r)
    }
    nodeAt(e) {
        for (let n = this; ; ) {
            let {index: r, offset: s} = n.content.findIndex(e);
            if (n = n.maybeChild(r),
            !n)
                return null;
            if (s == e || n.isText)
                return n;
            e -= s + 1
        }
    }
    childAfter(e) {
        let {index: n, offset: r} = this.content.findIndex(e);
        return {
            node: this.content.maybeChild(n),
            index: n,
            offset: r
        }
    }
    childBefore(e) {
        if (e == 0)
            return {
                node: null,
                index: 0,
                offset: 0
            };
        let {index: n, offset: r} = this.content.findIndex(e);
        if (r < e)
            return {
                node: this.content.child(n),
                index: n,
                offset: r
            };
        let s = this.content.child(n - 1);
        return {
            node: s,
            index: n - 1,
            offset: r - s.nodeSize
        }
    }
    resolve(e) {
        return uo.resolveCached(this, e)
    }
    resolveNoCache(e) {
        return uo.resolve(this, e)
    }
    rangeHasMark(e, n, r) {
        let s = !1;
        return n > e && this.nodesBetween(e, n, l => (r.isInSet(l.marks) && (s = !0),
        !s)),
        s
    }
    get isBlock() {
        return this.type.isBlock
    }
    get isTextblock() {
        return this.type.isTextblock
    }
    get inlineContent() {
        return this.type.inlineContent
    }
    get isInline() {
        return this.type.isInline
    }
    get isText() {
        return this.type.isText
    }
    get isLeaf() {
        return this.type.isLeaf
    }
    get isAtom() {
        return this.type.isAtom
    }
    toString() {
        if (this.type.spec.toDebugString)
            return this.type.spec.toDebugString(this);
        let e = this.type.name;
        return this.content.size && (e += "(" + this.content.toStringInner() + ")"),
        U6(this.marks, e)
    }
    contentMatchAt(e) {
        let n = this.type.contentMatch.matchFragment(this.content, 0, e);
        if (!n)
            throw new Error("Called contentMatchAt on a node with invalid content");
        return n
    }
    canReplace(e, n, r=X.empty, s=0, l=r.childCount) {
        let o = this.contentMatchAt(e).matchFragment(r, s, l)
          , u = o && o.matchFragment(this.content, n);
        if (!u || !u.validEnd)
            return !1;
        for (let f = s; f < l; f++)
            if (!this.type.allowsMarks(r.child(f).marks))
                return !1;
        return !0
    }
    canReplaceWith(e, n, r, s) {
        if (s && !this.type.allowsMarks(s))
            return !1;
        let l = this.contentMatchAt(e).matchType(r)
          , o = l && l.matchFragment(this.content, n);
        return o ? o.validEnd : !1
    }
    canAppend(e) {
        return e.content.size ? this.canReplace(this.childCount, this.childCount, e.content) : this.type.compatibleContent(e.type)
    }
    check() {
        this.type.checkContent(this.content),
        this.type.checkAttrs(this.attrs);
        let e = Ve.none;
        for (let n = 0; n < this.marks.length; n++) {
            let r = this.marks[n];
            r.type.checkAttrs(r.attrs),
            e = r.addToSet(e)
        }
        if (!Ve.sameSet(e, this.marks))
            throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n => n.type.name)}`);
        this.content.forEach(n => n.check())
    }
    toJSON() {
        let e = {
            type: this.type.name
        };
        for (let n in this.attrs) {
            e.attrs = this.attrs;
            break
        }
        return this.content.size && (e.content = this.content.toJSON()),
        this.marks.length && (e.marks = this.marks.map(n => n.toJSON())),
        e
    }
    static fromJSON(e, n) {
        if (!n)
            throw new RangeError("Invalid input for Node.fromJSON");
        let r;
        if (n.marks) {
            if (!Array.isArray(n.marks))
                throw new RangeError("Invalid mark data for Node.fromJSON");
            r = n.marks.map(e.markFromJSON)
        }
        if (n.type == "text") {
            if (typeof n.text != "string")
                throw new RangeError("Invalid text node in JSON");
            return e.text(n.text, r)
        }
        let s = X.fromJSON(e, n.content)
          , l = e.nodeType(n.type).create(n.attrs, s, r);
        return l.type.checkAttrs(l.attrs),
        l
    }
}
;
Rs.prototype.text = void 0;
class Gc extends Rs {
    constructor(e, n, r, s) {
        if (super(e, n, null, s),
        !r)
            throw new RangeError("Empty text nodes are not allowed");
        this.text = r
    }
    toString() {
        return this.type.spec.toDebugString ? this.type.spec.toDebugString(this) : U6(this.marks, JSON.stringify(this.text))
    }
    get textContent() {
        return this.text
    }
    textBetween(e, n) {
        return this.text.slice(e, n)
    }
    get nodeSize() {
        return this.text.length
    }
    mark(e) {
        return e == this.marks ? this : new Gc(this.type,this.attrs,this.text,e)
    }
    withText(e) {
        return e == this.text ? this : new Gc(this.type,this.attrs,e,this.marks)
    }
    cut(e=0, n=this.text.length) {
        return e == 0 && n == this.text.length ? this : this.withText(this.text.slice(e, n))
    }
    eq(e) {
        return this.sameMarkup(e) && this.text == e.text
    }
    toJSON() {
        let e = super.toJSON();
        return e.text = this.text,
        e
    }
}
function U6(t, e) {
    for (let n = t.length - 1; n >= 0; n--)
        e = t[n].type.name + "(" + e + ")";
    return e
}
class ji {
    constructor(e) {
        this.validEnd = e,
        this.next = [],
        this.wrapCache = []
    }
    static parse(e, n) {
        let r = new FT(e,n);
        if (r.next == null)
            return ji.empty;
        let s = q6(r);
        r.next && r.err("Unexpected trailing text");
        let l = VT(PT(s));
        return GT(l, r),
        l
    }
    matchType(e) {
        for (let n = 0; n < this.next.length; n++)
            if (this.next[n].type == e)
                return this.next[n].next;
        return null
    }
    matchFragment(e, n=0, r=e.childCount) {
        let s = this;
        for (let l = n; s && l < r; l++)
            s = s.matchType(e.child(l).type);
        return s
    }
    get inlineContent() {
        return this.next.length != 0 && this.next[0].type.isInline
    }
    get defaultType() {
        for (let e = 0; e < this.next.length; e++) {
            let {type: n} = this.next[e];
            if (!(n.isText || n.hasRequiredAttrs()))
                return n
        }
        return null
    }
    compatible(e) {
        for (let n = 0; n < this.next.length; n++)
            for (let r = 0; r < e.next.length; r++)
                if (this.next[n].type == e.next[r].type)
                    return !0;
        return !1
    }
    fillBefore(e, n=!1, r=0) {
        let s = [this];
        function l(o, u) {
            let f = o.matchFragment(e, r);
            if (f && (!n || f.validEnd))
                return X.from(u.map(p => p.createAndFill()));
            for (let p = 0; p < o.next.length; p++) {
                let {type: m, next: g} = o.next[p];
                if (!(m.isText || m.hasRequiredAttrs()) && s.indexOf(g) == -1) {
                    s.push(g);
                    let v = l(g, u.concat(m));
                    if (v)
                        return v
                }
            }
            return null
        }
        return l(this, [])
    }
    findWrapping(e) {
        for (let r = 0; r < this.wrapCache.length; r += 2)
            if (this.wrapCache[r] == e)
                return this.wrapCache[r + 1];
        let n = this.computeWrapping(e);
        return this.wrapCache.push(e, n),
        n
    }
    computeWrapping(e) {
        let n = Object.create(null)
          , r = [{
            match: this,
            type: null,
            via: null
        }];
        for (; r.length; ) {
            let s = r.shift()
              , l = s.match;
            if (l.matchType(e)) {
                let o = [];
                for (let u = s; u.type; u = u.via)
                    o.push(u.type);
                return o.reverse()
            }
            for (let o = 0; o < l.next.length; o++) {
                let {type: u, next: f} = l.next[o];
                !u.isLeaf && !u.hasRequiredAttrs() && !(u.name in n) && (!s.type || f.validEnd) && (r.push({
                    match: u.contentMatch,
                    type: u,
                    via: s
                }),
                n[u.name] = !0)
            }
        }
        return null
    }
    get edgeCount() {
        return this.next.length
    }
    edge(e) {
        if (e >= this.next.length)
            throw new RangeError(`There's no ${e}th edge in this content match`);
        return this.next[e]
    }
    toString() {
        let e = [];
        function n(r) {
            e.push(r);
            for (let s = 0; s < r.next.length; s++)
                e.indexOf(r.next[s].next) == -1 && n(r.next[s].next)
        }
        return n(this),
        e.map( (r, s) => {
            let l = s + (r.validEnd ? "*" : " ") + " ";
            for (let o = 0; o < r.next.length; o++)
                l += (o ? ", " : "") + r.next[o].type.name + "->" + e.indexOf(r.next[o].next);
            return l
        }
        ).join(`
`)
    }
}
ji.empty = new ji(!0);
class FT {
    constructor(e, n) {
        this.string = e,
        this.nodeTypes = n,
        this.inline = null,
        this.pos = 0,
        this.tokens = e.split(/\s*(?=\b|\W|$)/),
        this.tokens[this.tokens.length - 1] == "" && this.tokens.pop(),
        this.tokens[0] == "" && this.tokens.shift()
    }
    get next() {
        return this.tokens[this.pos]
    }
    eat(e) {
        return this.next == e && (this.pos++ || !0)
    }
    err(e) {
        throw new SyntaxError(e + " (in content expression '" + this.string + "')")
    }
}
function q6(t) {
    let e = [];
    do
        e.push(HT(t));
    while (t.eat("|"));
    return e.length == 1 ? e[0] : {
        type: "choice",
        exprs: e
    }
}
function HT(t) {
    let e = [];
    do
        e.push(UT(t));
    while (t.next && t.next != ")" && t.next != "|");
    return e.length == 1 ? e[0] : {
        type: "seq",
        exprs: e
    }
}
function UT(t) {
    let e = $T(t);
    for (; ; )
        if (t.eat("+"))
            e = {
                type: "plus",
                expr: e
            };
        else if (t.eat("*"))
            e = {
                type: "star",
                expr: e
            };
        else if (t.eat("?"))
            e = {
                type: "opt",
                expr: e
            };
        else if (t.eat("{"))
            e = qT(t, e);
        else
            break;
    return e
}
function A2(t) {
    /\D/.test(t.next) && t.err("Expected number, got '" + t.next + "'");
    let e = Number(t.next);
    return t.pos++,
    e
}
function qT(t, e) {
    let n = A2(t)
      , r = n;
    return t.eat(",") && (t.next != "}" ? r = A2(t) : r = -1),
    t.eat("}") || t.err("Unclosed braced range"),
    {
        type: "range",
        min: n,
        max: r,
        expr: e
    }
}
function IT(t, e) {
    let n = t.nodeTypes
      , r = n[e];
    if (r)
        return [r];
    let s = [];
    for (let l in n) {
        let o = n[l];
        o.isInGroup(e) && s.push(o)
    }
    return s.length == 0 && t.err("No node type or group '" + e + "' found"),
    s
}
function $T(t) {
    if (t.eat("(")) {
        let e = q6(t);
        return t.eat(")") || t.err("Missing closing paren"),
        e
    } else if (/\W/.test(t.next))
        t.err("Unexpected token '" + t.next + "'");
    else {
        let e = IT(t, t.next).map(n => (t.inline == null ? t.inline = n.isInline : t.inline != n.isInline && t.err("Mixing inline and block content"),
        {
            type: "name",
            value: n
        }));
        return t.pos++,
        e.length == 1 ? e[0] : {
            type: "choice",
            exprs: e
        }
    }
}
function PT(t) {
    let e = [[]];
    return s(l(t, 0), n()),
    e;
    function n() {
        return e.push([]) - 1
    }
    function r(o, u, f) {
        let p = {
            term: f,
            to: u
        };
        return e[o].push(p),
        p
    }
    function s(o, u) {
        o.forEach(f => f.to = u)
    }
    function l(o, u) {
        if (o.type == "choice")
            return o.exprs.reduce( (f, p) => f.concat(l(p, u)), []);
        if (o.type == "seq")
            for (let f = 0; ; f++) {
                let p = l(o.exprs[f], u);
                if (f == o.exprs.length - 1)
                    return p;
                s(p, u = n())
            }
        else if (o.type == "star") {
            let f = n();
            return r(u, f),
            s(l(o.expr, f), f),
            [r(f)]
        } else if (o.type == "plus") {
            let f = n();
            return s(l(o.expr, u), f),
            s(l(o.expr, f), f),
            [r(f)]
        } else {
            if (o.type == "opt")
                return [r(u)].concat(l(o.expr, u));
            if (o.type == "range") {
                let f = u;
                for (let p = 0; p < o.min; p++) {
                    let m = n();
                    s(l(o.expr, f), m),
                    f = m
                }
                if (o.max == -1)
                    s(l(o.expr, f), f);
                else
                    for (let p = o.min; p < o.max; p++) {
                        let m = n();
                        r(f, m),
                        s(l(o.expr, f), m),
                        f = m
                    }
                return [r(f)]
            } else {
                if (o.type == "name")
                    return [r(u, void 0, o.value)];
                throw new Error("Unknown expr type")
            }
        }
    }
}
function I6(t, e) {
    return e - t
}
function _2(t, e) {
    let n = [];
    return r(e),
    n.sort(I6);
    function r(s) {
        let l = t[s];
        if (l.length == 1 && !l[0].term)
            return r(l[0].to);
        n.push(s);
        for (let o = 0; o < l.length; o++) {
            let {term: u, to: f} = l[o];
            !u && n.indexOf(f) == -1 && r(f)
        }
    }
}
function VT(t) {
    let e = Object.create(null);
    return n(_2(t, 0));
    function n(r) {
        let s = [];
        r.forEach(o => {
            t[o].forEach( ({term: u, to: f}) => {
                if (!u)
                    return;
                let p;
                for (let m = 0; m < s.length; m++)
                    s[m][0] == u && (p = s[m][1]);
                _2(t, f).forEach(m => {
                    p || s.push([u, p = []]),
                    p.indexOf(m) == -1 && p.push(m)
                }
                )
            }
            )
        }
        );
        let l = e[r.join(",")] = new ji(r.indexOf(t.length - 1) > -1);
        for (let o = 0; o < s.length; o++) {
            let u = s[o][1].sort(I6);
            l.next.push({
                type: s[o][0],
                next: e[u.join(",")] || n(u)
            })
        }
        return l
    }
}
function GT(t, e) {
    for (let n = 0, r = [t]; n < r.length; n++) {
        let s = r[n]
          , l = !s.validEnd
          , o = [];
        for (let u = 0; u < s.next.length; u++) {
            let {type: f, next: p} = s.next[u];
            o.push(f.name),
            l && !(f.isText || f.hasRequiredAttrs()) && (l = !1),
            r.indexOf(p) == -1 && r.push(p)
        }
        l && e.err("Only non-generatable nodes (" + o.join(", ") + ") in a required position (see https://prosemirror.net/docs/guide/#generatable)")
    }
}
function $6(t) {
    let e = Object.create(null);
    for (let n in t) {
        let r = t[n];
        if (!r.hasDefault)
            return null;
        e[n] = r.default
    }
    return e
}
function P6(t, e) {
    let n = Object.create(null);
    for (let r in t) {
        let s = e && e[r];
        if (s === void 0) {
            let l = t[r];
            if (l.hasDefault)
                s = l.default;
            else
                throw new RangeError("No value supplied for attribute " + r)
        }
        n[r] = s
    }
    return n
}
function V6(t, e, n, r) {
    for (let s in e)
        if (!(s in t))
            throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);
    for (let s in t) {
        let l = t[s];
        l.validate && l.validate(e[s])
    }
}
function G6(t, e) {
    let n = Object.create(null);
    if (e)
        for (let r in e)
            n[r] = new YT(t,r,e[r]);
    return n
}
let T2 = class K6 {
    constructor(e, n, r) {
        this.name = e,
        this.schema = n,
        this.spec = r,
        this.markSet = null,
        this.groups = r.group ? r.group.split(" ") : [],
        this.attrs = G6(e, r.attrs),
        this.defaultAttrs = $6(this.attrs),
        this.contentMatch = null,
        this.inlineContent = null,
        this.isBlock = !(r.inline || e == "text"),
        this.isText = e == "text"
    }
    get isInline() {
        return !this.isBlock
    }
    get isTextblock() {
        return this.isBlock && this.inlineContent
    }
    get isLeaf() {
        return this.contentMatch == ji.empty
    }
    get isAtom() {
        return this.isLeaf || !!this.spec.atom
    }
    isInGroup(e) {
        return this.groups.indexOf(e) > -1
    }
    get whitespace() {
        return this.spec.whitespace || (this.spec.code ? "pre" : "normal")
    }
    hasRequiredAttrs() {
        for (let e in this.attrs)
            if (this.attrs[e].isRequired)
                return !0;
        return !1
    }
    compatibleContent(e) {
        return this == e || this.contentMatch.compatible(e.contentMatch)
    }
    computeAttrs(e) {
        return !e && this.defaultAttrs ? this.defaultAttrs : P6(this.attrs, e)
    }
    create(e=null, n, r) {
        if (this.isText)
            throw new Error("NodeType.create can't construct text nodes");
        return new Rs(this,this.computeAttrs(e),X.from(n),Ve.setFrom(r))
    }
    createChecked(e=null, n, r) {
        return n = X.from(n),
        this.checkContent(n),
        new Rs(this,this.computeAttrs(e),n,Ve.setFrom(r))
    }
    createAndFill(e=null, n, r) {
        if (e = this.computeAttrs(e),
        n = X.from(n),
        n.size) {
            let o = this.contentMatch.fillBefore(n);
            if (!o)
                return null;
            n = o.append(n)
        }
        let s = this.contentMatch.matchFragment(n)
          , l = s && s.fillBefore(X.empty, !0);
        return l ? new Rs(this,e,n.append(l),Ve.setFrom(r)) : null
    }
    validContent(e) {
        let n = this.contentMatch.matchFragment(e);
        if (!n || !n.validEnd)
            return !1;
        for (let r = 0; r < e.childCount; r++)
            if (!this.allowsMarks(e.child(r).marks))
                return !1;
        return !0
    }
    checkContent(e) {
        if (!this.validContent(e))
            throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0, 50)}`)
    }
    checkAttrs(e) {
        V6(this.attrs, e, "node", this.name)
    }
    allowsMarkType(e) {
        return this.markSet == null || this.markSet.indexOf(e) > -1
    }
    allowsMarks(e) {
        if (this.markSet == null)
            return !0;
        for (let n = 0; n < e.length; n++)
            if (!this.allowsMarkType(e[n].type))
                return !1;
        return !0
    }
    allowedMarks(e) {
        if (this.markSet == null)
            return e;
        let n;
        for (let r = 0; r < e.length; r++)
            this.allowsMarkType(e[r].type) ? n && n.push(e[r]) : n || (n = e.slice(0, r));
        return n ? n.length ? n : Ve.none : e
    }
    static compile(e, n) {
        let r = Object.create(null);
        e.forEach( (l, o) => r[l] = new K6(l,n,o));
        let s = n.spec.topNode || "doc";
        if (!r[s])
            throw new RangeError("Schema is missing its top node type ('" + s + "')");
        if (!r.text)
            throw new RangeError("Every schema needs a 'text' type");
        for (let l in r.text.attrs)
            throw new RangeError("The text node type should not have attributes");
        return r
    }
}
;
function KT(t, e, n) {
    let r = n.split("|");
    return s => {
        let l = s === null ? "null" : typeof s;
        if (r.indexOf(l) < 0)
            throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${l}`)
    }
}
class YT {
    constructor(e, n, r) {
        this.hasDefault = Object.prototype.hasOwnProperty.call(r, "default"),
        this.default = r.default,
        this.validate = typeof r.validate == "string" ? KT(e, n, r.validate) : r.validate
    }
    get isRequired() {
        return !this.hasDefault
    }
}
class Vd {
    constructor(e, n, r, s) {
        this.name = e,
        this.rank = n,
        this.schema = r,
        this.spec = s,
        this.attrs = G6(e, s.attrs),
        this.excluded = null;
        let l = $6(this.attrs);
        this.instance = l ? new Ve(this,l) : null
    }
    create(e=null) {
        return !e && this.instance ? this.instance : new Ve(this,P6(this.attrs, e))
    }
    static compile(e, n) {
        let r = Object.create(null)
          , s = 0;
        return e.forEach( (l, o) => r[l] = new Vd(l,s++,n,o)),
        r
    }
    removeFromSet(e) {
        for (var n = 0; n < e.length; n++)
            e[n].type == this && (e = e.slice(0, n).concat(e.slice(n + 1)),
            n--);
        return e
    }
    isInSet(e) {
        for (let n = 0; n < e.length; n++)
            if (e[n].type == this)
                return e[n]
    }
    checkAttrs(e) {
        V6(this.attrs, e, "mark", this.name)
    }
    excludes(e) {
        return this.excluded.indexOf(e) > -1
    }
}
class Y6 {
    constructor(e) {
        this.linebreakReplacement = null,
        this.cached = Object.create(null);
        let n = this.spec = {};
        for (let s in e)
            n[s] = e[s];
        n.nodes = Rt.from(e.nodes),
        n.marks = Rt.from(e.marks || {}),
        this.nodes = T2.compile(this.spec.nodes, this),
        this.marks = Vd.compile(this.spec.marks, this);
        let r = Object.create(null);
        for (let s in this.nodes) {
            if (s in this.marks)
                throw new RangeError(s + " can not be both a node and a mark");
            let l = this.nodes[s]
              , o = l.spec.content || ""
              , u = l.spec.marks;
            if (l.contentMatch = r[o] || (r[o] = ji.parse(o, this.nodes)),
            l.inlineContent = l.contentMatch.inlineContent,
            l.spec.linebreakReplacement) {
                if (this.linebreakReplacement)
                    throw new RangeError("Multiple linebreak nodes defined");
                if (!l.isInline || !l.isLeaf)
                    throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");
                this.linebreakReplacement = l
            }
            l.markSet = u == "_" ? null : u ? D2(this, u.split(" ")) : u == "" || !l.inlineContent ? [] : null
        }
        for (let s in this.marks) {
            let l = this.marks[s]
              , o = l.spec.excludes;
            l.excluded = o == null ? [l] : o == "" ? [] : D2(this, o.split(" "))
        }
        this.nodeFromJSON = s => Rs.fromJSON(this, s),
        this.markFromJSON = s => Ve.fromJSON(this, s),
        this.topNodeType = this.nodes[this.spec.topNode || "doc"],
        this.cached.wrappings = Object.create(null)
    }
    node(e, n=null, r, s) {
        if (typeof e == "string")
            e = this.nodeType(e);
        else if (e instanceof T2) {
            if (e.schema != this)
                throw new RangeError("Node type from different schema used (" + e.name + ")")
        } else
            throw new RangeError("Invalid node type: " + e);
        return e.createChecked(n, r, s)
    }
    text(e, n) {
        let r = this.nodes.text;
        return new Gc(r,r.defaultAttrs,e,Ve.setFrom(n))
    }
    mark(e, n) {
        return typeof e == "string" && (e = this.marks[e]),
        e.create(n)
    }
    nodeType(e) {
        let n = this.nodes[e];
        if (!n)
            throw new RangeError("Unknown node type: " + e);
        return n
    }
}
function D2(t, e) {
    let n = [];
    for (let r = 0; r < e.length; r++) {
        let s = e[r]
          , l = t.marks[s]
          , o = l;
        if (l)
            n.push(l);
        else
            for (let u in t.marks) {
                let f = t.marks[u];
                (s == "_" || f.spec.group && f.spec.group.split(" ").indexOf(s) > -1) && n.push(o = f)
            }
        if (!o)
            throw new SyntaxError("Unknown mark type: '" + e[r] + "'")
    }
    return n
}
function JT(t) {
    return t.tag != null
}
function XT(t) {
    return t.style != null
}
class zs {
    constructor(e, n) {
        this.schema = e,
        this.rules = n,
        this.tags = [],
        this.styles = [];
        let r = this.matchedStyles = [];
        n.forEach(s => {
            if (JT(s))
                this.tags.push(s);
            else if (XT(s)) {
                let l = /[^=]*/.exec(s.style)[0];
                r.indexOf(l) < 0 && r.push(l),
                this.styles.push(s)
            }
        }
        ),
        this.normalizeLists = !this.tags.some(s => {
            if (!/^(ul|ol)\b/.test(s.tag) || !s.node)
                return !1;
            let l = e.nodes[s.node];
            return l.contentMatch.matchType(l)
        }
        )
    }
    parse(e, n={}) {
        let r = new O2(this,n,!1);
        return r.addAll(e, Ve.none, n.from, n.to),
        r.finish()
    }
    parseSlice(e, n={}) {
        let r = new O2(this,n,!0);
        return r.addAll(e, Ve.none, n.from, n.to),
        ee.maxOpen(r.finish())
    }
    matchTag(e, n, r) {
        for (let s = r ? this.tags.indexOf(r) + 1 : 0; s < this.tags.length; s++) {
            let l = this.tags[s];
            if (WT(e, l.tag) && (l.namespace === void 0 || e.namespaceURI == l.namespace) && (!l.context || n.matchesContext(l.context))) {
                if (l.getAttrs) {
                    let o = l.getAttrs(e);
                    if (o === !1)
                        continue;
                    l.attrs = o || void 0
                }
                return l
            }
        }
    }
    matchStyle(e, n, r, s) {
        for (let l = s ? this.styles.indexOf(s) + 1 : 0; l < this.styles.length; l++) {
            let o = this.styles[l]
              , u = o.style;
            if (!(u.indexOf(e) != 0 || o.context && !r.matchesContext(o.context) || u.length > e.length && (u.charCodeAt(e.length) != 61 || u.slice(e.length + 1) != n))) {
                if (o.getAttrs) {
                    let f = o.getAttrs(n);
                    if (f === !1)
                        continue;
                    o.attrs = f || void 0
                }
                return o
            }
        }
    }
    static schemaRules(e) {
        let n = [];
        function r(s) {
            let l = s.priority == null ? 50 : s.priority
              , o = 0;
            for (; o < n.length; o++) {
                let u = n[o];
                if ((u.priority == null ? 50 : u.priority) < l)
                    break
            }
            n.splice(o, 0, s)
        }
        for (let s in e.marks) {
            let l = e.marks[s].spec.parseDOM;
            l && l.forEach(o => {
                r(o = R2(o)),
                o.mark || o.ignore || o.clearMark || (o.mark = s)
            }
            )
        }
        for (let s in e.nodes) {
            let l = e.nodes[s].spec.parseDOM;
            l && l.forEach(o => {
                r(o = R2(o)),
                o.node || o.ignore || o.mark || (o.node = s)
            }
            )
        }
        return n
    }
    static fromSchema(e) {
        return e.cached.domParser || (e.cached.domParser = new zs(e,zs.schemaRules(e)))
    }
}
const J6 = {
    address: !0,
    article: !0,
    aside: !0,
    blockquote: !0,
    canvas: !0,
    dd: !0,
    div: !0,
    dl: !0,
    fieldset: !0,
    figcaption: !0,
    figure: !0,
    footer: !0,
    form: !0,
    h1: !0,
    h2: !0,
    h3: !0,
    h4: !0,
    h5: !0,
    h6: !0,
    header: !0,
    hgroup: !0,
    hr: !0,
    li: !0,
    noscript: !0,
    ol: !0,
    output: !0,
    p: !0,
    pre: !0,
    section: !0,
    table: !0,
    tfoot: !0,
    ul: !0
}
  , QT = {
    head: !0,
    noscript: !0,
    object: !0,
    script: !0,
    style: !0,
    title: !0
}
  , X6 = {
    ol: !0,
    ul: !0
}
  , co = 1
  , Hp = 2
  , Ja = 4;
function M2(t, e, n) {
    return e != null ? (e ? co : 0) | (e === "full" ? Hp : 0) : t && t.whitespace == "pre" ? co | Hp : n & ~Ja
}
class oc {
    constructor(e, n, r, s, l, o) {
        this.type = e,
        this.attrs = n,
        this.marks = r,
        this.solid = s,
        this.options = o,
        this.content = [],
        this.activeMarks = Ve.none,
        this.match = l || (o & Ja ? null : e.contentMatch)
    }
    findWrapping(e) {
        if (!this.match) {
            if (!this.type)
                return [];
            let n = this.type.contentMatch.fillBefore(X.from(e));
            if (n)
                this.match = this.type.contentMatch.matchFragment(n);
            else {
                let r = this.type.contentMatch, s;
                return (s = r.findWrapping(e.type)) ? (this.match = r,
                s) : null
            }
        }
        return this.match.findWrapping(e.type)
    }
    finish(e) {
        if (!(this.options & co)) {
            let r = this.content[this.content.length - 1], s;
            if (r && r.isText && (s = /[ \t\r\n\u000c]+$/.exec(r.text))) {
                let l = r;
                r.text.length == s[0].length ? this.content.pop() : this.content[this.content.length - 1] = l.withText(l.text.slice(0, l.text.length - s[0].length))
            }
        }
        let n = X.from(this.content);
        return !e && this.match && (n = n.append(this.match.fillBefore(X.empty, !0))),
        this.type ? this.type.create(this.attrs, n, this.marks) : n
    }
    inlineContext(e) {
        return this.type ? this.type.inlineContent : this.content.length ? this.content[0].isInline : e.parentNode && !J6.hasOwnProperty(e.parentNode.nodeName.toLowerCase())
    }
}
class O2 {
    constructor(e, n, r) {
        this.parser = e,
        this.options = n,
        this.isOpen = r,
        this.open = 0,
        this.localPreserveWS = !1;
        let s = n.topNode, l, o = M2(null, n.preserveWhitespace, 0) | (r ? Ja : 0);
        s ? l = new oc(s.type,s.attrs,Ve.none,!0,n.topMatch || s.type.contentMatch,o) : r ? l = new oc(null,null,Ve.none,!0,null,o) : l = new oc(e.schema.topNodeType,null,Ve.none,!0,null,o),
        this.nodes = [l],
        this.find = n.findPositions,
        this.needsBlock = !1
    }
    get top() {
        return this.nodes[this.open]
    }
    addDOM(e, n) {
        e.nodeType == 3 ? this.addTextNode(e, n) : e.nodeType == 1 && this.addElement(e, n)
    }
    addTextNode(e, n) {
        let r = e.nodeValue
          , s = this.top
          , l = s.options & Hp ? "full" : this.localPreserveWS || (s.options & co) > 0
          , {schema: o} = this.parser;
        if (l === "full" || s.inlineContext(e) || /[^ \t\r\n\u000c]/.test(r)) {
            if (l)
                if (l === "full")
                    r = r.replace(/\r\n?/g, `
`);
                else if (o.linebreakReplacement && /[\r\n]/.test(r) && this.top.findWrapping(o.linebreakReplacement.create())) {
                    let u = r.split(/\r?\n|\r/);
                    for (let f = 0; f < u.length; f++)
                        f && this.insertNode(o.linebreakReplacement.create(), n, !0),
                        u[f] && this.insertNode(o.text(u[f]), n, !/\S/.test(u[f]));
                    r = ""
                } else
                    r = r.replace(/\r?\n|\r/g, " ");
            else if (r = r.replace(/[ \t\r\n\u000c]+/g, " "),
            /^[ \t\r\n\u000c]/.test(r) && this.open == this.nodes.length - 1) {
                let u = s.content[s.content.length - 1]
                  , f = e.previousSibling;
                (!u || f && f.nodeName == "BR" || u.isText && /[ \t\r\n\u000c]$/.test(u.text)) && (r = r.slice(1))
            }
            r && this.insertNode(o.text(r), n, !/\S/.test(r)),
            this.findInText(e)
        } else
            this.findInside(e)
    }
    addElement(e, n, r) {
        let s = this.localPreserveWS
          , l = this.top;
        (e.tagName == "PRE" || /pre/.test(e.style && e.style.whiteSpace)) && (this.localPreserveWS = !0);
        let o = e.nodeName.toLowerCase(), u;
        X6.hasOwnProperty(o) && this.parser.normalizeLists && ZT(e);
        let f = this.options.ruleFromNode && this.options.ruleFromNode(e) || (u = this.parser.matchTag(e, this, r));
        e: if (f ? f.ignore : QT.hasOwnProperty(o))
            this.findInside(e),
            this.ignoreFallback(e, n);
        else if (!f || f.skip || f.closeParent) {
            f && f.closeParent ? this.open = Math.max(0, this.open - 1) : f && f.skip.nodeType && (e = f.skip);
            let p, m = this.needsBlock;
            if (J6.hasOwnProperty(o))
                l.content.length && l.content[0].isInline && this.open && (this.open--,
                l = this.top),
                p = !0,
                l.type || (this.needsBlock = !0);
            else if (!e.firstChild) {
                this.leafFallback(e, n);
                break e
            }
            let g = f && f.skip ? n : this.readStyles(e, n);
            g && this.addAll(e, g),
            p && this.sync(l),
            this.needsBlock = m
        } else {
            let p = this.readStyles(e, n);
            p && this.addElementByRule(e, f, p, f.consuming === !1 ? u : void 0)
        }
        this.localPreserveWS = s
    }
    leafFallback(e, n) {
        e.nodeName == "BR" && this.top.type && this.top.type.inlineContent && this.addTextNode(e.ownerDocument.createTextNode(`
`), n)
    }
    ignoreFallback(e, n) {
        e.nodeName == "BR" && (!this.top.type || !this.top.type.inlineContent) && this.findPlace(this.parser.schema.text("-"), n, !0)
    }
    readStyles(e, n) {
        let r = e.style;
        if (r && r.length)
            for (let s = 0; s < this.parser.matchedStyles.length; s++) {
                let l = this.parser.matchedStyles[s]
                  , o = r.getPropertyValue(l);
                if (o)
                    for (let u = void 0; ; ) {
                        let f = this.parser.matchStyle(l, o, this, u);
                        if (!f)
                            break;
                        if (f.ignore)
                            return null;
                        if (f.clearMark ? n = n.filter(p => !f.clearMark(p)) : n = n.concat(this.parser.schema.marks[f.mark].create(f.attrs)),
                        f.consuming === !1)
                            u = f;
                        else
                            break
                    }
            }
        return n
    }
    addElementByRule(e, n, r, s) {
        let l, o;
        if (n.node)
            if (o = this.parser.schema.nodes[n.node],
            o.isLeaf)
                this.insertNode(o.create(n.attrs), r, e.nodeName == "BR") || this.leafFallback(e, r);
            else {
                let f = this.enter(o, n.attrs || null, r, n.preserveWhitespace);
                f && (l = !0,
                r = f)
            }
        else {
            let f = this.parser.schema.marks[n.mark];
            r = r.concat(f.create(n.attrs))
        }
        let u = this.top;
        if (o && o.isLeaf)
            this.findInside(e);
        else if (s)
            this.addElement(e, r, s);
        else if (n.getContent)
            this.findInside(e),
            n.getContent(e, this.parser.schema).forEach(f => this.insertNode(f, r, !1));
        else {
            let f = e;
            typeof n.contentElement == "string" ? f = e.querySelector(n.contentElement) : typeof n.contentElement == "function" ? f = n.contentElement(e) : n.contentElement && (f = n.contentElement),
            this.findAround(e, f, !0),
            this.addAll(f, r),
            this.findAround(e, f, !1)
        }
        l && this.sync(u) && this.open--
    }
    addAll(e, n, r, s) {
        let l = r || 0;
        for (let o = r ? e.childNodes[r] : e.firstChild, u = s == null ? null : e.childNodes[s]; o != u; o = o.nextSibling,
        ++l)
            this.findAtPoint(e, l),
            this.addDOM(o, n);
        this.findAtPoint(e, l)
    }
    findPlace(e, n, r) {
        let s, l;
        for (let o = this.open, u = 0; o >= 0; o--) {
            let f = this.nodes[o]
              , p = f.findWrapping(e);
            if (p && (!s || s.length > p.length + u) && (s = p,
            l = f,
            !p.length))
                break;
            if (f.solid) {
                if (r)
                    break;
                u += 2
            }
        }
        if (!s)
            return null;
        this.sync(l);
        for (let o = 0; o < s.length; o++)
            n = this.enterInner(s[o], null, n, !1);
        return n
    }
    insertNode(e, n, r) {
        if (e.isInline && this.needsBlock && !this.top.type) {
            let l = this.textblockFromContext();
            l && (n = this.enterInner(l, null, n))
        }
        let s = this.findPlace(e, n, r);
        if (s) {
            this.closeExtra();
            let l = this.top;
            l.match && (l.match = l.match.matchType(e.type));
            let o = Ve.none;
            for (let u of s.concat(e.marks))
                (l.type ? l.type.allowsMarkType(u.type) : z2(u.type, e.type)) && (o = u.addToSet(o));
            return l.content.push(e.mark(o)),
            !0
        }
        return !1
    }
    enter(e, n, r, s) {
        let l = this.findPlace(e.create(n), r, !1);
        return l && (l = this.enterInner(e, n, r, !0, s)),
        l
    }
    enterInner(e, n, r, s=!1, l) {
        this.closeExtra();
        let o = this.top;
        o.match = o.match && o.match.matchType(e);
        let u = M2(e, l, o.options);
        o.options & Ja && o.content.length == 0 && (u |= Ja);
        let f = Ve.none;
        return r = r.filter(p => (o.type ? o.type.allowsMarkType(p.type) : z2(p.type, e)) ? (f = p.addToSet(f),
        !1) : !0),
        this.nodes.push(new oc(e,n,f,s,null,u)),
        this.open++,
        r
    }
    closeExtra(e=!1) {
        let n = this.nodes.length - 1;
        if (n > this.open) {
            for (; n > this.open; n--)
                this.nodes[n - 1].content.push(this.nodes[n].finish(e));
            this.nodes.length = this.open + 1
        }
    }
    finish() {
        return this.open = 0,
        this.closeExtra(this.isOpen),
        this.nodes[0].finish(!!(this.isOpen || this.options.topOpen))
    }
    sync(e) {
        for (let n = this.open; n >= 0; n--) {
            if (this.nodes[n] == e)
                return this.open = n,
                !0;
            this.localPreserveWS && (this.nodes[n].options |= co)
        }
        return !1
    }
    get currentPos() {
        this.closeExtra();
        let e = 0;
        for (let n = this.open; n >= 0; n--) {
            let r = this.nodes[n].content;
            for (let s = r.length - 1; s >= 0; s--)
                e += r[s].nodeSize;
            n && e++
        }
        return e
    }
    findAtPoint(e, n) {
        if (this.find)
            for (let r = 0; r < this.find.length; r++)
                this.find[r].node == e && this.find[r].offset == n && (this.find[r].pos = this.currentPos)
    }
    findInside(e) {
        if (this.find)
            for (let n = 0; n < this.find.length; n++)
                this.find[n].pos == null && e.nodeType == 1 && e.contains(this.find[n].node) && (this.find[n].pos = this.currentPos)
    }
    findAround(e, n, r) {
        if (e != n && this.find)
            for (let s = 0; s < this.find.length; s++)
                this.find[s].pos == null && e.nodeType == 1 && e.contains(this.find[s].node) && n.compareDocumentPosition(this.find[s].node) & (r ? 2 : 4) && (this.find[s].pos = this.currentPos)
    }
    findInText(e) {
        if (this.find)
            for (let n = 0; n < this.find.length; n++)
                this.find[n].node == e && (this.find[n].pos = this.currentPos - (e.nodeValue.length - this.find[n].offset))
    }
    matchesContext(e) {
        if (e.indexOf("|") > -1)
            return e.split(/\s*\|\s*/).some(this.matchesContext, this);
        let n = e.split("/")
          , r = this.options.context
          , s = !this.isOpen && (!r || r.parent.type == this.nodes[0].type)
          , l = -(r ? r.depth + 1 : 0) + (s ? 0 : 1)
          , o = (u, f) => {
            for (; u >= 0; u--) {
                let p = n[u];
                if (p == "") {
                    if (u == n.length - 1 || u == 0)
                        continue;
                    for (; f >= l; f--)
                        if (o(u - 1, f))
                            return !0;
                    return !1
                } else {
                    let m = f > 0 || f == 0 && s ? this.nodes[f].type : r && f >= l ? r.node(f - l).type : null;
                    if (!m || m.name != p && !m.isInGroup(p))
                        return !1;
                    f--
                }
            }
            return !0
        }
        ;
        return o(n.length - 1, this.open)
    }
    textblockFromContext() {
        let e = this.options.context;
        if (e)
            for (let n = e.depth; n >= 0; n--) {
                let r = e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;
                if (r && r.isTextblock && r.defaultAttrs)
                    return r
            }
        for (let n in this.parser.schema.nodes) {
            let r = this.parser.schema.nodes[n];
            if (r.isTextblock && r.defaultAttrs)
                return r
        }
    }
}
function ZT(t) {
    for (let e = t.firstChild, n = null; e; e = e.nextSibling) {
        let r = e.nodeType == 1 ? e.nodeName.toLowerCase() : null;
        r && X6.hasOwnProperty(r) && n ? (n.appendChild(e),
        e = n) : r == "li" ? n = e : r && (n = null)
    }
}
function WT(t, e) {
    return (t.matches || t.msMatchesSelector || t.webkitMatchesSelector || t.mozMatchesSelector).call(t, e)
}
function R2(t) {
    let e = {};
    for (let n in t)
        e[n] = t[n];
    return e
}
function z2(t, e) {
    let n = e.schema.nodes;
    for (let r in n) {
        let s = n[r];
        if (!s.allowsMarkType(t))
            continue;
        let l = []
          , o = u => {
            l.push(u);
            for (let f = 0; f < u.edgeCount; f++) {
                let {type: p, next: m} = u.edge(f);
                if (p == e || l.indexOf(m) < 0 && o(m))
                    return !0
            }
        }
        ;
        if (o(s.contentMatch))
            return !0
    }
}
class Oi {
    constructor(e, n) {
        this.nodes = e,
        this.marks = n
    }
    serializeFragment(e, n={}, r) {
        r || (r = Y0(n).createDocumentFragment());
        let s = r
          , l = [];
        return e.forEach(o => {
            if (l.length || o.marks.length) {
                let u = 0
                  , f = 0;
                for (; u < l.length && f < o.marks.length; ) {
                    let p = o.marks[f];
                    if (!this.marks[p.type.name]) {
                        f++;
                        continue
                    }
                    if (!p.eq(l[u][0]) || p.type.spec.spanning === !1)
                        break;
                    u++,
                    f++
                }
                for (; u < l.length; )
                    s = l.pop()[1];
                for (; f < o.marks.length; ) {
                    let p = o.marks[f++]
                      , m = this.serializeMark(p, o.isInline, n);
                    m && (l.push([p, s]),
                    s.appendChild(m.dom),
                    s = m.contentDOM || m.dom)
                }
            }
            s.appendChild(this.serializeNodeInner(o, n))
        }
        ),
        r
    }
    serializeNodeInner(e, n) {
        let {dom: r, contentDOM: s} = kc(Y0(n), this.nodes[e.type.name](e), null, e.attrs);
        if (s) {
            if (e.isLeaf)
                throw new RangeError("Content hole not allowed in a leaf node spec");
            this.serializeFragment(e.content, n, s)
        }
        return r
    }
    serializeNode(e, n={}) {
        let r = this.serializeNodeInner(e, n);
        for (let s = e.marks.length - 1; s >= 0; s--) {
            let l = this.serializeMark(e.marks[s], e.isInline, n);
            l && ((l.contentDOM || l.dom).appendChild(r),
            r = l.dom)
        }
        return r
    }
    serializeMark(e, n, r={}) {
        let s = this.marks[e.type.name];
        return s && kc(Y0(r), s(e, n), null, e.attrs)
    }
    static renderSpec(e, n, r=null, s) {
        return kc(e, n, r, s)
    }
    static fromSchema(e) {
        return e.cached.domSerializer || (e.cached.domSerializer = new Oi(this.nodesFromSchema(e),this.marksFromSchema(e)))
    }
    static nodesFromSchema(e) {
        let n = L2(e.nodes);
        return n.text || (n.text = r => r.text),
        n
    }
    static marksFromSchema(e) {
        return L2(e.marks)
    }
}
function L2(t) {
    let e = {};
    for (let n in t) {
        let r = t[n].spec.toDOM;
        r && (e[n] = r)
    }
    return e
}
function Y0(t) {
    return t.document || window.document
}
const B2 = new WeakMap;
function eD(t) {
    let e = B2.get(t);
    return e === void 0 && B2.set(t, e = tD(t)),
    e
}
function tD(t) {
    let e = null;
    function n(r) {
        if (r && typeof r == "object")
            if (Array.isArray(r))
                if (typeof r[0] == "string")
                    e || (e = []),
                    e.push(r);
                else
                    for (let s = 0; s < r.length; s++)
                        n(r[s]);
            else
                for (let s in r)
                    n(r[s])
    }
    return n(t),
    e
}
function kc(t, e, n, r) {
    if (typeof e == "string")
        return {
            dom: t.createTextNode(e)
        };
    if (e.nodeType != null)
        return {
            dom: e
        };
    if (e.dom && e.dom.nodeType != null)
        return e;
    let s = e[0], l;
    if (typeof s != "string")
        throw new RangeError("Invalid array passed to renderSpec");
    if (r && (l = eD(r)) && l.indexOf(e) > -1)
        throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");
    let o = s.indexOf(" ");
    o > 0 && (n = s.slice(0, o),
    s = s.slice(o + 1));
    let u, f = n ? t.createElementNS(n, s) : t.createElement(s), p = e[1], m = 1;
    if (p && typeof p == "object" && p.nodeType == null && !Array.isArray(p)) {
        m = 2;
        for (let g in p)
            if (p[g] != null) {
                let v = g.indexOf(" ");
                v > 0 ? f.setAttributeNS(g.slice(0, v), g.slice(v + 1), p[g]) : g == "style" && f.style ? f.style.cssText = p[g] : f.setAttribute(g, p[g])
            }
    }
    for (let g = m; g < e.length; g++) {
        let v = e[g];
        if (v === 0) {
            if (g < e.length - 1 || g > m)
                throw new RangeError("Content hole must be the only child of its parent node");
            return {
                dom: f,
                contentDOM: f
            }
        } else {
            let {dom: N, contentDOM: y} = kc(t, v, n, r);
            if (f.appendChild(N),
            y) {
                if (u)
                    throw new RangeError("Multiple content holes");
                u = y
            }
        }
    }
    return {
        dom: f,
        contentDOM: u
    }
}
const Q6 = 65535
  , Z6 = Math.pow(2, 16);
function nD(t, e) {
    return t + e * Z6
}
function F2(t) {
    return t & Q6
}
function rD(t) {
    return (t - (t & Q6)) / Z6
}
const W6 = 1
  , e4 = 2
  , Ac = 4
  , t4 = 8;
class Up {
    constructor(e, n, r) {
        this.pos = e,
        this.delInfo = n,
        this.recover = r
    }
    get deleted() {
        return (this.delInfo & t4) > 0
    }
    get deletedBefore() {
        return (this.delInfo & (W6 | Ac)) > 0
    }
    get deletedAfter() {
        return (this.delInfo & (e4 | Ac)) > 0
    }
    get deletedAcross() {
        return (this.delInfo & Ac) > 0
    }
}
class Nn {
    constructor(e, n=!1) {
        if (this.ranges = e,
        this.inverted = n,
        !e.length && Nn.empty)
            return Nn.empty
    }
    recover(e) {
        let n = 0
          , r = F2(e);
        if (!this.inverted)
            for (let s = 0; s < r; s++)
                n += this.ranges[s * 3 + 2] - this.ranges[s * 3 + 1];
        return this.ranges[r * 3] + n + rD(e)
    }
    mapResult(e, n=1) {
        return this._map(e, n, !1)
    }
    map(e, n=1) {
        return this._map(e, n, !0)
    }
    _map(e, n, r) {
        let s = 0
          , l = this.inverted ? 2 : 1
          , o = this.inverted ? 1 : 2;
        for (let u = 0; u < this.ranges.length; u += 3) {
            let f = this.ranges[u] - (this.inverted ? s : 0);
            if (f > e)
                break;
            let p = this.ranges[u + l]
              , m = this.ranges[u + o]
              , g = f + p;
            if (e <= g) {
                let v = p ? e == f ? -1 : e == g ? 1 : n : n
                  , N = f + s + (v < 0 ? 0 : m);
                if (r)
                    return N;
                let y = e == (n < 0 ? f : g) ? null : nD(u / 3, e - f)
                  , w = e == f ? e4 : e == g ? W6 : Ac;
                return (n < 0 ? e != f : e != g) && (w |= t4),
                new Up(N,w,y)
            }
            s += m - p
        }
        return r ? e + s : new Up(e + s,0,null)
    }
    touches(e, n) {
        let r = 0
          , s = F2(n)
          , l = this.inverted ? 2 : 1
          , o = this.inverted ? 1 : 2;
        for (let u = 0; u < this.ranges.length; u += 3) {
            let f = this.ranges[u] - (this.inverted ? r : 0);
            if (f > e)
                break;
            let p = this.ranges[u + l]
              , m = f + p;
            if (e <= m && u == s * 3)
                return !0;
            r += this.ranges[u + o] - p
        }
        return !1
    }
    forEach(e) {
        let n = this.inverted ? 2 : 1
          , r = this.inverted ? 1 : 2;
        for (let s = 0, l = 0; s < this.ranges.length; s += 3) {
            let o = this.ranges[s]
              , u = o - (this.inverted ? l : 0)
              , f = o + (this.inverted ? 0 : l)
              , p = this.ranges[s + n]
              , m = this.ranges[s + r];
            e(u, u + p, f, f + m),
            l += m - p
        }
    }
    invert() {
        return new Nn(this.ranges,!this.inverted)
    }
    toString() {
        return (this.inverted ? "-" : "") + JSON.stringify(this.ranges)
    }
    static offset(e) {
        return e == 0 ? Nn.empty : new Nn(e < 0 ? [0, -e, 0] : [0, 0, e])
    }
}
Nn.empty = new Nn([]);
class fo {
    constructor(e, n, r=0, s=e ? e.length : 0) {
        this.mirror = n,
        this.from = r,
        this.to = s,
        this._maps = e || [],
        this.ownData = !(e || n)
    }
    get maps() {
        return this._maps
    }
    slice(e=0, n=this.maps.length) {
        return new fo(this._maps,this.mirror,e,n)
    }
    appendMap(e, n) {
        this.ownData || (this._maps = this._maps.slice(),
        this.mirror = this.mirror && this.mirror.slice(),
        this.ownData = !0),
        this.to = this._maps.push(e),
        n != null && this.setMirror(this._maps.length - 1, n)
    }
    appendMapping(e) {
        for (let n = 0, r = this._maps.length; n < e._maps.length; n++) {
            let s = e.getMirror(n);
            this.appendMap(e._maps[n], s != null && s < n ? r + s : void 0)
        }
    }
    getMirror(e) {
        if (this.mirror) {
            for (let n = 0; n < this.mirror.length; n++)
                if (this.mirror[n] == e)
                    return this.mirror[n + (n % 2 ? -1 : 1)]
        }
    }
    setMirror(e, n) {
        this.mirror || (this.mirror = []),
        this.mirror.push(e, n)
    }
    appendMappingInverted(e) {
        for (let n = e.maps.length - 1, r = this._maps.length + e._maps.length; n >= 0; n--) {
            let s = e.getMirror(n);
            this.appendMap(e._maps[n].invert(), s != null && s > n ? r - s - 1 : void 0)
        }
    }
    invert() {
        let e = new fo;
        return e.appendMappingInverted(this),
        e
    }
    map(e, n=1) {
        if (this.mirror)
            return this._map(e, n, !0);
        for (let r = this.from; r < this.to; r++)
            e = this._maps[r].map(e, n);
        return e
    }
    mapResult(e, n=1) {
        return this._map(e, n, !1)
    }
    _map(e, n, r) {
        let s = 0;
        for (let l = this.from; l < this.to; l++) {
            let o = this._maps[l]
              , u = o.mapResult(e, n);
            if (u.recover != null) {
                let f = this.getMirror(l);
                if (f != null && f > l && f < this.to) {
                    l = f,
                    e = this._maps[f].recover(u.recover);
                    continue
                }
            }
            s |= u.delInfo,
            e = u.pos
        }
        return r ? e : new Up(e,s,null)
    }
}
const J0 = Object.create(null);
class It {
    getMap() {
        return Nn.empty
    }
    merge(e) {
        return null
    }
    static fromJSON(e, n) {
        if (!n || !n.stepType)
            throw new RangeError("Invalid input for Step.fromJSON");
        let r = J0[n.stepType];
        if (!r)
            throw new RangeError(`No step type ${n.stepType} defined`);
        return r.fromJSON(e, n)
    }
    static jsonID(e, n) {
        if (e in J0)
            throw new RangeError("Duplicate use of step JSON ID " + e);
        return J0[e] = n,
        n.prototype.jsonID = e,
        n
    }
}
class mt {
    constructor(e, n) {
        this.doc = e,
        this.failed = n
    }
    static ok(e) {
        return new mt(e,null)
    }
    static fail(e) {
        return new mt(null,e)
    }
    static fromReplace(e, n, r, s) {
        try {
            return mt.ok(e.replace(n, r, s))
        } catch (l) {
            if (l instanceof $c)
                return mt.fail(l.message);
            throw l
        }
    }
}
function Hm(t, e, n) {
    let r = [];
    for (let s = 0; s < t.childCount; s++) {
        let l = t.child(s);
        l.content.size && (l = l.copy(Hm(l.content, e, l))),
        l.isInline && (l = e(l, n, s)),
        r.push(l)
    }
    return X.fromArray(r)
}
class Ds extends It {
    constructor(e, n, r) {
        super(),
        this.from = e,
        this.to = n,
        this.mark = r
    }
    apply(e) {
        let n = e.slice(this.from, this.to)
          , r = e.resolve(this.from)
          , s = r.node(r.sharedDepth(this.to))
          , l = new ee(Hm(n.content, (o, u) => !o.isAtom || !u.type.allowsMarkType(this.mark.type) ? o : o.mark(this.mark.addToSet(o.marks)), s),n.openStart,n.openEnd);
        return mt.fromReplace(e, this.from, this.to, l)
    }
    invert() {
        return new ur(this.from,this.to,this.mark)
    }
    map(e) {
        let n = e.mapResult(this.from, 1)
          , r = e.mapResult(this.to, -1);
        return n.deleted && r.deleted || n.pos >= r.pos ? null : new Ds(n.pos,r.pos,this.mark)
    }
    merge(e) {
        return e instanceof Ds && e.mark.eq(this.mark) && this.from <= e.to && this.to >= e.from ? new Ds(Math.min(this.from, e.from),Math.max(this.to, e.to),this.mark) : null
    }
    toJSON() {
        return {
            stepType: "addMark",
            mark: this.mark.toJSON(),
            from: this.from,
            to: this.to
        }
    }
    static fromJSON(e, n) {
        if (typeof n.from != "number" || typeof n.to != "number")
            throw new RangeError("Invalid input for AddMarkStep.fromJSON");
        return new Ds(n.from,n.to,e.markFromJSON(n.mark))
    }
}
It.jsonID("addMark", Ds);
class ur extends It {
    constructor(e, n, r) {
        super(),
        this.from = e,
        this.to = n,
        this.mark = r
    }
    apply(e) {
        let n = e.slice(this.from, this.to)
          , r = new ee(Hm(n.content, s => s.mark(this.mark.removeFromSet(s.marks)), e),n.openStart,n.openEnd);
        return mt.fromReplace(e, this.from, this.to, r)
    }
    invert() {
        return new Ds(this.from,this.to,this.mark)
    }
    map(e) {
        let n = e.mapResult(this.from, 1)
          , r = e.mapResult(this.to, -1);
        return n.deleted && r.deleted || n.pos >= r.pos ? null : new ur(n.pos,r.pos,this.mark)
    }
    merge(e) {
        return e instanceof ur && e.mark.eq(this.mark) && this.from <= e.to && this.to >= e.from ? new ur(Math.min(this.from, e.from),Math.max(this.to, e.to),this.mark) : null
    }
    toJSON() {
        return {
            stepType: "removeMark",
            mark: this.mark.toJSON(),
            from: this.from,
            to: this.to
        }
    }
    static fromJSON(e, n) {
        if (typeof n.from != "number" || typeof n.to != "number")
            throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");
        return new ur(n.from,n.to,e.markFromJSON(n.mark))
    }
}
It.jsonID("removeMark", ur);
class Ms extends It {
    constructor(e, n) {
        super(),
        this.pos = e,
        this.mark = n
    }
    apply(e) {
        let n = e.nodeAt(this.pos);
        if (!n)
            return mt.fail("No node at mark step's position");
        let r = n.type.create(n.attrs, null, this.mark.addToSet(n.marks));
        return mt.fromReplace(e, this.pos, this.pos + 1, new ee(X.from(r),0,n.isLeaf ? 0 : 1))
    }
    invert(e) {
        let n = e.nodeAt(this.pos);
        if (n) {
            let r = this.mark.addToSet(n.marks);
            if (r.length == n.marks.length) {
                for (let s = 0; s < n.marks.length; s++)
                    if (!n.marks[s].isInSet(r))
                        return new Ms(this.pos,n.marks[s]);
                return new Ms(this.pos,this.mark)
            }
        }
        return new Ei(this.pos,this.mark)
    }
    map(e) {
        let n = e.mapResult(this.pos, 1);
        return n.deletedAfter ? null : new Ms(n.pos,this.mark)
    }
    toJSON() {
        return {
            stepType: "addNodeMark",
            pos: this.pos,
            mark: this.mark.toJSON()
        }
    }
    static fromJSON(e, n) {
        if (typeof n.pos != "number")
            throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");
        return new Ms(n.pos,e.markFromJSON(n.mark))
    }
}
It.jsonID("addNodeMark", Ms);
class Ei extends It {
    constructor(e, n) {
        super(),
        this.pos = e,
        this.mark = n
    }
    apply(e) {
        let n = e.nodeAt(this.pos);
        if (!n)
            return mt.fail("No node at mark step's position");
        let r = n.type.create(n.attrs, null, this.mark.removeFromSet(n.marks));
        return mt.fromReplace(e, this.pos, this.pos + 1, new ee(X.from(r),0,n.isLeaf ? 0 : 1))
    }
    invert(e) {
        let n = e.nodeAt(this.pos);
        return !n || !this.mark.isInSet(n.marks) ? this : new Ms(this.pos,this.mark)
    }
    map(e) {
        let n = e.mapResult(this.pos, 1);
        return n.deletedAfter ? null : new Ei(n.pos,this.mark)
    }
    toJSON() {
        return {
            stepType: "removeNodeMark",
            pos: this.pos,
            mark: this.mark.toJSON()
        }
    }
    static fromJSON(e, n) {
        if (typeof n.pos != "number")
            throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");
        return new Ei(n.pos,e.markFromJSON(n.mark))
    }
}
It.jsonID("removeNodeMark", Ei);
class Ct extends It {
    constructor(e, n, r, s=!1) {
        super(),
        this.from = e,
        this.to = n,
        this.slice = r,
        this.structure = s
    }
    apply(e) {
        return this.structure && qp(e, this.from, this.to) ? mt.fail("Structure replace would overwrite content") : mt.fromReplace(e, this.from, this.to, this.slice)
    }
    getMap() {
        return new Nn([this.from, this.to - this.from, this.slice.size])
    }
    invert(e) {
        return new Ct(this.from,this.from + this.slice.size,e.slice(this.from, this.to))
    }
    map(e) {
        let n = e.mapResult(this.from, 1)
          , r = e.mapResult(this.to, -1);
        return n.deletedAcross && r.deletedAcross ? null : new Ct(n.pos,Math.max(n.pos, r.pos),this.slice,this.structure)
    }
    merge(e) {
        if (!(e instanceof Ct) || e.structure || this.structure)
            return null;
        if (this.from + this.slice.size == e.from && !this.slice.openEnd && !e.slice.openStart) {
            let n = this.slice.size + e.slice.size == 0 ? ee.empty : new ee(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);
            return new Ct(this.from,this.to + (e.to - e.from),n,this.structure)
        } else if (e.to == this.from && !this.slice.openStart && !e.slice.openEnd) {
            let n = this.slice.size + e.slice.size == 0 ? ee.empty : new ee(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);
            return new Ct(e.from,this.to,n,this.structure)
        } else
            return null
    }
    toJSON() {
        let e = {
            stepType: "replace",
            from: this.from,
            to: this.to
        };
        return this.slice.size && (e.slice = this.slice.toJSON()),
        this.structure && (e.structure = !0),
        e
    }
    static fromJSON(e, n) {
        if (typeof n.from != "number" || typeof n.to != "number")
            throw new RangeError("Invalid input for ReplaceStep.fromJSON");
        return new Ct(n.from,n.to,ee.fromJSON(e, n.slice),!!n.structure)
    }
}
It.jsonID("replace", Ct);
class Et extends It {
    constructor(e, n, r, s, l, o, u=!1) {
        super(),
        this.from = e,
        this.to = n,
        this.gapFrom = r,
        this.gapTo = s,
        this.slice = l,
        this.insert = o,
        this.structure = u
    }
    apply(e) {
        if (this.structure && (qp(e, this.from, this.gapFrom) || qp(e, this.gapTo, this.to)))
            return mt.fail("Structure gap-replace would overwrite content");
        let n = e.slice(this.gapFrom, this.gapTo);
        if (n.openStart || n.openEnd)
            return mt.fail("Gap is not a flat range");
        let r = this.slice.insertAt(this.insert, n.content);
        return r ? mt.fromReplace(e, this.from, this.to, r) : mt.fail("Content does not fit in gap")
    }
    getMap() {
        return new Nn([this.from, this.gapFrom - this.from, this.insert, this.gapTo, this.to - this.gapTo, this.slice.size - this.insert])
    }
    invert(e) {
        let n = this.gapTo - this.gapFrom;
        return new Et(this.from,this.from + this.slice.size + n,this.from + this.insert,this.from + this.insert + n,e.slice(this.from, this.to).removeBetween(this.gapFrom - this.from, this.gapTo - this.from),this.gapFrom - this.from,this.structure)
    }
    map(e) {
        let n = e.mapResult(this.from, 1)
          , r = e.mapResult(this.to, -1)
          , s = this.from == this.gapFrom ? n.pos : e.map(this.gapFrom, -1)
          , l = this.to == this.gapTo ? r.pos : e.map(this.gapTo, 1);
        return n.deletedAcross && r.deletedAcross || s < n.pos || l > r.pos ? null : new Et(n.pos,r.pos,s,l,this.slice,this.insert,this.structure)
    }
    toJSON() {
        let e = {
            stepType: "replaceAround",
            from: this.from,
            to: this.to,
            gapFrom: this.gapFrom,
            gapTo: this.gapTo,
            insert: this.insert
        };
        return this.slice.size && (e.slice = this.slice.toJSON()),
        this.structure && (e.structure = !0),
        e
    }
    static fromJSON(e, n) {
        if (typeof n.from != "number" || typeof n.to != "number" || typeof n.gapFrom != "number" || typeof n.gapTo != "number" || typeof n.insert != "number")
            throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");
        return new Et(n.from,n.to,n.gapFrom,n.gapTo,ee.fromJSON(e, n.slice),n.insert,!!n.structure)
    }
}
It.jsonID("replaceAround", Et);
function qp(t, e, n) {
    let r = t.resolve(e)
      , s = n - e
      , l = r.depth;
    for (; s > 0 && l > 0 && r.indexAfter(l) == r.node(l).childCount; )
        l--,
        s--;
    if (s > 0) {
        let o = r.node(l).maybeChild(r.indexAfter(l));
        for (; s > 0; ) {
            if (!o || o.isLeaf)
                return !0;
            o = o.firstChild,
            s--
        }
    }
    return !1
}
function sD(t, e, n, r) {
    let s = [], l = [], o, u;
    t.doc.nodesBetween(e, n, (f, p, m) => {
        if (!f.isInline)
            return;
        let g = f.marks;
        if (!r.isInSet(g) && m.type.allowsMarkType(r.type)) {
            let v = Math.max(p, e)
              , N = Math.min(p + f.nodeSize, n)
              , y = r.addToSet(g);
            for (let w = 0; w < g.length; w++)
                g[w].isInSet(y) || (o && o.to == v && o.mark.eq(g[w]) ? o.to = N : s.push(o = new ur(v,N,g[w])));
            u && u.to == v ? u.to = N : l.push(u = new Ds(v,N,r))
        }
    }
    ),
    s.forEach(f => t.step(f)),
    l.forEach(f => t.step(f))
}
function iD(t, e, n, r) {
    let s = []
      , l = 0;
    t.doc.nodesBetween(e, n, (o, u) => {
        if (!o.isInline)
            return;
        l++;
        let f = null;
        if (r instanceof Vd) {
            let p = o.marks, m;
            for (; m = r.isInSet(p); )
                (f || (f = [])).push(m),
                p = m.removeFromSet(p)
        } else
            r ? r.isInSet(o.marks) && (f = [r]) : f = o.marks;
        if (f && f.length) {
            let p = Math.min(u + o.nodeSize, n);
            for (let m = 0; m < f.length; m++) {
                let g = f[m], v;
                for (let N = 0; N < s.length; N++) {
                    let y = s[N];
                    y.step == l - 1 && g.eq(s[N].style) && (v = y)
                }
                v ? (v.to = p,
                v.step = l) : s.push({
                    style: g,
                    from: Math.max(u, e),
                    to: p,
                    step: l
                })
            }
        }
    }
    ),
    s.forEach(o => t.step(new ur(o.from,o.to,o.style)))
}
function Um(t, e, n, r=n.contentMatch, s=!0) {
    let l = t.doc.nodeAt(e)
      , o = []
      , u = e + 1;
    for (let f = 0; f < l.childCount; f++) {
        let p = l.child(f)
          , m = u + p.nodeSize
          , g = r.matchType(p.type);
        if (!g)
            o.push(new Ct(u,m,ee.empty));
        else {
            r = g;
            for (let v = 0; v < p.marks.length; v++)
                n.allowsMarkType(p.marks[v].type) || t.step(new ur(u,m,p.marks[v]));
            if (s && p.isText && n.whitespace != "pre") {
                let v, N = /\r?\n|\r/g, y;
                for (; v = N.exec(p.text); )
                    y || (y = new ee(X.from(n.schema.text(" ", n.allowedMarks(p.marks))),0,0)),
                    o.push(new Ct(u + v.index,u + v.index + v[0].length,y))
            }
        }
        u = m
    }
    if (!r.validEnd) {
        let f = r.fillBefore(X.empty, !0);
        t.replace(u, u, new ee(f,0,0))
    }
    for (let f = o.length - 1; f >= 0; f--)
        t.step(o[f])
}
function lD(t, e, n) {
    return (e == 0 || t.canReplace(e, t.childCount)) && (n == t.childCount || t.canReplace(0, n))
}
function Pl(t) {
    let n = t.parent.content.cutByIndex(t.startIndex, t.endIndex);
    for (let r = t.depth, s = 0, l = 0; ; --r) {
        let o = t.$from.node(r)
          , u = t.$from.index(r) + s
          , f = t.$to.indexAfter(r) - l;
        if (r < t.depth && o.canReplace(u, f, n))
            return r;
        if (r == 0 || o.type.spec.isolating || !lD(o, u, f))
            break;
        u && (s = 1),
        f < o.childCount && (l = 1)
    }
    return null
}
function aD(t, e, n) {
    let {$from: r, $to: s, depth: l} = e
      , o = r.before(l + 1)
      , u = s.after(l + 1)
      , f = o
      , p = u
      , m = X.empty
      , g = 0;
    for (let y = l, w = !1; y > n; y--)
        w || r.index(y) > 0 ? (w = !0,
        m = X.from(r.node(y).copy(m)),
        g++) : f--;
    let v = X.empty
      , N = 0;
    for (let y = l, w = !1; y > n; y--)
        w || s.after(y + 1) < s.end(y) ? (w = !0,
        v = X.from(s.node(y).copy(v)),
        N++) : p++;
    t.step(new Et(f,p,o,u,new ee(m.append(v),g,N),m.size - g,!0))
}
function qm(t, e, n=null, r=t) {
    let s = oD(t, e)
      , l = s && uD(r, e);
    return l ? s.map(H2).concat({
        type: e,
        attrs: n
    }).concat(l.map(H2)) : null
}
function H2(t) {
    return {
        type: t,
        attrs: null
    }
}
function oD(t, e) {
    let {parent: n, startIndex: r, endIndex: s} = t
      , l = n.contentMatchAt(r).findWrapping(e);
    if (!l)
        return null;
    let o = l.length ? l[0] : e;
    return n.canReplaceWith(r, s, o) ? l : null
}
function uD(t, e) {
    let {parent: n, startIndex: r, endIndex: s} = t
      , l = n.child(r)
      , o = e.contentMatch.findWrapping(l.type);
    if (!o)
        return null;
    let f = (o.length ? o[o.length - 1] : e).contentMatch;
    for (let p = r; f && p < s; p++)
        f = f.matchType(n.child(p).type);
    return !f || !f.validEnd ? null : o
}
function cD(t, e, n) {
    let r = X.empty;
    for (let o = n.length - 1; o >= 0; o--) {
        if (r.size) {
            let u = n[o].type.contentMatch.matchFragment(r);
            if (!u || !u.validEnd)
                throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")
        }
        r = X.from(n[o].type.create(n[o].attrs, r))
    }
    let s = e.start
      , l = e.end;
    t.step(new Et(s,l,s,l,new ee(r,0,0),n.length,!0))
}
function dD(t, e, n, r, s) {
    if (!r.isTextblock)
        throw new RangeError("Type given to setBlockType should be a textblock");
    let l = t.steps.length;
    t.doc.nodesBetween(e, n, (o, u) => {
        let f = typeof s == "function" ? s(o) : s;
        if (o.isTextblock && !o.hasMarkup(r, f) && fD(t.doc, t.mapping.slice(l).map(u), r)) {
            let p = null;
            if (r.schema.linebreakReplacement) {
                let N = r.whitespace == "pre"
                  , y = !!r.contentMatch.matchType(r.schema.linebreakReplacement);
                N && !y ? p = !1 : !N && y && (p = !0)
            }
            p === !1 && r4(t, o, u, l),
            Um(t, t.mapping.slice(l).map(u, 1), r, void 0, p === null);
            let m = t.mapping.slice(l)
              , g = m.map(u, 1)
              , v = m.map(u + o.nodeSize, 1);
            return t.step(new Et(g,v,g + 1,v - 1,new ee(X.from(r.create(f, null, o.marks)),0,0),1,!0)),
            p === !0 && n4(t, o, u, l),
            !1
        }
    }
    )
}
function n4(t, e, n, r) {
    e.forEach( (s, l) => {
        if (s.isText) {
            let o, u = /\r?\n|\r/g;
            for (; o = u.exec(s.text); ) {
                let f = t.mapping.slice(r).map(n + 1 + l + o.index);
                t.replaceWith(f, f + 1, e.type.schema.linebreakReplacement.create())
            }
        }
    }
    )
}
function r4(t, e, n, r) {
    e.forEach( (s, l) => {
        if (s.type == s.type.schema.linebreakReplacement) {
            let o = t.mapping.slice(r).map(n + 1 + l);
            t.replaceWith(o, o + 1, e.type.schema.text(`
`))
        }
    }
    )
}
function fD(t, e, n) {
    let r = t.resolve(e)
      , s = r.index();
    return r.parent.canReplaceWith(s, s + 1, n)
}
function hD(t, e, n, r, s) {
    let l = t.doc.nodeAt(e);
    if (!l)
        throw new RangeError("No node at given position");
    n || (n = l.type);
    let o = n.create(r, null, s || l.marks);
    if (l.isLeaf)
        return t.replaceWith(e, e + l.nodeSize, o);
    if (!n.validContent(l.content))
        throw new RangeError("Invalid content for node type " + n.name);
    t.step(new Et(e,e + l.nodeSize,e + 1,e + l.nodeSize - 1,new ee(X.from(o),0,0),1,!0))
}
function Pr(t, e, n=1, r) {
    let s = t.resolve(e)
      , l = s.depth - n
      , o = r && r[r.length - 1] || s.parent;
    if (l < 0 || s.parent.type.spec.isolating || !s.parent.canReplace(s.index(), s.parent.childCount) || !o.type.validContent(s.parent.content.cutByIndex(s.index(), s.parent.childCount)))
        return !1;
    for (let p = s.depth - 1, m = n - 2; p > l; p--,
    m--) {
        let g = s.node(p)
          , v = s.index(p);
        if (g.type.spec.isolating)
            return !1;
        let N = g.content.cutByIndex(v, g.childCount)
          , y = r && r[m + 1];
        y && (N = N.replaceChild(0, y.type.create(y.attrs)));
        let w = r && r[m] || g;
        if (!g.canReplace(v + 1, g.childCount) || !w.type.validContent(N))
            return !1
    }
    let u = s.indexAfter(l)
      , f = r && r[0];
    return s.node(l).canReplaceWith(u, u, f ? f.type : s.node(l + 1).type)
}
function pD(t, e, n=1, r) {
    let s = t.doc.resolve(e)
      , l = X.empty
      , o = X.empty;
    for (let u = s.depth, f = s.depth - n, p = n - 1; u > f; u--,
    p--) {
        l = X.from(s.node(u).copy(l));
        let m = r && r[p];
        o = X.from(m ? m.type.create(m.attrs, o) : s.node(u).copy(o))
    }
    t.step(new Ct(e,e,new ee(l.append(o),n,n),!0))
}
function Is(t, e) {
    let n = t.resolve(e)
      , r = n.index();
    return s4(n.nodeBefore, n.nodeAfter) && n.parent.canReplace(r, r + 1)
}
function mD(t, e) {
    e.content.size || t.type.compatibleContent(e.type);
    let n = t.contentMatchAt(t.childCount)
      , {linebreakReplacement: r} = t.type.schema;
    for (let s = 0; s < e.childCount; s++) {
        let l = e.child(s)
          , o = l.type == r ? t.type.schema.nodes.text : l.type;
        if (n = n.matchType(o),
        !n || !t.type.allowsMarks(l.marks))
            return !1
    }
    return n.validEnd
}
function s4(t, e) {
    return !!(t && e && !t.isLeaf && mD(t, e))
}
function Gd(t, e, n=-1) {
    let r = t.resolve(e);
    for (let s = r.depth; ; s--) {
        let l, o, u = r.index(s);
        if (s == r.depth ? (l = r.nodeBefore,
        o = r.nodeAfter) : n > 0 ? (l = r.node(s + 1),
        u++,
        o = r.node(s).maybeChild(u)) : (l = r.node(s).maybeChild(u - 1),
        o = r.node(s + 1)),
        l && !l.isTextblock && s4(l, o) && r.node(s).canReplace(u, u + 1))
            return e;
        if (s == 0)
            break;
        e = n < 0 ? r.before(s) : r.after(s)
    }
}
function gD(t, e, n) {
    let r = null
      , {linebreakReplacement: s} = t.doc.type.schema
      , l = t.doc.resolve(e - n)
      , o = l.node().type;
    if (s && o.inlineContent) {
        let m = o.whitespace == "pre"
          , g = !!o.contentMatch.matchType(s);
        m && !g ? r = !1 : !m && g && (r = !0)
    }
    let u = t.steps.length;
    if (r === !1) {
        let m = t.doc.resolve(e + n);
        r4(t, m.node(), m.before(), u)
    }
    o.inlineContent && Um(t, e + n - 1, o, l.node().contentMatchAt(l.index()), r == null);
    let f = t.mapping.slice(u)
      , p = f.map(e - n);
    if (t.step(new Ct(p,f.map(e + n, -1),ee.empty,!0)),
    r === !0) {
        let m = t.doc.resolve(p);
        n4(t, m.node(), m.before(), t.steps.length)
    }
    return t
}
function xD(t, e, n) {
    let r = t.resolve(e);
    if (r.parent.canReplaceWith(r.index(), r.index(), n))
        return e;
    if (r.parentOffset == 0)
        for (let s = r.depth - 1; s >= 0; s--) {
            let l = r.index(s);
            if (r.node(s).canReplaceWith(l, l, n))
                return r.before(s + 1);
            if (l > 0)
                return null
        }
    if (r.parentOffset == r.parent.content.size)
        for (let s = r.depth - 1; s >= 0; s--) {
            let l = r.indexAfter(s);
            if (r.node(s).canReplaceWith(l, l, n))
                return r.after(s + 1);
            if (l < r.node(s).childCount)
                return null
        }
    return null
}
function i4(t, e, n) {
    let r = t.resolve(e);
    if (!n.content.size)
        return e;
    let s = n.content;
    for (let l = 0; l < n.openStart; l++)
        s = s.firstChild.content;
    for (let l = 1; l <= (n.openStart == 0 && n.size ? 2 : 1); l++)
        for (let o = r.depth; o >= 0; o--) {
            let u = o == r.depth ? 0 : r.pos <= (r.start(o + 1) + r.end(o + 1)) / 2 ? -1 : 1
              , f = r.index(o) + (u > 0 ? 1 : 0)
              , p = r.node(o)
              , m = !1;
            if (l == 1)
                m = p.canReplace(f, f, s);
            else {
                let g = p.contentMatchAt(f).findWrapping(s.firstChild.type);
                m = g && p.canReplaceWith(f, f, g[0])
            }
            if (m)
                return u == 0 ? r.pos : u < 0 ? r.before(o + 1) : r.after(o + 1)
        }
    return null
}
function Kd(t, e, n=e, r=ee.empty) {
    if (e == n && !r.size)
        return null;
    let s = t.resolve(e)
      , l = t.resolve(n);
    return l4(s, l, r) ? new Ct(e,n,r) : new bD(s,l,r).fit()
}
function l4(t, e, n) {
    return !n.openStart && !n.openEnd && t.start() == e.start() && t.parent.canReplace(t.index(), e.index(), n.content)
}
class bD {
    constructor(e, n, r) {
        this.$from = e,
        this.$to = n,
        this.unplaced = r,
        this.frontier = [],
        this.placed = X.empty;
        for (let s = 0; s <= e.depth; s++) {
            let l = e.node(s);
            this.frontier.push({
                type: l.type,
                match: l.contentMatchAt(e.indexAfter(s))
            })
        }
        for (let s = e.depth; s > 0; s--)
            this.placed = X.from(e.node(s).copy(this.placed))
    }
    get depth() {
        return this.frontier.length - 1
    }
    fit() {
        for (; this.unplaced.size; ) {
            let p = this.findFittable();
            p ? this.placeNodes(p) : this.openMore() || this.dropNode()
        }
        let e = this.mustMoveInline()
          , n = this.placed.size - this.depth - this.$from.depth
          , r = this.$from
          , s = this.close(e < 0 ? this.$to : r.doc.resolve(e));
        if (!s)
            return null;
        let l = this.placed
          , o = r.depth
          , u = s.depth;
        for (; o && u && l.childCount == 1; )
            l = l.firstChild.content,
            o--,
            u--;
        let f = new ee(l,o,u);
        return e > -1 ? new Et(r.pos,e,this.$to.pos,this.$to.end(),f,n) : f.size || r.pos != this.$to.pos ? new Ct(r.pos,s.pos,f) : null
    }
    findFittable() {
        let e = this.unplaced.openStart;
        for (let n = this.unplaced.content, r = 0, s = this.unplaced.openEnd; r < e; r++) {
            let l = n.firstChild;
            if (n.childCount > 1 && (s = 0),
            l.type.spec.isolating && s <= r) {
                e = r;
                break
            }
            n = l.content
        }
        for (let n = 1; n <= 2; n++)
            for (let r = n == 1 ? e : this.unplaced.openStart; r >= 0; r--) {
                let s, l = null;
                r ? (l = X0(this.unplaced.content, r - 1).firstChild,
                s = l.content) : s = this.unplaced.content;
                let o = s.firstChild;
                for (let u = this.depth; u >= 0; u--) {
                    let {type: f, match: p} = this.frontier[u], m, g = null;
                    if (n == 1 && (o ? p.matchType(o.type) || (g = p.fillBefore(X.from(o), !1)) : l && f.compatibleContent(l.type)))
                        return {
                            sliceDepth: r,
                            frontierDepth: u,
                            parent: l,
                            inject: g
                        };
                    if (n == 2 && o && (m = p.findWrapping(o.type)))
                        return {
                            sliceDepth: r,
                            frontierDepth: u,
                            parent: l,
                            wrap: m
                        };
                    if (l && p.matchType(l.type))
                        break
                }
            }
    }
    openMore() {
        let {content: e, openStart: n, openEnd: r} = this.unplaced
          , s = X0(e, n);
        return !s.childCount || s.firstChild.isLeaf ? !1 : (this.unplaced = new ee(e,n + 1,Math.max(r, s.size + n >= e.size - r ? n + 1 : 0)),
        !0)
    }
    dropNode() {
        let {content: e, openStart: n, openEnd: r} = this.unplaced
          , s = X0(e, n);
        if (s.childCount <= 1 && n > 0) {
            let l = e.size - n <= n + s.size;
            this.unplaced = new ee(Pa(e, n - 1, 1),n - 1,l ? n - 1 : r)
        } else
            this.unplaced = new ee(Pa(e, n, 1),n,r)
    }
    placeNodes({sliceDepth: e, frontierDepth: n, parent: r, inject: s, wrap: l}) {
        for (; this.depth > n; )
            this.closeFrontierNode();
        if (l)
            for (let w = 0; w < l.length; w++)
                this.openFrontierNode(l[w]);
        let o = this.unplaced
          , u = r ? r.content : o.content
          , f = o.openStart - e
          , p = 0
          , m = []
          , {match: g, type: v} = this.frontier[n];
        if (s) {
            for (let w = 0; w < s.childCount; w++)
                m.push(s.child(w));
            g = g.matchFragment(s)
        }
        let N = u.size + e - (o.content.size - o.openEnd);
        for (; p < u.childCount; ) {
            let w = u.child(p)
              , C = g.matchType(w.type);
            if (!C)
                break;
            p++,
            (p > 1 || f == 0 || w.content.size) && (g = C,
            m.push(a4(w.mark(v.allowedMarks(w.marks)), p == 1 ? f : 0, p == u.childCount ? N : -1)))
        }
        let y = p == u.childCount;
        y || (N = -1),
        this.placed = Va(this.placed, n, X.from(m)),
        this.frontier[n].match = g,
        y && N < 0 && r && r.type == this.frontier[this.depth].type && this.frontier.length > 1 && this.closeFrontierNode();
        for (let w = 0, C = u; w < N; w++) {
            let E = C.lastChild;
            this.frontier.push({
                type: E.type,
                match: E.contentMatchAt(E.childCount)
            }),
            C = E.content
        }
        this.unplaced = y ? e == 0 ? ee.empty : new ee(Pa(o.content, e - 1, 1),e - 1,N < 0 ? o.openEnd : e - 1) : new ee(Pa(o.content, e, p),o.openStart,o.openEnd)
    }
    mustMoveInline() {
        if (!this.$to.parent.isTextblock)
            return -1;
        let e = this.frontier[this.depth], n;
        if (!e.type.isTextblock || !Q0(this.$to, this.$to.depth, e.type, e.match, !1) || this.$to.depth == this.depth && (n = this.findCloseLevel(this.$to)) && n.depth == this.depth)
            return -1;
        let {depth: r} = this.$to
          , s = this.$to.after(r);
        for (; r > 1 && s == this.$to.end(--r); )
            ++s;
        return s
    }
    findCloseLevel(e) {
        e: for (let n = Math.min(this.depth, e.depth); n >= 0; n--) {
            let {match: r, type: s} = this.frontier[n]
              , l = n < e.depth && e.end(n + 1) == e.pos + (e.depth - (n + 1))
              , o = Q0(e, n, s, r, l);
            if (o) {
                for (let u = n - 1; u >= 0; u--) {
                    let {match: f, type: p} = this.frontier[u]
                      , m = Q0(e, u, p, f, !0);
                    if (!m || m.childCount)
                        continue e
                }
                return {
                    depth: n,
                    fit: o,
                    move: l ? e.doc.resolve(e.after(n + 1)) : e
                }
            }
        }
    }
    close(e) {
        let n = this.findCloseLevel(e);
        if (!n)
            return null;
        for (; this.depth > n.depth; )
            this.closeFrontierNode();
        n.fit.childCount && (this.placed = Va(this.placed, n.depth, n.fit)),
        e = n.move;
        for (let r = n.depth + 1; r <= e.depth; r++) {
            let s = e.node(r)
              , l = s.type.contentMatch.fillBefore(s.content, !0, e.index(r));
            this.openFrontierNode(s.type, s.attrs, l)
        }
        return e
    }
    openFrontierNode(e, n=null, r) {
        let s = this.frontier[this.depth];
        s.match = s.match.matchType(e),
        this.placed = Va(this.placed, this.depth, X.from(e.create(n, r))),
        this.frontier.push({
            type: e,
            match: e.contentMatch
        })
    }
    closeFrontierNode() {
        let n = this.frontier.pop().match.fillBefore(X.empty, !0);
        n.childCount && (this.placed = Va(this.placed, this.frontier.length, n))
    }
}
function Pa(t, e, n) {
    return e == 0 ? t.cutByIndex(n, t.childCount) : t.replaceChild(0, t.firstChild.copy(Pa(t.firstChild.content, e - 1, n)))
}
function Va(t, e, n) {
    return e == 0 ? t.append(n) : t.replaceChild(t.childCount - 1, t.lastChild.copy(Va(t.lastChild.content, e - 1, n)))
}
function X0(t, e) {
    for (let n = 0; n < e; n++)
        t = t.firstChild.content;
    return t
}
function a4(t, e, n) {
    if (e <= 0)
        return t;
    let r = t.content;
    return e > 1 && (r = r.replaceChild(0, a4(r.firstChild, e - 1, r.childCount == 1 ? n - 1 : 0))),
    e > 0 && (r = t.type.contentMatch.fillBefore(r).append(r),
    n <= 0 && (r = r.append(t.type.contentMatch.matchFragment(r).fillBefore(X.empty, !0)))),
    t.copy(r)
}
function Q0(t, e, n, r, s) {
    let l = t.node(e)
      , o = s ? t.indexAfter(e) : t.index(e);
    if (o == l.childCount && !n.compatibleContent(l.type))
        return null;
    let u = r.fillBefore(l.content, !0, o);
    return u && !yD(n, l.content, o) ? u : null
}
function yD(t, e, n) {
    for (let r = n; r < e.childCount; r++)
        if (!t.allowsMarks(e.child(r).marks))
            return !0;
    return !1
}
function vD(t) {
    return t.spec.defining || t.spec.definingForContent
}
function ND(t, e, n, r) {
    if (!r.size)
        return t.deleteRange(e, n);
    let s = t.doc.resolve(e)
      , l = t.doc.resolve(n);
    if (l4(s, l, r))
        return t.step(new Ct(e,n,r));
    let o = u4(s, l);
    o[o.length - 1] == 0 && o.pop();
    let u = -(s.depth + 1);
    o.unshift(u);
    for (let v = s.depth, N = s.pos - 1; v > 0; v--,
    N--) {
        let y = s.node(v).type.spec;
        if (y.defining || y.definingAsContext || y.isolating)
            break;
        o.indexOf(v) > -1 ? u = v : s.before(v) == N && o.splice(1, 0, -v)
    }
    let f = o.indexOf(u)
      , p = []
      , m = r.openStart;
    for (let v = r.content, N = 0; ; N++) {
        let y = v.firstChild;
        if (p.push(y),
        N == r.openStart)
            break;
        v = y.content
    }
    for (let v = m - 1; v >= 0; v--) {
        let N = p[v]
          , y = vD(N.type);
        if (y && !N.sameMarkup(s.node(Math.abs(u) - 1)))
            m = v;
        else if (y || !N.type.isTextblock)
            break
    }
    for (let v = r.openStart; v >= 0; v--) {
        let N = (v + m + 1) % (r.openStart + 1)
          , y = p[N];
        if (y)
            for (let w = 0; w < o.length; w++) {
                let C = o[(w + f) % o.length]
                  , E = !0;
                C < 0 && (E = !1,
                C = -C);
                let A = s.node(C - 1)
                  , _ = s.index(C - 1);
                if (A.canReplaceWith(_, _, y.type, y.marks))
                    return t.replace(s.before(C), E ? l.after(C) : n, new ee(o4(r.content, 0, r.openStart, N),N,r.openEnd))
            }
    }
    let g = t.steps.length;
    for (let v = o.length - 1; v >= 0 && (t.replace(e, n, r),
    !(t.steps.length > g)); v--) {
        let N = o[v];
        N < 0 || (e = s.before(N),
        n = l.after(N))
    }
}
function o4(t, e, n, r, s) {
    if (e < n) {
        let l = t.firstChild;
        t = t.replaceChild(0, l.copy(o4(l.content, e + 1, n, r, l)))
    }
    if (e > r) {
        let l = s.contentMatchAt(0)
          , o = l.fillBefore(t).append(t);
        t = o.append(l.matchFragment(o).fillBefore(X.empty, !0))
    }
    return t
}
function wD(t, e, n, r) {
    if (!r.isInline && e == n && t.doc.resolve(e).parent.content.size) {
        let s = xD(t.doc, e, r.type);
        s != null && (e = n = s)
    }
    t.replaceRange(e, n, new ee(X.from(r),0,0))
}
function CD(t, e, n) {
    let r = t.doc.resolve(e)
      , s = t.doc.resolve(n)
      , l = u4(r, s);
    for (let o = 0; o < l.length; o++) {
        let u = l[o]
          , f = o == l.length - 1;
        if (f && u == 0 || r.node(u).type.contentMatch.validEnd)
            return t.delete(r.start(u), s.end(u));
        if (u > 0 && (f || r.node(u - 1).canReplace(r.index(u - 1), s.indexAfter(u - 1))))
            return t.delete(r.before(u), s.after(u))
    }
    for (let o = 1; o <= r.depth && o <= s.depth; o++)
        if (e - r.start(o) == r.depth - o && n > r.end(o) && s.end(o) - n != s.depth - o && r.start(o - 1) == s.start(o - 1) && r.node(o - 1).canReplace(r.index(o - 1), s.index(o - 1)))
            return t.delete(r.before(o), n);
    t.delete(e, n)
}
function u4(t, e) {
    let n = []
      , r = Math.min(t.depth, e.depth);
    for (let s = r; s >= 0; s--) {
        let l = t.start(s);
        if (l < t.pos - (t.depth - s) || e.end(s) > e.pos + (e.depth - s) || t.node(s).type.spec.isolating || e.node(s).type.spec.isolating)
            break;
        (l == e.start(s) || s == t.depth && s == e.depth && t.parent.inlineContent && e.parent.inlineContent && s && e.start(s - 1) == l - 1) && n.push(s)
    }
    return n
}
class Al extends It {
    constructor(e, n, r) {
        super(),
        this.pos = e,
        this.attr = n,
        this.value = r
    }
    apply(e) {
        let n = e.nodeAt(this.pos);
        if (!n)
            return mt.fail("No node at attribute step's position");
        let r = Object.create(null);
        for (let l in n.attrs)
            r[l] = n.attrs[l];
        r[this.attr] = this.value;
        let s = n.type.create(r, null, n.marks);
        return mt.fromReplace(e, this.pos, this.pos + 1, new ee(X.from(s),0,n.isLeaf ? 0 : 1))
    }
    getMap() {
        return Nn.empty
    }
    invert(e) {
        return new Al(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])
    }
    map(e) {
        let n = e.mapResult(this.pos, 1);
        return n.deletedAfter ? null : new Al(n.pos,this.attr,this.value)
    }
    toJSON() {
        return {
            stepType: "attr",
            pos: this.pos,
            attr: this.attr,
            value: this.value
        }
    }
    static fromJSON(e, n) {
        if (typeof n.pos != "number" || typeof n.attr != "string")
            throw new RangeError("Invalid input for AttrStep.fromJSON");
        return new Al(n.pos,n.attr,n.value)
    }
}
It.jsonID("attr", Al);
class ho extends It {
    constructor(e, n) {
        super(),
        this.attr = e,
        this.value = n
    }
    apply(e) {
        let n = Object.create(null);
        for (let s in e.attrs)
            n[s] = e.attrs[s];
        n[this.attr] = this.value;
        let r = e.type.create(n, e.content, e.marks);
        return mt.ok(r)
    }
    getMap() {
        return Nn.empty
    }
    invert(e) {
        return new ho(this.attr,e.attrs[this.attr])
    }
    map(e) {
        return this
    }
    toJSON() {
        return {
            stepType: "docAttr",
            attr: this.attr,
            value: this.value
        }
    }
    static fromJSON(e, n) {
        if (typeof n.attr != "string")
            throw new RangeError("Invalid input for DocAttrStep.fromJSON");
        return new ho(n.attr,n.value)
    }
}
It.jsonID("docAttr", ho);
let Ol = class extends Error {
}
;
Ol = function t(e) {
    let n = Error.call(this, e);
    return n.__proto__ = t.prototype,
    n
}
;
Ol.prototype = Object.create(Error.prototype);
Ol.prototype.constructor = Ol;
Ol.prototype.name = "TransformError";
class Im {
    constructor(e) {
        this.doc = e,
        this.steps = [],
        this.docs = [],
        this.mapping = new fo
    }
    get before() {
        return this.docs.length ? this.docs[0] : this.doc
    }
    step(e) {
        let n = this.maybeStep(e);
        if (n.failed)
            throw new Ol(n.failed);
        return this
    }
    maybeStep(e) {
        let n = e.apply(this.doc);
        return n.failed || this.addStep(e, n.doc),
        n
    }
    get docChanged() {
        return this.steps.length > 0
    }
    addStep(e, n) {
        this.docs.push(this.doc),
        this.steps.push(e),
        this.mapping.appendMap(e.getMap()),
        this.doc = n
    }
    replace(e, n=e, r=ee.empty) {
        let s = Kd(this.doc, e, n, r);
        return s && this.step(s),
        this
    }
    replaceWith(e, n, r) {
        return this.replace(e, n, new ee(X.from(r),0,0))
    }
    delete(e, n) {
        return this.replace(e, n, ee.empty)
    }
    insert(e, n) {
        return this.replaceWith(e, e, n)
    }
    replaceRange(e, n, r) {
        return ND(this, e, n, r),
        this
    }
    replaceRangeWith(e, n, r) {
        return wD(this, e, n, r),
        this
    }
    deleteRange(e, n) {
        return CD(this, e, n),
        this
    }
    lift(e, n) {
        return aD(this, e, n),
        this
    }
    join(e, n=1) {
        return gD(this, e, n),
        this
    }
    wrap(e, n) {
        return cD(this, e, n),
        this
    }
    setBlockType(e, n=e, r, s=null) {
        return dD(this, e, n, r, s),
        this
    }
    setNodeMarkup(e, n, r=null, s) {
        return hD(this, e, n, r, s),
        this
    }
    setNodeAttribute(e, n, r) {
        return this.step(new Al(e,n,r)),
        this
    }
    setDocAttribute(e, n) {
        return this.step(new ho(e,n)),
        this
    }
    addNodeMark(e, n) {
        return this.step(new Ms(e,n)),
        this
    }
    removeNodeMark(e, n) {
        let r = this.doc.nodeAt(e);
        if (!r)
            throw new RangeError("No node at position " + e);
        if (n instanceof Ve)
            n.isInSet(r.marks) && this.step(new Ei(e,n));
        else {
            let s = r.marks, l, o = [];
            for (; l = n.isInSet(s); )
                o.push(new Ei(e,l)),
                s = l.removeFromSet(s);
            for (let u = o.length - 1; u >= 0; u--)
                this.step(o[u])
        }
        return this
    }
    split(e, n=1, r) {
        return pD(this, e, n, r),
        this
    }
    addMark(e, n, r) {
        return sD(this, e, n, r),
        this
    }
    removeMark(e, n, r) {
        return iD(this, e, n, r),
        this
    }
    clearIncompatible(e, n, r) {
        return Um(this, e, n, r),
        this
    }
}
const Z0 = Object.create(null);
class he {
    constructor(e, n, r) {
        this.$anchor = e,
        this.$head = n,
        this.ranges = r || [new c4(e.min(n),e.max(n))]
    }
    get anchor() {
        return this.$anchor.pos
    }
    get head() {
        return this.$head.pos
    }
    get from() {
        return this.$from.pos
    }
    get to() {
        return this.$to.pos
    }
    get $from() {
        return this.ranges[0].$from
    }
    get $to() {
        return this.ranges[0].$to
    }
    get empty() {
        let e = this.ranges;
        for (let n = 0; n < e.length; n++)
            if (e[n].$from.pos != e[n].$to.pos)
                return !1;
        return !0
    }
    content() {
        return this.$from.doc.slice(this.from, this.to, !0)
    }
    replace(e, n=ee.empty) {
        let r = n.content.lastChild
          , s = null;
        for (let u = 0; u < n.openEnd; u++)
            s = r,
            r = r.lastChild;
        let l = e.steps.length
          , o = this.ranges;
        for (let u = 0; u < o.length; u++) {
            let {$from: f, $to: p} = o[u]
              , m = e.mapping.slice(l);
            e.replaceRange(m.map(f.pos), m.map(p.pos), u ? ee.empty : n),
            u == 0 && I2(e, l, (r ? r.isInline : s && s.isTextblock) ? -1 : 1)
        }
    }
    replaceWith(e, n) {
        let r = e.steps.length
          , s = this.ranges;
        for (let l = 0; l < s.length; l++) {
            let {$from: o, $to: u} = s[l]
              , f = e.mapping.slice(r)
              , p = f.map(o.pos)
              , m = f.map(u.pos);
            l ? e.deleteRange(p, m) : (e.replaceRangeWith(p, m, n),
            I2(e, r, n.isInline ? -1 : 1))
        }
    }
    static findFrom(e, n, r=!1) {
        let s = e.parent.inlineContent ? new ce(e) : wl(e.node(0), e.parent, e.pos, e.index(), n, r);
        if (s)
            return s;
        for (let l = e.depth - 1; l >= 0; l--) {
            let o = n < 0 ? wl(e.node(0), e.node(l), e.before(l + 1), e.index(l), n, r) : wl(e.node(0), e.node(l), e.after(l + 1), e.index(l) + 1, n, r);
            if (o)
                return o
        }
        return null
    }
    static near(e, n=1) {
        return this.findFrom(e, n) || this.findFrom(e, -n) || new Cn(e.node(0))
    }
    static atStart(e) {
        return wl(e, e, 0, 0, 1) || new Cn(e)
    }
    static atEnd(e) {
        return wl(e, e, e.content.size, e.childCount, -1) || new Cn(e)
    }
    static fromJSON(e, n) {
        if (!n || !n.type)
            throw new RangeError("Invalid input for Selection.fromJSON");
        let r = Z0[n.type];
        if (!r)
            throw new RangeError(`No selection type ${n.type} defined`);
        return r.fromJSON(e, n)
    }
    static jsonID(e, n) {
        if (e in Z0)
            throw new RangeError("Duplicate use of selection JSON ID " + e);
        return Z0[e] = n,
        n.prototype.jsonID = e,
        n
    }
    getBookmark() {
        return ce.between(this.$anchor, this.$head).getBookmark()
    }
}
he.prototype.visible = !0;
class c4 {
    constructor(e, n) {
        this.$from = e,
        this.$to = n
    }
}
let U2 = !1;
function q2(t) {
    !U2 && !t.parent.inlineContent && (U2 = !0,
    console.warn("TextSelection endpoint not pointing into a node with inline content (" + t.parent.type.name + ")"))
}
class ce extends he {
    constructor(e, n=e) {
        q2(e),
        q2(n),
        super(e, n)
    }
    get $cursor() {
        return this.$anchor.pos == this.$head.pos ? this.$head : null
    }
    map(e, n) {
        let r = e.resolve(n.map(this.head));
        if (!r.parent.inlineContent)
            return he.near(r);
        let s = e.resolve(n.map(this.anchor));
        return new ce(s.parent.inlineContent ? s : r,r)
    }
    replace(e, n=ee.empty) {
        if (super.replace(e, n),
        n == ee.empty) {
            let r = this.$from.marksAcross(this.$to);
            r && e.ensureMarks(r)
        }
    }
    eq(e) {
        return e instanceof ce && e.anchor == this.anchor && e.head == this.head
    }
    getBookmark() {
        return new Yd(this.anchor,this.head)
    }
    toJSON() {
        return {
            type: "text",
            anchor: this.anchor,
            head: this.head
        }
    }
    static fromJSON(e, n) {
        if (typeof n.anchor != "number" || typeof n.head != "number")
            throw new RangeError("Invalid input for TextSelection.fromJSON");
        return new ce(e.resolve(n.anchor),e.resolve(n.head))
    }
    static create(e, n, r=n) {
        let s = e.resolve(n);
        return new this(s,r == n ? s : e.resolve(r))
    }
    static between(e, n, r) {
        let s = e.pos - n.pos;
        if ((!r || s) && (r = s >= 0 ? 1 : -1),
        !n.parent.inlineContent) {
            let l = he.findFrom(n, r, !0) || he.findFrom(n, -r, !0);
            if (l)
                n = l.$head;
            else
                return he.near(n, r)
        }
        return e.parent.inlineContent || (s == 0 ? e = n : (e = (he.findFrom(e, -r, !0) || he.findFrom(e, r, !0)).$anchor,
        e.pos < n.pos != s < 0 && (e = n))),
        new ce(e,n)
    }
}
he.jsonID("text", ce);
class Yd {
    constructor(e, n) {
        this.anchor = e,
        this.head = n
    }
    map(e) {
        return new Yd(e.map(this.anchor),e.map(this.head))
    }
    resolve(e) {
        return ce.between(e.resolve(this.anchor), e.resolve(this.head))
    }
}
class ue extends he {
    constructor(e) {
        let n = e.nodeAfter
          , r = e.node(0).resolve(e.pos + n.nodeSize);
        super(e, r),
        this.node = n
    }
    map(e, n) {
        let {deleted: r, pos: s} = n.mapResult(this.anchor)
          , l = e.resolve(s);
        return r ? he.near(l) : new ue(l)
    }
    content() {
        return new ee(X.from(this.node),0,0)
    }
    eq(e) {
        return e instanceof ue && e.anchor == this.anchor
    }
    toJSON() {
        return {
            type: "node",
            anchor: this.anchor
        }
    }
    getBookmark() {
        return new $m(this.anchor)
    }
    static fromJSON(e, n) {
        if (typeof n.anchor != "number")
            throw new RangeError("Invalid input for NodeSelection.fromJSON");
        return new ue(e.resolve(n.anchor))
    }
    static create(e, n) {
        return new ue(e.resolve(n))
    }
    static isSelectable(e) {
        return !e.isText && e.type.spec.selectable !== !1
    }
}
ue.prototype.visible = !1;
he.jsonID("node", ue);
class $m {
    constructor(e) {
        this.anchor = e
    }
    map(e) {
        let {deleted: n, pos: r} = e.mapResult(this.anchor);
        return n ? new Yd(r,r) : new $m(r)
    }
    resolve(e) {
        let n = e.resolve(this.anchor)
          , r = n.nodeAfter;
        return r && ue.isSelectable(r) ? new ue(n) : he.near(n)
    }
}
class Cn extends he {
    constructor(e) {
        super(e.resolve(0), e.resolve(e.content.size))
    }
    replace(e, n=ee.empty) {
        if (n == ee.empty) {
            e.delete(0, e.doc.content.size);
            let r = he.atStart(e.doc);
            r.eq(e.selection) || e.setSelection(r)
        } else
            super.replace(e, n)
    }
    toJSON() {
        return {
            type: "all"
        }
    }
    static fromJSON(e) {
        return new Cn(e)
    }
    map(e) {
        return new Cn(e)
    }
    eq(e) {
        return e instanceof Cn
    }
    getBookmark() {
        return SD
    }
}
he.jsonID("all", Cn);
const SD = {
    map() {
        return this
    },
    resolve(t) {
        return new Cn(t)
    }
};
function wl(t, e, n, r, s, l=!1) {
    if (e.inlineContent)
        return ce.create(t, n);
    for (let o = r - (s > 0 ? 0 : 1); s > 0 ? o < e.childCount : o >= 0; o += s) {
        let u = e.child(o);
        if (u.isAtom) {
            if (!l && ue.isSelectable(u))
                return ue.create(t, n - (s < 0 ? u.nodeSize : 0))
        } else {
            let f = wl(t, u, n + s, s < 0 ? u.childCount : 0, s, l);
            if (f)
                return f
        }
        n += u.nodeSize * s
    }
    return null
}
function I2(t, e, n) {
    let r = t.steps.length - 1;
    if (r < e)
        return;
    let s = t.steps[r];
    if (!(s instanceof Ct || s instanceof Et))
        return;
    let l = t.mapping.maps[r], o;
    l.forEach( (u, f, p, m) => {
        o == null && (o = m)
    }
    ),
    t.setSelection(he.near(t.doc.resolve(o), n))
}
const $2 = 1
  , uc = 2
  , P2 = 4;
class jD extends Im {
    constructor(e) {
        super(e.doc),
        this.curSelectionFor = 0,
        this.updated = 0,
        this.meta = Object.create(null),
        this.time = Date.now(),
        this.curSelection = e.selection,
        this.storedMarks = e.storedMarks
    }
    get selection() {
        return this.curSelectionFor < this.steps.length && (this.curSelection = this.curSelection.map(this.doc, this.mapping.slice(this.curSelectionFor)),
        this.curSelectionFor = this.steps.length),
        this.curSelection
    }
    setSelection(e) {
        if (e.$from.doc != this.doc)
            throw new RangeError("Selection passed to setSelection must point at the current document");
        return this.curSelection = e,
        this.curSelectionFor = this.steps.length,
        this.updated = (this.updated | $2) & ~uc,
        this.storedMarks = null,
        this
    }
    get selectionSet() {
        return (this.updated & $2) > 0
    }
    setStoredMarks(e) {
        return this.storedMarks = e,
        this.updated |= uc,
        this
    }
    ensureMarks(e) {
        return Ve.sameSet(this.storedMarks || this.selection.$from.marks(), e) || this.setStoredMarks(e),
        this
    }
    addStoredMark(e) {
        return this.ensureMarks(e.addToSet(this.storedMarks || this.selection.$head.marks()))
    }
    removeStoredMark(e) {
        return this.ensureMarks(e.removeFromSet(this.storedMarks || this.selection.$head.marks()))
    }
    get storedMarksSet() {
        return (this.updated & uc) > 0
    }
    addStep(e, n) {
        super.addStep(e, n),
        this.updated = this.updated & ~uc,
        this.storedMarks = null
    }
    setTime(e) {
        return this.time = e,
        this
    }
    replaceSelection(e) {
        return this.selection.replace(this, e),
        this
    }
    replaceSelectionWith(e, n=!0) {
        let r = this.selection;
        return n && (e = e.mark(this.storedMarks || (r.empty ? r.$from.marks() : r.$from.marksAcross(r.$to) || Ve.none))),
        r.replaceWith(this, e),
        this
    }
    deleteSelection() {
        return this.selection.replace(this),
        this
    }
    insertText(e, n, r) {
        let s = this.doc.type.schema;
        if (n == null)
            return e ? this.replaceSelectionWith(s.text(e), !0) : this.deleteSelection();
        {
            if (r == null && (r = n),
            !e)
                return this.deleteRange(n, r);
            let l = this.storedMarks;
            if (!l) {
                let o = this.doc.resolve(n);
                l = r == n ? o.marks() : o.marksAcross(this.doc.resolve(r))
            }
            return this.replaceRangeWith(n, r, s.text(e, l)),
            !this.selection.empty && this.selection.to == n + e.length && this.setSelection(he.near(this.selection.$to)),
            this
        }
    }
    setMeta(e, n) {
        return this.meta[typeof e == "string" ? e : e.key] = n,
        this
    }
    getMeta(e) {
        return this.meta[typeof e == "string" ? e : e.key]
    }
    get isGeneric() {
        for (let e in this.meta)
            return !1;
        return !0
    }
    scrollIntoView() {
        return this.updated |= P2,
        this
    }
    get scrolledIntoView() {
        return (this.updated & P2) > 0
    }
}
function V2(t, e) {
    return !e || !t ? t : t.bind(e)
}
class Ga {
    constructor(e, n, r) {
        this.name = e,
        this.init = V2(n.init, r),
        this.apply = V2(n.apply, r)
    }
}
const ED = [new Ga("doc",{
    init(t) {
        return t.doc || t.schema.topNodeType.createAndFill()
    },
    apply(t) {
        return t.doc
    }
}), new Ga("selection",{
    init(t, e) {
        return t.selection || he.atStart(e.doc)
    },
    apply(t) {
        return t.selection
    }
}), new Ga("storedMarks",{
    init(t) {
        return t.storedMarks || null
    },
    apply(t, e, n, r) {
        return r.selection.$cursor ? t.storedMarks : null
    }
}), new Ga("scrollToSelection",{
    init() {
        return 0
    },
    apply(t, e) {
        return t.scrolledIntoView ? e + 1 : e
    }
})];
class W0 {
    constructor(e, n) {
        this.schema = e,
        this.plugins = [],
        this.pluginsByKey = Object.create(null),
        this.fields = ED.slice(),
        n && n.forEach(r => {
            if (this.pluginsByKey[r.key])
                throw new RangeError("Adding different instances of a keyed plugin (" + r.key + ")");
            this.plugins.push(r),
            this.pluginsByKey[r.key] = r,
            r.spec.state && this.fields.push(new Ga(r.key,r.spec.state,r))
        }
        )
    }
}
class jl {
    constructor(e) {
        this.config = e
    }
    get schema() {
        return this.config.schema
    }
    get plugins() {
        return this.config.plugins
    }
    apply(e) {
        return this.applyTransaction(e).state
    }
    filterTransaction(e, n=-1) {
        for (let r = 0; r < this.config.plugins.length; r++)
            if (r != n) {
                let s = this.config.plugins[r];
                if (s.spec.filterTransaction && !s.spec.filterTransaction.call(s, e, this))
                    return !1
            }
        return !0
    }
    applyTransaction(e) {
        if (!this.filterTransaction(e))
            return {
                state: this,
                transactions: []
            };
        let n = [e]
          , r = this.applyInner(e)
          , s = null;
        for (; ; ) {
            let l = !1;
            for (let o = 0; o < this.config.plugins.length; o++) {
                let u = this.config.plugins[o];
                if (u.spec.appendTransaction) {
                    let f = s ? s[o].n : 0
                      , p = s ? s[o].state : this
                      , m = f < n.length && u.spec.appendTransaction.call(u, f ? n.slice(f) : n, p, r);
                    if (m && r.filterTransaction(m, o)) {
                        if (m.setMeta("appendedTransaction", e),
                        !s) {
                            s = [];
                            for (let g = 0; g < this.config.plugins.length; g++)
                                s.push(g < o ? {
                                    state: r,
                                    n: n.length
                                } : {
                                    state: this,
                                    n: 0
                                })
                        }
                        n.push(m),
                        r = r.applyInner(m),
                        l = !0
                    }
                    s && (s[o] = {
                        state: r,
                        n: n.length
                    })
                }
            }
            if (!l)
                return {
                    state: r,
                    transactions: n
                }
        }
    }
    applyInner(e) {
        if (!e.before.eq(this.doc))
            throw new RangeError("Applying a mismatched transaction");
        let n = new jl(this.config)
          , r = this.config.fields;
        for (let s = 0; s < r.length; s++) {
            let l = r[s];
            n[l.name] = l.apply(e, this[l.name], this, n)
        }
        return n
    }
    get tr() {
        return new jD(this)
    }
    static create(e) {
        let n = new W0(e.doc ? e.doc.type.schema : e.schema,e.plugins)
          , r = new jl(n);
        for (let s = 0; s < n.fields.length; s++)
            r[n.fields[s].name] = n.fields[s].init(e, r);
        return r
    }
    reconfigure(e) {
        let n = new W0(this.schema,e.plugins)
          , r = n.fields
          , s = new jl(n);
        for (let l = 0; l < r.length; l++) {
            let o = r[l].name;
            s[o] = this.hasOwnProperty(o) ? this[o] : r[l].init(e, s)
        }
        return s
    }
    toJSON(e) {
        let n = {
            doc: this.doc.toJSON(),
            selection: this.selection.toJSON()
        };
        if (this.storedMarks && (n.storedMarks = this.storedMarks.map(r => r.toJSON())),
        e && typeof e == "object")
            for (let r in e) {
                if (r == "doc" || r == "selection")
                    throw new RangeError("The JSON fields `doc` and `selection` are reserved");
                let s = e[r]
                  , l = s.spec.state;
                l && l.toJSON && (n[r] = l.toJSON.call(s, this[s.key]))
            }
        return n
    }
    static fromJSON(e, n, r) {
        if (!n)
            throw new RangeError("Invalid input for EditorState.fromJSON");
        if (!e.schema)
            throw new RangeError("Required config field 'schema' missing");
        let s = new W0(e.schema,e.plugins)
          , l = new jl(s);
        return s.fields.forEach(o => {
            if (o.name == "doc")
                l.doc = Rs.fromJSON(e.schema, n.doc);
            else if (o.name == "selection")
                l.selection = he.fromJSON(l.doc, n.selection);
            else if (o.name == "storedMarks")
                n.storedMarks && (l.storedMarks = n.storedMarks.map(e.schema.markFromJSON));
            else {
                if (r)
                    for (let u in r) {
                        let f = r[u]
                          , p = f.spec.state;
                        if (f.key == o.name && p && p.fromJSON && Object.prototype.hasOwnProperty.call(n, u)) {
                            l[o.name] = p.fromJSON.call(f, e, n[u], l);
                            return
                        }
                    }
                l[o.name] = o.init(e, l)
            }
        }
        ),
        l
    }
}
function d4(t, e, n) {
    for (let r in t) {
        let s = t[r];
        s instanceof Function ? s = s.bind(e) : r == "handleDOMEvents" && (s = d4(s, e, {})),
        n[r] = s
    }
    return n
}
class yt {
    constructor(e) {
        this.spec = e,
        this.props = {},
        e.props && d4(e.props, this, this.props),
        this.key = e.key ? e.key.key : f4("plugin")
    }
    getState(e) {
        return e[this.key]
    }
}
const ep = Object.create(null);
function f4(t) {
    return t in ep ? t + "$" + ++ep[t] : (ep[t] = 0,
    t + "$")
}
class $t {
    constructor(e="key") {
        this.key = f4(e)
    }
    get(e) {
        return e.config.pluginsByKey[this.key]
    }
    getState(e) {
        return e[this.key]
    }
}
const zt = function(t) {
    for (var e = 0; ; e++)
        if (t = t.previousSibling,
        !t)
            return e
}
  , Rl = function(t) {
    let e = t.assignedSlot || t.parentNode;
    return e && e.nodeType == 11 ? e.host : e
};
let Ip = null;
const qr = function(t, e, n) {
    let r = Ip || (Ip = document.createRange());
    return r.setEnd(t, n ?? t.nodeValue.length),
    r.setStart(t, e || 0),
    r
}
  , kD = function() {
    Ip = null
}
  , ki = function(t, e, n, r) {
    return n && (G2(t, e, n, r, -1) || G2(t, e, n, r, 1))
}
  , AD = /^(img|br|input|textarea|hr)$/i;
function G2(t, e, n, r, s) {
    for (var l; ; ) {
        if (t == n && e == r)
            return !0;
        if (e == (s < 0 ? 0 : Fn(t))) {
            let o = t.parentNode;
            if (!o || o.nodeType != 1 || zo(t) || AD.test(t.nodeName) || t.contentEditable == "false")
                return !1;
            e = zt(t) + (s < 0 ? 0 : 1),
            t = o
        } else if (t.nodeType == 1) {
            let o = t.childNodes[e + (s < 0 ? -1 : 0)];
            if (o.nodeType == 1 && o.contentEditable == "false")
                if (!((l = o.pmViewDesc) === null || l === void 0) && l.ignoreForSelection)
                    e += s;
                else
                    return !1;
            else
                t = o,
                e = s < 0 ? Fn(t) : 0
        } else
            return !1
    }
}
function Fn(t) {
    return t.nodeType == 3 ? t.nodeValue.length : t.childNodes.length
}
function _D(t, e) {
    for (; ; ) {
        if (t.nodeType == 3 && e)
            return t;
        if (t.nodeType == 1 && e > 0) {
            if (t.contentEditable == "false")
                return null;
            t = t.childNodes[e - 1],
            e = Fn(t)
        } else if (t.parentNode && !zo(t))
            e = zt(t),
            t = t.parentNode;
        else
            return null
    }
}
function TD(t, e) {
    for (; ; ) {
        if (t.nodeType == 3 && e < t.nodeValue.length)
            return t;
        if (t.nodeType == 1 && e < t.childNodes.length) {
            if (t.contentEditable == "false")
                return null;
            t = t.childNodes[e],
            e = 0
        } else if (t.parentNode && !zo(t))
            e = zt(t) + 1,
            t = t.parentNode;
        else
            return null
    }
}
function DD(t, e, n) {
    for (let r = e == 0, s = e == Fn(t); r || s; ) {
        if (t == n)
            return !0;
        let l = zt(t);
        if (t = t.parentNode,
        !t)
            return !1;
        r = r && l == 0,
        s = s && l == Fn(t)
    }
}
function zo(t) {
    let e;
    for (let n = t; n && !(e = n.pmViewDesc); n = n.parentNode)
        ;
    return e && e.node && e.node.isBlock && (e.dom == t || e.contentDOM == t)
}
const Jd = function(t) {
    return t.focusNode && ki(t.focusNode, t.focusOffset, t.anchorNode, t.anchorOffset)
};
function di(t, e) {
    let n = document.createEvent("Event");
    return n.initEvent("keydown", !0, !0),
    n.keyCode = t,
    n.key = n.code = e,
    n
}
function MD(t) {
    let e = t.activeElement;
    for (; e && e.shadowRoot; )
        e = e.shadowRoot.activeElement;
    return e
}
function OD(t, e, n) {
    if (t.caretPositionFromPoint)
        try {
            let r = t.caretPositionFromPoint(e, n);
            if (r)
                return {
                    node: r.offsetNode,
                    offset: Math.min(Fn(r.offsetNode), r.offset)
                }
        } catch {}
    if (t.caretRangeFromPoint) {
        let r = t.caretRangeFromPoint(e, n);
        if (r)
            return {
                node: r.startContainer,
                offset: Math.min(Fn(r.startContainer), r.startOffset)
            }
    }
}
const dr = typeof navigator < "u" ? navigator : null
  , K2 = typeof document < "u" ? document : null
  , $s = dr && dr.userAgent || ""
  , $p = /Edge\/(\d+)/.exec($s)
  , h4 = /MSIE \d/.exec($s)
  , Pp = /Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec($s)
  , on = !!(h4 || Pp || $p)
  , Ls = h4 ? document.documentMode : Pp ? +Pp[1] : $p ? +$p[1] : 0
  , Hn = !on && /gecko\/(\d+)/i.test($s);
Hn && +(/Firefox\/(\d+)/.exec($s) || [0, 0])[1];
const Vp = !on && /Chrome\/(\d+)/.exec($s)
  , jt = !!Vp
  , p4 = Vp ? +Vp[1] : 0
  , Ut = !on && !!dr && /Apple Computer/.test(dr.vendor)
  , zl = Ut && (/Mobile\/\w+/.test($s) || !!dr && dr.maxTouchPoints > 2)
  , Bn = zl || (dr ? /Mac/.test(dr.platform) : !1)
  , m4 = dr ? /Win/.test(dr.platform) : !1
  , Ir = /Android \d/.test($s)
  , Lo = !!K2 && "webkitFontSmoothing"in K2.documentElement.style
  , RD = Lo ? +(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent) || [0, 0])[1] : 0;
function zD(t) {
    let e = t.defaultView && t.defaultView.visualViewport;
    return e ? {
        left: 0,
        right: e.width,
        top: 0,
        bottom: e.height
    } : {
        left: 0,
        right: t.documentElement.clientWidth,
        top: 0,
        bottom: t.documentElement.clientHeight
    }
}
function Lr(t, e) {
    return typeof t == "number" ? t : t[e]
}
function LD(t) {
    let e = t.getBoundingClientRect()
      , n = e.width / t.offsetWidth || 1
      , r = e.height / t.offsetHeight || 1;
    return {
        left: e.left,
        right: e.left + t.clientWidth * n,
        top: e.top,
        bottom: e.top + t.clientHeight * r
    }
}
function Y2(t, e, n) {
    let r = t.someProp("scrollThreshold") || 0
      , s = t.someProp("scrollMargin") || 5
      , l = t.dom.ownerDocument;
    for (let o = n || t.dom; o; ) {
        if (o.nodeType != 1) {
            o = Rl(o);
            continue
        }
        let u = o
          , f = u == l.body
          , p = f ? zD(l) : LD(u)
          , m = 0
          , g = 0;
        if (e.top < p.top + Lr(r, "top") ? g = -(p.top - e.top + Lr(s, "top")) : e.bottom > p.bottom - Lr(r, "bottom") && (g = e.bottom - e.top > p.bottom - p.top ? e.top + Lr(s, "top") - p.top : e.bottom - p.bottom + Lr(s, "bottom")),
        e.left < p.left + Lr(r, "left") ? m = -(p.left - e.left + Lr(s, "left")) : e.right > p.right - Lr(r, "right") && (m = e.right - p.right + Lr(s, "right")),
        m || g)
            if (f)
                l.defaultView.scrollBy(m, g);
            else {
                let N = u.scrollLeft
                  , y = u.scrollTop;
                g && (u.scrollTop += g),
                m && (u.scrollLeft += m);
                let w = u.scrollLeft - N
                  , C = u.scrollTop - y;
                e = {
                    left: e.left - w,
                    top: e.top - C,
                    right: e.right - w,
                    bottom: e.bottom - C
                }
            }
        let v = f ? "fixed" : getComputedStyle(o).position;
        if (/^(fixed|sticky)$/.test(v))
            break;
        o = v == "absolute" ? o.offsetParent : Rl(o)
    }
}
function BD(t) {
    let e = t.dom.getBoundingClientRect(), n = Math.max(0, e.top), r, s;
    for (let l = (e.left + e.right) / 2, o = n + 1; o < Math.min(innerHeight, e.bottom); o += 5) {
        let u = t.root.elementFromPoint(l, o);
        if (!u || u == t.dom || !t.dom.contains(u))
            continue;
        let f = u.getBoundingClientRect();
        if (f.top >= n - 20) {
            r = u,
            s = f.top;
            break
        }
    }
    return {
        refDOM: r,
        refTop: s,
        stack: g4(t.dom)
    }
}
function g4(t) {
    let e = []
      , n = t.ownerDocument;
    for (let r = t; r && (e.push({
        dom: r,
        top: r.scrollTop,
        left: r.scrollLeft
    }),
    t != n); r = Rl(r))
        ;
    return e
}
function FD({refDOM: t, refTop: e, stack: n}) {
    let r = t ? t.getBoundingClientRect().top : 0;
    x4(n, r == 0 ? 0 : r - e)
}
function x4(t, e) {
    for (let n = 0; n < t.length; n++) {
        let {dom: r, top: s, left: l} = t[n];
        r.scrollTop != s + e && (r.scrollTop = s + e),
        r.scrollLeft != l && (r.scrollLeft = l)
    }
}
let vl = null;
function HD(t) {
    if (t.setActive)
        return t.setActive();
    if (vl)
        return t.focus(vl);
    let e = g4(t);
    t.focus(vl == null ? {
        get preventScroll() {
            return vl = {
                preventScroll: !0
            },
            !0
        }
    } : void 0),
    vl || (vl = !1,
    x4(e, 0))
}
function b4(t, e) {
    let n, r = 2e8, s, l = 0, o = e.top, u = e.top, f, p;
    for (let m = t.firstChild, g = 0; m; m = m.nextSibling,
    g++) {
        let v;
        if (m.nodeType == 1)
            v = m.getClientRects();
        else if (m.nodeType == 3)
            v = qr(m).getClientRects();
        else
            continue;
        for (let N = 0; N < v.length; N++) {
            let y = v[N];
            if (y.top <= o && y.bottom >= u) {
                o = Math.max(y.bottom, o),
                u = Math.min(y.top, u);
                let w = y.left > e.left ? y.left - e.left : y.right < e.left ? e.left - y.right : 0;
                if (w < r) {
                    n = m,
                    r = w,
                    s = w && n.nodeType == 3 ? {
                        left: y.right < e.left ? y.right : y.left,
                        top: e.top
                    } : e,
                    m.nodeType == 1 && w && (l = g + (e.left >= (y.left + y.right) / 2 ? 1 : 0));
                    continue
                }
            } else
                y.top > e.top && !f && y.left <= e.left && y.right >= e.left && (f = m,
                p = {
                    left: Math.max(y.left, Math.min(y.right, e.left)),
                    top: y.top
                });
            !n && (e.left >= y.right && e.top >= y.top || e.left >= y.left && e.top >= y.bottom) && (l = g + 1)
        }
    }
    return !n && f && (n = f,
    s = p,
    r = 0),
    n && n.nodeType == 3 ? UD(n, s) : !n || r && n.nodeType == 1 ? {
        node: t,
        offset: l
    } : b4(n, s)
}
function UD(t, e) {
    let n = t.nodeValue.length, r = document.createRange(), s;
    for (let l = 0; l < n; l++) {
        r.setEnd(t, l + 1),
        r.setStart(t, l);
        let o = Ns(r, 1);
        if (o.top != o.bottom && Pm(e, o)) {
            s = {
                node: t,
                offset: l + (e.left >= (o.left + o.right) / 2 ? 1 : 0)
            };
            break
        }
    }
    return r.detach(),
    s || {
        node: t,
        offset: 0
    }
}
function Pm(t, e) {
    return t.left >= e.left - 1 && t.left <= e.right + 1 && t.top >= e.top - 1 && t.top <= e.bottom + 1
}
function qD(t, e) {
    let n = t.parentNode;
    return n && /^li$/i.test(n.nodeName) && e.left < t.getBoundingClientRect().left ? n : t
}
function ID(t, e, n) {
    let {node: r, offset: s} = b4(e, n)
      , l = -1;
    if (r.nodeType == 1 && !r.firstChild) {
        let o = r.getBoundingClientRect();
        l = o.left != o.right && n.left > (o.left + o.right) / 2 ? 1 : -1
    }
    return t.docView.posFromDOM(r, s, l)
}
function $D(t, e, n, r) {
    let s = -1;
    for (let l = e, o = !1; l != t.dom; ) {
        let u = t.docView.nearestDesc(l, !0), f;
        if (!u)
            return null;
        if (u.dom.nodeType == 1 && (u.node.isBlock && u.parent || !u.contentDOM) && ((f = u.dom.getBoundingClientRect()).width || f.height) && (u.node.isBlock && u.parent && !/^T(R|BODY|HEAD|FOOT)$/.test(u.dom.nodeName) && (!o && f.left > r.left || f.top > r.top ? s = u.posBefore : (!o && f.right < r.left || f.bottom < r.top) && (s = u.posAfter),
        o = !0),
        !u.contentDOM && s < 0 && !u.node.isText))
            return (u.node.isBlock ? r.top < (f.top + f.bottom) / 2 : r.left < (f.left + f.right) / 2) ? u.posBefore : u.posAfter;
        l = u.dom.parentNode
    }
    return s > -1 ? s : t.docView.posFromDOM(e, n, -1)
}
function y4(t, e, n) {
    let r = t.childNodes.length;
    if (r && n.top < n.bottom)
        for (let s = Math.max(0, Math.min(r - 1, Math.floor(r * (e.top - n.top) / (n.bottom - n.top)) - 2)), l = s; ; ) {
            let o = t.childNodes[l];
            if (o.nodeType == 1) {
                let u = o.getClientRects();
                for (let f = 0; f < u.length; f++) {
                    let p = u[f];
                    if (Pm(e, p))
                        return y4(o, e, p)
                }
            }
            if ((l = (l + 1) % r) == s)
                break
        }
    return t
}
function PD(t, e) {
    let n = t.dom.ownerDocument, r, s = 0, l = OD(n, e.left, e.top);
    l && ({node: r, offset: s} = l);
    let o = (t.root.elementFromPoint ? t.root : n).elementFromPoint(e.left, e.top), u;
    if (!o || !t.dom.contains(o.nodeType != 1 ? o.parentNode : o)) {
        let p = t.dom.getBoundingClientRect();
        if (!Pm(e, p) || (o = y4(t.dom, e, p),
        !o))
            return null
    }
    if (Ut)
        for (let p = o; r && p; p = Rl(p))
            p.draggable && (r = void 0);
    if (o = qD(o, e),
    r) {
        if (Hn && r.nodeType == 1 && (s = Math.min(s, r.childNodes.length),
        s < r.childNodes.length)) {
            let m = r.childNodes[s], g;
            m.nodeName == "IMG" && (g = m.getBoundingClientRect()).right <= e.left && g.bottom > e.top && s++
        }
        let p;
        Lo && s && r.nodeType == 1 && (p = r.childNodes[s - 1]).nodeType == 1 && p.contentEditable == "false" && p.getBoundingClientRect().top >= e.top && s--,
        r == t.dom && s == r.childNodes.length - 1 && r.lastChild.nodeType == 1 && e.top > r.lastChild.getBoundingClientRect().bottom ? u = t.state.doc.content.size : (s == 0 || r.nodeType != 1 || r.childNodes[s - 1].nodeName != "BR") && (u = $D(t, r, s, e))
    }
    u == null && (u = ID(t, o, e));
    let f = t.docView.nearestDesc(o, !0);
    return {
        pos: u,
        inside: f ? f.posAtStart - f.border : -1
    }
}
function J2(t) {
    return t.top < t.bottom || t.left < t.right
}
function Ns(t, e) {
    let n = t.getClientRects();
    if (n.length) {
        let r = n[e < 0 ? 0 : n.length - 1];
        if (J2(r))
            return r
    }
    return Array.prototype.find.call(n, J2) || t.getBoundingClientRect()
}
const VD = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;
function v4(t, e, n) {
    let {node: r, offset: s, atom: l} = t.docView.domFromPos(e, n < 0 ? -1 : 1)
      , o = Lo || Hn;
    if (r.nodeType == 3)
        if (o && (VD.test(r.nodeValue) || (n < 0 ? !s : s == r.nodeValue.length))) {
            let f = Ns(qr(r, s, s), n);
            if (Hn && s && /\s/.test(r.nodeValue[s - 1]) && s < r.nodeValue.length) {
                let p = Ns(qr(r, s - 1, s - 1), -1);
                if (p.top == f.top) {
                    let m = Ns(qr(r, s, s + 1), -1);
                    if (m.top != f.top)
                        return Ia(m, m.left < p.left)
                }
            }
            return f
        } else {
            let f = s
              , p = s
              , m = n < 0 ? 1 : -1;
            return n < 0 && !s ? (p++,
            m = -1) : n >= 0 && s == r.nodeValue.length ? (f--,
            m = 1) : n < 0 ? f-- : p++,
            Ia(Ns(qr(r, f, p), m), m < 0)
        }
    if (!t.state.doc.resolve(e - (l || 0)).parent.inlineContent) {
        if (l == null && s && (n < 0 || s == Fn(r))) {
            let f = r.childNodes[s - 1];
            if (f.nodeType == 1)
                return tp(f.getBoundingClientRect(), !1)
        }
        if (l == null && s < Fn(r)) {
            let f = r.childNodes[s];
            if (f.nodeType == 1)
                return tp(f.getBoundingClientRect(), !0)
        }
        return tp(r.getBoundingClientRect(), n >= 0)
    }
    if (l == null && s && (n < 0 || s == Fn(r))) {
        let f = r.childNodes[s - 1]
          , p = f.nodeType == 3 ? qr(f, Fn(f) - (o ? 0 : 1)) : f.nodeType == 1 && (f.nodeName != "BR" || !f.nextSibling) ? f : null;
        if (p)
            return Ia(Ns(p, 1), !1)
    }
    if (l == null && s < Fn(r)) {
        let f = r.childNodes[s];
        for (; f.pmViewDesc && f.pmViewDesc.ignoreForCoords; )
            f = f.nextSibling;
        let p = f ? f.nodeType == 3 ? qr(f, 0, o ? 0 : 1) : f.nodeType == 1 ? f : null : null;
        if (p)
            return Ia(Ns(p, -1), !0)
    }
    return Ia(Ns(r.nodeType == 3 ? qr(r) : r, -n), n >= 0)
}
function Ia(t, e) {
    if (t.width == 0)
        return t;
    let n = e ? t.left : t.right;
    return {
        top: t.top,
        bottom: t.bottom,
        left: n,
        right: n
    }
}
function tp(t, e) {
    if (t.height == 0)
        return t;
    let n = e ? t.top : t.bottom;
    return {
        top: n,
        bottom: n,
        left: t.left,
        right: t.right
    }
}
function N4(t, e, n) {
    let r = t.state
      , s = t.root.activeElement;
    r != e && t.updateState(e),
    s != t.dom && t.focus();
    try {
        return n()
    } finally {
        r != e && t.updateState(r),
        s != t.dom && s && s.focus()
    }
}
function GD(t, e, n) {
    let r = e.selection
      , s = n == "up" ? r.$from : r.$to;
    return N4(t, e, () => {
        let {node: l} = t.docView.domFromPos(s.pos, n == "up" ? -1 : 1);
        for (; ; ) {
            let u = t.docView.nearestDesc(l, !0);
            if (!u)
                break;
            if (u.node.isBlock) {
                l = u.contentDOM || u.dom;
                break
            }
            l = u.dom.parentNode
        }
        let o = v4(t, s.pos, 1);
        for (let u = l.firstChild; u; u = u.nextSibling) {
            let f;
            if (u.nodeType == 1)
                f = u.getClientRects();
            else if (u.nodeType == 3)
                f = qr(u, 0, u.nodeValue.length).getClientRects();
            else
                continue;
            for (let p = 0; p < f.length; p++) {
                let m = f[p];
                if (m.bottom > m.top + 1 && (n == "up" ? o.top - m.top > (m.bottom - o.top) * 2 : m.bottom - o.bottom > (o.bottom - m.top) * 2))
                    return !1
            }
        }
        return !0
    }
    )
}
const KD = /[\u0590-\u08ac]/;
function YD(t, e, n) {
    let {$head: r} = e.selection;
    if (!r.parent.isTextblock)
        return !1;
    let s = r.parentOffset
      , l = !s
      , o = s == r.parent.content.size
      , u = t.domSelection();
    return u ? !KD.test(r.parent.textContent) || !u.modify ? n == "left" || n == "backward" ? l : o : N4(t, e, () => {
        let {focusNode: f, focusOffset: p, anchorNode: m, anchorOffset: g} = t.domSelectionRange()
          , v = u.caretBidiLevel;
        u.modify("move", n, "character");
        let N = r.depth ? t.docView.domAfterPos(r.before()) : t.dom
          , {focusNode: y, focusOffset: w} = t.domSelectionRange()
          , C = y && !N.contains(y.nodeType == 1 ? y : y.parentNode) || f == y && p == w;
        try {
            u.collapse(m, g),
            f && (f != m || p != g) && u.extend && u.extend(f, p)
        } catch {}
        return v != null && (u.caretBidiLevel = v),
        C
    }
    ) : r.pos == r.start() || r.pos == r.end()
}
let X2 = null
  , Q2 = null
  , Z2 = !1;
function JD(t, e, n) {
    return X2 == e && Q2 == n ? Z2 : (X2 = e,
    Q2 = n,
    Z2 = n == "up" || n == "down" ? GD(t, e, n) : YD(t, e, n))
}
const Un = 0
  , W2 = 1
  , pi = 2
  , fr = 3;
class Bo {
    constructor(e, n, r, s) {
        this.parent = e,
        this.children = n,
        this.dom = r,
        this.contentDOM = s,
        this.dirty = Un,
        r.pmViewDesc = this
    }
    matchesWidget(e) {
        return !1
    }
    matchesMark(e) {
        return !1
    }
    matchesNode(e, n, r) {
        return !1
    }
    matchesHack(e) {
        return !1
    }
    parseRule() {
        return null
    }
    stopEvent(e) {
        return !1
    }
    get size() {
        let e = 0;
        for (let n = 0; n < this.children.length; n++)
            e += this.children[n].size;
        return e
    }
    get border() {
        return 0
    }
    destroy() {
        this.parent = void 0,
        this.dom.pmViewDesc == this && (this.dom.pmViewDesc = void 0);
        for (let e = 0; e < this.children.length; e++)
            this.children[e].destroy()
    }
    posBeforeChild(e) {
        for (let n = 0, r = this.posAtStart; ; n++) {
            let s = this.children[n];
            if (s == e)
                return r;
            r += s.size
        }
    }
    get posBefore() {
        return this.parent.posBeforeChild(this)
    }
    get posAtStart() {
        return this.parent ? this.parent.posBeforeChild(this) + this.border : 0
    }
    get posAfter() {
        return this.posBefore + this.size
    }
    get posAtEnd() {
        return this.posAtStart + this.size - 2 * this.border
    }
    localPosFromDOM(e, n, r) {
        if (this.contentDOM && this.contentDOM.contains(e.nodeType == 1 ? e : e.parentNode))
            if (r < 0) {
                let l, o;
                if (e == this.contentDOM)
                    l = e.childNodes[n - 1];
                else {
                    for (; e.parentNode != this.contentDOM; )
                        e = e.parentNode;
                    l = e.previousSibling
                }
                for (; l && !((o = l.pmViewDesc) && o.parent == this); )
                    l = l.previousSibling;
                return l ? this.posBeforeChild(o) + o.size : this.posAtStart
            } else {
                let l, o;
                if (e == this.contentDOM)
                    l = e.childNodes[n];
                else {
                    for (; e.parentNode != this.contentDOM; )
                        e = e.parentNode;
                    l = e.nextSibling
                }
                for (; l && !((o = l.pmViewDesc) && o.parent == this); )
                    l = l.nextSibling;
                return l ? this.posBeforeChild(o) : this.posAtEnd
            }
        let s;
        if (e == this.dom && this.contentDOM)
            s = n > zt(this.contentDOM);
        else if (this.contentDOM && this.contentDOM != this.dom && this.dom.contains(this.contentDOM))
            s = e.compareDocumentPosition(this.contentDOM) & 2;
        else if (this.dom.firstChild) {
            if (n == 0)
                for (let l = e; ; l = l.parentNode) {
                    if (l == this.dom) {
                        s = !1;
                        break
                    }
                    if (l.previousSibling)
                        break
                }
            if (s == null && n == e.childNodes.length)
                for (let l = e; ; l = l.parentNode) {
                    if (l == this.dom) {
                        s = !0;
                        break
                    }
                    if (l.nextSibling)
                        break
                }
        }
        return s ?? r > 0 ? this.posAtEnd : this.posAtStart
    }
    nearestDesc(e, n=!1) {
        for (let r = !0, s = e; s; s = s.parentNode) {
            let l = this.getDesc(s), o;
            if (l && (!n || l.node))
                if (r && (o = l.nodeDOM) && !(o.nodeType == 1 ? o.contains(e.nodeType == 1 ? e : e.parentNode) : o == e))
                    r = !1;
                else
                    return l
        }
    }
    getDesc(e) {
        let n = e.pmViewDesc;
        for (let r = n; r; r = r.parent)
            if (r == this)
                return n
    }
    posFromDOM(e, n, r) {
        for (let s = e; s; s = s.parentNode) {
            let l = this.getDesc(s);
            if (l)
                return l.localPosFromDOM(e, n, r)
        }
        return -1
    }
    descAt(e) {
        for (let n = 0, r = 0; n < this.children.length; n++) {
            let s = this.children[n]
              , l = r + s.size;
            if (r == e && l != r) {
                for (; !s.border && s.children.length; )
                    for (let o = 0; o < s.children.length; o++) {
                        let u = s.children[o];
                        if (u.size) {
                            s = u;
                            break
                        }
                    }
                return s
            }
            if (e < l)
                return s.descAt(e - r - s.border);
            r = l
        }
    }
    domFromPos(e, n) {
        if (!this.contentDOM)
            return {
                node: this.dom,
                offset: 0,
                atom: e + 1
            };
        let r = 0
          , s = 0;
        for (let l = 0; r < this.children.length; r++) {
            let o = this.children[r]
              , u = l + o.size;
            if (u > e || o instanceof C4) {
                s = e - l;
                break
            }
            l = u
        }
        if (s)
            return this.children[r].domFromPos(s - this.children[r].border, n);
        for (let l; r && !(l = this.children[r - 1]).size && l instanceof w4 && l.side >= 0; r--)
            ;
        if (n <= 0) {
            let l, o = !0;
            for (; l = r ? this.children[r - 1] : null,
            !(!l || l.dom.parentNode == this.contentDOM); r--,
            o = !1)
                ;
            return l && n && o && !l.border && !l.domAtom ? l.domFromPos(l.size, n) : {
                node: this.contentDOM,
                offset: l ? zt(l.dom) + 1 : 0
            }
        } else {
            let l, o = !0;
            for (; l = r < this.children.length ? this.children[r] : null,
            !(!l || l.dom.parentNode == this.contentDOM); r++,
            o = !1)
                ;
            return l && o && !l.border && !l.domAtom ? l.domFromPos(0, n) : {
                node: this.contentDOM,
                offset: l ? zt(l.dom) : this.contentDOM.childNodes.length
            }
        }
    }
    parseRange(e, n, r=0) {
        if (this.children.length == 0)
            return {
                node: this.contentDOM,
                from: e,
                to: n,
                fromOffset: 0,
                toOffset: this.contentDOM.childNodes.length
            };
        let s = -1
          , l = -1;
        for (let o = r, u = 0; ; u++) {
            let f = this.children[u]
              , p = o + f.size;
            if (s == -1 && e <= p) {
                let m = o + f.border;
                if (e >= m && n <= p - f.border && f.node && f.contentDOM && this.contentDOM.contains(f.contentDOM))
                    return f.parseRange(e, n, m);
                e = o;
                for (let g = u; g > 0; g--) {
                    let v = this.children[g - 1];
                    if (v.size && v.dom.parentNode == this.contentDOM && !v.emptyChildAt(1)) {
                        s = zt(v.dom) + 1;
                        break
                    }
                    e -= v.size
                }
                s == -1 && (s = 0)
            }
            if (s > -1 && (p > n || u == this.children.length - 1)) {
                n = p;
                for (let m = u + 1; m < this.children.length; m++) {
                    let g = this.children[m];
                    if (g.size && g.dom.parentNode == this.contentDOM && !g.emptyChildAt(-1)) {
                        l = zt(g.dom);
                        break
                    }
                    n += g.size
                }
                l == -1 && (l = this.contentDOM.childNodes.length);
                break
            }
            o = p
        }
        return {
            node: this.contentDOM,
            from: e,
            to: n,
            fromOffset: s,
            toOffset: l
        }
    }
    emptyChildAt(e) {
        if (this.border || !this.contentDOM || !this.children.length)
            return !1;
        let n = this.children[e < 0 ? 0 : this.children.length - 1];
        return n.size == 0 || n.emptyChildAt(e)
    }
    domAfterPos(e) {
        let {node: n, offset: r} = this.domFromPos(e, 0);
        if (n.nodeType != 1 || r == n.childNodes.length)
            throw new RangeError("No node after pos " + e);
        return n.childNodes[r]
    }
    setSelection(e, n, r, s=!1) {
        let l = Math.min(e, n)
          , o = Math.max(e, n);
        for (let N = 0, y = 0; N < this.children.length; N++) {
            let w = this.children[N]
              , C = y + w.size;
            if (l > y && o < C)
                return w.setSelection(e - y - w.border, n - y - w.border, r, s);
            y = C
        }
        let u = this.domFromPos(e, e ? -1 : 1)
          , f = n == e ? u : this.domFromPos(n, n ? -1 : 1)
          , p = r.root.getSelection()
          , m = r.domSelectionRange()
          , g = !1;
        if ((Hn || Ut) && e == n) {
            let {node: N, offset: y} = u;
            if (N.nodeType == 3) {
                if (g = !!(y && N.nodeValue[y - 1] == `
`),
                g && y == N.nodeValue.length)
                    for (let w = N, C; w; w = w.parentNode) {
                        if (C = w.nextSibling) {
                            C.nodeName == "BR" && (u = f = {
                                node: C.parentNode,
                                offset: zt(C) + 1
                            });
                            break
                        }
                        let E = w.pmViewDesc;
                        if (E && E.node && E.node.isBlock)
                            break
                    }
            } else {
                let w = N.childNodes[y - 1];
                g = w && (w.nodeName == "BR" || w.contentEditable == "false")
            }
        }
        if (Hn && m.focusNode && m.focusNode != f.node && m.focusNode.nodeType == 1) {
            let N = m.focusNode.childNodes[m.focusOffset];
            N && N.contentEditable == "false" && (s = !0)
        }
        if (!(s || g && Ut) && ki(u.node, u.offset, m.anchorNode, m.anchorOffset) && ki(f.node, f.offset, m.focusNode, m.focusOffset))
            return;
        let v = !1;
        if ((p.extend || e == n) && !(g && Hn)) {
            p.collapse(u.node, u.offset);
            try {
                e != n && p.extend(f.node, f.offset),
                v = !0
            } catch {}
        }
        if (!v) {
            if (e > n) {
                let y = u;
                u = f,
                f = y
            }
            let N = document.createRange();
            N.setEnd(f.node, f.offset),
            N.setStart(u.node, u.offset),
            p.removeAllRanges(),
            p.addRange(N)
        }
    }
    ignoreMutation(e) {
        return !this.contentDOM && e.type != "selection"
    }
    get contentLost() {
        return this.contentDOM && this.contentDOM != this.dom && !this.dom.contains(this.contentDOM)
    }
    markDirty(e, n) {
        for (let r = 0, s = 0; s < this.children.length; s++) {
            let l = this.children[s]
              , o = r + l.size;
            if (r == o ? e <= o && n >= r : e < o && n > r) {
                let u = r + l.border
                  , f = o - l.border;
                if (e >= u && n <= f) {
                    this.dirty = e == r || n == o ? pi : W2,
                    e == u && n == f && (l.contentLost || l.dom.parentNode != this.contentDOM) ? l.dirty = fr : l.markDirty(e - u, n - u);
                    return
                } else
                    l.dirty = l.dom == l.contentDOM && l.dom.parentNode == this.contentDOM && !l.children.length ? pi : fr
            }
            r = o
        }
        this.dirty = pi
    }
    markParentsDirty() {
        let e = 1;
        for (let n = this.parent; n; n = n.parent,
        e++) {
            let r = e == 1 ? pi : W2;
            n.dirty < r && (n.dirty = r)
        }
    }
    get domAtom() {
        return !1
    }
    get ignoreForCoords() {
        return !1
    }
    get ignoreForSelection() {
        return !1
    }
    isText(e) {
        return !1
    }
}
class w4 extends Bo {
    constructor(e, n, r, s) {
        let l, o = n.type.toDOM;
        if (typeof o == "function" && (o = o(r, () => {
            if (!l)
                return s;
            if (l.parent)
                return l.parent.posBeforeChild(l)
        }
        )),
        !n.type.spec.raw) {
            if (o.nodeType != 1) {
                let u = document.createElement("span");
                u.appendChild(o),
                o = u
            }
            o.contentEditable = "false",
            o.classList.add("ProseMirror-widget")
        }
        super(e, [], o, null),
        this.widget = n,
        this.widget = n,
        l = this
    }
    matchesWidget(e) {
        return this.dirty == Un && e.type.eq(this.widget.type)
    }
    parseRule() {
        return {
            ignore: !0
        }
    }
    stopEvent(e) {
        let n = this.widget.spec.stopEvent;
        return n ? n(e) : !1
    }
    ignoreMutation(e) {
        return e.type != "selection" || this.widget.spec.ignoreSelection
    }
    destroy() {
        this.widget.type.destroy(this.dom),
        super.destroy()
    }
    get domAtom() {
        return !0
    }
    get ignoreForSelection() {
        return !!this.widget.type.spec.relaxedSide
    }
    get side() {
        return this.widget.type.side
    }
}
class XD extends Bo {
    constructor(e, n, r, s) {
        super(e, [], n, null),
        this.textDOM = r,
        this.text = s
    }
    get size() {
        return this.text.length
    }
    localPosFromDOM(e, n) {
        return e != this.textDOM ? this.posAtStart + (n ? this.size : 0) : this.posAtStart + n
    }
    domFromPos(e) {
        return {
            node: this.textDOM,
            offset: e
        }
    }
    ignoreMutation(e) {
        return e.type === "characterData" && e.target.nodeValue == e.oldValue
    }
}
class Ai extends Bo {
    constructor(e, n, r, s, l) {
        super(e, [], r, s),
        this.mark = n,
        this.spec = l
    }
    static create(e, n, r, s) {
        let l = s.nodeViews[n.type.name]
          , o = l && l(n, s, r);
        return (!o || !o.dom) && (o = Oi.renderSpec(document, n.type.spec.toDOM(n, r), null, n.attrs)),
        new Ai(e,n,o.dom,o.contentDOM || o.dom,o)
    }
    parseRule() {
        return this.dirty & fr || this.mark.type.spec.reparseInView ? null : {
            mark: this.mark.type.name,
            attrs: this.mark.attrs,
            contentElement: this.contentDOM
        }
    }
    matchesMark(e) {
        return this.dirty != fr && this.mark.eq(e)
    }
    markDirty(e, n) {
        if (super.markDirty(e, n),
        this.dirty != Un) {
            let r = this.parent;
            for (; !r.node; )
                r = r.parent;
            r.dirty < this.dirty && (r.dirty = this.dirty),
            this.dirty = Un
        }
    }
    slice(e, n, r) {
        let s = Ai.create(this.parent, this.mark, !0, r)
          , l = this.children
          , o = this.size;
        n < o && (l = Kp(l, n, o, r)),
        e > 0 && (l = Kp(l, 0, e, r));
        for (let u = 0; u < l.length; u++)
            l[u].parent = s;
        return s.children = l,
        s
    }
    ignoreMutation(e) {
        return this.spec.ignoreMutation ? this.spec.ignoreMutation(e) : super.ignoreMutation(e)
    }
    destroy() {
        this.spec.destroy && this.spec.destroy(),
        super.destroy()
    }
}
class Bs extends Bo {
    constructor(e, n, r, s, l, o, u, f, p) {
        super(e, [], l, o),
        this.node = n,
        this.outerDeco = r,
        this.innerDeco = s,
        this.nodeDOM = u
    }
    static create(e, n, r, s, l, o) {
        let u = l.nodeViews[n.type.name], f, p = u && u(n, l, () => {
            if (!f)
                return o;
            if (f.parent)
                return f.parent.posBeforeChild(f)
        }
        , r, s), m = p && p.dom, g = p && p.contentDOM;
        if (n.isText) {
            if (!m)
                m = document.createTextNode(n.text);
            else if (m.nodeType != 3)
                throw new RangeError("Text must be rendered as a DOM text node")
        } else
            m || ({dom: m, contentDOM: g} = Oi.renderSpec(document, n.type.spec.toDOM(n), null, n.attrs));
        !g && !n.isText && m.nodeName != "BR" && (m.hasAttribute("contenteditable") || (m.contentEditable = "false"),
        n.type.spec.draggable && (m.draggable = !0));
        let v = m;
        return m = E4(m, r, n),
        p ? f = new QD(e,n,r,s,m,g || null,v,p,l,o + 1) : n.isText ? new Xd(e,n,r,s,m,v,l) : new Bs(e,n,r,s,m,g || null,v,l,o + 1)
    }
    parseRule() {
        if (this.node.type.spec.reparseInView)
            return null;
        let e = {
            node: this.node.type.name,
            attrs: this.node.attrs
        };
        if (this.node.type.whitespace == "pre" && (e.preserveWhitespace = "full"),
        !this.contentDOM)
            e.getContent = () => this.node.content;
        else if (!this.contentLost)
            e.contentElement = this.contentDOM;
        else {
            for (let n = this.children.length - 1; n >= 0; n--) {
                let r = this.children[n];
                if (this.dom.contains(r.dom.parentNode)) {
                    e.contentElement = r.dom.parentNode;
                    break
                }
            }
            e.contentElement || (e.getContent = () => X.empty)
        }
        return e
    }
    matchesNode(e, n, r) {
        return this.dirty == Un && e.eq(this.node) && Kc(n, this.outerDeco) && r.eq(this.innerDeco)
    }
    get size() {
        return this.node.nodeSize
    }
    get border() {
        return this.node.isLeaf ? 0 : 1
    }
    updateChildren(e, n) {
        let r = this.node.inlineContent
          , s = n
          , l = e.composing ? this.localCompositionInfo(e, n) : null
          , o = l && l.pos > -1 ? l : null
          , u = l && l.pos < 0
          , f = new WD(this,o && o.node,e);
        n9(this.node, this.innerDeco, (p, m, g) => {
            p.spec.marks ? f.syncToMarks(p.spec.marks, r, e) : p.type.side >= 0 && !g && f.syncToMarks(m == this.node.childCount ? Ve.none : this.node.child(m).marks, r, e),
            f.placeWidget(p, e, s)
        }
        , (p, m, g, v) => {
            f.syncToMarks(p.marks, r, e);
            let N;
            f.findNodeMatch(p, m, g, v) || u && e.state.selection.from > s && e.state.selection.to < s + p.nodeSize && (N = f.findIndexWithChild(l.node)) > -1 && f.updateNodeAt(p, m, g, N, e) || f.updateNextNode(p, m, g, e, v, s) || f.addNode(p, m, g, e, s),
            s += p.nodeSize
        }
        ),
        f.syncToMarks([], r, e),
        this.node.isTextblock && f.addTextblockHacks(),
        f.destroyRest(),
        (f.changed || this.dirty == pi) && (o && this.protectLocalComposition(e, o),
        S4(this.contentDOM, this.children, e),
        zl && r9(this.dom))
    }
    localCompositionInfo(e, n) {
        let {from: r, to: s} = e.state.selection;
        if (!(e.state.selection instanceof ce) || r < n || s > n + this.node.content.size)
            return null;
        let l = e.input.compositionNode;
        if (!l || !this.dom.contains(l.parentNode))
            return null;
        if (this.node.inlineContent) {
            let o = l.nodeValue
              , u = s9(this.node.content, o, r - n, s - n);
            return u < 0 ? null : {
                node: l,
                pos: u,
                text: o
            }
        } else
            return {
                node: l,
                pos: -1,
                text: ""
            }
    }
    protectLocalComposition(e, {node: n, pos: r, text: s}) {
        if (this.getDesc(n))
            return;
        let l = n;
        for (; l.parentNode != this.contentDOM; l = l.parentNode) {
            for (; l.previousSibling; )
                l.parentNode.removeChild(l.previousSibling);
            for (; l.nextSibling; )
                l.parentNode.removeChild(l.nextSibling);
            l.pmViewDesc && (l.pmViewDesc = void 0)
        }
        let o = new XD(this,l,n,s);
        e.input.compositionNodes.push(o),
        this.children = Kp(this.children, r, r + s.length, e, o)
    }
    update(e, n, r, s) {
        return this.dirty == fr || !e.sameMarkup(this.node) ? !1 : (this.updateInner(e, n, r, s),
        !0)
    }
    updateInner(e, n, r, s) {
        this.updateOuterDeco(n),
        this.node = e,
        this.innerDeco = r,
        this.contentDOM && this.updateChildren(s, this.posAtStart),
        this.dirty = Un
    }
    updateOuterDeco(e) {
        if (Kc(e, this.outerDeco))
            return;
        let n = this.nodeDOM.nodeType != 1
          , r = this.dom;
        this.dom = j4(this.dom, this.nodeDOM, Gp(this.outerDeco, this.node, n), Gp(e, this.node, n)),
        this.dom != r && (r.pmViewDesc = void 0,
        this.dom.pmViewDesc = this),
        this.outerDeco = e
    }
    selectNode() {
        this.nodeDOM.nodeType == 1 && (this.nodeDOM.classList.add("ProseMirror-selectednode"),
        (this.contentDOM || !this.node.type.spec.draggable) && (this.nodeDOM.draggable = !0))
    }
    deselectNode() {
        this.nodeDOM.nodeType == 1 && (this.nodeDOM.classList.remove("ProseMirror-selectednode"),
        (this.contentDOM || !this.node.type.spec.draggable) && this.nodeDOM.removeAttribute("draggable"))
    }
    get domAtom() {
        return this.node.isAtom
    }
}
function ev(t, e, n, r, s) {
    E4(r, e, t);
    let l = new Bs(void 0,t,e,n,r,r,r,s,0);
    return l.contentDOM && l.updateChildren(s, 0),
    l
}
class Xd extends Bs {
    constructor(e, n, r, s, l, o, u) {
        super(e, n, r, s, l, null, o, u, 0)
    }
    parseRule() {
        let e = this.nodeDOM.parentNode;
        for (; e && e != this.dom && !e.pmIsDeco; )
            e = e.parentNode;
        return {
            skip: e || !0
        }
    }
    update(e, n, r, s) {
        return this.dirty == fr || this.dirty != Un && !this.inParent() || !e.sameMarkup(this.node) ? !1 : (this.updateOuterDeco(n),
        (this.dirty != Un || e.text != this.node.text) && e.text != this.nodeDOM.nodeValue && (this.nodeDOM.nodeValue = e.text,
        s.trackWrites == this.nodeDOM && (s.trackWrites = null)),
        this.node = e,
        this.dirty = Un,
        !0)
    }
    inParent() {
        let e = this.parent.contentDOM;
        for (let n = this.nodeDOM; n; n = n.parentNode)
            if (n == e)
                return !0;
        return !1
    }
    domFromPos(e) {
        return {
            node: this.nodeDOM,
            offset: e
        }
    }
    localPosFromDOM(e, n, r) {
        return e == this.nodeDOM ? this.posAtStart + Math.min(n, this.node.text.length) : super.localPosFromDOM(e, n, r)
    }
    ignoreMutation(e) {
        return e.type != "characterData" && e.type != "selection"
    }
    slice(e, n, r) {
        let s = this.node.cut(e, n)
          , l = document.createTextNode(s.text);
        return new Xd(this.parent,s,this.outerDeco,this.innerDeco,l,l,r)
    }
    markDirty(e, n) {
        super.markDirty(e, n),
        this.dom != this.nodeDOM && (e == 0 || n == this.nodeDOM.nodeValue.length) && (this.dirty = fr)
    }
    get domAtom() {
        return !1
    }
    isText(e) {
        return this.node.text == e
    }
}
class C4 extends Bo {
    parseRule() {
        return {
            ignore: !0
        }
    }
    matchesHack(e) {
        return this.dirty == Un && this.dom.nodeName == e
    }
    get domAtom() {
        return !0
    }
    get ignoreForCoords() {
        return this.dom.nodeName == "IMG"
    }
}
class QD extends Bs {
    constructor(e, n, r, s, l, o, u, f, p, m) {
        super(e, n, r, s, l, o, u, p, m),
        this.spec = f
    }
    update(e, n, r, s) {
        if (this.dirty == fr)
            return !1;
        if (this.spec.update && (this.node.type == e.type || this.spec.multiType)) {
            let l = this.spec.update(e, n, r);
            return l && this.updateInner(e, n, r, s),
            l
        } else
            return !this.contentDOM && !e.isLeaf ? !1 : super.update(e, n, r, s)
    }
    selectNode() {
        this.spec.selectNode ? this.spec.selectNode() : super.selectNode()
    }
    deselectNode() {
        this.spec.deselectNode ? this.spec.deselectNode() : super.deselectNode()
    }
    setSelection(e, n, r, s) {
        this.spec.setSelection ? this.spec.setSelection(e, n, r.root) : super.setSelection(e, n, r, s)
    }
    destroy() {
        this.spec.destroy && this.spec.destroy(),
        super.destroy()
    }
    stopEvent(e) {
        return this.spec.stopEvent ? this.spec.stopEvent(e) : !1
    }
    ignoreMutation(e) {
        return this.spec.ignoreMutation ? this.spec.ignoreMutation(e) : super.ignoreMutation(e)
    }
}
function S4(t, e, n) {
    let r = t.firstChild
      , s = !1;
    for (let l = 0; l < e.length; l++) {
        let o = e[l]
          , u = o.dom;
        if (u.parentNode == t) {
            for (; u != r; )
                r = tv(r),
                s = !0;
            r = r.nextSibling
        } else
            s = !0,
            t.insertBefore(u, r);
        if (o instanceof Ai) {
            let f = r ? r.previousSibling : t.lastChild;
            S4(o.contentDOM, o.children, n),
            r = f ? f.nextSibling : t.firstChild
        }
    }
    for (; r; )
        r = tv(r),
        s = !0;
    s && n.trackWrites == t && (n.trackWrites = null)
}
const Xa = function(t) {
    t && (this.nodeName = t)
};
Xa.prototype = Object.create(null);
const mi = [new Xa];
function Gp(t, e, n) {
    if (t.length == 0)
        return mi;
    let r = n ? mi[0] : new Xa
      , s = [r];
    for (let l = 0; l < t.length; l++) {
        let o = t[l].type.attrs;
        if (o) {
            o.nodeName && s.push(r = new Xa(o.nodeName));
            for (let u in o) {
                let f = o[u];
                f != null && (n && s.length == 1 && s.push(r = new Xa(e.isInline ? "span" : "div")),
                u == "class" ? r.class = (r.class ? r.class + " " : "") + f : u == "style" ? r.style = (r.style ? r.style + ";" : "") + f : u != "nodeName" && (r[u] = f))
            }
        }
    }
    return s
}
function j4(t, e, n, r) {
    if (n == mi && r == mi)
        return e;
    let s = e;
    for (let l = 0; l < r.length; l++) {
        let o = r[l]
          , u = n[l];
        if (l) {
            let f;
            u && u.nodeName == o.nodeName && s != t && (f = s.parentNode) && f.nodeName.toLowerCase() == o.nodeName || (f = document.createElement(o.nodeName),
            f.pmIsDeco = !0,
            f.appendChild(s),
            u = mi[0]),
            s = f
        }
        ZD(s, u || mi[0], o)
    }
    return s
}
function ZD(t, e, n) {
    for (let r in e)
        r != "class" && r != "style" && r != "nodeName" && !(r in n) && t.removeAttribute(r);
    for (let r in n)
        r != "class" && r != "style" && r != "nodeName" && n[r] != e[r] && t.setAttribute(r, n[r]);
    if (e.class != n.class) {
        let r = e.class ? e.class.split(" ").filter(Boolean) : []
          , s = n.class ? n.class.split(" ").filter(Boolean) : [];
        for (let l = 0; l < r.length; l++)
            s.indexOf(r[l]) == -1 && t.classList.remove(r[l]);
        for (let l = 0; l < s.length; l++)
            r.indexOf(s[l]) == -1 && t.classList.add(s[l]);
        t.classList.length == 0 && t.removeAttribute("class")
    }
    if (e.style != n.style) {
        if (e.style) {
            let r = /\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g, s;
            for (; s = r.exec(e.style); )
                t.style.removeProperty(s[1])
        }
        n.style && (t.style.cssText += n.style)
    }
}
function E4(t, e, n) {
    return j4(t, t, mi, Gp(e, n, t.nodeType != 1))
}
function Kc(t, e) {
    if (t.length != e.length)
        return !1;
    for (let n = 0; n < t.length; n++)
        if (!t[n].type.eq(e[n].type))
            return !1;
    return !0
}
function tv(t) {
    let e = t.nextSibling;
    return t.parentNode.removeChild(t),
    e
}
class WD {
    constructor(e, n, r) {
        this.lock = n,
        this.view = r,
        this.index = 0,
        this.stack = [],
        this.changed = !1,
        this.top = e,
        this.preMatch = e9(e.node.content, e)
    }
    destroyBetween(e, n) {
        if (e != n) {
            for (let r = e; r < n; r++)
                this.top.children[r].destroy();
            this.top.children.splice(e, n - e),
            this.changed = !0
        }
    }
    destroyRest() {
        this.destroyBetween(this.index, this.top.children.length)
    }
    syncToMarks(e, n, r) {
        let s = 0
          , l = this.stack.length >> 1
          , o = Math.min(l, e.length);
        for (; s < o && (s == l - 1 ? this.top : this.stack[s + 1 << 1]).matchesMark(e[s]) && e[s].type.spec.spanning !== !1; )
            s++;
        for (; s < l; )
            this.destroyRest(),
            this.top.dirty = Un,
            this.index = this.stack.pop(),
            this.top = this.stack.pop(),
            l--;
        for (; l < e.length; ) {
            this.stack.push(this.top, this.index + 1);
            let u = -1;
            for (let f = this.index; f < Math.min(this.index + 3, this.top.children.length); f++) {
                let p = this.top.children[f];
                if (p.matchesMark(e[l]) && !this.isLocked(p.dom)) {
                    u = f;
                    break
                }
            }
            if (u > -1)
                u > this.index && (this.changed = !0,
                this.destroyBetween(this.index, u)),
                this.top = this.top.children[this.index];
            else {
                let f = Ai.create(this.top, e[l], n, r);
                this.top.children.splice(this.index, 0, f),
                this.top = f,
                this.changed = !0
            }
            this.index = 0,
            l++
        }
    }
    findNodeMatch(e, n, r, s) {
        let l = -1, o;
        if (s >= this.preMatch.index && (o = this.preMatch.matches[s - this.preMatch.index]).parent == this.top && o.matchesNode(e, n, r))
            l = this.top.children.indexOf(o, this.index);
        else
            for (let u = this.index, f = Math.min(this.top.children.length, u + 5); u < f; u++) {
                let p = this.top.children[u];
                if (p.matchesNode(e, n, r) && !this.preMatch.matched.has(p)) {
                    l = u;
                    break
                }
            }
        return l < 0 ? !1 : (this.destroyBetween(this.index, l),
        this.index++,
        !0)
    }
    updateNodeAt(e, n, r, s, l) {
        let o = this.top.children[s];
        return o.dirty == fr && o.dom == o.contentDOM && (o.dirty = pi),
        o.update(e, n, r, l) ? (this.destroyBetween(this.index, s),
        this.index++,
        !0) : !1
    }
    findIndexWithChild(e) {
        for (; ; ) {
            let n = e.parentNode;
            if (!n)
                return -1;
            if (n == this.top.contentDOM) {
                let r = e.pmViewDesc;
                if (r) {
                    for (let s = this.index; s < this.top.children.length; s++)
                        if (this.top.children[s] == r)
                            return s
                }
                return -1
            }
            e = n
        }
    }
    updateNextNode(e, n, r, s, l, o) {
        for (let u = this.index; u < this.top.children.length; u++) {
            let f = this.top.children[u];
            if (f instanceof Bs) {
                let p = this.preMatch.matched.get(f);
                if (p != null && p != l)
                    return !1;
                let m = f.dom, g, v = this.isLocked(m) && !(e.isText && f.node && f.node.isText && f.nodeDOM.nodeValue == e.text && f.dirty != fr && Kc(n, f.outerDeco));
                if (!v && f.update(e, n, r, s))
                    return this.destroyBetween(this.index, u),
                    f.dom != m && (this.changed = !0),
                    this.index++,
                    !0;
                if (!v && (g = this.recreateWrapper(f, e, n, r, s, o)))
                    return this.destroyBetween(this.index, u),
                    this.top.children[this.index] = g,
                    g.contentDOM && (g.dirty = pi,
                    g.updateChildren(s, o + 1),
                    g.dirty = Un),
                    this.changed = !0,
                    this.index++,
                    !0;
                break
            }
        }
        return !1
    }
    recreateWrapper(e, n, r, s, l, o) {
        if (e.dirty || n.isAtom || !e.children.length || !e.node.content.eq(n.content) || !Kc(r, e.outerDeco) || !s.eq(e.innerDeco))
            return null;
        let u = Bs.create(this.top, n, r, s, l, o);
        if (u.contentDOM) {
            u.children = e.children,
            e.children = [];
            for (let f of u.children)
                f.parent = u
        }
        return e.destroy(),
        u
    }
    addNode(e, n, r, s, l) {
        let o = Bs.create(this.top, e, n, r, s, l);
        o.contentDOM && o.updateChildren(s, l + 1),
        this.top.children.splice(this.index++, 0, o),
        this.changed = !0
    }
    placeWidget(e, n, r) {
        let s = this.index < this.top.children.length ? this.top.children[this.index] : null;
        if (s && s.matchesWidget(e) && (e == s.widget || !s.widget.type.toDOM.parentNode))
            this.index++;
        else {
            let l = new w4(this.top,e,n,r);
            this.top.children.splice(this.index++, 0, l),
            this.changed = !0
        }
    }
    addTextblockHacks() {
        let e = this.top.children[this.index - 1]
          , n = this.top;
        for (; e instanceof Ai; )
            n = e,
            e = n.children[n.children.length - 1];
        (!e || !(e instanceof Xd) || /\n$/.test(e.node.text) || this.view.requiresGeckoHackNode && /\s$/.test(e.node.text)) && ((Ut || jt) && e && e.dom.contentEditable == "false" && this.addHackNode("IMG", n),
        this.addHackNode("BR", this.top))
    }
    addHackNode(e, n) {
        if (n == this.top && this.index < n.children.length && n.children[this.index].matchesHack(e))
            this.index++;
        else {
            let r = document.createElement(e);
            e == "IMG" && (r.className = "ProseMirror-separator",
            r.alt = ""),
            e == "BR" && (r.className = "ProseMirror-trailingBreak");
            let s = new C4(this.top,[],r,null);
            n != this.top ? n.children.push(s) : n.children.splice(this.index++, 0, s),
            this.changed = !0
        }
    }
    isLocked(e) {
        return this.lock && (e == this.lock || e.nodeType == 1 && e.contains(this.lock.parentNode))
    }
}
function e9(t, e) {
    let n = e
      , r = n.children.length
      , s = t.childCount
      , l = new Map
      , o = [];
    e: for (; s > 0; ) {
        let u;
        for (; ; )
            if (r) {
                let p = n.children[r - 1];
                if (p instanceof Ai)
                    n = p,
                    r = p.children.length;
                else {
                    u = p,
                    r--;
                    break
                }
            } else {
                if (n == e)
                    break e;
                r = n.parent.children.indexOf(n),
                n = n.parent
            }
        let f = u.node;
        if (f) {
            if (f != t.child(s - 1))
                break;
            --s,
            l.set(u, s),
            o.push(u)
        }
    }
    return {
        index: s,
        matched: l,
        matches: o.reverse()
    }
}
function t9(t, e) {
    return t.type.side - e.type.side
}
function n9(t, e, n, r) {
    let s = e.locals(t)
      , l = 0;
    if (s.length == 0) {
        for (let p = 0; p < t.childCount; p++) {
            let m = t.child(p);
            r(m, s, e.forChild(l, m), p),
            l += m.nodeSize
        }
        return
    }
    let o = 0
      , u = []
      , f = null;
    for (let p = 0; ; ) {
        let m, g;
        for (; o < s.length && s[o].to == l; ) {
            let C = s[o++];
            C.widget && (m ? (g || (g = [m])).push(C) : m = C)
        }
        if (m)
            if (g) {
                g.sort(t9);
                for (let C = 0; C < g.length; C++)
                    n(g[C], p, !!f)
            } else
                n(m, p, !!f);
        let v, N;
        if (f)
            N = -1,
            v = f,
            f = null;
        else if (p < t.childCount)
            N = p,
            v = t.child(p++);
        else
            break;
        for (let C = 0; C < u.length; C++)
            u[C].to <= l && u.splice(C--, 1);
        for (; o < s.length && s[o].from <= l && s[o].to > l; )
            u.push(s[o++]);
        let y = l + v.nodeSize;
        if (v.isText) {
            let C = y;
            o < s.length && s[o].from < C && (C = s[o].from);
            for (let E = 0; E < u.length; E++)
                u[E].to < C && (C = u[E].to);
            C < y && (f = v.cut(C - l),
            v = v.cut(0, C - l),
            y = C,
            N = -1)
        } else
            for (; o < s.length && s[o].to < y; )
                o++;
        let w = v.isInline && !v.isLeaf ? u.filter(C => !C.inline) : u.slice();
        r(v, w, e.forChild(l, v), N),
        l = y
    }
}
function r9(t) {
    if (t.nodeName == "UL" || t.nodeName == "OL") {
        let e = t.style.cssText;
        t.style.cssText = e + "; list-style: square !important",
        window.getComputedStyle(t).listStyle,
        t.style.cssText = e
    }
}
function s9(t, e, n, r) {
    for (let s = 0, l = 0; s < t.childCount && l <= r; ) {
        let o = t.child(s++)
          , u = l;
        if (l += o.nodeSize,
        !o.isText)
            continue;
        let f = o.text;
        for (; s < t.childCount; ) {
            let p = t.child(s++);
            if (l += p.nodeSize,
            !p.isText)
                break;
            f += p.text
        }
        if (l >= n) {
            if (l >= r && f.slice(r - e.length - u, r - u) == e)
                return r - e.length;
            let p = u < r ? f.lastIndexOf(e, r - u - 1) : -1;
            if (p >= 0 && p + e.length + u >= n)
                return u + p;
            if (n == r && f.length >= r + e.length - u && f.slice(r - u, r - u + e.length) == e)
                return r
        }
    }
    return -1
}
function Kp(t, e, n, r, s) {
    let l = [];
    for (let o = 0, u = 0; o < t.length; o++) {
        let f = t[o]
          , p = u
          , m = u += f.size;
        p >= n || m <= e ? l.push(f) : (p < e && l.push(f.slice(0, e - p, r)),
        s && (l.push(s),
        s = void 0),
        m > n && l.push(f.slice(n - p, f.size, r)))
    }
    return l
}
function Vm(t, e=null) {
    let n = t.domSelectionRange()
      , r = t.state.doc;
    if (!n.focusNode)
        return null;
    let s = t.docView.nearestDesc(n.focusNode)
      , l = s && s.size == 0
      , o = t.docView.posFromDOM(n.focusNode, n.focusOffset, 1);
    if (o < 0)
        return null;
    let u = r.resolve(o), f, p;
    if (Jd(n)) {
        for (f = o; s && !s.node; )
            s = s.parent;
        let g = s.node;
        if (s && g.isAtom && ue.isSelectable(g) && s.parent && !(g.isInline && DD(n.focusNode, n.focusOffset, s.dom))) {
            let v = s.posBefore;
            p = new ue(o == v ? u : r.resolve(v))
        }
    } else {
        if (n instanceof t.dom.ownerDocument.defaultView.Selection && n.rangeCount > 1) {
            let g = o
              , v = o;
            for (let N = 0; N < n.rangeCount; N++) {
                let y = n.getRangeAt(N);
                g = Math.min(g, t.docView.posFromDOM(y.startContainer, y.startOffset, 1)),
                v = Math.max(v, t.docView.posFromDOM(y.endContainer, y.endOffset, -1))
            }
            if (g < 0)
                return null;
            [f,o] = v == t.state.selection.anchor ? [v, g] : [g, v],
            u = r.resolve(o)
        } else
            f = t.docView.posFromDOM(n.anchorNode, n.anchorOffset, 1);
        if (f < 0)
            return null
    }
    let m = r.resolve(f);
    if (!p) {
        let g = e == "pointer" || t.state.selection.head < u.pos && !l ? 1 : -1;
        p = Gm(t, m, u, g)
    }
    return p
}
function k4(t) {
    return t.editable ? t.hasFocus() : _4(t) && document.activeElement && document.activeElement.contains(t.dom)
}
function Vr(t, e=!1) {
    let n = t.state.selection;
    if (A4(t, n),
    !!k4(t)) {
        if (!e && t.input.mouseDown && t.input.mouseDown.allowDefault && jt) {
            let r = t.domSelectionRange()
              , s = t.domObserver.currentSelection;
            if (r.anchorNode && s.anchorNode && ki(r.anchorNode, r.anchorOffset, s.anchorNode, s.anchorOffset)) {
                t.input.mouseDown.delayedSelectionSync = !0,
                t.domObserver.setCurSelection();
                return
            }
        }
        if (t.domObserver.disconnectSelection(),
        t.cursorWrapper)
            l9(t);
        else {
            let {anchor: r, head: s} = n, l, o;
            nv && !(n instanceof ce) && (n.$from.parent.inlineContent || (l = rv(t, n.from)),
            !n.empty && !n.$from.parent.inlineContent && (o = rv(t, n.to))),
            t.docView.setSelection(r, s, t, e),
            nv && (l && sv(l),
            o && sv(o)),
            n.visible ? t.dom.classList.remove("ProseMirror-hideselection") : (t.dom.classList.add("ProseMirror-hideselection"),
            "onselectionchange"in document && i9(t))
        }
        t.domObserver.setCurSelection(),
        t.domObserver.connectSelection()
    }
}
const nv = Ut || jt && p4 < 63;
function rv(t, e) {
    let {node: n, offset: r} = t.docView.domFromPos(e, 0)
      , s = r < n.childNodes.length ? n.childNodes[r] : null
      , l = r ? n.childNodes[r - 1] : null;
    if (Ut && s && s.contentEditable == "false")
        return np(s);
    if ((!s || s.contentEditable == "false") && (!l || l.contentEditable == "false")) {
        if (s)
            return np(s);
        if (l)
            return np(l)
    }
}
function np(t) {
    return t.contentEditable = "true",
    Ut && t.draggable && (t.draggable = !1,
    t.wasDraggable = !0),
    t
}
function sv(t) {
    t.contentEditable = "false",
    t.wasDraggable && (t.draggable = !0,
    t.wasDraggable = null)
}
function i9(t) {
    let e = t.dom.ownerDocument;
    e.removeEventListener("selectionchange", t.input.hideSelectionGuard);
    let n = t.domSelectionRange()
      , r = n.anchorNode
      , s = n.anchorOffset;
    e.addEventListener("selectionchange", t.input.hideSelectionGuard = () => {
        (n.anchorNode != r || n.anchorOffset != s) && (e.removeEventListener("selectionchange", t.input.hideSelectionGuard),
        setTimeout( () => {
            (!k4(t) || t.state.selection.visible) && t.dom.classList.remove("ProseMirror-hideselection")
        }
        , 20))
    }
    )
}
function l9(t) {
    let e = t.domSelection();
    if (!e)
        return;
    let n = t.cursorWrapper.dom
      , r = n.nodeName == "IMG";
    r ? e.collapse(n.parentNode, zt(n) + 1) : e.collapse(n, 0),
    !r && !t.state.selection.visible && on && Ls <= 11 && (n.disabled = !0,
    n.disabled = !1)
}
function A4(t, e) {
    if (e instanceof ue) {
        let n = t.docView.descAt(e.from);
        n != t.lastSelectedViewDesc && (iv(t),
        n && n.selectNode(),
        t.lastSelectedViewDesc = n)
    } else
        iv(t)
}
function iv(t) {
    t.lastSelectedViewDesc && (t.lastSelectedViewDesc.parent && t.lastSelectedViewDesc.deselectNode(),
    t.lastSelectedViewDesc = void 0)
}
function Gm(t, e, n, r) {
    return t.someProp("createSelectionBetween", s => s(t, e, n)) || ce.between(e, n, r)
}
function lv(t) {
    return t.editable && !t.hasFocus() ? !1 : _4(t)
}
function _4(t) {
    let e = t.domSelectionRange();
    if (!e.anchorNode)
        return !1;
    try {
        return t.dom.contains(e.anchorNode.nodeType == 3 ? e.anchorNode.parentNode : e.anchorNode) && (t.editable || t.dom.contains(e.focusNode.nodeType == 3 ? e.focusNode.parentNode : e.focusNode))
    } catch {
        return !1
    }
}
function a9(t) {
    let e = t.docView.domFromPos(t.state.selection.anchor, 0)
      , n = t.domSelectionRange();
    return ki(e.node, e.offset, n.anchorNode, n.anchorOffset)
}
function Yp(t, e) {
    let {$anchor: n, $head: r} = t.selection
      , s = e > 0 ? n.max(r) : n.min(r)
      , l = s.parent.inlineContent ? s.depth ? t.doc.resolve(e > 0 ? s.after() : s.before()) : null : s;
    return l && he.findFrom(l, e)
}
function Cs(t, e) {
    return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),
    !0
}
function av(t, e, n) {
    let r = t.state.selection;
    if (r instanceof ce)
        if (n.indexOf("s") > -1) {
            let {$head: s} = r
              , l = s.textOffset ? null : e < 0 ? s.nodeBefore : s.nodeAfter;
            if (!l || l.isText || !l.isLeaf)
                return !1;
            let o = t.state.doc.resolve(s.pos + l.nodeSize * (e < 0 ? -1 : 1));
            return Cs(t, new ce(r.$anchor,o))
        } else if (r.empty) {
            if (t.endOfTextblock(e > 0 ? "forward" : "backward")) {
                let s = Yp(t.state, e);
                return s && s instanceof ue ? Cs(t, s) : !1
            } else if (!(Bn && n.indexOf("m") > -1)) {
                let s = r.$head, l = s.textOffset ? null : e < 0 ? s.nodeBefore : s.nodeAfter, o;
                if (!l || l.isText)
                    return !1;
                let u = e < 0 ? s.pos - l.nodeSize : s.pos;
                return l.isAtom || (o = t.docView.descAt(u)) && !o.contentDOM ? ue.isSelectable(l) ? Cs(t, new ue(e < 0 ? t.state.doc.resolve(s.pos - l.nodeSize) : s)) : Lo ? Cs(t, new ce(t.state.doc.resolve(e < 0 ? u : u + l.nodeSize))) : !1 : !1
            }
        } else
            return !1;
    else {
        if (r instanceof ue && r.node.isInline)
            return Cs(t, new ce(e > 0 ? r.$to : r.$from));
        {
            let s = Yp(t.state, e);
            return s ? Cs(t, s) : !1
        }
    }
}
function Yc(t) {
    return t.nodeType == 3 ? t.nodeValue.length : t.childNodes.length
}
function Qa(t, e) {
    let n = t.pmViewDesc;
    return n && n.size == 0 && (e < 0 || t.nextSibling || t.nodeName != "BR")
}
function Nl(t, e) {
    return e < 0 ? o9(t) : u9(t)
}
function o9(t) {
    let e = t.domSelectionRange()
      , n = e.focusNode
      , r = e.focusOffset;
    if (!n)
        return;
    let s, l, o = !1;
    for (Hn && n.nodeType == 1 && r < Yc(n) && Qa(n.childNodes[r], -1) && (o = !0); ; )
        if (r > 0) {
            if (n.nodeType != 1)
                break;
            {
                let u = n.childNodes[r - 1];
                if (Qa(u, -1))
                    s = n,
                    l = --r;
                else if (u.nodeType == 3)
                    n = u,
                    r = n.nodeValue.length;
                else
                    break
            }
        } else {
            if (T4(n))
                break;
            {
                let u = n.previousSibling;
                for (; u && Qa(u, -1); )
                    s = n.parentNode,
                    l = zt(u),
                    u = u.previousSibling;
                if (u)
                    n = u,
                    r = Yc(n);
                else {
                    if (n = n.parentNode,
                    n == t.dom)
                        break;
                    r = 0
                }
            }
        }
    o ? Jp(t, n, r) : s && Jp(t, s, l)
}
function u9(t) {
    let e = t.domSelectionRange()
      , n = e.focusNode
      , r = e.focusOffset;
    if (!n)
        return;
    let s = Yc(n), l, o;
    for (; ; )
        if (r < s) {
            if (n.nodeType != 1)
                break;
            let u = n.childNodes[r];
            if (Qa(u, 1))
                l = n,
                o = ++r;
            else
                break
        } else {
            if (T4(n))
                break;
            {
                let u = n.nextSibling;
                for (; u && Qa(u, 1); )
                    l = u.parentNode,
                    o = zt(u) + 1,
                    u = u.nextSibling;
                if (u)
                    n = u,
                    r = 0,
                    s = Yc(n);
                else {
                    if (n = n.parentNode,
                    n == t.dom)
                        break;
                    r = s = 0
                }
            }
        }
    l && Jp(t, l, o)
}
function T4(t) {
    let e = t.pmViewDesc;
    return e && e.node && e.node.isBlock
}
function c9(t, e) {
    for (; t && e == t.childNodes.length && !zo(t); )
        e = zt(t) + 1,
        t = t.parentNode;
    for (; t && e < t.childNodes.length; ) {
        let n = t.childNodes[e];
        if (n.nodeType == 3)
            return n;
        if (n.nodeType == 1 && n.contentEditable == "false")
            break;
        t = n,
        e = 0
    }
}
function d9(t, e) {
    for (; t && !e && !zo(t); )
        e = zt(t),
        t = t.parentNode;
    for (; t && e; ) {
        let n = t.childNodes[e - 1];
        if (n.nodeType == 3)
            return n;
        if (n.nodeType == 1 && n.contentEditable == "false")
            break;
        t = n,
        e = t.childNodes.length
    }
}
function Jp(t, e, n) {
    if (e.nodeType != 3) {
        let l, o;
        (o = c9(e, n)) ? (e = o,
        n = 0) : (l = d9(e, n)) && (e = l,
        n = l.nodeValue.length)
    }
    let r = t.domSelection();
    if (!r)
        return;
    if (Jd(r)) {
        let l = document.createRange();
        l.setEnd(e, n),
        l.setStart(e, n),
        r.removeAllRanges(),
        r.addRange(l)
    } else
        r.extend && r.extend(e, n);
    t.domObserver.setCurSelection();
    let {state: s} = t;
    setTimeout( () => {
        t.state == s && Vr(t)
    }
    , 50)
}
function ov(t, e) {
    let n = t.state.doc.resolve(e);
    if (!(jt || m4) && n.parent.inlineContent) {
        let s = t.coordsAtPos(e);
        if (e > n.start()) {
            let l = t.coordsAtPos(e - 1)
              , o = (l.top + l.bottom) / 2;
            if (o > s.top && o < s.bottom && Math.abs(l.left - s.left) > 1)
                return l.left < s.left ? "ltr" : "rtl"
        }
        if (e < n.end()) {
            let l = t.coordsAtPos(e + 1)
              , o = (l.top + l.bottom) / 2;
            if (o > s.top && o < s.bottom && Math.abs(l.left - s.left) > 1)
                return l.left > s.left ? "ltr" : "rtl"
        }
    }
    return getComputedStyle(t.dom).direction == "rtl" ? "rtl" : "ltr"
}
function uv(t, e, n) {
    let r = t.state.selection;
    if (r instanceof ce && !r.empty || n.indexOf("s") > -1 || Bn && n.indexOf("m") > -1)
        return !1;
    let {$from: s, $to: l} = r;
    if (!s.parent.inlineContent || t.endOfTextblock(e < 0 ? "up" : "down")) {
        let o = Yp(t.state, e);
        if (o && o instanceof ue)
            return Cs(t, o)
    }
    if (!s.parent.inlineContent) {
        let o = e < 0 ? s : l
          , u = r instanceof Cn ? he.near(o, e) : he.findFrom(o, e);
        return u ? Cs(t, u) : !1
    }
    return !1
}
function cv(t, e) {
    if (!(t.state.selection instanceof ce))
        return !0;
    let {$head: n, $anchor: r, empty: s} = t.state.selection;
    if (!n.sameParent(r))
        return !0;
    if (!s)
        return !1;
    if (t.endOfTextblock(e > 0 ? "forward" : "backward"))
        return !0;
    let l = !n.textOffset && (e < 0 ? n.nodeBefore : n.nodeAfter);
    if (l && !l.isText) {
        let o = t.state.tr;
        return e < 0 ? o.delete(n.pos - l.nodeSize, n.pos) : o.delete(n.pos, n.pos + l.nodeSize),
        t.dispatch(o),
        !0
    }
    return !1
}
function dv(t, e, n) {
    t.domObserver.stop(),
    e.contentEditable = n,
    t.domObserver.start()
}
function f9(t) {
    if (!Ut || t.state.selection.$head.parentOffset > 0)
        return !1;
    let {focusNode: e, focusOffset: n} = t.domSelectionRange();
    if (e && e.nodeType == 1 && n == 0 && e.firstChild && e.firstChild.contentEditable == "false") {
        let r = e.firstChild;
        dv(t, r, "true"),
        setTimeout( () => dv(t, r, "false"), 20)
    }
    return !1
}
function h9(t) {
    let e = "";
    return t.ctrlKey && (e += "c"),
    t.metaKey && (e += "m"),
    t.altKey && (e += "a"),
    t.shiftKey && (e += "s"),
    e
}
function p9(t, e) {
    let n = e.keyCode
      , r = h9(e);
    if (n == 8 || Bn && n == 72 && r == "c")
        return cv(t, -1) || Nl(t, -1);
    if (n == 46 && !e.shiftKey || Bn && n == 68 && r == "c")
        return cv(t, 1) || Nl(t, 1);
    if (n == 13 || n == 27)
        return !0;
    if (n == 37 || Bn && n == 66 && r == "c") {
        let s = n == 37 ? ov(t, t.state.selection.from) == "ltr" ? -1 : 1 : -1;
        return av(t, s, r) || Nl(t, s)
    } else if (n == 39 || Bn && n == 70 && r == "c") {
        let s = n == 39 ? ov(t, t.state.selection.from) == "ltr" ? 1 : -1 : 1;
        return av(t, s, r) || Nl(t, s)
    } else {
        if (n == 38 || Bn && n == 80 && r == "c")
            return uv(t, -1, r) || Nl(t, -1);
        if (n == 40 || Bn && n == 78 && r == "c")
            return f9(t) || uv(t, 1, r) || Nl(t, 1);
        if (r == (Bn ? "m" : "c") && (n == 66 || n == 73 || n == 89 || n == 90))
            return !0
    }
    return !1
}
function Km(t, e) {
    t.someProp("transformCopied", N => {
        e = N(e, t)
    }
    );
    let n = []
      , {content: r, openStart: s, openEnd: l} = e;
    for (; s > 1 && l > 1 && r.childCount == 1 && r.firstChild.childCount == 1; ) {
        s--,
        l--;
        let N = r.firstChild;
        n.push(N.type.name, N.attrs != N.type.defaultAttrs ? N.attrs : null),
        r = N.content
    }
    let o = t.someProp("clipboardSerializer") || Oi.fromSchema(t.state.schema)
      , u = L4()
      , f = u.createElement("div");
    f.appendChild(o.serializeFragment(r, {
        document: u
    }));
    let p = f.firstChild, m, g = 0;
    for (; p && p.nodeType == 1 && (m = z4[p.nodeName.toLowerCase()]); ) {
        for (let N = m.length - 1; N >= 0; N--) {
            let y = u.createElement(m[N]);
            for (; f.firstChild; )
                y.appendChild(f.firstChild);
            f.appendChild(y),
            g++
        }
        p = f.firstChild
    }
    p && p.nodeType == 1 && p.setAttribute("data-pm-slice", `${s} ${l}${g ? ` -${g}` : ""} ${JSON.stringify(n)}`);
    let v = t.someProp("clipboardTextSerializer", N => N(e, t)) || e.content.textBetween(0, e.content.size, `

`);
    return {
        dom: f,
        text: v,
        slice: e
    }
}
function D4(t, e, n, r, s) {
    let l = s.parent.type.spec.code, o, u;
    if (!n && !e)
        return null;
    let f = !!e && (r || l || !n);
    if (f) {
        if (t.someProp("transformPastedText", v => {
            e = v(e, l || r, t)
        }
        ),
        l)
            return u = new ee(X.from(t.state.schema.text(e.replace(/\r\n?/g, `
`))),0,0),
            t.someProp("transformPasted", v => {
                u = v(u, t, !0)
            }
            ),
            u;
        let g = t.someProp("clipboardTextParser", v => v(e, s, r, t));
        if (g)
            u = g;
        else {
            let v = s.marks()
              , {schema: N} = t.state
              , y = Oi.fromSchema(N);
            o = document.createElement("div"),
            e.split(/(?:\r\n?|\n)+/).forEach(w => {
                let C = o.appendChild(document.createElement("p"));
                w && C.appendChild(y.serializeNode(N.text(w, v)))
            }
            )
        }
    } else
        t.someProp("transformPastedHTML", g => {
            n = g(n, t)
        }
        ),
        o = b9(n),
        Lo && y9(o);
    let p = o && o.querySelector("[data-pm-slice]")
      , m = p && /^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(p.getAttribute("data-pm-slice") || "");
    if (m && m[3])
        for (let g = +m[3]; g > 0; g--) {
            let v = o.firstChild;
            for (; v && v.nodeType != 1; )
                v = v.nextSibling;
            if (!v)
                break;
            o = v
        }
    if (u || (u = (t.someProp("clipboardParser") || t.someProp("domParser") || zs.fromSchema(t.state.schema)).parseSlice(o, {
        preserveWhitespace: !!(f || m),
        context: s,
        ruleFromNode(v) {
            return v.nodeName == "BR" && !v.nextSibling && v.parentNode && !m9.test(v.parentNode.nodeName) ? {
                ignore: !0
            } : null
        }
    })),
    m)
        u = v9(fv(u, +m[1], +m[2]), m[4]);
    else if (u = ee.maxOpen(g9(u.content, s), !0),
    u.openStart || u.openEnd) {
        let g = 0
          , v = 0;
        for (let N = u.content.firstChild; g < u.openStart && !N.type.spec.isolating; g++,
        N = N.firstChild)
            ;
        for (let N = u.content.lastChild; v < u.openEnd && !N.type.spec.isolating; v++,
        N = N.lastChild)
            ;
        u = fv(u, g, v)
    }
    return t.someProp("transformPasted", g => {
        u = g(u, t, f)
    }
    ),
    u
}
const m9 = /^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;
function g9(t, e) {
    if (t.childCount < 2)
        return t;
    for (let n = e.depth; n >= 0; n--) {
        let s = e.node(n).contentMatchAt(e.index(n)), l, o = [];
        if (t.forEach(u => {
            if (!o)
                return;
            let f = s.findWrapping(u.type), p;
            if (!f)
                return o = null;
            if (p = o.length && l.length && O4(f, l, u, o[o.length - 1], 0))
                o[o.length - 1] = p;
            else {
                o.length && (o[o.length - 1] = R4(o[o.length - 1], l.length));
                let m = M4(u, f);
                o.push(m),
                s = s.matchType(m.type),
                l = f
            }
        }
        ),
        o)
            return X.from(o)
    }
    return t
}
function M4(t, e, n=0) {
    for (let r = e.length - 1; r >= n; r--)
        t = e[r].create(null, X.from(t));
    return t
}
function O4(t, e, n, r, s) {
    if (s < t.length && s < e.length && t[s] == e[s]) {
        let l = O4(t, e, n, r.lastChild, s + 1);
        if (l)
            return r.copy(r.content.replaceChild(r.childCount - 1, l));
        if (r.contentMatchAt(r.childCount).matchType(s == t.length - 1 ? n.type : t[s + 1]))
            return r.copy(r.content.append(X.from(M4(n, t, s + 1))))
    }
}
function R4(t, e) {
    if (e == 0)
        return t;
    let n = t.content.replaceChild(t.childCount - 1, R4(t.lastChild, e - 1))
      , r = t.contentMatchAt(t.childCount).fillBefore(X.empty, !0);
    return t.copy(n.append(r))
}
function Xp(t, e, n, r, s, l) {
    let o = e < 0 ? t.firstChild : t.lastChild
      , u = o.content;
    return t.childCount > 1 && (l = 0),
    s < r - 1 && (u = Xp(u, e, n, r, s + 1, l)),
    s >= n && (u = e < 0 ? o.contentMatchAt(0).fillBefore(u, l <= s).append(u) : u.append(o.contentMatchAt(o.childCount).fillBefore(X.empty, !0))),
    t.replaceChild(e < 0 ? 0 : t.childCount - 1, o.copy(u))
}
function fv(t, e, n) {
    return e < t.openStart && (t = new ee(Xp(t.content, -1, e, t.openStart, 0, t.openEnd),e,t.openEnd)),
    n < t.openEnd && (t = new ee(Xp(t.content, 1, n, t.openEnd, 0, 0),t.openStart,n)),
    t
}
const z4 = {
    thead: ["table"],
    tbody: ["table"],
    tfoot: ["table"],
    caption: ["table"],
    colgroup: ["table"],
    col: ["table", "colgroup"],
    tr: ["table", "tbody"],
    td: ["table", "tbody", "tr"],
    th: ["table", "tbody", "tr"]
};
let hv = null;
function L4() {
    return hv || (hv = document.implementation.createHTMLDocument("title"))
}
let rp = null;
function x9(t) {
    let e = window.trustedTypes;
    return e ? (rp || (rp = e.defaultPolicy || e.createPolicy("ProseMirrorClipboard", {
        createHTML: n => n
    })),
    rp.createHTML(t)) : t
}
function b9(t) {
    let e = /^(\s*<meta [^>]*>)*/.exec(t);
    e && (t = t.slice(e[0].length));
    let n = L4().createElement("div"), r = /<([a-z][^>\s]+)/i.exec(t), s;
    if ((s = r && z4[r[1].toLowerCase()]) && (t = s.map(l => "<" + l + ">").join("") + t + s.map(l => "</" + l + ">").reverse().join("")),
    n.innerHTML = x9(t),
    s)
        for (let l = 0; l < s.length; l++)
            n = n.querySelector(s[l]) || n;
    return n
}
function y9(t) {
    let e = t.querySelectorAll(jt ? "span:not([class]):not([style])" : "span.Apple-converted-space");
    for (let n = 0; n < e.length; n++) {
        let r = e[n];
        r.childNodes.length == 1 && r.textContent == "" && r.parentNode && r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "), r)
    }
}
function v9(t, e) {
    if (!t.size)
        return t;
    let n = t.content.firstChild.type.schema, r;
    try {
        r = JSON.parse(e)
    } catch {
        return t
    }
    let {content: s, openStart: l, openEnd: o} = t;
    for (let u = r.length - 2; u >= 0; u -= 2) {
        let f = n.nodes[r[u]];
        if (!f || f.hasRequiredAttrs())
            break;
        s = X.from(f.create(r[u + 1], s)),
        l++,
        o++
    }
    return new ee(s,l,o)
}
const Yt = {}
  , Jt = {}
  , N9 = {
    touchstart: !0,
    touchmove: !0
};
class w9 {
    constructor() {
        this.shiftKey = !1,
        this.mouseDown = null,
        this.lastKeyCode = null,
        this.lastKeyCodeTime = 0,
        this.lastClick = {
            time: 0,
            x: 0,
            y: 0,
            type: "",
            button: 0
        },
        this.lastSelectionOrigin = null,
        this.lastSelectionTime = 0,
        this.lastIOSEnter = 0,
        this.lastIOSEnterFallbackTimeout = -1,
        this.lastFocus = 0,
        this.lastTouch = 0,
        this.lastChromeDelete = 0,
        this.composing = !1,
        this.compositionNode = null,
        this.composingTimeout = -1,
        this.compositionNodes = [],
        this.compositionEndedAt = -2e8,
        this.compositionID = 1,
        this.compositionPendingChanges = 0,
        this.domChangeCount = 0,
        this.eventHandlers = Object.create(null),
        this.hideSelectionGuard = null
    }
}
function C9(t) {
    for (let e in Yt) {
        let n = Yt[e];
        t.dom.addEventListener(e, t.input.eventHandlers[e] = r => {
            j9(t, r) && !Ym(t, r) && (t.editable || !(r.type in Jt)) && n(t, r)
        }
        , N9[e] ? {
            passive: !0
        } : void 0)
    }
    Ut && t.dom.addEventListener("input", () => null),
    Qp(t)
}
function Os(t, e) {
    t.input.lastSelectionOrigin = e,
    t.input.lastSelectionTime = Date.now()
}
function S9(t) {
    t.domObserver.stop();
    for (let e in t.input.eventHandlers)
        t.dom.removeEventListener(e, t.input.eventHandlers[e]);
    clearTimeout(t.input.composingTimeout),
    clearTimeout(t.input.lastIOSEnterFallbackTimeout)
}
function Qp(t) {
    t.someProp("handleDOMEvents", e => {
        for (let n in e)
            t.input.eventHandlers[n] || t.dom.addEventListener(n, t.input.eventHandlers[n] = r => Ym(t, r))
    }
    )
}
function Ym(t, e) {
    return t.someProp("handleDOMEvents", n => {
        let r = n[e.type];
        return r ? r(t, e) || e.defaultPrevented : !1
    }
    )
}
function j9(t, e) {
    if (!e.bubbles)
        return !0;
    if (e.defaultPrevented)
        return !1;
    for (let n = e.target; n != t.dom; n = n.parentNode)
        if (!n || n.nodeType == 11 || n.pmViewDesc && n.pmViewDesc.stopEvent(e))
            return !1;
    return !0
}
function E9(t, e) {
    !Ym(t, e) && Yt[e.type] && (t.editable || !(e.type in Jt)) && Yt[e.type](t, e)
}
Jt.keydown = (t, e) => {
    let n = e;
    if (t.input.shiftKey = n.keyCode == 16 || n.shiftKey,
    !F4(t, n) && (t.input.lastKeyCode = n.keyCode,
    t.input.lastKeyCodeTime = Date.now(),
    !(Ir && jt && n.keyCode == 13)))
        if (n.keyCode != 229 && t.domObserver.forceFlush(),
        zl && n.keyCode == 13 && !n.ctrlKey && !n.altKey && !n.metaKey) {
            let r = Date.now();
            t.input.lastIOSEnter = r,
            t.input.lastIOSEnterFallbackTimeout = setTimeout( () => {
                t.input.lastIOSEnter == r && (t.someProp("handleKeyDown", s => s(t, di(13, "Enter"))),
                t.input.lastIOSEnter = 0)
            }
            , 200)
        } else
            t.someProp("handleKeyDown", r => r(t, n)) || p9(t, n) ? n.preventDefault() : Os(t, "key")
}
;
Jt.keyup = (t, e) => {
    e.keyCode == 16 && (t.input.shiftKey = !1)
}
;
Jt.keypress = (t, e) => {
    let n = e;
    if (F4(t, n) || !n.charCode || n.ctrlKey && !n.altKey || Bn && n.metaKey)
        return;
    if (t.someProp("handleKeyPress", s => s(t, n))) {
        n.preventDefault();
        return
    }
    let r = t.state.selection;
    if (!(r instanceof ce) || !r.$from.sameParent(r.$to)) {
        let s = String.fromCharCode(n.charCode)
          , l = () => t.state.tr.insertText(s).scrollIntoView();
        !/[\r\n]/.test(s) && !t.someProp("handleTextInput", o => o(t, r.$from.pos, r.$to.pos, s, l)) && t.dispatch(l()),
        n.preventDefault()
    }
}
;
function Qd(t) {
    return {
        left: t.clientX,
        top: t.clientY
    }
}
function k9(t, e) {
    let n = e.x - t.clientX
      , r = e.y - t.clientY;
    return n * n + r * r < 100
}
function Jm(t, e, n, r, s) {
    if (r == -1)
        return !1;
    let l = t.state.doc.resolve(r);
    for (let o = l.depth + 1; o > 0; o--)
        if (t.someProp(e, u => o > l.depth ? u(t, n, l.nodeAfter, l.before(o), s, !0) : u(t, n, l.node(o), l.before(o), s, !1)))
            return !0;
    return !1
}
function _l(t, e, n) {
    if (t.focused || t.focus(),
    t.state.selection.eq(e))
        return;
    let r = t.state.tr.setSelection(e);
    r.setMeta("pointer", !0),
    t.dispatch(r)
}
function A9(t, e) {
    if (e == -1)
        return !1;
    let n = t.state.doc.resolve(e)
      , r = n.nodeAfter;
    return r && r.isAtom && ue.isSelectable(r) ? (_l(t, new ue(n)),
    !0) : !1
}
function _9(t, e) {
    if (e == -1)
        return !1;
    let n = t.state.selection, r, s;
    n instanceof ue && (r = n.node);
    let l = t.state.doc.resolve(e);
    for (let o = l.depth + 1; o > 0; o--) {
        let u = o > l.depth ? l.nodeAfter : l.node(o);
        if (ue.isSelectable(u)) {
            r && n.$from.depth > 0 && o >= n.$from.depth && l.before(n.$from.depth + 1) == n.$from.pos ? s = l.before(n.$from.depth) : s = l.before(o);
            break
        }
    }
    return s != null ? (_l(t, ue.create(t.state.doc, s)),
    !0) : !1
}
function T9(t, e, n, r, s) {
    return Jm(t, "handleClickOn", e, n, r) || t.someProp("handleClick", l => l(t, e, r)) || (s ? _9(t, n) : A9(t, n))
}
function D9(t, e, n, r) {
    return Jm(t, "handleDoubleClickOn", e, n, r) || t.someProp("handleDoubleClick", s => s(t, e, r))
}
function M9(t, e, n, r) {
    return Jm(t, "handleTripleClickOn", e, n, r) || t.someProp("handleTripleClick", s => s(t, e, r)) || O9(t, n, r)
}
function O9(t, e, n) {
    if (n.button != 0)
        return !1;
    let r = t.state.doc;
    if (e == -1)
        return r.inlineContent ? (_l(t, ce.create(r, 0, r.content.size)),
        !0) : !1;
    let s = r.resolve(e);
    for (let l = s.depth + 1; l > 0; l--) {
        let o = l > s.depth ? s.nodeAfter : s.node(l)
          , u = s.before(l);
        if (o.inlineContent)
            _l(t, ce.create(r, u + 1, u + 1 + o.content.size));
        else if (ue.isSelectable(o))
            _l(t, ue.create(r, u));
        else
            continue;
        return !0
    }
}
function Xm(t) {
    return Jc(t)
}
const B4 = Bn ? "metaKey" : "ctrlKey";
Yt.mousedown = (t, e) => {
    let n = e;
    t.input.shiftKey = n.shiftKey;
    let r = Xm(t)
      , s = Date.now()
      , l = "singleClick";
    s - t.input.lastClick.time < 500 && k9(n, t.input.lastClick) && !n[B4] && t.input.lastClick.button == n.button && (t.input.lastClick.type == "singleClick" ? l = "doubleClick" : t.input.lastClick.type == "doubleClick" && (l = "tripleClick")),
    t.input.lastClick = {
        time: s,
        x: n.clientX,
        y: n.clientY,
        type: l,
        button: n.button
    };
    let o = t.posAtCoords(Qd(n));
    o && (l == "singleClick" ? (t.input.mouseDown && t.input.mouseDown.done(),
    t.input.mouseDown = new R9(t,o,n,!!r)) : (l == "doubleClick" ? D9 : M9)(t, o.pos, o.inside, n) ? n.preventDefault() : Os(t, "pointer"))
}
;
class R9 {
    constructor(e, n, r, s) {
        this.view = e,
        this.pos = n,
        this.event = r,
        this.flushed = s,
        this.delayedSelectionSync = !1,
        this.mightDrag = null,
        this.startDoc = e.state.doc,
        this.selectNode = !!r[B4],
        this.allowDefault = r.shiftKey;
        let l, o;
        if (n.inside > -1)
            l = e.state.doc.nodeAt(n.inside),
            o = n.inside;
        else {
            let m = e.state.doc.resolve(n.pos);
            l = m.parent,
            o = m.depth ? m.before() : 0
        }
        const u = s ? null : r.target
          , f = u ? e.docView.nearestDesc(u, !0) : null;
        this.target = f && f.nodeDOM.nodeType == 1 ? f.nodeDOM : null;
        let {selection: p} = e.state;
        (r.button == 0 && l.type.spec.draggable && l.type.spec.selectable !== !1 || p instanceof ue && p.from <= o && p.to > o) && (this.mightDrag = {
            node: l,
            pos: o,
            addAttr: !!(this.target && !this.target.draggable),
            setUneditable: !!(this.target && Hn && !this.target.hasAttribute("contentEditable"))
        }),
        this.target && this.mightDrag && (this.mightDrag.addAttr || this.mightDrag.setUneditable) && (this.view.domObserver.stop(),
        this.mightDrag.addAttr && (this.target.draggable = !0),
        this.mightDrag.setUneditable && setTimeout( () => {
            this.view.input.mouseDown == this && this.target.setAttribute("contentEditable", "false")
        }
        , 20),
        this.view.domObserver.start()),
        e.root.addEventListener("mouseup", this.up = this.up.bind(this)),
        e.root.addEventListener("mousemove", this.move = this.move.bind(this)),
        Os(e, "pointer")
    }
    done() {
        this.view.root.removeEventListener("mouseup", this.up),
        this.view.root.removeEventListener("mousemove", this.move),
        this.mightDrag && this.target && (this.view.domObserver.stop(),
        this.mightDrag.addAttr && this.target.removeAttribute("draggable"),
        this.mightDrag.setUneditable && this.target.removeAttribute("contentEditable"),
        this.view.domObserver.start()),
        this.delayedSelectionSync && setTimeout( () => Vr(this.view)),
        this.view.input.mouseDown = null
    }
    up(e) {
        if (this.done(),
        !this.view.dom.contains(e.target))
            return;
        let n = this.pos;
        this.view.state.doc != this.startDoc && (n = this.view.posAtCoords(Qd(e))),
        this.updateAllowDefault(e),
        this.allowDefault || !n ? Os(this.view, "pointer") : T9(this.view, n.pos, n.inside, e, this.selectNode) ? e.preventDefault() : e.button == 0 && (this.flushed || Ut && this.mightDrag && !this.mightDrag.node.isAtom || jt && !this.view.state.selection.visible && Math.min(Math.abs(n.pos - this.view.state.selection.from), Math.abs(n.pos - this.view.state.selection.to)) <= 2) ? (_l(this.view, he.near(this.view.state.doc.resolve(n.pos))),
        e.preventDefault()) : Os(this.view, "pointer")
    }
    move(e) {
        this.updateAllowDefault(e),
        Os(this.view, "pointer"),
        e.buttons == 0 && this.done()
    }
    updateAllowDefault(e) {
        !this.allowDefault && (Math.abs(this.event.x - e.clientX) > 4 || Math.abs(this.event.y - e.clientY) > 4) && (this.allowDefault = !0)
    }
}
Yt.touchstart = t => {
    t.input.lastTouch = Date.now(),
    Xm(t),
    Os(t, "pointer")
}
;
Yt.touchmove = t => {
    t.input.lastTouch = Date.now(),
    Os(t, "pointer")
}
;
Yt.contextmenu = t => Xm(t);
function F4(t, e) {
    return t.composing ? !0 : Ut && Math.abs(e.timeStamp - t.input.compositionEndedAt) < 500 ? (t.input.compositionEndedAt = -2e8,
    !0) : !1
}
const z9 = Ir ? 5e3 : -1;
Jt.compositionstart = Jt.compositionupdate = t => {
    if (!t.composing) {
        t.domObserver.flush();
        let {state: e} = t
          , n = e.selection.$to;
        if (e.selection instanceof ce && (e.storedMarks || !n.textOffset && n.parentOffset && n.nodeBefore.marks.some(r => r.type.spec.inclusive === !1) || jt && m4 && L9(t)))
            t.markCursor = t.state.storedMarks || n.marks(),
            Jc(t, !0),
            t.markCursor = null;
        else if (Jc(t, !e.selection.empty),
        Hn && e.selection.empty && n.parentOffset && !n.textOffset && n.nodeBefore.marks.length) {
            let r = t.domSelectionRange();
            for (let s = r.focusNode, l = r.focusOffset; s && s.nodeType == 1 && l != 0; ) {
                let o = l < 0 ? s.lastChild : s.childNodes[l - 1];
                if (!o)
                    break;
                if (o.nodeType == 3) {
                    let u = t.domSelection();
                    u && u.collapse(o, o.nodeValue.length);
                    break
                } else
                    s = o,
                    l = -1
            }
        }
        t.input.composing = !0
    }
    H4(t, z9)
}
;
function L9(t) {
    let {focusNode: e, focusOffset: n} = t.domSelectionRange();
    if (!e || e.nodeType != 1 || n >= e.childNodes.length)
        return !1;
    let r = e.childNodes[n];
    return r.nodeType == 1 && r.contentEditable == "false"
}
Jt.compositionend = (t, e) => {
    t.composing && (t.input.composing = !1,
    t.input.compositionEndedAt = e.timeStamp,
    t.input.compositionPendingChanges = t.domObserver.pendingRecords().length ? t.input.compositionID : 0,
    t.input.compositionNode = null,
    t.input.compositionPendingChanges && Promise.resolve().then( () => t.domObserver.flush()),
    t.input.compositionID++,
    H4(t, 20))
}
;
function H4(t, e) {
    clearTimeout(t.input.composingTimeout),
    e > -1 && (t.input.composingTimeout = setTimeout( () => Jc(t), e))
}
function U4(t) {
    for (t.composing && (t.input.composing = !1,
    t.input.compositionEndedAt = F9()); t.input.compositionNodes.length > 0; )
        t.input.compositionNodes.pop().markParentsDirty()
}
function B9(t) {
    let e = t.domSelectionRange();
    if (!e.focusNode)
        return null;
    let n = _D(e.focusNode, e.focusOffset)
      , r = TD(e.focusNode, e.focusOffset);
    if (n && r && n != r) {
        let s = r.pmViewDesc
          , l = t.domObserver.lastChangedTextNode;
        if (n == l || r == l)
            return l;
        if (!s || !s.isText(r.nodeValue))
            return r;
        if (t.input.compositionNode == r) {
            let o = n.pmViewDesc;
            if (!(!o || !o.isText(n.nodeValue)))
                return r
        }
    }
    return n || r
}
function F9() {
    let t = document.createEvent("Event");
    return t.initEvent("event", !0, !0),
    t.timeStamp
}
function Jc(t, e=!1) {
    if (!(Ir && t.domObserver.flushingSoon >= 0)) {
        if (t.domObserver.forceFlush(),
        U4(t),
        e || t.docView && t.docView.dirty) {
            let n = Vm(t)
              , r = t.state.selection;
            return n && !n.eq(r) ? t.dispatch(t.state.tr.setSelection(n)) : (t.markCursor || e) && !r.$from.node(r.$from.sharedDepth(r.to)).inlineContent ? t.dispatch(t.state.tr.deleteSelection()) : t.updateState(t.state),
            !0
        }
        return !1
    }
}
function H9(t, e) {
    if (!t.dom.parentNode)
        return;
    let n = t.dom.parentNode.appendChild(document.createElement("div"));
    n.appendChild(e),
    n.style.cssText = "position: fixed; left: -10000px; top: 10px";
    let r = getSelection()
      , s = document.createRange();
    s.selectNodeContents(e),
    t.dom.blur(),
    r.removeAllRanges(),
    r.addRange(s),
    setTimeout( () => {
        n.parentNode && n.parentNode.removeChild(n),
        t.focus()
    }
    , 50)
}
const po = on && Ls < 15 || zl && RD < 604;
Yt.copy = Jt.cut = (t, e) => {
    let n = e
      , r = t.state.selection
      , s = n.type == "cut";
    if (r.empty)
        return;
    let l = po ? null : n.clipboardData
      , o = r.content()
      , {dom: u, text: f} = Km(t, o);
    l ? (n.preventDefault(),
    l.clearData(),
    l.setData("text/html", u.innerHTML),
    l.setData("text/plain", f)) : H9(t, u),
    s && t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent", "cut"))
}
;
function U9(t) {
    return t.openStart == 0 && t.openEnd == 0 && t.content.childCount == 1 ? t.content.firstChild : null
}
function q9(t, e) {
    if (!t.dom.parentNode)
        return;
    let n = t.input.shiftKey || t.state.selection.$from.parent.type.spec.code
      , r = t.dom.parentNode.appendChild(document.createElement(n ? "textarea" : "div"));
    n || (r.contentEditable = "true"),
    r.style.cssText = "position: fixed; left: -10000px; top: 10px",
    r.focus();
    let s = t.input.shiftKey && t.input.lastKeyCode != 45;
    setTimeout( () => {
        t.focus(),
        r.parentNode && r.parentNode.removeChild(r),
        n ? mo(t, r.value, null, s, e) : mo(t, r.textContent, r.innerHTML, s, e)
    }
    , 50)
}
function mo(t, e, n, r, s) {
    let l = D4(t, e, n, r, t.state.selection.$from);
    if (t.someProp("handlePaste", f => f(t, s, l || ee.empty)))
        return !0;
    if (!l)
        return !1;
    let o = U9(l)
      , u = o ? t.state.tr.replaceSelectionWith(o, r) : t.state.tr.replaceSelection(l);
    return t.dispatch(u.scrollIntoView().setMeta("paste", !0).setMeta("uiEvent", "paste")),
    !0
}
function q4(t) {
    let e = t.getData("text/plain") || t.getData("Text");
    if (e)
        return e;
    let n = t.getData("text/uri-list");
    return n ? n.replace(/\r?\n/g, " ") : ""
}
Jt.paste = (t, e) => {
    let n = e;
    if (t.composing && !Ir)
        return;
    let r = po ? null : n.clipboardData
      , s = t.input.shiftKey && t.input.lastKeyCode != 45;
    r && mo(t, q4(r), r.getData("text/html"), s, n) ? n.preventDefault() : q9(t, n)
}
;
class I4 {
    constructor(e, n, r) {
        this.slice = e,
        this.move = n,
        this.node = r
    }
}
const I9 = Bn ? "altKey" : "ctrlKey";
function $4(t, e) {
    let n = t.someProp("dragCopies", r => !r(e));
    return n ?? !e[I9]
}
Yt.dragstart = (t, e) => {
    let n = e
      , r = t.input.mouseDown;
    if (r && r.done(),
    !n.dataTransfer)
        return;
    let s = t.state.selection, l = s.empty ? null : t.posAtCoords(Qd(n)), o;
    if (!(l && l.pos >= s.from && l.pos <= (s instanceof ue ? s.to - 1 : s.to))) {
        if (r && r.mightDrag)
            o = ue.create(t.state.doc, r.mightDrag.pos);
        else if (n.target && n.target.nodeType == 1) {
            let g = t.docView.nearestDesc(n.target, !0);
            g && g.node.type.spec.draggable && g != t.docView && (o = ue.create(t.state.doc, g.posBefore))
        }
    }
    let u = (o || t.state.selection).content()
      , {dom: f, text: p, slice: m} = Km(t, u);
    (!n.dataTransfer.files.length || !jt || p4 > 120) && n.dataTransfer.clearData(),
    n.dataTransfer.setData(po ? "Text" : "text/html", f.innerHTML),
    n.dataTransfer.effectAllowed = "copyMove",
    po || n.dataTransfer.setData("text/plain", p),
    t.dragging = new I4(m,$4(t, n),o)
}
;
Yt.dragend = t => {
    let e = t.dragging;
    window.setTimeout( () => {
        t.dragging == e && (t.dragging = null)
    }
    , 50)
}
;
Jt.dragover = Jt.dragenter = (t, e) => e.preventDefault();
Jt.drop = (t, e) => {
    try {
        $9(t, e, t.dragging)
    } finally {
        t.dragging = null
    }
}
;
function $9(t, e, n) {
    if (!e.dataTransfer)
        return;
    let r = t.posAtCoords(Qd(e));
    if (!r)
        return;
    let s = t.state.doc.resolve(r.pos)
      , l = n && n.slice;
    l ? t.someProp("transformPasted", N => {
        l = N(l, t, !1)
    }
    ) : l = D4(t, q4(e.dataTransfer), po ? null : e.dataTransfer.getData("text/html"), !1, s);
    let o = !!(n && $4(t, e));
    if (t.someProp("handleDrop", N => N(t, e, l || ee.empty, o))) {
        e.preventDefault();
        return
    }
    if (!l)
        return;
    e.preventDefault();
    let u = l ? i4(t.state.doc, s.pos, l) : s.pos;
    u == null && (u = s.pos);
    let f = t.state.tr;
    if (o) {
        let {node: N} = n;
        N ? N.replace(f) : f.deleteSelection()
    }
    let p = f.mapping.map(u)
      , m = l.openStart == 0 && l.openEnd == 0 && l.content.childCount == 1
      , g = f.doc;
    if (m ? f.replaceRangeWith(p, p, l.content.firstChild) : f.replaceRange(p, p, l),
    f.doc.eq(g))
        return;
    let v = f.doc.resolve(p);
    if (m && ue.isSelectable(l.content.firstChild) && v.nodeAfter && v.nodeAfter.sameMarkup(l.content.firstChild))
        f.setSelection(new ue(v));
    else {
        let N = f.mapping.map(u);
        f.mapping.maps[f.mapping.maps.length - 1].forEach( (y, w, C, E) => N = E),
        f.setSelection(Gm(t, v, f.doc.resolve(N)))
    }
    t.focus(),
    t.dispatch(f.setMeta("uiEvent", "drop"))
}
Yt.focus = t => {
    t.input.lastFocus = Date.now(),
    t.focused || (t.domObserver.stop(),
    t.dom.classList.add("ProseMirror-focused"),
    t.domObserver.start(),
    t.focused = !0,
    setTimeout( () => {
        t.docView && t.hasFocus() && !t.domObserver.currentSelection.eq(t.domSelectionRange()) && Vr(t)
    }
    , 20))
}
;
Yt.blur = (t, e) => {
    let n = e;
    t.focused && (t.domObserver.stop(),
    t.dom.classList.remove("ProseMirror-focused"),
    t.domObserver.start(),
    n.relatedTarget && t.dom.contains(n.relatedTarget) && t.domObserver.currentSelection.clear(),
    t.focused = !1)
}
;
Yt.beforeinput = (t, e) => {
    if (jt && Ir && e.inputType == "deleteContentBackward") {
        t.domObserver.flushSoon();
        let {domChangeCount: r} = t.input;
        setTimeout( () => {
            if (t.input.domChangeCount != r || (t.dom.blur(),
            t.focus(),
            t.someProp("handleKeyDown", l => l(t, di(8, "Backspace")))))
                return;
            let {$cursor: s} = t.state.selection;
            s && s.pos > 0 && t.dispatch(t.state.tr.delete(s.pos - 1, s.pos).scrollIntoView())
        }
        , 50)
    }
}
;
for (let t in Jt)
    Yt[t] = Jt[t];
function go(t, e) {
    if (t == e)
        return !0;
    for (let n in t)
        if (t[n] !== e[n])
            return !1;
    for (let n in e)
        if (!(n in t))
            return !1;
    return !0
}
class Xc {
    constructor(e, n) {
        this.toDOM = e,
        this.spec = n || Ni,
        this.side = this.spec.side || 0
    }
    map(e, n, r, s) {
        let {pos: l, deleted: o} = e.mapResult(n.from + s, this.side < 0 ? -1 : 1);
        return o ? null : new Kt(l - r,l - r,this)
    }
    valid() {
        return !0
    }
    eq(e) {
        return this == e || e instanceof Xc && (this.spec.key && this.spec.key == e.spec.key || this.toDOM == e.toDOM && go(this.spec, e.spec))
    }
    destroy(e) {
        this.spec.destroy && this.spec.destroy(e)
    }
}
class Fs {
    constructor(e, n) {
        this.attrs = e,
        this.spec = n || Ni
    }
    map(e, n, r, s) {
        let l = e.map(n.from + s, this.spec.inclusiveStart ? -1 : 1) - r
          , o = e.map(n.to + s, this.spec.inclusiveEnd ? 1 : -1) - r;
        return l >= o ? null : new Kt(l,o,this)
    }
    valid(e, n) {
        return n.from < n.to
    }
    eq(e) {
        return this == e || e instanceof Fs && go(this.attrs, e.attrs) && go(this.spec, e.spec)
    }
    static is(e) {
        return e.type instanceof Fs
    }
    destroy() {}
}
class Qm {
    constructor(e, n) {
        this.attrs = e,
        this.spec = n || Ni
    }
    map(e, n, r, s) {
        let l = e.mapResult(n.from + s, 1);
        if (l.deleted)
            return null;
        let o = e.mapResult(n.to + s, -1);
        return o.deleted || o.pos <= l.pos ? null : new Kt(l.pos - r,o.pos - r,this)
    }
    valid(e, n) {
        let {index: r, offset: s} = e.content.findIndex(n.from), l;
        return s == n.from && !(l = e.child(r)).isText && s + l.nodeSize == n.to
    }
    eq(e) {
        return this == e || e instanceof Qm && go(this.attrs, e.attrs) && go(this.spec, e.spec)
    }
    destroy() {}
}
class Kt {
    constructor(e, n, r) {
        this.from = e,
        this.to = n,
        this.type = r
    }
    copy(e, n) {
        return new Kt(e,n,this.type)
    }
    eq(e, n=0) {
        return this.type.eq(e.type) && this.from + n == e.from && this.to + n == e.to
    }
    map(e, n, r) {
        return this.type.map(e, this, n, r)
    }
    static widget(e, n, r) {
        return new Kt(e,e,new Xc(n,r))
    }
    static inline(e, n, r, s) {
        return new Kt(e,n,new Fs(r,s))
    }
    static node(e, n, r, s) {
        return new Kt(e,n,new Qm(r,s))
    }
    get spec() {
        return this.type.spec
    }
    get inline() {
        return this.type instanceof Fs
    }
    get widget() {
        return this.type instanceof Xc
    }
}
const Cl = []
  , Ni = {};
class st {
    constructor(e, n) {
        this.local = e.length ? e : Cl,
        this.children = n.length ? n : Cl
    }
    static create(e, n) {
        return n.length ? Qc(n, e, 0, Ni) : Ft
    }
    find(e, n, r) {
        let s = [];
        return this.findInner(e ?? 0, n ?? 1e9, s, 0, r),
        s
    }
    findInner(e, n, r, s, l) {
        for (let o = 0; o < this.local.length; o++) {
            let u = this.local[o];
            u.from <= n && u.to >= e && (!l || l(u.spec)) && r.push(u.copy(u.from + s, u.to + s))
        }
        for (let o = 0; o < this.children.length; o += 3)
            if (this.children[o] < n && this.children[o + 1] > e) {
                let u = this.children[o] + 1;
                this.children[o + 2].findInner(e - u, n - u, r, s + u, l)
            }
    }
    map(e, n, r) {
        return this == Ft || e.maps.length == 0 ? this : this.mapInner(e, n, 0, 0, r || Ni)
    }
    mapInner(e, n, r, s, l) {
        let o;
        for (let u = 0; u < this.local.length; u++) {
            let f = this.local[u].map(e, r, s);
            f && f.type.valid(n, f) ? (o || (o = [])).push(f) : l.onRemove && l.onRemove(this.local[u].spec)
        }
        return this.children.length ? P9(this.children, o || [], e, n, r, s, l) : o ? new st(o.sort(wi),Cl) : Ft
    }
    add(e, n) {
        return n.length ? this == Ft ? st.create(e, n) : this.addInner(e, n, 0) : this
    }
    addInner(e, n, r) {
        let s, l = 0;
        e.forEach( (u, f) => {
            let p = f + r, m;
            if (m = V4(n, u, p)) {
                for (s || (s = this.children.slice()); l < s.length && s[l] < f; )
                    l += 3;
                s[l] == f ? s[l + 2] = s[l + 2].addInner(u, m, p + 1) : s.splice(l, 0, f, f + u.nodeSize, Qc(m, u, p + 1, Ni)),
                l += 3
            }
        }
        );
        let o = P4(l ? G4(n) : n, -r);
        for (let u = 0; u < o.length; u++)
            o[u].type.valid(e, o[u]) || o.splice(u--, 1);
        return new st(o.length ? this.local.concat(o).sort(wi) : this.local,s || this.children)
    }
    remove(e) {
        return e.length == 0 || this == Ft ? this : this.removeInner(e, 0)
    }
    removeInner(e, n) {
        let r = this.children
          , s = this.local;
        for (let l = 0; l < r.length; l += 3) {
            let o, u = r[l] + n, f = r[l + 1] + n;
            for (let m = 0, g; m < e.length; m++)
                (g = e[m]) && g.from > u && g.to < f && (e[m] = null,
                (o || (o = [])).push(g));
            if (!o)
                continue;
            r == this.children && (r = this.children.slice());
            let p = r[l + 2].removeInner(o, u + 1);
            p != Ft ? r[l + 2] = p : (r.splice(l, 3),
            l -= 3)
        }
        if (s.length) {
            for (let l = 0, o; l < e.length; l++)
                if (o = e[l])
                    for (let u = 0; u < s.length; u++)
                        s[u].eq(o, n) && (s == this.local && (s = this.local.slice()),
                        s.splice(u--, 1))
        }
        return r == this.children && s == this.local ? this : s.length || r.length ? new st(s,r) : Ft
    }
    forChild(e, n) {
        if (this == Ft)
            return this;
        if (n.isLeaf)
            return st.empty;
        let r, s;
        for (let u = 0; u < this.children.length; u += 3)
            if (this.children[u] >= e) {
                this.children[u] == e && (r = this.children[u + 2]);
                break
            }
        let l = e + 1
          , o = l + n.content.size;
        for (let u = 0; u < this.local.length; u++) {
            let f = this.local[u];
            if (f.from < o && f.to > l && f.type instanceof Fs) {
                let p = Math.max(l, f.from) - l
                  , m = Math.min(o, f.to) - l;
                p < m && (s || (s = [])).push(f.copy(p, m))
            }
        }
        if (s) {
            let u = new st(s.sort(wi),Cl);
            return r ? new ks([u, r]) : u
        }
        return r || Ft
    }
    eq(e) {
        if (this == e)
            return !0;
        if (!(e instanceof st) || this.local.length != e.local.length || this.children.length != e.children.length)
            return !1;
        for (let n = 0; n < this.local.length; n++)
            if (!this.local[n].eq(e.local[n]))
                return !1;
        for (let n = 0; n < this.children.length; n += 3)
            if (this.children[n] != e.children[n] || this.children[n + 1] != e.children[n + 1] || !this.children[n + 2].eq(e.children[n + 2]))
                return !1;
        return !0
    }
    locals(e) {
        return Zm(this.localsInner(e))
    }
    localsInner(e) {
        if (this == Ft)
            return Cl;
        if (e.inlineContent || !this.local.some(Fs.is))
            return this.local;
        let n = [];
        for (let r = 0; r < this.local.length; r++)
            this.local[r].type instanceof Fs || n.push(this.local[r]);
        return n
    }
    forEachSet(e) {
        e(this)
    }
}
st.empty = new st([],[]);
st.removeOverlap = Zm;
const Ft = st.empty;
class ks {
    constructor(e) {
        this.members = e
    }
    map(e, n) {
        const r = this.members.map(s => s.map(e, n, Ni));
        return ks.from(r)
    }
    forChild(e, n) {
        if (n.isLeaf)
            return st.empty;
        let r = [];
        for (let s = 0; s < this.members.length; s++) {
            let l = this.members[s].forChild(e, n);
            l != Ft && (l instanceof ks ? r = r.concat(l.members) : r.push(l))
        }
        return ks.from(r)
    }
    eq(e) {
        if (!(e instanceof ks) || e.members.length != this.members.length)
            return !1;
        for (let n = 0; n < this.members.length; n++)
            if (!this.members[n].eq(e.members[n]))
                return !1;
        return !0
    }
    locals(e) {
        let n, r = !0;
        for (let s = 0; s < this.members.length; s++) {
            let l = this.members[s].localsInner(e);
            if (l.length)
                if (!n)
                    n = l;
                else {
                    r && (n = n.slice(),
                    r = !1);
                    for (let o = 0; o < l.length; o++)
                        n.push(l[o])
                }
        }
        return n ? Zm(r ? n : n.sort(wi)) : Cl
    }
    static from(e) {
        switch (e.length) {
        case 0:
            return Ft;
        case 1:
            return e[0];
        default:
            return new ks(e.every(n => n instanceof st) ? e : e.reduce( (n, r) => n.concat(r instanceof st ? r : r.members), []))
        }
    }
    forEachSet(e) {
        for (let n = 0; n < this.members.length; n++)
            this.members[n].forEachSet(e)
    }
}
function P9(t, e, n, r, s, l, o) {
    let u = t.slice();
    for (let p = 0, m = l; p < n.maps.length; p++) {
        let g = 0;
        n.maps[p].forEach( (v, N, y, w) => {
            let C = w - y - (N - v);
            for (let E = 0; E < u.length; E += 3) {
                let A = u[E + 1];
                if (A < 0 || v > A + m - g)
                    continue;
                let _ = u[E] + m - g;
                N >= _ ? u[E + 1] = v <= _ ? -2 : -1 : v >= m && C && (u[E] += C,
                u[E + 1] += C)
            }
            g += C
        }
        ),
        m = n.maps[p].map(m, -1)
    }
    let f = !1;
    for (let p = 0; p < u.length; p += 3)
        if (u[p + 1] < 0) {
            if (u[p + 1] == -2) {
                f = !0,
                u[p + 1] = -1;
                continue
            }
            let m = n.map(t[p] + l)
              , g = m - s;
            if (g < 0 || g >= r.content.size) {
                f = !0;
                continue
            }
            let v = n.map(t[p + 1] + l, -1)
              , N = v - s
              , {index: y, offset: w} = r.content.findIndex(g)
              , C = r.maybeChild(y);
            if (C && w == g && w + C.nodeSize == N) {
                let E = u[p + 2].mapInner(n, C, m + 1, t[p] + l + 1, o);
                E != Ft ? (u[p] = g,
                u[p + 1] = N,
                u[p + 2] = E) : (u[p + 1] = -2,
                f = !0)
            } else
                f = !0
        }
    if (f) {
        let p = V9(u, t, e, n, s, l, o)
          , m = Qc(p, r, 0, o);
        e = m.local;
        for (let g = 0; g < u.length; g += 3)
            u[g + 1] < 0 && (u.splice(g, 3),
            g -= 3);
        for (let g = 0, v = 0; g < m.children.length; g += 3) {
            let N = m.children[g];
            for (; v < u.length && u[v] < N; )
                v += 3;
            u.splice(v, 0, m.children[g], m.children[g + 1], m.children[g + 2])
        }
    }
    return new st(e.sort(wi),u)
}
function P4(t, e) {
    if (!e || !t.length)
        return t;
    let n = [];
    for (let r = 0; r < t.length; r++) {
        let s = t[r];
        n.push(new Kt(s.from + e,s.to + e,s.type))
    }
    return n
}
function V9(t, e, n, r, s, l, o) {
    function u(f, p) {
        for (let m = 0; m < f.local.length; m++) {
            let g = f.local[m].map(r, s, p);
            g ? n.push(g) : o.onRemove && o.onRemove(f.local[m].spec)
        }
        for (let m = 0; m < f.children.length; m += 3)
            u(f.children[m + 2], f.children[m] + p + 1)
    }
    for (let f = 0; f < t.length; f += 3)
        t[f + 1] == -1 && u(t[f + 2], e[f] + l + 1);
    return n
}
function V4(t, e, n) {
    if (e.isLeaf)
        return null;
    let r = n + e.nodeSize
      , s = null;
    for (let l = 0, o; l < t.length; l++)
        (o = t[l]) && o.from > n && o.to < r && ((s || (s = [])).push(o),
        t[l] = null);
    return s
}
function G4(t) {
    let e = [];
    for (let n = 0; n < t.length; n++)
        t[n] != null && e.push(t[n]);
    return e
}
function Qc(t, e, n, r) {
    let s = []
      , l = !1;
    e.forEach( (u, f) => {
        let p = V4(t, u, f + n);
        if (p) {
            l = !0;
            let m = Qc(p, u, n + f + 1, r);
            m != Ft && s.push(f, f + u.nodeSize, m)
        }
    }
    );
    let o = P4(l ? G4(t) : t, -n).sort(wi);
    for (let u = 0; u < o.length; u++)
        o[u].type.valid(e, o[u]) || (r.onRemove && r.onRemove(o[u].spec),
        o.splice(u--, 1));
    return o.length || s.length ? new st(o,s) : Ft
}
function wi(t, e) {
    return t.from - e.from || t.to - e.to
}
function Zm(t) {
    let e = t;
    for (let n = 0; n < e.length - 1; n++) {
        let r = e[n];
        if (r.from != r.to)
            for (let s = n + 1; s < e.length; s++) {
                let l = e[s];
                if (l.from == r.from) {
                    l.to != r.to && (e == t && (e = t.slice()),
                    e[s] = l.copy(l.from, r.to),
                    pv(e, s + 1, l.copy(r.to, l.to)));
                    continue
                } else {
                    l.from < r.to && (e == t && (e = t.slice()),
                    e[n] = r.copy(r.from, l.from),
                    pv(e, s, r.copy(l.from, r.to)));
                    break
                }
            }
    }
    return e
}
function pv(t, e, n) {
    for (; e < t.length && wi(n, t[e]) > 0; )
        e++;
    t.splice(e, 0, n)
}
function sp(t) {
    let e = [];
    return t.someProp("decorations", n => {
        let r = n(t.state);
        r && r != Ft && e.push(r)
    }
    ),
    t.cursorWrapper && e.push(st.create(t.state.doc, [t.cursorWrapper.deco])),
    ks.from(e)
}
const G9 = {
    childList: !0,
    characterData: !0,
    characterDataOldValue: !0,
    attributes: !0,
    attributeOldValue: !0,
    subtree: !0
}
  , K9 = on && Ls <= 11;
class Y9 {
    constructor() {
        this.anchorNode = null,
        this.anchorOffset = 0,
        this.focusNode = null,
        this.focusOffset = 0
    }
    set(e) {
        this.anchorNode = e.anchorNode,
        this.anchorOffset = e.anchorOffset,
        this.focusNode = e.focusNode,
        this.focusOffset = e.focusOffset
    }
    clear() {
        this.anchorNode = this.focusNode = null
    }
    eq(e) {
        return e.anchorNode == this.anchorNode && e.anchorOffset == this.anchorOffset && e.focusNode == this.focusNode && e.focusOffset == this.focusOffset
    }
}
class J9 {
    constructor(e, n) {
        this.view = e,
        this.handleDOMChange = n,
        this.queue = [],
        this.flushingSoon = -1,
        this.observer = null,
        this.currentSelection = new Y9,
        this.onCharData = null,
        this.suppressingSelectionUpdates = !1,
        this.lastChangedTextNode = null,
        this.observer = window.MutationObserver && new window.MutationObserver(r => {
            for (let s = 0; s < r.length; s++)
                this.queue.push(r[s]);
            on && Ls <= 11 && r.some(s => s.type == "childList" && s.removedNodes.length || s.type == "characterData" && s.oldValue.length > s.target.nodeValue.length) ? this.flushSoon() : this.flush()
        }
        ),
        K9 && (this.onCharData = r => {
            this.queue.push({
                target: r.target,
                type: "characterData",
                oldValue: r.prevValue
            }),
            this.flushSoon()
        }
        ),
        this.onSelectionChange = this.onSelectionChange.bind(this)
    }
    flushSoon() {
        this.flushingSoon < 0 && (this.flushingSoon = window.setTimeout( () => {
            this.flushingSoon = -1,
            this.flush()
        }
        , 20))
    }
    forceFlush() {
        this.flushingSoon > -1 && (window.clearTimeout(this.flushingSoon),
        this.flushingSoon = -1,
        this.flush())
    }
    start() {
        this.observer && (this.observer.takeRecords(),
        this.observer.observe(this.view.dom, G9)),
        this.onCharData && this.view.dom.addEventListener("DOMCharacterDataModified", this.onCharData),
        this.connectSelection()
    }
    stop() {
        if (this.observer) {
            let e = this.observer.takeRecords();
            if (e.length) {
                for (let n = 0; n < e.length; n++)
                    this.queue.push(e[n]);
                window.setTimeout( () => this.flush(), 20)
            }
            this.observer.disconnect()
        }
        this.onCharData && this.view.dom.removeEventListener("DOMCharacterDataModified", this.onCharData),
        this.disconnectSelection()
    }
    connectSelection() {
        this.view.dom.ownerDocument.addEventListener("selectionchange", this.onSelectionChange)
    }
    disconnectSelection() {
        this.view.dom.ownerDocument.removeEventListener("selectionchange", this.onSelectionChange)
    }
    suppressSelectionUpdates() {
        this.suppressingSelectionUpdates = !0,
        setTimeout( () => this.suppressingSelectionUpdates = !1, 50)
    }
    onSelectionChange() {
        if (lv(this.view)) {
            if (this.suppressingSelectionUpdates)
                return Vr(this.view);
            if (on && Ls <= 11 && !this.view.state.selection.empty) {
                let e = this.view.domSelectionRange();
                if (e.focusNode && ki(e.focusNode, e.focusOffset, e.anchorNode, e.anchorOffset))
                    return this.flushSoon()
            }
            this.flush()
        }
    }
    setCurSelection() {
        this.currentSelection.set(this.view.domSelectionRange())
    }
    ignoreSelectionChange(e) {
        if (!e.focusNode)
            return !0;
        let n = new Set, r;
        for (let l = e.focusNode; l; l = Rl(l))
            n.add(l);
        for (let l = e.anchorNode; l; l = Rl(l))
            if (n.has(l)) {
                r = l;
                break
            }
        let s = r && this.view.docView.nearestDesc(r);
        if (s && s.ignoreMutation({
            type: "selection",
            target: r.nodeType == 3 ? r.parentNode : r
        }))
            return this.setCurSelection(),
            !0
    }
    pendingRecords() {
        if (this.observer)
            for (let e of this.observer.takeRecords())
                this.queue.push(e);
        return this.queue
    }
    flush() {
        let {view: e} = this;
        if (!e.docView || this.flushingSoon > -1)
            return;
        let n = this.pendingRecords();
        n.length && (this.queue = []);
        let r = e.domSelectionRange()
          , s = !this.suppressingSelectionUpdates && !this.currentSelection.eq(r) && lv(e) && !this.ignoreSelectionChange(r)
          , l = -1
          , o = -1
          , u = !1
          , f = [];
        if (e.editable)
            for (let m = 0; m < n.length; m++) {
                let g = this.registerMutation(n[m], f);
                g && (l = l < 0 ? g.from : Math.min(g.from, l),
                o = o < 0 ? g.to : Math.max(g.to, o),
                g.typeOver && (u = !0))
            }
        if (Hn && f.length) {
            let m = f.filter(g => g.nodeName == "BR");
            if (m.length == 2) {
                let[g,v] = m;
                g.parentNode && g.parentNode.parentNode == v.parentNode ? v.remove() : g.remove()
            } else {
                let {focusNode: g} = this.currentSelection;
                for (let v of m) {
                    let N = v.parentNode;
                    N && N.nodeName == "LI" && (!g || Z9(e, g) != N) && v.remove()
                }
            }
        } else if ((jt || Ut) && f.some(m => m.nodeName == "BR") && (e.input.lastKeyCode == 8 || e.input.lastKeyCode == 46)) {
            for (let m of f)
                if (m.nodeName == "BR" && m.parentNode) {
                    let g = m.nextSibling;
                    g && g.nodeType == 1 && g.contentEditable == "false" && m.parentNode.removeChild(m)
                }
        }
        let p = null;
        l < 0 && s && e.input.lastFocus > Date.now() - 200 && Math.max(e.input.lastTouch, e.input.lastClick.time) < Date.now() - 300 && Jd(r) && (p = Vm(e)) && p.eq(he.near(e.state.doc.resolve(0), 1)) ? (e.input.lastFocus = 0,
        Vr(e),
        this.currentSelection.set(r),
        e.scrollToSelection()) : (l > -1 || s) && (l > -1 && (e.docView.markDirty(l, o),
        X9(e)),
        this.handleDOMChange(l, o, u, f),
        e.docView && e.docView.dirty ? e.updateState(e.state) : this.currentSelection.eq(r) || Vr(e),
        this.currentSelection.set(r))
    }
    registerMutation(e, n) {
        if (n.indexOf(e.target) > -1)
            return null;
        let r = this.view.docView.nearestDesc(e.target);
        if (e.type == "attributes" && (r == this.view.docView || e.attributeName == "contenteditable" || e.attributeName == "style" && !e.oldValue && !e.target.getAttribute("style")) || !r || r.ignoreMutation(e))
            return null;
        if (e.type == "childList") {
            for (let m = 0; m < e.addedNodes.length; m++) {
                let g = e.addedNodes[m];
                n.push(g),
                g.nodeType == 3 && (this.lastChangedTextNode = g)
            }
            if (r.contentDOM && r.contentDOM != r.dom && !r.contentDOM.contains(e.target))
                return {
                    from: r.posBefore,
                    to: r.posAfter
                };
            let s = e.previousSibling
              , l = e.nextSibling;
            if (on && Ls <= 11 && e.addedNodes.length)
                for (let m = 0; m < e.addedNodes.length; m++) {
                    let {previousSibling: g, nextSibling: v} = e.addedNodes[m];
                    (!g || Array.prototype.indexOf.call(e.addedNodes, g) < 0) && (s = g),
                    (!v || Array.prototype.indexOf.call(e.addedNodes, v) < 0) && (l = v)
                }
            let o = s && s.parentNode == e.target ? zt(s) + 1 : 0
              , u = r.localPosFromDOM(e.target, o, -1)
              , f = l && l.parentNode == e.target ? zt(l) : e.target.childNodes.length
              , p = r.localPosFromDOM(e.target, f, 1);
            return {
                from: u,
                to: p
            }
        } else
            return e.type == "attributes" ? {
                from: r.posAtStart - r.border,
                to: r.posAtEnd + r.border
            } : (this.lastChangedTextNode = e.target,
            {
                from: r.posAtStart,
                to: r.posAtEnd,
                typeOver: e.target.nodeValue == e.oldValue
            })
    }
}
let mv = new WeakMap
  , gv = !1;
function X9(t) {
    if (!mv.has(t) && (mv.set(t, null),
    ["normal", "nowrap", "pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace) !== -1)) {
        if (t.requiresGeckoHackNode = Hn,
        gv)
            return;
        console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),
        gv = !0
    }
}
function xv(t, e) {
    let n = e.startContainer
      , r = e.startOffset
      , s = e.endContainer
      , l = e.endOffset
      , o = t.domAtPos(t.state.selection.anchor);
    return ki(o.node, o.offset, s, l) && ([n,r,s,l] = [s, l, n, r]),
    {
        anchorNode: n,
        anchorOffset: r,
        focusNode: s,
        focusOffset: l
    }
}
function Q9(t, e) {
    if (e.getComposedRanges) {
        let s = e.getComposedRanges(t.root)[0];
        if (s)
            return xv(t, s)
    }
    let n;
    function r(s) {
        s.preventDefault(),
        s.stopImmediatePropagation(),
        n = s.getTargetRanges()[0]
    }
    return t.dom.addEventListener("beforeinput", r, !0),
    document.execCommand("indent"),
    t.dom.removeEventListener("beforeinput", r, !0),
    n ? xv(t, n) : null
}
function Z9(t, e) {
    for (let n = e.parentNode; n && n != t.dom; n = n.parentNode) {
        let r = t.docView.nearestDesc(n, !0);
        if (r && r.node.isBlock)
            return n
    }
    return null
}
function W9(t, e, n) {
    let {node: r, fromOffset: s, toOffset: l, from: o, to: u} = t.docView.parseRange(e, n), f = t.domSelectionRange(), p, m = f.anchorNode;
    if (m && t.dom.contains(m.nodeType == 1 ? m : m.parentNode) && (p = [{
        node: m,
        offset: f.anchorOffset
    }],
    Jd(f) || p.push({
        node: f.focusNode,
        offset: f.focusOffset
    })),
    jt && t.input.lastKeyCode === 8)
        for (let C = l; C > s; C--) {
            let E = r.childNodes[C - 1]
              , A = E.pmViewDesc;
            if (E.nodeName == "BR" && !A) {
                l = C;
                break
            }
            if (!A || A.size)
                break
        }
    let g = t.state.doc
      , v = t.someProp("domParser") || zs.fromSchema(t.state.schema)
      , N = g.resolve(o)
      , y = null
      , w = v.parse(r, {
        topNode: N.parent,
        topMatch: N.parent.contentMatchAt(N.index()),
        topOpen: !0,
        from: s,
        to: l,
        preserveWhitespace: N.parent.type.whitespace == "pre" ? "full" : !0,
        findPositions: p,
        ruleFromNode: eM,
        context: N
    });
    if (p && p[0].pos != null) {
        let C = p[0].pos
          , E = p[1] && p[1].pos;
        E == null && (E = C),
        y = {
            anchor: C + o,
            head: E + o
        }
    }
    return {
        doc: w,
        sel: y,
        from: o,
        to: u
    }
}
function eM(t) {
    let e = t.pmViewDesc;
    if (e)
        return e.parseRule();
    if (t.nodeName == "BR" && t.parentNode) {
        if (Ut && /^(ul|ol)$/i.test(t.parentNode.nodeName)) {
            let n = document.createElement("div");
            return n.appendChild(document.createElement("li")),
            {
                skip: n
            }
        } else if (t.parentNode.lastChild == t || Ut && /^(tr|table)$/i.test(t.parentNode.nodeName))
            return {
                ignore: !0
            }
    } else if (t.nodeName == "IMG" && t.getAttribute("mark-placeholder"))
        return {
            ignore: !0
        };
    return null
}
const tM = /^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;
function nM(t, e, n, r, s) {
    let l = t.input.compositionPendingChanges || (t.composing ? t.input.compositionID : 0);
    if (t.input.compositionPendingChanges = 0,
    e < 0) {
        let z = t.input.lastSelectionTime > Date.now() - 50 ? t.input.lastSelectionOrigin : null
          , G = Vm(t, z);
        if (G && !t.state.selection.eq(G)) {
            if (jt && Ir && t.input.lastKeyCode === 13 && Date.now() - 100 < t.input.lastKeyCodeTime && t.someProp("handleKeyDown", pe => pe(t, di(13, "Enter"))))
                return;
            let Y = t.state.tr.setSelection(G);
            z == "pointer" ? Y.setMeta("pointer", !0) : z == "key" && Y.scrollIntoView(),
            l && Y.setMeta("composition", l),
            t.dispatch(Y)
        }
        return
    }
    let o = t.state.doc.resolve(e)
      , u = o.sharedDepth(n);
    e = o.before(u + 1),
    n = t.state.doc.resolve(n).after(u + 1);
    let f = t.state.selection, p = W9(t, e, n), m = t.state.doc, g = m.slice(p.from, p.to), v, N;
    t.input.lastKeyCode === 8 && Date.now() - 100 < t.input.lastKeyCodeTime ? (v = t.state.selection.to,
    N = "end") : (v = t.state.selection.from,
    N = "start"),
    t.input.lastKeyCode = null;
    let y = iM(g.content, p.doc.content, p.from, v, N);
    if (y && t.input.domChangeCount++,
    (zl && t.input.lastIOSEnter > Date.now() - 225 || Ir) && s.some(z => z.nodeType == 1 && !tM.test(z.nodeName)) && (!y || y.endA >= y.endB) && t.someProp("handleKeyDown", z => z(t, di(13, "Enter")))) {
        t.input.lastIOSEnter = 0;
        return
    }
    if (!y)
        if (r && f instanceof ce && !f.empty && f.$head.sameParent(f.$anchor) && !t.composing && !(p.sel && p.sel.anchor != p.sel.head))
            y = {
                start: f.from,
                endA: f.to,
                endB: f.to
            };
        else {
            if (p.sel) {
                let z = bv(t, t.state.doc, p.sel);
                if (z && !z.eq(t.state.selection)) {
                    let G = t.state.tr.setSelection(z);
                    l && G.setMeta("composition", l),
                    t.dispatch(G)
                }
            }
            return
        }
    t.state.selection.from < t.state.selection.to && y.start == y.endB && t.state.selection instanceof ce && (y.start > t.state.selection.from && y.start <= t.state.selection.from + 2 && t.state.selection.from >= p.from ? y.start = t.state.selection.from : y.endA < t.state.selection.to && y.endA >= t.state.selection.to - 2 && t.state.selection.to <= p.to && (y.endB += t.state.selection.to - y.endA,
    y.endA = t.state.selection.to)),
    on && Ls <= 11 && y.endB == y.start + 1 && y.endA == y.start && y.start > p.from && p.doc.textBetween(y.start - p.from - 1, y.start - p.from + 1) == " " && (y.start--,
    y.endA--,
    y.endB--);
    let w = p.doc.resolveNoCache(y.start - p.from)
      , C = p.doc.resolveNoCache(y.endB - p.from)
      , E = m.resolve(y.start)
      , A = w.sameParent(C) && w.parent.inlineContent && E.end() >= y.endA;
    if ((zl && t.input.lastIOSEnter > Date.now() - 225 && (!A || s.some(z => z.nodeName == "DIV" || z.nodeName == "P")) || !A && w.pos < p.doc.content.size && (!w.sameParent(C) || !w.parent.inlineContent) && w.pos < C.pos && !/\S/.test(p.doc.textBetween(w.pos, C.pos, "", ""))) && t.someProp("handleKeyDown", z => z(t, di(13, "Enter")))) {
        t.input.lastIOSEnter = 0;
        return
    }
    if (t.state.selection.anchor > y.start && sM(m, y.start, y.endA, w, C) && t.someProp("handleKeyDown", z => z(t, di(8, "Backspace")))) {
        Ir && jt && t.domObserver.suppressSelectionUpdates();
        return
    }
    jt && y.endB == y.start && (t.input.lastChromeDelete = Date.now()),
    Ir && !A && w.start() != C.start() && C.parentOffset == 0 && w.depth == C.depth && p.sel && p.sel.anchor == p.sel.head && p.sel.head == y.endA && (y.endB -= 2,
    C = p.doc.resolveNoCache(y.endB - p.from),
    setTimeout( () => {
        t.someProp("handleKeyDown", function(z) {
            return z(t, di(13, "Enter"))
        })
    }
    , 20));
    let _ = y.start, O = y.endA, R = z => {
        let G = z || t.state.tr.replace(_, O, p.doc.slice(y.start - p.from, y.endB - p.from));
        if (p.sel) {
            let Y = bv(t, G.doc, p.sel);
            Y && !(jt && t.composing && Y.empty && (y.start != y.endB || t.input.lastChromeDelete < Date.now() - 100) && (Y.head == _ || Y.head == G.mapping.map(O) - 1) || on && Y.empty && Y.head == _) && G.setSelection(Y)
        }
        return l && G.setMeta("composition", l),
        G.scrollIntoView()
    }
    , $;
    if (A)
        if (w.pos == C.pos) {
            on && Ls <= 11 && w.parentOffset == 0 && (t.domObserver.suppressSelectionUpdates(),
            setTimeout( () => Vr(t), 20));
            let z = R(t.state.tr.delete(_, O))
              , G = m.resolve(y.start).marksAcross(m.resolve(y.endA));
            G && z.ensureMarks(G),
            t.dispatch(z)
        } else if (y.endA == y.endB && ($ = rM(w.parent.content.cut(w.parentOffset, C.parentOffset), E.parent.content.cut(E.parentOffset, y.endA - E.start())))) {
            let z = R(t.state.tr);
            $.type == "add" ? z.addMark(_, O, $.mark) : z.removeMark(_, O, $.mark),
            t.dispatch(z)
        } else if (w.parent.child(w.index()).isText && w.index() == C.index() - (C.textOffset ? 0 : 1)) {
            let z = w.parent.textBetween(w.parentOffset, C.parentOffset)
              , G = () => R(t.state.tr.insertText(z, _, O));
            t.someProp("handleTextInput", Y => Y(t, _, O, z, G)) || t.dispatch(G())
        } else
            t.dispatch(R());
    else
        t.dispatch(R())
}
function bv(t, e, n) {
    return Math.max(n.anchor, n.head) > e.content.size ? null : Gm(t, e.resolve(n.anchor), e.resolve(n.head))
}
function rM(t, e) {
    let n = t.firstChild.marks, r = e.firstChild.marks, s = n, l = r, o, u, f;
    for (let m = 0; m < r.length; m++)
        s = r[m].removeFromSet(s);
    for (let m = 0; m < n.length; m++)
        l = n[m].removeFromSet(l);
    if (s.length == 1 && l.length == 0)
        u = s[0],
        o = "add",
        f = m => m.mark(u.addToSet(m.marks));
    else if (s.length == 0 && l.length == 1)
        u = l[0],
        o = "remove",
        f = m => m.mark(u.removeFromSet(m.marks));
    else
        return null;
    let p = [];
    for (let m = 0; m < e.childCount; m++)
        p.push(f(e.child(m)));
    if (X.from(p).eq(t))
        return {
            mark: u,
            type: o
        }
}
function sM(t, e, n, r, s) {
    if (n - e <= s.pos - r.pos || ip(r, !0, !1) < s.pos)
        return !1;
    let l = t.resolve(e);
    if (!r.parent.isTextblock) {
        let u = l.nodeAfter;
        return u != null && n == e + u.nodeSize
    }
    if (l.parentOffset < l.parent.content.size || !l.parent.isTextblock)
        return !1;
    let o = t.resolve(ip(l, !0, !0));
    return !o.parent.isTextblock || o.pos > n || ip(o, !0, !1) < n ? !1 : r.parent.content.cut(r.parentOffset).eq(o.parent.content)
}
function ip(t, e, n) {
    let r = t.depth
      , s = e ? t.end() : t.pos;
    for (; r > 0 && (e || t.indexAfter(r) == t.node(r).childCount); )
        r--,
        s++,
        e = !1;
    if (n) {
        let l = t.node(r).maybeChild(t.indexAfter(r));
        for (; l && !l.isLeaf; )
            l = l.firstChild,
            s++
    }
    return s
}
function iM(t, e, n, r, s) {
    let l = t.findDiffStart(e, n);
    if (l == null)
        return null;
    let {a: o, b: u} = t.findDiffEnd(e, n + t.size, n + e.size);
    if (s == "end") {
        let f = Math.max(0, l - Math.min(o, u));
        r -= o + f - l
    }
    if (o < l && t.size < e.size) {
        let f = r <= l && r >= o ? l - r : 0;
        l -= f,
        l && l < e.size && yv(e.textBetween(l - 1, l + 1)) && (l += f ? 1 : -1),
        u = l + (u - o),
        o = l
    } else if (u < l) {
        let f = r <= l && r >= u ? l - r : 0;
        l -= f,
        l && l < t.size && yv(t.textBetween(l - 1, l + 1)) && (l += f ? 1 : -1),
        o = l + (o - u),
        u = l
    }
    return {
        start: l,
        endA: o,
        endB: u
    }
}
function yv(t) {
    if (t.length != 2)
        return !1;
    let e = t.charCodeAt(0)
      , n = t.charCodeAt(1);
    return e >= 56320 && e <= 57343 && n >= 55296 && n <= 56319
}
class K4 {
    constructor(e, n) {
        this._root = null,
        this.focused = !1,
        this.trackWrites = null,
        this.mounted = !1,
        this.markCursor = null,
        this.cursorWrapper = null,
        this.lastSelectedViewDesc = void 0,
        this.input = new w9,
        this.prevDirectPlugins = [],
        this.pluginViews = [],
        this.requiresGeckoHackNode = !1,
        this.dragging = null,
        this._props = n,
        this.state = n.state,
        this.directPlugins = n.plugins || [],
        this.directPlugins.forEach(Sv),
        this.dispatch = this.dispatch.bind(this),
        this.dom = e && e.mount || document.createElement("div"),
        e && (e.appendChild ? e.appendChild(this.dom) : typeof e == "function" ? e(this.dom) : e.mount && (this.mounted = !0)),
        this.editable = wv(this),
        Nv(this),
        this.nodeViews = Cv(this),
        this.docView = ev(this.state.doc, vv(this), sp(this), this.dom, this),
        this.domObserver = new J9(this, (r, s, l, o) => nM(this, r, s, l, o)),
        this.domObserver.start(),
        C9(this),
        this.updatePluginViews()
    }
    get composing() {
        return this.input.composing
    }
    get props() {
        if (this._props.state != this.state) {
            let e = this._props;
            this._props = {};
            for (let n in e)
                this._props[n] = e[n];
            this._props.state = this.state
        }
        return this._props
    }
    update(e) {
        e.handleDOMEvents != this._props.handleDOMEvents && Qp(this);
        let n = this._props;
        this._props = e,
        e.plugins && (e.plugins.forEach(Sv),
        this.directPlugins = e.plugins),
        this.updateStateInner(e.state, n)
    }
    setProps(e) {
        let n = {};
        for (let r in this._props)
            n[r] = this._props[r];
        n.state = this.state;
        for (let r in e)
            n[r] = e[r];
        this.update(n)
    }
    updateState(e) {
        this.updateStateInner(e, this._props)
    }
    updateStateInner(e, n) {
        var r;
        let s = this.state
          , l = !1
          , o = !1;
        e.storedMarks && this.composing && (U4(this),
        o = !0),
        this.state = e;
        let u = s.plugins != e.plugins || this._props.plugins != n.plugins;
        if (u || this._props.plugins != n.plugins || this._props.nodeViews != n.nodeViews) {
            let N = Cv(this);
            aM(N, this.nodeViews) && (this.nodeViews = N,
            l = !0)
        }
        (u || n.handleDOMEvents != this._props.handleDOMEvents) && Qp(this),
        this.editable = wv(this),
        Nv(this);
        let f = sp(this)
          , p = vv(this)
          , m = s.plugins != e.plugins && !s.doc.eq(e.doc) ? "reset" : e.scrollToSelection > s.scrollToSelection ? "to selection" : "preserve"
          , g = l || !this.docView.matchesNode(e.doc, p, f);
        (g || !e.selection.eq(s.selection)) && (o = !0);
        let v = m == "preserve" && o && this.dom.style.overflowAnchor == null && BD(this);
        if (o) {
            this.domObserver.stop();
            let N = g && (on || jt) && !this.composing && !s.selection.empty && !e.selection.empty && lM(s.selection, e.selection);
            if (g) {
                let y = jt ? this.trackWrites = this.domSelectionRange().focusNode : null;
                this.composing && (this.input.compositionNode = B9(this)),
                (l || !this.docView.update(e.doc, p, f, this)) && (this.docView.updateOuterDeco(p),
                this.docView.destroy(),
                this.docView = ev(e.doc, p, f, this.dom, this)),
                y && !this.trackWrites && (N = !0)
            }
            N || !(this.input.mouseDown && this.domObserver.currentSelection.eq(this.domSelectionRange()) && a9(this)) ? Vr(this, N) : (A4(this, e.selection),
            this.domObserver.setCurSelection()),
            this.domObserver.start()
        }
        this.updatePluginViews(s),
        !((r = this.dragging) === null || r === void 0) && r.node && !s.doc.eq(e.doc) && this.updateDraggedNode(this.dragging, s),
        m == "reset" ? this.dom.scrollTop = 0 : m == "to selection" ? this.scrollToSelection() : v && FD(v)
    }
    scrollToSelection() {
        let e = this.domSelectionRange().focusNode;
        if (!(!e || !this.dom.contains(e.nodeType == 1 ? e : e.parentNode))) {
            if (!this.someProp("handleScrollToSelection", n => n(this)))
                if (this.state.selection instanceof ue) {
                    let n = this.docView.domAfterPos(this.state.selection.from);
                    n.nodeType == 1 && Y2(this, n.getBoundingClientRect(), e)
                } else
                    Y2(this, this.coordsAtPos(this.state.selection.head, 1), e)
        }
    }
    destroyPluginViews() {
        let e;
        for (; e = this.pluginViews.pop(); )
            e.destroy && e.destroy()
    }
    updatePluginViews(e) {
        if (!e || e.plugins != this.state.plugins || this.directPlugins != this.prevDirectPlugins) {
            this.prevDirectPlugins = this.directPlugins,
            this.destroyPluginViews();
            for (let n = 0; n < this.directPlugins.length; n++) {
                let r = this.directPlugins[n];
                r.spec.view && this.pluginViews.push(r.spec.view(this))
            }
            for (let n = 0; n < this.state.plugins.length; n++) {
                let r = this.state.plugins[n];
                r.spec.view && this.pluginViews.push(r.spec.view(this))
            }
        } else
            for (let n = 0; n < this.pluginViews.length; n++) {
                let r = this.pluginViews[n];
                r.update && r.update(this, e)
            }
    }
    updateDraggedNode(e, n) {
        let r = e.node
          , s = -1;
        if (this.state.doc.nodeAt(r.from) == r.node)
            s = r.from;
        else {
            let l = r.from + (this.state.doc.content.size - n.doc.content.size);
            (l > 0 && this.state.doc.nodeAt(l)) == r.node && (s = l)
        }
        this.dragging = new I4(e.slice,e.move,s < 0 ? void 0 : ue.create(this.state.doc, s))
    }
    someProp(e, n) {
        let r = this._props && this._props[e], s;
        if (r != null && (s = n ? n(r) : r))
            return s;
        for (let o = 0; o < this.directPlugins.length; o++) {
            let u = this.directPlugins[o].props[e];
            if (u != null && (s = n ? n(u) : u))
                return s
        }
        let l = this.state.plugins;
        if (l)
            for (let o = 0; o < l.length; o++) {
                let u = l[o].props[e];
                if (u != null && (s = n ? n(u) : u))
                    return s
            }
    }
    hasFocus() {
        if (on) {
            let e = this.root.activeElement;
            if (e == this.dom)
                return !0;
            if (!e || !this.dom.contains(e))
                return !1;
            for (; e && this.dom != e && this.dom.contains(e); ) {
                if (e.contentEditable == "false")
                    return !1;
                e = e.parentElement
            }
            return !0
        }
        return this.root.activeElement == this.dom
    }
    focus() {
        this.domObserver.stop(),
        this.editable && HD(this.dom),
        Vr(this),
        this.domObserver.start()
    }
    get root() {
        let e = this._root;
        if (e == null) {
            for (let n = this.dom.parentNode; n; n = n.parentNode)
                if (n.nodeType == 9 || n.nodeType == 11 && n.host)
                    return n.getSelection || (Object.getPrototypeOf(n).getSelection = () => n.ownerDocument.getSelection()),
                    this._root = n
        }
        return e || document
    }
    updateRoot() {
        this._root = null
    }
    posAtCoords(e) {
        return PD(this, e)
    }
    coordsAtPos(e, n=1) {
        return v4(this, e, n)
    }
    domAtPos(e, n=0) {
        return this.docView.domFromPos(e, n)
    }
    nodeDOM(e) {
        let n = this.docView.descAt(e);
        return n ? n.nodeDOM : null
    }
    posAtDOM(e, n, r=-1) {
        let s = this.docView.posFromDOM(e, n, r);
        if (s == null)
            throw new RangeError("DOM position not inside the editor");
        return s
    }
    endOfTextblock(e, n) {
        return JD(this, n || this.state, e)
    }
    pasteHTML(e, n) {
        return mo(this, "", e, !1, n || new ClipboardEvent("paste"))
    }
    pasteText(e, n) {
        return mo(this, e, null, !0, n || new ClipboardEvent("paste"))
    }
    serializeForClipboard(e) {
        return Km(this, e)
    }
    destroy() {
        this.docView && (S9(this),
        this.destroyPluginViews(),
        this.mounted ? (this.docView.update(this.state.doc, [], sp(this), this),
        this.dom.textContent = "") : this.dom.parentNode && this.dom.parentNode.removeChild(this.dom),
        this.docView.destroy(),
        this.docView = null,
        kD())
    }
    get isDestroyed() {
        return this.docView == null
    }
    dispatchEvent(e) {
        return E9(this, e)
    }
    domSelectionRange() {
        let e = this.domSelection();
        return e ? Ut && this.root.nodeType === 11 && MD(this.dom.ownerDocument) == this.dom && Q9(this, e) || e : {
            focusNode: null,
            focusOffset: 0,
            anchorNode: null,
            anchorOffset: 0
        }
    }
    domSelection() {
        return this.root.getSelection()
    }
}
K4.prototype.dispatch = function(t) {
    let e = this._props.dispatchTransaction;
    e ? e.call(this, t) : this.updateState(this.state.apply(t))
}
;
function vv(t) {
    let e = Object.create(null);
    return e.class = "ProseMirror",
    e.contenteditable = String(t.editable),
    t.someProp("attributes", n => {
        if (typeof n == "function" && (n = n(t.state)),
        n)
            for (let r in n)
                r == "class" ? e.class += " " + n[r] : r == "style" ? e.style = (e.style ? e.style + ";" : "") + n[r] : !e[r] && r != "contenteditable" && r != "nodeName" && (e[r] = String(n[r]))
    }
    ),
    e.translate || (e.translate = "no"),
    [Kt.node(0, t.state.doc.content.size, e)]
}
function Nv(t) {
    if (t.markCursor) {
        let e = document.createElement("img");
        e.className = "ProseMirror-separator",
        e.setAttribute("mark-placeholder", "true"),
        e.setAttribute("alt", ""),
        t.cursorWrapper = {
            dom: e,
            deco: Kt.widget(t.state.selection.from, e, {
                raw: !0,
                marks: t.markCursor
            })
        }
    } else
        t.cursorWrapper = null
}
function wv(t) {
    return !t.someProp("editable", e => e(t.state) === !1)
}
function lM(t, e) {
    let n = Math.min(t.$anchor.sharedDepth(t.head), e.$anchor.sharedDepth(e.head));
    return t.$anchor.start(n) != e.$anchor.start(n)
}
function Cv(t) {
    let e = Object.create(null);
    function n(r) {
        for (let s in r)
            Object.prototype.hasOwnProperty.call(e, s) || (e[s] = r[s])
    }
    return t.someProp("nodeViews", n),
    t.someProp("markViews", n),
    e
}
function aM(t, e) {
    let n = 0
      , r = 0;
    for (let s in t) {
        if (t[s] != e[s])
            return !0;
        n++
    }
    for (let s in e)
        r++;
    return n != r
}
function Sv(t) {
    if (t.spec.state || t.spec.filterTransaction || t.spec.appendTransaction)
        throw new RangeError("Plugins passed directly to the view must not have a state component")
}
var qs = {
    8: "Backspace",
    9: "Tab",
    10: "Enter",
    12: "NumLock",
    13: "Enter",
    16: "Shift",
    17: "Control",
    18: "Alt",
    20: "CapsLock",
    27: "Escape",
    32: " ",
    33: "PageUp",
    34: "PageDown",
    35: "End",
    36: "Home",
    37: "ArrowLeft",
    38: "ArrowUp",
    39: "ArrowRight",
    40: "ArrowDown",
    44: "PrintScreen",
    45: "Insert",
    46: "Delete",
    59: ";",
    61: "=",
    91: "Meta",
    92: "Meta",
    106: "*",
    107: "+",
    108: ",",
    109: "-",
    110: ".",
    111: "/",
    144: "NumLock",
    145: "ScrollLock",
    160: "Shift",
    161: "Shift",
    162: "Control",
    163: "Control",
    164: "Alt",
    165: "Alt",
    173: "-",
    186: ";",
    187: "=",
    188: ",",
    189: "-",
    190: ".",
    191: "/",
    192: "`",
    219: "[",
    220: "\\",
    221: "]",
    222: "'"
}
  , Zc = {
    48: ")",
    49: "!",
    50: "@",
    51: "#",
    52: "$",
    53: "%",
    54: "^",
    55: "&",
    56: "*",
    57: "(",
    59: ":",
    61: "+",
    173: "_",
    186: ":",
    187: "+",
    188: "<",
    189: "_",
    190: ">",
    191: "?",
    192: "~",
    219: "{",
    220: "|",
    221: "}",
    222: '"'
}
  , oM = typeof navigator < "u" && /Mac/.test(navigator.platform)
  , uM = typeof navigator < "u" && /MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);
for (var Lt = 0; Lt < 10; Lt++)
    qs[48 + Lt] = qs[96 + Lt] = String(Lt);
for (var Lt = 1; Lt <= 24; Lt++)
    qs[Lt + 111] = "F" + Lt;
for (var Lt = 65; Lt <= 90; Lt++)
    qs[Lt] = String.fromCharCode(Lt + 32),
    Zc[Lt] = String.fromCharCode(Lt);
for (var lp in qs)
    Zc.hasOwnProperty(lp) || (Zc[lp] = qs[lp]);
function cM(t) {
    var e = oM && t.metaKey && t.shiftKey && !t.ctrlKey && !t.altKey || uM && t.shiftKey && t.key && t.key.length == 1 || t.key == "Unidentified"
      , n = !e && t.key || (t.shiftKey ? Zc : qs)[t.keyCode] || t.key || "Unidentified";
    return n == "Esc" && (n = "Escape"),
    n == "Del" && (n = "Delete"),
    n == "Left" && (n = "ArrowLeft"),
    n == "Up" && (n = "ArrowUp"),
    n == "Right" && (n = "ArrowRight"),
    n == "Down" && (n = "ArrowDown"),
    n
}
const dM = typeof navigator < "u" && /Mac|iP(hone|[oa]d)/.test(navigator.platform)
  , fM = typeof navigator < "u" && /Win/.test(navigator.platform);
function hM(t) {
    let e = t.split(/-(?!$)/)
      , n = e[e.length - 1];
    n == "Space" && (n = " ");
    let r, s, l, o;
    for (let u = 0; u < e.length - 1; u++) {
        let f = e[u];
        if (/^(cmd|meta|m)$/i.test(f))
            o = !0;
        else if (/^a(lt)?$/i.test(f))
            r = !0;
        else if (/^(c|ctrl|control)$/i.test(f))
            s = !0;
        else if (/^s(hift)?$/i.test(f))
            l = !0;
        else if (/^mod$/i.test(f))
            dM ? o = !0 : s = !0;
        else
            throw new Error("Unrecognized modifier name: " + f)
    }
    return r && (n = "Alt-" + n),
    s && (n = "Ctrl-" + n),
    o && (n = "Meta-" + n),
    l && (n = "Shift-" + n),
    n
}
function pM(t) {
    let e = Object.create(null);
    for (let n in t)
        e[hM(n)] = t[n];
    return e
}
function ap(t, e, n=!0) {
    return e.altKey && (t = "Alt-" + t),
    e.ctrlKey && (t = "Ctrl-" + t),
    e.metaKey && (t = "Meta-" + t),
    n && e.shiftKey && (t = "Shift-" + t),
    t
}
function mM(t) {
    return new yt({
        props: {
            handleKeyDown: Wm(t)
        }
    })
}
function Wm(t) {
    let e = pM(t);
    return function(n, r) {
        let s = cM(r), l, o = e[ap(s, r)];
        if (o && o(n.state, n.dispatch, n))
            return !0;
        if (s.length == 1 && s != " ") {
            if (r.shiftKey) {
                let u = e[ap(s, r, !1)];
                if (u && u(n.state, n.dispatch, n))
                    return !0
            }
            if ((r.altKey || r.metaKey || r.ctrlKey) && !(fM && r.ctrlKey && r.altKey) && (l = qs[r.keyCode]) && l != s) {
                let u = e[ap(l, r)];
                if (u && u(n.state, n.dispatch, n))
                    return !0
            }
        }
        return !1
    }
}
const eg = (t, e) => t.selection.empty ? !1 : (e && e(t.tr.deleteSelection().scrollIntoView()),
!0);
function Y4(t, e) {
    let {$cursor: n} = t.selection;
    return !n || (e ? !e.endOfTextblock("backward", t) : n.parentOffset > 0) ? null : n
}
const J4 = (t, e, n) => {
    let r = Y4(t, n);
    if (!r)
        return !1;
    let s = tg(r);
    if (!s) {
        let o = r.blockRange()
          , u = o && Pl(o);
        return u == null ? !1 : (e && e(t.tr.lift(o, u).scrollIntoView()),
        !0)
    }
    let l = s.nodeBefore;
    if (sN(t, s, e, -1))
        return !0;
    if (r.parent.content.size == 0 && (Ll(l, "end") || ue.isSelectable(l)))
        for (let o = r.depth; ; o--) {
            let u = Kd(t.doc, r.before(o), r.after(o), ee.empty);
            if (u && u.slice.size < u.to - u.from) {
                if (e) {
                    let f = t.tr.step(u);
                    f.setSelection(Ll(l, "end") ? he.findFrom(f.doc.resolve(f.mapping.map(s.pos, -1)), -1) : ue.create(f.doc, s.pos - l.nodeSize)),
                    e(f.scrollIntoView())
                }
                return !0
            }
            if (o == 1 || r.node(o - 1).childCount > 1)
                break
        }
    return l.isAtom && s.depth == r.depth - 1 ? (e && e(t.tr.delete(s.pos - l.nodeSize, s.pos).scrollIntoView()),
    !0) : !1
}
  , gM = (t, e, n) => {
    let r = Y4(t, n);
    if (!r)
        return !1;
    let s = tg(r);
    return s ? X4(t, s, e) : !1
}
  , xM = (t, e, n) => {
    let r = Z4(t, n);
    if (!r)
        return !1;
    let s = ng(r);
    return s ? X4(t, s, e) : !1
}
;
function X4(t, e, n) {
    let r = e.nodeBefore
      , s = r
      , l = e.pos - 1;
    for (; !s.isTextblock; l--) {
        if (s.type.spec.isolating)
            return !1;
        let m = s.lastChild;
        if (!m)
            return !1;
        s = m
    }
    let o = e.nodeAfter
      , u = o
      , f = e.pos + 1;
    for (; !u.isTextblock; f++) {
        if (u.type.spec.isolating)
            return !1;
        let m = u.firstChild;
        if (!m)
            return !1;
        u = m
    }
    let p = Kd(t.doc, l, f, ee.empty);
    if (!p || p.from != l || p instanceof Ct && p.slice.size >= f - l)
        return !1;
    if (n) {
        let m = t.tr.step(p);
        m.setSelection(ce.create(m.doc, l)),
        n(m.scrollIntoView())
    }
    return !0
}
function Ll(t, e, n=!1) {
    for (let r = t; r; r = e == "start" ? r.firstChild : r.lastChild) {
        if (r.isTextblock)
            return !0;
        if (n && r.childCount != 1)
            return !1
    }
    return !1
}
const Q4 = (t, e, n) => {
    let {$head: r, empty: s} = t.selection
      , l = r;
    if (!s)
        return !1;
    if (r.parent.isTextblock) {
        if (n ? !n.endOfTextblock("backward", t) : r.parentOffset > 0)
            return !1;
        l = tg(r)
    }
    let o = l && l.nodeBefore;
    return !o || !ue.isSelectable(o) ? !1 : (e && e(t.tr.setSelection(ue.create(t.doc, l.pos - o.nodeSize)).scrollIntoView()),
    !0)
}
;
function tg(t) {
    if (!t.parent.type.spec.isolating)
        for (let e = t.depth - 1; e >= 0; e--) {
            if (t.index(e) > 0)
                return t.doc.resolve(t.before(e + 1));
            if (t.node(e).type.spec.isolating)
                break
        }
    return null
}
function Z4(t, e) {
    let {$cursor: n} = t.selection;
    return !n || (e ? !e.endOfTextblock("forward", t) : n.parentOffset < n.parent.content.size) ? null : n
}
const W4 = (t, e, n) => {
    let r = Z4(t, n);
    if (!r)
        return !1;
    let s = ng(r);
    if (!s)
        return !1;
    let l = s.nodeAfter;
    if (sN(t, s, e, 1))
        return !0;
    if (r.parent.content.size == 0 && (Ll(l, "start") || ue.isSelectable(l))) {
        let o = Kd(t.doc, r.before(), r.after(), ee.empty);
        if (o && o.slice.size < o.to - o.from) {
            if (e) {
                let u = t.tr.step(o);
                u.setSelection(Ll(l, "start") ? he.findFrom(u.doc.resolve(u.mapping.map(s.pos)), 1) : ue.create(u.doc, u.mapping.map(s.pos))),
                e(u.scrollIntoView())
            }
            return !0
        }
    }
    return l.isAtom && s.depth == r.depth - 1 ? (e && e(t.tr.delete(s.pos, s.pos + l.nodeSize).scrollIntoView()),
    !0) : !1
}
  , eN = (t, e, n) => {
    let {$head: r, empty: s} = t.selection
      , l = r;
    if (!s)
        return !1;
    if (r.parent.isTextblock) {
        if (n ? !n.endOfTextblock("forward", t) : r.parentOffset < r.parent.content.size)
            return !1;
        l = ng(r)
    }
    let o = l && l.nodeAfter;
    return !o || !ue.isSelectable(o) ? !1 : (e && e(t.tr.setSelection(ue.create(t.doc, l.pos)).scrollIntoView()),
    !0)
}
;
function ng(t) {
    if (!t.parent.type.spec.isolating)
        for (let e = t.depth - 1; e >= 0; e--) {
            let n = t.node(e);
            if (t.index(e) + 1 < n.childCount)
                return t.doc.resolve(t.after(e + 1));
            if (n.type.spec.isolating)
                break
        }
    return null
}
const bM = (t, e) => {
    let n = t.selection, r = n instanceof ue, s;
    if (r) {
        if (n.node.isTextblock || !Is(t.doc, n.from))
            return !1;
        s = n.from
    } else if (s = Gd(t.doc, n.from, -1),
    s == null)
        return !1;
    if (e) {
        let l = t.tr.join(s);
        r && l.setSelection(ue.create(l.doc, s - t.doc.resolve(s).nodeBefore.nodeSize)),
        e(l.scrollIntoView())
    }
    return !0
}
  , yM = (t, e) => {
    let n = t.selection, r;
    if (n instanceof ue) {
        if (n.node.isTextblock || !Is(t.doc, n.to))
            return !1;
        r = n.to
    } else if (r = Gd(t.doc, n.to, 1),
    r == null)
        return !1;
    return e && e(t.tr.join(r).scrollIntoView()),
    !0
}
  , vM = (t, e) => {
    let {$from: n, $to: r} = t.selection
      , s = n.blockRange(r)
      , l = s && Pl(s);
    return l == null ? !1 : (e && e(t.tr.lift(s, l).scrollIntoView()),
    !0)
}
  , tN = (t, e) => {
    let {$head: n, $anchor: r} = t.selection;
    return !n.parent.type.spec.code || !n.sameParent(r) ? !1 : (e && e(t.tr.insertText(`
`).scrollIntoView()),
    !0)
}
;
function rg(t) {
    for (let e = 0; e < t.edgeCount; e++) {
        let {type: n} = t.edge(e);
        if (n.isTextblock && !n.hasRequiredAttrs())
            return n
    }
    return null
}
const NM = (t, e) => {
    let {$head: n, $anchor: r} = t.selection;
    if (!n.parent.type.spec.code || !n.sameParent(r))
        return !1;
    let s = n.node(-1)
      , l = n.indexAfter(-1)
      , o = rg(s.contentMatchAt(l));
    if (!o || !s.canReplaceWith(l, l, o))
        return !1;
    if (e) {
        let u = n.after()
          , f = t.tr.replaceWith(u, u, o.createAndFill());
        f.setSelection(he.near(f.doc.resolve(u), 1)),
        e(f.scrollIntoView())
    }
    return !0
}
  , nN = (t, e) => {
    let n = t.selection
      , {$from: r, $to: s} = n;
    if (n instanceof Cn || r.parent.inlineContent || s.parent.inlineContent)
        return !1;
    let l = rg(s.parent.contentMatchAt(s.indexAfter()));
    if (!l || !l.isTextblock)
        return !1;
    if (e) {
        let o = (!r.parentOffset && s.index() < s.parent.childCount ? r : s).pos
          , u = t.tr.insert(o, l.createAndFill());
        u.setSelection(ce.create(u.doc, o + 1)),
        e(u.scrollIntoView())
    }
    return !0
}
  , rN = (t, e) => {
    let {$cursor: n} = t.selection;
    if (!n || n.parent.content.size)
        return !1;
    if (n.depth > 1 && n.after() != n.end(-1)) {
        let l = n.before();
        if (Pr(t.doc, l))
            return e && e(t.tr.split(l).scrollIntoView()),
            !0
    }
    let r = n.blockRange()
      , s = r && Pl(r);
    return s == null ? !1 : (e && e(t.tr.lift(r, s).scrollIntoView()),
    !0)
}
;
function wM(t) {
    return (e, n) => {
        let {$from: r, $to: s} = e.selection;
        if (e.selection instanceof ue && e.selection.node.isBlock)
            return !r.parentOffset || !Pr(e.doc, r.pos) ? !1 : (n && n(e.tr.split(r.pos).scrollIntoView()),
            !0);
        if (!r.depth)
            return !1;
        let l = [], o, u, f = !1, p = !1;
        for (let N = r.depth; ; N--)
            if (r.node(N).isBlock) {
                f = r.end(N) == r.pos + (r.depth - N),
                p = r.start(N) == r.pos - (r.depth - N),
                u = rg(r.node(N - 1).contentMatchAt(r.indexAfter(N - 1))),
                l.unshift(f && u ? {
                    type: u
                } : null),
                o = N;
                break
            } else {
                if (N == 1)
                    return !1;
                l.unshift(null)
            }
        let m = e.tr;
        (e.selection instanceof ce || e.selection instanceof Cn) && m.deleteSelection();
        let g = m.mapping.map(r.pos)
          , v = Pr(m.doc, g, l.length, l);
        if (v || (l[0] = u ? {
            type: u
        } : null,
        v = Pr(m.doc, g, l.length, l)),
        !v)
            return !1;
        if (m.split(g, l.length, l),
        !f && p && r.node(o).type != u) {
            let N = m.mapping.map(r.before(o))
              , y = m.doc.resolve(N);
            u && r.node(o - 1).canReplaceWith(y.index(), y.index() + 1, u) && m.setNodeMarkup(m.mapping.map(r.before(o)), u)
        }
        return n && n(m.scrollIntoView()),
        !0
    }
}
const CM = wM()
  , SM = (t, e) => {
    let {$from: n, to: r} = t.selection, s, l = n.sharedDepth(r);
    return l == 0 ? !1 : (s = n.before(l),
    e && e(t.tr.setSelection(ue.create(t.doc, s))),
    !0)
}
;
function jM(t, e, n) {
    let r = e.nodeBefore
      , s = e.nodeAfter
      , l = e.index();
    return !r || !s || !r.type.compatibleContent(s.type) ? !1 : !r.content.size && e.parent.canReplace(l - 1, l) ? (n && n(t.tr.delete(e.pos - r.nodeSize, e.pos).scrollIntoView()),
    !0) : !e.parent.canReplace(l, l + 1) || !(s.isTextblock || Is(t.doc, e.pos)) ? !1 : (n && n(t.tr.join(e.pos).scrollIntoView()),
    !0)
}
function sN(t, e, n, r) {
    let s = e.nodeBefore, l = e.nodeAfter, o, u, f = s.type.spec.isolating || l.type.spec.isolating;
    if (!f && jM(t, e, n))
        return !0;
    let p = !f && e.parent.canReplace(e.index(), e.index() + 1);
    if (p && (o = (u = s.contentMatchAt(s.childCount)).findWrapping(l.type)) && u.matchType(o[0] || l.type).validEnd) {
        if (n) {
            let N = e.pos + l.nodeSize
              , y = X.empty;
            for (let E = o.length - 1; E >= 0; E--)
                y = X.from(o[E].create(null, y));
            y = X.from(s.copy(y));
            let w = t.tr.step(new Et(e.pos - 1,N,e.pos,N,new ee(y,1,0),o.length,!0))
              , C = w.doc.resolve(N + 2 * o.length);
            C.nodeAfter && C.nodeAfter.type == s.type && Is(w.doc, C.pos) && w.join(C.pos),
            n(w.scrollIntoView())
        }
        return !0
    }
    let m = l.type.spec.isolating || r > 0 && f ? null : he.findFrom(e, 1)
      , g = m && m.$from.blockRange(m.$to)
      , v = g && Pl(g);
    if (v != null && v >= e.depth)
        return n && n(t.tr.lift(g, v).scrollIntoView()),
        !0;
    if (p && Ll(l, "start", !0) && Ll(s, "end")) {
        let N = s
          , y = [];
        for (; y.push(N),
        !N.isTextblock; )
            N = N.lastChild;
        let w = l
          , C = 1;
        for (; !w.isTextblock; w = w.firstChild)
            C++;
        if (N.canReplace(N.childCount, N.childCount, w.content)) {
            if (n) {
                let E = X.empty;
                for (let _ = y.length - 1; _ >= 0; _--)
                    E = X.from(y[_].copy(E));
                let A = t.tr.step(new Et(e.pos - y.length,e.pos + l.nodeSize,e.pos + C,e.pos + l.nodeSize - C,new ee(E,y.length,0),0,!0));
                n(A.scrollIntoView())
            }
            return !0
        }
    }
    return !1
}
function iN(t) {
    return function(e, n) {
        let r = e.selection
          , s = t < 0 ? r.$from : r.$to
          , l = s.depth;
        for (; s.node(l).isInline; ) {
            if (!l)
                return !1;
            l--
        }
        return s.node(l).isTextblock ? (n && n(e.tr.setSelection(ce.create(e.doc, t < 0 ? s.start(l) : s.end(l)))),
        !0) : !1
    }
}
const EM = iN(-1)
  , kM = iN(1);
function AM(t, e=null) {
    return function(n, r) {
        let {$from: s, $to: l} = n.selection
          , o = s.blockRange(l)
          , u = o && qm(o, t, e);
        return u ? (r && r(n.tr.wrap(o, u).scrollIntoView()),
        !0) : !1
    }
}
function jv(t, e=null) {
    return function(n, r) {
        let s = !1;
        for (let l = 0; l < n.selection.ranges.length && !s; l++) {
            let {$from: {pos: o}, $to: {pos: u}} = n.selection.ranges[l];
            n.doc.nodesBetween(o, u, (f, p) => {
                if (s)
                    return !1;
                if (!(!f.isTextblock || f.hasMarkup(t, e)))
                    if (f.type == t)
                        s = !0;
                    else {
                        let m = n.doc.resolve(p)
                          , g = m.index();
                        s = m.parent.canReplaceWith(g, g + 1, t)
                    }
            }
            )
        }
        if (!s)
            return !1;
        if (r) {
            let l = n.tr;
            for (let o = 0; o < n.selection.ranges.length; o++) {
                let {$from: {pos: u}, $to: {pos: f}} = n.selection.ranges[o];
                l.setBlockType(u, f, t, e)
            }
            r(l.scrollIntoView())
        }
        return !0
    }
}
function sg(...t) {
    return function(e, n, r) {
        for (let s = 0; s < t.length; s++)
            if (t[s](e, n, r))
                return !0;
        return !1
    }
}
sg(eg, J4, Q4);
sg(eg, W4, eN);
sg(tN, nN, rN, CM);
typeof navigator < "u" ? /Mac|iP(hone|[oa]d)/.test(navigator.platform) : typeof os < "u" && os.platform && os.platform() == "darwin";
function _M(t, e=null) {
    return function(n, r) {
        let {$from: s, $to: l} = n.selection
          , o = s.blockRange(l);
        if (!o)
            return !1;
        let u = r ? n.tr : null;
        return TM(u, o, t, e) ? (r && r(u.scrollIntoView()),
        !0) : !1
    }
}
function TM(t, e, n, r=null) {
    let s = !1
      , l = e
      , o = e.$from.doc;
    if (e.depth >= 2 && e.$from.node(e.depth - 1).type.compatibleContent(n) && e.startIndex == 0) {
        if (e.$from.index(e.depth - 1) == 0)
            return !1;
        let f = o.resolve(e.start - 2);
        l = new Vc(f,f,e.depth),
        e.endIndex < e.parent.childCount && (e = new Vc(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),
        s = !0
    }
    let u = qm(l, n, r, e);
    return u ? (t && DM(t, e, u, s, n),
    !0) : !1
}
function DM(t, e, n, r, s) {
    let l = X.empty;
    for (let m = n.length - 1; m >= 0; m--)
        l = X.from(n[m].type.create(n[m].attrs, l));
    t.step(new Et(e.start - (r ? 2 : 0),e.end,e.start,e.end,new ee(l,0,0),n.length,!0));
    let o = 0;
    for (let m = 0; m < n.length; m++)
        n[m].type == s && (o = m + 1);
    let u = n.length - o
      , f = e.start + n.length - (r ? 2 : 0)
      , p = e.parent;
    for (let m = e.startIndex, g = e.endIndex, v = !0; m < g; m++,
    v = !1)
        !v && Pr(t.doc, f, u) && (t.split(f, u),
        f += 2 * u),
        f += p.child(m).nodeSize;
    return t
}
function MM(t) {
    return function(e, n) {
        let {$from: r, $to: s} = e.selection
          , l = r.blockRange(s, o => o.childCount > 0 && o.firstChild.type == t);
        return l ? n ? r.node(l.depth - 1).type == t ? OM(e, n, t, l) : RM(e, n, l) : !0 : !1
    }
}
function OM(t, e, n, r) {
    let s = t.tr
      , l = r.end
      , o = r.$to.end(r.depth);
    l < o && (s.step(new Et(l - 1,o,l,o,new ee(X.from(n.create(null, r.parent.copy())),1,0),1,!0)),
    r = new Vc(s.doc.resolve(r.$from.pos),s.doc.resolve(o),r.depth));
    const u = Pl(r);
    if (u == null)
        return !1;
    s.lift(r, u);
    let f = s.doc.resolve(s.mapping.map(l, -1) - 1);
    return Is(s.doc, f.pos) && f.nodeBefore.type == f.nodeAfter.type && s.join(f.pos),
    e(s.scrollIntoView()),
    !0
}
function RM(t, e, n) {
    let r = t.tr
      , s = n.parent;
    for (let N = n.end, y = n.endIndex - 1, w = n.startIndex; y > w; y--)
        N -= s.child(y).nodeSize,
        r.delete(N - 1, N + 1);
    let l = r.doc.resolve(n.start)
      , o = l.nodeAfter;
    if (r.mapping.map(n.end) != n.start + l.nodeAfter.nodeSize)
        return !1;
    let u = n.startIndex == 0
      , f = n.endIndex == s.childCount
      , p = l.node(-1)
      , m = l.index(-1);
    if (!p.canReplace(m + (u ? 0 : 1), m + 1, o.content.append(f ? X.empty : X.from(s))))
        return !1;
    let g = l.pos
      , v = g + o.nodeSize;
    return r.step(new Et(g - (u ? 1 : 0),v + (f ? 1 : 0),g + 1,v - 1,new ee((u ? X.empty : X.from(s.copy(X.empty))).append(f ? X.empty : X.from(s.copy(X.empty))),u ? 0 : 1,f ? 0 : 1),u ? 0 : 1)),
    e(r.scrollIntoView()),
    !0
}
function zM(t) {
    return function(e, n) {
        let {$from: r, $to: s} = e.selection
          , l = r.blockRange(s, p => p.childCount > 0 && p.firstChild.type == t);
        if (!l)
            return !1;
        let o = l.startIndex;
        if (o == 0)
            return !1;
        let u = l.parent
          , f = u.child(o - 1);
        if (f.type != t)
            return !1;
        if (n) {
            let p = f.lastChild && f.lastChild.type == u.type
              , m = X.from(p ? t.create() : null)
              , g = new ee(X.from(t.create(null, X.from(u.type.create(null, m)))),p ? 3 : 1,0)
              , v = l.start
              , N = l.end;
            n(e.tr.step(new Et(v - (p ? 3 : 1),N,v,N,g,1,!0)).scrollIntoView())
        }
        return !0
    }
}
function Zd(t) {
    const {state: e, transaction: n} = t;
    let {selection: r} = n
      , {doc: s} = n
      , {storedMarks: l} = n;
    return {
        ...e,
        apply: e.apply.bind(e),
        applyTransaction: e.applyTransaction.bind(e),
        plugins: e.plugins,
        schema: e.schema,
        reconfigure: e.reconfigure.bind(e),
        toJSON: e.toJSON.bind(e),
        get storedMarks() {
            return l
        },
        get selection() {
            return r
        },
        get doc() {
            return s
        },
        get tr() {
            return r = n.selection,
            s = n.doc,
            l = n.storedMarks,
            n
        }
    }
}
class Wd {
    constructor(e) {
        this.editor = e.editor,
        this.rawCommands = this.editor.extensionManager.commands,
        this.customState = e.state
    }
    get hasCustomState() {
        return !!this.customState
    }
    get state() {
        return this.customState || this.editor.state
    }
    get commands() {
        const {rawCommands: e, editor: n, state: r} = this
          , {view: s} = n
          , {tr: l} = r
          , o = this.buildProps(l);
        return Object.fromEntries(Object.entries(e).map( ([u,f]) => [u, (...m) => {
            const g = f(...m)(o);
            return !l.getMeta("preventDispatch") && !this.hasCustomState && s.dispatch(l),
            g
        }
        ]))
    }
    get chain() {
        return () => this.createChain()
    }
    get can() {
        return () => this.createCan()
    }
    createChain(e, n=!0) {
        const {rawCommands: r, editor: s, state: l} = this
          , {view: o} = s
          , u = []
          , f = !!e
          , p = e || l.tr
          , m = () => (!f && n && !p.getMeta("preventDispatch") && !this.hasCustomState && o.dispatch(p),
        u.every(v => v === !0))
          , g = {
            ...Object.fromEntries(Object.entries(r).map( ([v,N]) => [v, (...w) => {
                const C = this.buildProps(p, n)
                  , E = N(...w)(C);
                return u.push(E),
                g
            }
            ])),
            run: m
        };
        return g
    }
    createCan(e) {
        const {rawCommands: n, state: r} = this
          , s = !1
          , l = e || r.tr
          , o = this.buildProps(l, s);
        return {
            ...Object.fromEntries(Object.entries(n).map( ([f,p]) => [f, (...m) => p(...m)({
                ...o,
                dispatch: void 0
            })])),
            chain: () => this.createChain(l, s)
        }
    }
    buildProps(e, n=!0) {
        const {rawCommands: r, editor: s, state: l} = this
          , {view: o} = s
          , u = {
            tr: e,
            editor: s,
            view: o,
            state: Zd({
                state: l,
                transaction: e
            }),
            dispatch: n ? () => {}
            : void 0,
            chain: () => this.createChain(e, n),
            can: () => this.createCan(e),
            get commands() {
                return Object.fromEntries(Object.entries(r).map( ([f,p]) => [f, (...m) => p(...m)(u)]))
            }
        };
        return u
    }
}
class LM {
    constructor() {
        this.callbacks = {}
    }
    on(e, n) {
        return this.callbacks[e] || (this.callbacks[e] = []),
        this.callbacks[e].push(n),
        this
    }
    emit(e, ...n) {
        const r = this.callbacks[e];
        return r && r.forEach(s => s.apply(this, n)),
        this
    }
    off(e, n) {
        const r = this.callbacks[e];
        return r && (n ? this.callbacks[e] = r.filter(s => s !== n) : delete this.callbacks[e]),
        this
    }
    once(e, n) {
        const r = (...s) => {
            this.off(e, r),
            n.apply(this, s)
        }
        ;
        return this.on(e, r)
    }
    removeAllListeners() {
        this.callbacks = {}
    }
}
function se(t, e, n) {
    return t.config[e] === void 0 && t.parent ? se(t.parent, e, n) : typeof t.config[e] == "function" ? t.config[e].bind({
        ...n,
        parent: t.parent ? se(t.parent, e, n) : null
    }) : t.config[e]
}
function ef(t) {
    const e = t.filter(s => s.type === "extension")
      , n = t.filter(s => s.type === "node")
      , r = t.filter(s => s.type === "mark");
    return {
        baseExtensions: e,
        nodeExtensions: n,
        markExtensions: r
    }
}
function lN(t) {
    const e = []
      , {nodeExtensions: n, markExtensions: r} = ef(t)
      , s = [...n, ...r]
      , l = {
        default: null,
        rendered: !0,
        renderHTML: null,
        parseHTML: null,
        keepOnSplit: !0,
        isRequired: !1
    };
    return t.forEach(o => {
        const u = {
            name: o.name,
            options: o.options,
            storage: o.storage,
            extensions: s
        }
          , f = se(o, "addGlobalAttributes", u);
        if (!f)
            return;
        f().forEach(m => {
            m.types.forEach(g => {
                Object.entries(m.attributes).forEach( ([v,N]) => {
                    e.push({
                        type: g,
                        name: v,
                        attribute: {
                            ...l,
                            ...N
                        }
                    })
                }
                )
            }
            )
        }
        )
    }
    ),
    s.forEach(o => {
        const u = {
            name: o.name,
            options: o.options,
            storage: o.storage
        }
          , f = se(o, "addAttributes", u);
        if (!f)
            return;
        const p = f();
        Object.entries(p).forEach( ([m,g]) => {
            const v = {
                ...l,
                ...g
            };
            typeof v?.default == "function" && (v.default = v.default()),
            v?.isRequired && v?.default === void 0 && delete v.default,
            e.push({
                type: o.name,
                name: m,
                attribute: v
            })
        }
        )
    }
    ),
    e
}
function At(t, e) {
    if (typeof t == "string") {
        if (!e.nodes[t])
            throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);
        return e.nodes[t]
    }
    return t
}
function et(...t) {
    return t.filter(e => !!e).reduce( (e, n) => {
        const r = {
            ...e
        };
        return Object.entries(n).forEach( ([s,l]) => {
            if (!r[s]) {
                r[s] = l;
                return
            }
            if (s === "class") {
                const u = l ? String(l).split(" ") : []
                  , f = r[s] ? r[s].split(" ") : []
                  , p = u.filter(m => !f.includes(m));
                r[s] = [...f, ...p].join(" ")
            } else if (s === "style") {
                const u = l ? l.split(";").map(m => m.trim()).filter(Boolean) : []
                  , f = r[s] ? r[s].split(";").map(m => m.trim()).filter(Boolean) : []
                  , p = new Map;
                f.forEach(m => {
                    const [g,v] = m.split(":").map(N => N.trim());
                    p.set(g, v)
                }
                ),
                u.forEach(m => {
                    const [g,v] = m.split(":").map(N => N.trim());
                    p.set(g, v)
                }
                ),
                r[s] = Array.from(p.entries()).map( ([m,g]) => `${m}: ${g}`).join("; ")
            } else
                r[s] = l
        }
        ),
        r
    }
    , {})
}
function Zp(t, e) {
    return e.filter(n => n.type === t.type.name).filter(n => n.attribute.rendered).map(n => n.attribute.renderHTML ? n.attribute.renderHTML(t.attrs) || {} : {
        [n.name]: t.attrs[n.name]
    }).reduce( (n, r) => et(n, r), {})
}
function aN(t) {
    return typeof t == "function"
}
function Ne(t, e=void 0, ...n) {
    return aN(t) ? e ? t.bind(e)(...n) : t(...n) : t
}
function BM(t={}) {
    return Object.keys(t).length === 0 && t.constructor === Object
}
function FM(t) {
    return typeof t != "string" ? t : t.match(/^[+-]?(?:\d*\.)?\d+$/) ? Number(t) : t === "true" ? !0 : t === "false" ? !1 : t
}
function Ev(t, e) {
    return "style"in t ? t : {
        ...t,
        getAttrs: n => {
            const r = t.getAttrs ? t.getAttrs(n) : t.attrs;
            if (r === !1)
                return !1;
            const s = e.reduce( (l, o) => {
                const u = o.attribute.parseHTML ? o.attribute.parseHTML(n) : FM(n.getAttribute(o.name));
                return u == null ? l : {
                    ...l,
                    [o.name]: u
                }
            }
            , {});
            return {
                ...r,
                ...s
            }
        }
    }
}
function kv(t) {
    return Object.fromEntries(Object.entries(t).filter( ([e,n]) => e === "attrs" && BM(n) ? !1 : n != null))
}
function HM(t, e) {
    var n;
    const r = lN(t)
      , {nodeExtensions: s, markExtensions: l} = ef(t)
      , o = (n = s.find(p => se(p, "topNode"))) === null || n === void 0 ? void 0 : n.name
      , u = Object.fromEntries(s.map(p => {
        const m = r.filter(E => E.type === p.name)
          , g = {
            name: p.name,
            options: p.options,
            storage: p.storage,
            editor: e
        }
          , v = t.reduce( (E, A) => {
            const _ = se(A, "extendNodeSchema", g);
            return {
                ...E,
                ..._ ? _(p) : {}
            }
        }
        , {})
          , N = kv({
            ...v,
            content: Ne(se(p, "content", g)),
            marks: Ne(se(p, "marks", g)),
            group: Ne(se(p, "group", g)),
            inline: Ne(se(p, "inline", g)),
            atom: Ne(se(p, "atom", g)),
            selectable: Ne(se(p, "selectable", g)),
            draggable: Ne(se(p, "draggable", g)),
            code: Ne(se(p, "code", g)),
            whitespace: Ne(se(p, "whitespace", g)),
            linebreakReplacement: Ne(se(p, "linebreakReplacement", g)),
            defining: Ne(se(p, "defining", g)),
            isolating: Ne(se(p, "isolating", g)),
            attrs: Object.fromEntries(m.map(E => {
                var A;
                return [E.name, {
                    default: (A = E?.attribute) === null || A === void 0 ? void 0 : A.default
                }]
            }
            ))
        })
          , y = Ne(se(p, "parseHTML", g));
        y && (N.parseDOM = y.map(E => Ev(E, m)));
        const w = se(p, "renderHTML", g);
        w && (N.toDOM = E => w({
            node: E,
            HTMLAttributes: Zp(E, m)
        }));
        const C = se(p, "renderText", g);
        return C && (N.toText = C),
        [p.name, N]
    }
    ))
      , f = Object.fromEntries(l.map(p => {
        const m = r.filter(C => C.type === p.name)
          , g = {
            name: p.name,
            options: p.options,
            storage: p.storage,
            editor: e
        }
          , v = t.reduce( (C, E) => {
            const A = se(E, "extendMarkSchema", g);
            return {
                ...C,
                ...A ? A(p) : {}
            }
        }
        , {})
          , N = kv({
            ...v,
            inclusive: Ne(se(p, "inclusive", g)),
            excludes: Ne(se(p, "excludes", g)),
            group: Ne(se(p, "group", g)),
            spanning: Ne(se(p, "spanning", g)),
            code: Ne(se(p, "code", g)),
            attrs: Object.fromEntries(m.map(C => {
                var E;
                return [C.name, {
                    default: (E = C?.attribute) === null || E === void 0 ? void 0 : E.default
                }]
            }
            ))
        })
          , y = Ne(se(p, "parseHTML", g));
        y && (N.parseDOM = y.map(C => Ev(C, m)));
        const w = se(p, "renderHTML", g);
        return w && (N.toDOM = C => w({
            mark: C,
            HTMLAttributes: Zp(C, m)
        })),
        [p.name, N]
    }
    ));
    return new Y6({
        topNode: o,
        nodes: u,
        marks: f
    })
}
function op(t, e) {
    return e.nodes[t] || e.marks[t] || null
}
function Av(t, e) {
    return Array.isArray(e) ? e.some(n => (typeof n == "string" ? n : n.name) === t.name) : e
}
function ig(t, e) {
    const n = Oi.fromSchema(e).serializeFragment(t)
      , s = document.implementation.createHTMLDocument().createElement("div");
    return s.appendChild(n),
    s.innerHTML
}
const UM = (t, e=500) => {
    let n = "";
    const r = t.parentOffset;
    return t.parent.nodesBetween(Math.max(0, r - e), r, (s, l, o, u) => {
        var f, p;
        const m = ((p = (f = s.type.spec).toText) === null || p === void 0 ? void 0 : p.call(f, {
            node: s,
            pos: l,
            parent: o,
            index: u
        })) || s.textContent || "%leaf%";
        n += s.isAtom && !s.isText ? m : m.slice(0, Math.max(0, r - l))
    }
    ),
    n
}
;
function lg(t) {
    return Object.prototype.toString.call(t) === "[object RegExp]"
}
class tf {
    constructor(e) {
        this.find = e.find,
        this.handler = e.handler
    }
}
const qM = (t, e) => {
    if (lg(e))
        return e.exec(t);
    const n = e(t);
    if (!n)
        return null;
    const r = [n.text];
    return r.index = n.index,
    r.input = t,
    r.data = n.data,
    n.replaceWith && (n.text.includes(n.replaceWith) || console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),
    r.push(n.replaceWith)),
    r
}
;
function cc(t) {
    var e;
    const {editor: n, from: r, to: s, text: l, rules: o, plugin: u} = t
      , {view: f} = n;
    if (f.composing)
        return !1;
    const p = f.state.doc.resolve(r);
    if (p.parent.type.spec.code || !((e = p.nodeBefore || p.nodeAfter) === null || e === void 0) && e.marks.find(v => v.type.spec.code))
        return !1;
    let m = !1;
    const g = UM(p) + l;
    return o.forEach(v => {
        if (m)
            return;
        const N = qM(g, v.find);
        if (!N)
            return;
        const y = f.state.tr
          , w = Zd({
            state: f.state,
            transaction: y
        })
          , C = {
            from: r - (N[0].length - l.length),
            to: s
        }
          , {commands: E, chain: A, can: _} = new Wd({
            editor: n,
            state: w
        });
        v.handler({
            state: w,
            range: C,
            match: N,
            commands: E,
            chain: A,
            can: _
        }) === null || !y.steps.length || (y.setMeta(u, {
            transform: y,
            from: r,
            to: s,
            text: l
        }),
        f.dispatch(y),
        m = !0)
    }
    ),
    m
}
function IM(t) {
    const {editor: e, rules: n} = t
      , r = new yt({
        state: {
            init() {
                return null
            },
            apply(s, l, o) {
                const u = s.getMeta(r);
                if (u)
                    return u;
                const f = s.getMeta("applyInputRules");
                return f && setTimeout( () => {
                    let {text: m} = f;
                    typeof m == "string" ? m = m : m = ig(X.from(m), o.schema);
                    const {from: g} = f
                      , v = g + m.length;
                    cc({
                        editor: e,
                        from: g,
                        to: v,
                        text: m,
                        rules: n,
                        plugin: r
                    })
                }
                ),
                s.selectionSet || s.docChanged ? null : l
            }
        },
        props: {
            handleTextInput(s, l, o, u) {
                return cc({
                    editor: e,
                    from: l,
                    to: o,
                    text: u,
                    rules: n,
                    plugin: r
                })
            },
            handleDOMEvents: {
                compositionend: s => (setTimeout( () => {
                    const {$cursor: l} = s.state.selection;
                    l && cc({
                        editor: e,
                        from: l.pos,
                        to: l.pos,
                        text: "",
                        rules: n,
                        plugin: r
                    })
                }
                ),
                !1)
            },
            handleKeyDown(s, l) {
                if (l.key !== "Enter")
                    return !1;
                const {$cursor: o} = s.state.selection;
                return o ? cc({
                    editor: e,
                    from: o.pos,
                    to: o.pos,
                    text: `
`,
                    rules: n,
                    plugin: r
                }) : !1
            }
        },
        isInputRules: !0
    });
    return r
}
function $M(t) {
    return Object.prototype.toString.call(t).slice(8, -1)
}
function dc(t) {
    return $M(t) !== "Object" ? !1 : t.constructor === Object && Object.getPrototypeOf(t) === Object.prototype
}
function nf(t, e) {
    const n = {
        ...t
    };
    return dc(t) && dc(e) && Object.keys(e).forEach(r => {
        dc(e[r]) && dc(t[r]) ? n[r] = nf(t[r], e[r]) : n[r] = e[r]
    }
    ),
    n
}
class hr {
    constructor(e={}) {
        this.type = "mark",
        this.name = "mark",
        this.parent = null,
        this.child = null,
        this.config = {
            name: this.name,
            defaultOptions: {}
        },
        this.config = {
            ...this.config,
            ...e
        },
        this.name = this.config.name,
        e.defaultOptions && Object.keys(e.defaultOptions).length > 0 && console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),
        this.options = this.config.defaultOptions,
        this.config.addOptions && (this.options = Ne(se(this, "addOptions", {
            name: this.name
        }))),
        this.storage = Ne(se(this, "addStorage", {
            name: this.name,
            options: this.options
        })) || {}
    }
    static create(e={}) {
        return new hr(e)
    }
    configure(e={}) {
        const n = this.extend({
            ...this.config,
            addOptions: () => nf(this.options, e)
        });
        return n.name = this.name,
        n.parent = this.parent,
        n
    }
    extend(e={}) {
        const n = new hr(e);
        return n.parent = this,
        this.child = n,
        n.name = e.name ? e.name : n.parent.name,
        e.defaultOptions && Object.keys(e.defaultOptions).length > 0 && console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),
        n.options = Ne(se(n, "addOptions", {
            name: n.name
        })),
        n.storage = Ne(se(n, "addStorage", {
            name: n.name,
            options: n.options
        })),
        n
    }
    static handleExit({editor: e, mark: n}) {
        const {tr: r} = e.state
          , s = e.state.selection.$from;
        if (s.pos === s.end()) {
            const o = s.marks();
            if (!!!o.find(p => p?.type.name === n.name))
                return !1;
            const f = o.find(p => p?.type.name === n.name);
            return f && r.removeStoredMark(f),
            r.insertText(" ", s.pos),
            e.view.dispatch(r),
            !0
        }
        return !1
    }
}
function PM(t) {
    return typeof t == "number"
}
class VM {
    constructor(e) {
        this.find = e.find,
        this.handler = e.handler
    }
}
const GM = (t, e, n) => {
    if (lg(e))
        return [...t.matchAll(e)];
    const r = e(t, n);
    return r ? r.map(s => {
        const l = [s.text];
        return l.index = s.index,
        l.input = t,
        l.data = s.data,
        s.replaceWith && (s.text.includes(s.replaceWith) || console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),
        l.push(s.replaceWith)),
        l
    }
    ) : []
}
;
function KM(t) {
    const {editor: e, state: n, from: r, to: s, rule: l, pasteEvent: o, dropEvent: u} = t
      , {commands: f, chain: p, can: m} = new Wd({
        editor: e,
        state: n
    })
      , g = [];
    return n.doc.nodesBetween(r, s, (N, y) => {
        if (!N.isTextblock || N.type.spec.code)
            return;
        const w = Math.max(r, y)
          , C = Math.min(s, y + N.content.size)
          , E = N.textBetween(w - y, C - y, void 0, "");
        GM(E, l.find, o).forEach(_ => {
            if (_.index === void 0)
                return;
            const O = w + _.index + 1
              , R = O + _[0].length
              , $ = {
                from: n.tr.mapping.map(O),
                to: n.tr.mapping.map(R)
            }
              , z = l.handler({
                state: n,
                range: $,
                match: _,
                commands: f,
                chain: p,
                can: m,
                pasteEvent: o,
                dropEvent: u
            });
            g.push(z)
        }
        )
    }
    ),
    g.every(N => N !== null)
}
let fc = null;
const YM = t => {
    var e;
    const n = new ClipboardEvent("paste",{
        clipboardData: new DataTransfer
    });
    return (e = n.clipboardData) === null || e === void 0 || e.setData("text/html", t),
    n
}
;
function JM(t) {
    const {editor: e, rules: n} = t;
    let r = null, s = !1, l = !1, o = typeof ClipboardEvent < "u" ? new ClipboardEvent("paste") : null, u;
    try {
        u = typeof DragEvent < "u" ? new DragEvent("drop") : null
    } catch {
        u = null
    }
    const f = ({state: m, from: g, to: v, rule: N, pasteEvt: y}) => {
        const w = m.tr
          , C = Zd({
            state: m,
            transaction: w
        });
        if (!(!KM({
            editor: e,
            state: C,
            from: Math.max(g - 1, 0),
            to: v.b - 1,
            rule: N,
            pasteEvent: y,
            dropEvent: u
        }) || !w.steps.length)) {
            try {
                u = typeof DragEvent < "u" ? new DragEvent("drop") : null
            } catch {
                u = null
            }
            return o = typeof ClipboardEvent < "u" ? new ClipboardEvent("paste") : null,
            w
        }
    }
    ;
    return n.map(m => new yt({
        view(g) {
            const v = y => {
                var w;
                r = !((w = g.dom.parentElement) === null || w === void 0) && w.contains(y.target) ? g.dom.parentElement : null,
                r && (fc = e)
            }
              , N = () => {
                fc && (fc = null)
            }
            ;
            return window.addEventListener("dragstart", v),
            window.addEventListener("dragend", N),
            {
                destroy() {
                    window.removeEventListener("dragstart", v),
                    window.removeEventListener("dragend", N)
                }
            }
        },
        props: {
            handleDOMEvents: {
                drop: (g, v) => {
                    if (l = r === g.dom.parentElement,
                    u = v,
                    !l) {
                        const N = fc;
                        N?.isEditable && setTimeout( () => {
                            const y = N.state.selection;
                            y && N.commands.deleteRange({
                                from: y.from,
                                to: y.to
                            })
                        }
                        , 10)
                    }
                    return !1
                }
                ,
                paste: (g, v) => {
                    var N;
                    const y = (N = v.clipboardData) === null || N === void 0 ? void 0 : N.getData("text/html");
                    return o = v,
                    s = !!y?.includes("data-pm-slice"),
                    !1
                }
            }
        },
        appendTransaction: (g, v, N) => {
            const y = g[0]
              , w = y.getMeta("uiEvent") === "paste" && !s
              , C = y.getMeta("uiEvent") === "drop" && !l
              , E = y.getMeta("applyPasteRules")
              , A = !!E;
            if (!w && !C && !A)
                return;
            if (A) {
                let {text: R} = E;
                typeof R == "string" ? R = R : R = ig(X.from(R), N.schema);
                const {from: $} = E
                  , z = $ + R.length
                  , G = YM(R);
                return f({
                    rule: m,
                    state: N,
                    from: $,
                    to: {
                        b: z
                    },
                    pasteEvt: G
                })
            }
            const _ = v.doc.content.findDiffStart(N.doc.content)
              , O = v.doc.content.findDiffEnd(N.doc.content);
            if (!(!PM(_) || !O || _ === O.b))
                return f({
                    rule: m,
                    state: N,
                    from: _,
                    to: O,
                    pasteEvt: o
                })
        }
    }))
}
function XM(t) {
    const e = t.filter( (n, r) => t.indexOf(n) !== r);
    return Array.from(new Set(e))
}
class El {
    constructor(e, n) {
        this.splittableMarks = [],
        this.editor = n,
        this.extensions = El.resolve(e),
        this.schema = HM(this.extensions, n),
        this.setupExtensions()
    }
    static resolve(e) {
        const n = El.sort(El.flatten(e))
          , r = XM(n.map(s => s.name));
        return r.length && console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(s => `'${s}'`).join(", ")}]. This can lead to issues.`),
        n
    }
    static flatten(e) {
        return e.map(n => {
            const r = {
                name: n.name,
                options: n.options,
                storage: n.storage
            }
              , s = se(n, "addExtensions", r);
            return s ? [n, ...this.flatten(s())] : n
        }
        ).flat(10)
    }
    static sort(e) {
        return e.sort( (r, s) => {
            const l = se(r, "priority") || 100
              , o = se(s, "priority") || 100;
            return l > o ? -1 : l < o ? 1 : 0
        }
        )
    }
    get commands() {
        return this.extensions.reduce( (e, n) => {
            const r = {
                name: n.name,
                options: n.options,
                storage: n.storage,
                editor: this.editor,
                type: op(n.name, this.schema)
            }
              , s = se(n, "addCommands", r);
            return s ? {
                ...e,
                ...s()
            } : e
        }
        , {})
    }
    get plugins() {
        const {editor: e} = this
          , n = El.sort([...this.extensions].reverse())
          , r = []
          , s = []
          , l = n.map(o => {
            const u = {
                name: o.name,
                options: o.options,
                storage: o.storage,
                editor: e,
                type: op(o.name, this.schema)
            }
              , f = []
              , p = se(o, "addKeyboardShortcuts", u);
            let m = {};
            if (o.type === "mark" && se(o, "exitable", u) && (m.ArrowRight = () => hr.handleExit({
                editor: e,
                mark: o
            })),
            p) {
                const w = Object.fromEntries(Object.entries(p()).map( ([C,E]) => [C, () => E({
                    editor: e
                })]));
                m = {
                    ...m,
                    ...w
                }
            }
            const g = mM(m);
            f.push(g);
            const v = se(o, "addInputRules", u);
            Av(o, e.options.enableInputRules) && v && r.push(...v());
            const N = se(o, "addPasteRules", u);
            Av(o, e.options.enablePasteRules) && N && s.push(...N());
            const y = se(o, "addProseMirrorPlugins", u);
            if (y) {
                const w = y();
                f.push(...w)
            }
            return f
        }
        ).flat();
        return [IM({
            editor: e,
            rules: r
        }), ...JM({
            editor: e,
            rules: s
        }), ...l]
    }
    get attributes() {
        return lN(this.extensions)
    }
    get nodeViews() {
        const {editor: e} = this
          , {nodeExtensions: n} = ef(this.extensions);
        return Object.fromEntries(n.filter(r => !!se(r, "addNodeView")).map(r => {
            const s = this.attributes.filter(f => f.type === r.name)
              , l = {
                name: r.name,
                options: r.options,
                storage: r.storage,
                editor: e,
                type: At(r.name, this.schema)
            }
              , o = se(r, "addNodeView", l);
            if (!o)
                return [];
            const u = (f, p, m, g, v) => {
                const N = Zp(f, s);
                return o()({
                    node: f,
                    view: p,
                    getPos: m,
                    decorations: g,
                    innerDecorations: v,
                    editor: e,
                    extension: r,
                    HTMLAttributes: N
                })
            }
            ;
            return [r.name, u]
        }
        ))
    }
    setupExtensions() {
        this.extensions.forEach(e => {
            var n;
            this.editor.extensionStorage[e.name] = e.storage;
            const r = {
                name: e.name,
                options: e.options,
                storage: e.storage,
                editor: this.editor,
                type: op(e.name, this.schema)
            };
            e.type === "mark" && (!((n = Ne(se(e, "keepOnSplit", r))) !== null && n !== void 0) || n) && this.splittableMarks.push(e.name);
            const s = se(e, "onBeforeCreate", r)
              , l = se(e, "onCreate", r)
              , o = se(e, "onUpdate", r)
              , u = se(e, "onSelectionUpdate", r)
              , f = se(e, "onTransaction", r)
              , p = se(e, "onFocus", r)
              , m = se(e, "onBlur", r)
              , g = se(e, "onDestroy", r);
            s && this.editor.on("beforeCreate", s),
            l && this.editor.on("create", l),
            o && this.editor.on("update", o),
            u && this.editor.on("selectionUpdate", u),
            f && this.editor.on("transaction", f),
            p && this.editor.on("focus", p),
            m && this.editor.on("blur", m),
            g && this.editor.on("destroy", g)
        }
        )
    }
}
class Xt {
    constructor(e={}) {
        this.type = "extension",
        this.name = "extension",
        this.parent = null,
        this.child = null,
        this.config = {
            name: this.name,
            defaultOptions: {}
        },
        this.config = {
            ...this.config,
            ...e
        },
        this.name = this.config.name,
        e.defaultOptions && Object.keys(e.defaultOptions).length > 0 && console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),
        this.options = this.config.defaultOptions,
        this.config.addOptions && (this.options = Ne(se(this, "addOptions", {
            name: this.name
        }))),
        this.storage = Ne(se(this, "addStorage", {
            name: this.name,
            options: this.options
        })) || {}
    }
    static create(e={}) {
        return new Xt(e)
    }
    configure(e={}) {
        const n = this.extend({
            ...this.config,
            addOptions: () => nf(this.options, e)
        });
        return n.name = this.name,
        n.parent = this.parent,
        n
    }
    extend(e={}) {
        const n = new Xt({
            ...this.config,
            ...e
        });
        return n.parent = this,
        this.child = n,
        n.name = e.name ? e.name : n.parent.name,
        e.defaultOptions && Object.keys(e.defaultOptions).length > 0 && console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),
        n.options = Ne(se(n, "addOptions", {
            name: n.name
        })),
        n.storage = Ne(se(n, "addStorage", {
            name: n.name,
            options: n.options
        })),
        n
    }
}
function oN(t, e, n) {
    const {from: r, to: s} = e
      , {blockSeparator: l=`

`, textSerializers: o={}} = n || {};
    let u = "";
    return t.nodesBetween(r, s, (f, p, m, g) => {
        var v;
        f.isBlock && p > r && (u += l);
        const N = o?.[f.type.name];
        if (N)
            return m && (u += N({
                node: f,
                pos: p,
                parent: m,
                index: g,
                range: e
            })),
            !1;
        f.isText && (u += (v = f?.text) === null || v === void 0 ? void 0 : v.slice(Math.max(r, p) - p, s - p))
    }
    ),
    u
}
function uN(t) {
    return Object.fromEntries(Object.entries(t.nodes).filter( ([,e]) => e.spec.toText).map( ([e,n]) => [e, n.spec.toText]))
}
const QM = Xt.create({
    name: "clipboardTextSerializer",
    addOptions() {
        return {
            blockSeparator: void 0
        }
    },
    addProseMirrorPlugins() {
        return [new yt({
            key: new $t("clipboardTextSerializer"),
            props: {
                clipboardTextSerializer: () => {
                    const {editor: t} = this
                      , {state: e, schema: n} = t
                      , {doc: r, selection: s} = e
                      , {ranges: l} = s
                      , o = Math.min(...l.map(m => m.$from.pos))
                      , u = Math.max(...l.map(m => m.$to.pos))
                      , f = uN(n);
                    return oN(r, {
                        from: o,
                        to: u
                    }, {
                        ...this.options.blockSeparator !== void 0 ? {
                            blockSeparator: this.options.blockSeparator
                        } : {},
                        textSerializers: f
                    })
                }
            }
        })]
    }
})
  , ZM = () => ({editor: t, view: e}) => (requestAnimationFrame( () => {
    var n;
    t.isDestroyed || (e.dom.blur(),
    (n = window?.getSelection()) === null || n === void 0 || n.removeAllRanges())
}
),
!0)
  , WM = (t=!1) => ({commands: e}) => e.setContent("", t)
  , e7 = () => ({state: t, tr: e, dispatch: n}) => {
    const {selection: r} = e
      , {ranges: s} = r;
    return n && s.forEach( ({$from: l, $to: o}) => {
        t.doc.nodesBetween(l.pos, o.pos, (u, f) => {
            if (u.type.isText)
                return;
            const {doc: p, mapping: m} = e
              , g = p.resolve(m.map(f))
              , v = p.resolve(m.map(f + u.nodeSize))
              , N = g.blockRange(v);
            if (!N)
                return;
            const y = Pl(N);
            if (u.type.isTextblock) {
                const {defaultType: w} = g.parent.contentMatchAt(g.index());
                e.setNodeMarkup(N.start, w)
            }
            (y || y === 0) && e.lift(N, y)
        }
        )
    }
    ),
    !0
}
  , t7 = t => e => t(e)
  , n7 = () => ({state: t, dispatch: e}) => nN(t, e)
  , r7 = (t, e) => ({editor: n, tr: r}) => {
    const {state: s} = n
      , l = s.doc.slice(t.from, t.to);
    r.deleteRange(t.from, t.to);
    const o = r.mapping.map(e);
    return r.insert(o, l.content),
    r.setSelection(new ce(r.doc.resolve(Math.max(o - 1, 0)))),
    !0
}
  , s7 = () => ({tr: t, dispatch: e}) => {
    const {selection: n} = t
      , r = n.$anchor.node();
    if (r.content.size > 0)
        return !1;
    const s = t.selection.$anchor;
    for (let l = s.depth; l > 0; l -= 1)
        if (s.node(l).type === r.type) {
            if (e) {
                const u = s.before(l)
                  , f = s.after(l);
                t.delete(u, f).scrollIntoView()
            }
            return !0
        }
    return !1
}
  , i7 = t => ({tr: e, state: n, dispatch: r}) => {
    const s = At(t, n.schema)
      , l = e.selection.$anchor;
    for (let o = l.depth; o > 0; o -= 1)
        if (l.node(o).type === s) {
            if (r) {
                const f = l.before(o)
                  , p = l.after(o);
                e.delete(f, p).scrollIntoView()
            }
            return !0
        }
    return !1
}
  , l7 = t => ({tr: e, dispatch: n}) => {
    const {from: r, to: s} = t;
    return n && e.delete(r, s),
    !0
}
  , a7 = () => ({state: t, dispatch: e}) => eg(t, e)
  , o7 = () => ({commands: t}) => t.keyboardShortcut("Enter")
  , u7 = () => ({state: t, dispatch: e}) => NM(t, e);
function Wc(t, e, n={
    strict: !0
}) {
    const r = Object.keys(e);
    return r.length ? r.every(s => n.strict ? e[s] === t[s] : lg(e[s]) ? e[s].test(t[s]) : e[s] === t[s]) : !0
}
function cN(t, e, n={}) {
    return t.find(r => r.type === e && Wc(Object.fromEntries(Object.keys(n).map(s => [s, r.attrs[s]])), n))
}
function _v(t, e, n={}) {
    return !!cN(t, e, n)
}
function ag(t, e, n) {
    var r;
    if (!t || !e)
        return;
    let s = t.parent.childAfter(t.parentOffset);
    if ((!s.node || !s.node.marks.some(m => m.type === e)) && (s = t.parent.childBefore(t.parentOffset)),
    !s.node || !s.node.marks.some(m => m.type === e) || (n = n || ((r = s.node.marks[0]) === null || r === void 0 ? void 0 : r.attrs),
    !cN([...s.node.marks], e, n)))
        return;
    let o = s.index
      , u = t.start() + s.offset
      , f = o + 1
      , p = u + s.node.nodeSize;
    for (; o > 0 && _v([...t.parent.child(o - 1).marks], e, n); )
        o -= 1,
        u -= t.parent.child(o).nodeSize;
    for (; f < t.parent.childCount && _v([...t.parent.child(f).marks], e, n); )
        p += t.parent.child(f).nodeSize,
        f += 1;
    return {
        from: u,
        to: p
    }
}
function Ps(t, e) {
    if (typeof t == "string") {
        if (!e.marks[t])
            throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);
        return e.marks[t]
    }
    return t
}
const c7 = (t, e={}) => ({tr: n, state: r, dispatch: s}) => {
    const l = Ps(t, r.schema)
      , {doc: o, selection: u} = n
      , {$from: f, from: p, to: m} = u;
    if (s) {
        const g = ag(f, l, e);
        if (g && g.from <= p && g.to >= m) {
            const v = ce.create(o, g.from, g.to);
            n.setSelection(v)
        }
    }
    return !0
}
  , d7 = t => e => {
    const n = typeof t == "function" ? t(e) : t;
    for (let r = 0; r < n.length; r += 1)
        if (n[r](e))
            return !0;
    return !1
}
;
function dN(t) {
    return t instanceof ce
}
function gi(t=0, e=0, n=0) {
    return Math.min(Math.max(t, e), n)
}
function fN(t, e=null) {
    if (!e)
        return null;
    const n = he.atStart(t)
      , r = he.atEnd(t);
    if (e === "start" || e === !0)
        return n;
    if (e === "end")
        return r;
    const s = n.from
      , l = r.to;
    return e === "all" ? ce.create(t, gi(0, s, l), gi(t.content.size, s, l)) : ce.create(t, gi(e, s, l), gi(e, s, l))
}
function f7() {
    return navigator.platform === "Android" || /android/i.test(navigator.userAgent)
}
function og() {
    return ["iPad Simulator", "iPhone Simulator", "iPod Simulator", "iPad", "iPhone", "iPod"].includes(navigator.platform) || navigator.userAgent.includes("Mac") && "ontouchend"in document
}
const h7 = (t=null, e={}) => ({editor: n, view: r, tr: s, dispatch: l}) => {
    e = {
        scrollIntoView: !0,
        ...e
    };
    const o = () => {
        (og() || f7()) && r.dom.focus(),
        requestAnimationFrame( () => {
            n.isDestroyed || (r.focus(),
            e?.scrollIntoView && n.commands.scrollIntoView())
        }
        )
    }
    ;
    if (r.hasFocus() && t === null || t === !1)
        return !0;
    if (l && t === null && !dN(n.state.selection))
        return o(),
        !0;
    const u = fN(s.doc, t) || n.state.selection
      , f = n.state.selection.eq(u);
    return l && (f || s.setSelection(u),
    f && s.storedMarks && s.setStoredMarks(s.storedMarks),
    o()),
    !0
}
  , p7 = (t, e) => n => t.every( (r, s) => e(r, {
    ...n,
    index: s
}))
  , m7 = (t, e) => ({tr: n, commands: r}) => r.insertContentAt({
    from: n.selection.from,
    to: n.selection.to
}, t, e)
  , hN = t => {
    const e = t.childNodes;
    for (let n = e.length - 1; n >= 0; n -= 1) {
        const r = e[n];
        r.nodeType === 3 && r.nodeValue && /^(\n\s\s|\n)$/.test(r.nodeValue) ? t.removeChild(r) : r.nodeType === 1 && hN(r)
    }
    return t
}
;
function hc(t) {
    const e = `<body>${t}</body>`
      , n = new window.DOMParser().parseFromString(e, "text/html").body;
    return hN(n)
}
function xo(t, e, n) {
    if (t instanceof Rs || t instanceof X)
        return t;
    n = {
        slice: !0,
        parseOptions: {},
        ...n
    };
    const r = typeof t == "object" && t !== null
      , s = typeof t == "string";
    if (r)
        try {
            if (Array.isArray(t) && t.length > 0)
                return X.fromArray(t.map(u => e.nodeFromJSON(u)));
            const o = e.nodeFromJSON(t);
            return n.errorOnInvalidContent && o.check(),
            o
        } catch (l) {
            if (n.errorOnInvalidContent)
                throw new Error("[tiptap error]: Invalid JSON content",{
                    cause: l
                });
            return console.warn("[tiptap warn]: Invalid content.", "Passed value:", t, "Error:", l),
            xo("", e, n)
        }
    if (s) {
        if (n.errorOnInvalidContent) {
            let o = !1
              , u = "";
            const f = new Y6({
                topNode: e.spec.topNode,
                marks: e.spec.marks,
                nodes: e.spec.nodes.append({
                    __tiptap__private__unknown__catch__all__node: {
                        content: "inline*",
                        group: "block",
                        parseDOM: [{
                            tag: "*",
                            getAttrs: p => (o = !0,
                            u = typeof p == "string" ? p : p.outerHTML,
                            null)
                        }]
                    }
                })
            });
            if (n.slice ? zs.fromSchema(f).parseSlice(hc(t), n.parseOptions) : zs.fromSchema(f).parse(hc(t), n.parseOptions),
            n.errorOnInvalidContent && o)
                throw new Error("[tiptap error]: Invalid HTML content",{
                    cause: new Error(`Invalid element found: ${u}`)
                })
        }
        const l = zs.fromSchema(e);
        return n.slice ? l.parseSlice(hc(t), n.parseOptions).content : l.parse(hc(t), n.parseOptions)
    }
    return xo("", e, n)
}
function g7(t, e, n) {
    const r = t.steps.length - 1;
    if (r < e)
        return;
    const s = t.steps[r];
    if (!(s instanceof Ct || s instanceof Et))
        return;
    const l = t.mapping.maps[r];
    let o = 0;
    l.forEach( (u, f, p, m) => {
        o === 0 && (o = m)
    }
    ),
    t.setSelection(he.near(t.doc.resolve(o), n))
}
const x7 = t => !("type"in t)
  , b7 = (t, e, n) => ({tr: r, dispatch: s, editor: l}) => {
    var o;
    if (s) {
        n = {
            parseOptions: l.options.parseOptions,
            updateSelection: !0,
            applyInputRules: !1,
            applyPasteRules: !1,
            ...n
        };
        let u;
        const f = C => {
            l.emit("contentError", {
                editor: l,
                error: C,
                disableCollaboration: () => {
                    l.storage.collaboration && (l.storage.collaboration.isDisabled = !0)
                }
            })
        }
          , p = {
            preserveWhitespace: "full",
            ...n.parseOptions
        };
        if (!n.errorOnInvalidContent && !l.options.enableContentCheck && l.options.emitContentError)
            try {
                xo(e, l.schema, {
                    parseOptions: p,
                    errorOnInvalidContent: !0
                })
            } catch (C) {
                f(C)
            }
        try {
            u = xo(e, l.schema, {
                parseOptions: p,
                errorOnInvalidContent: (o = n.errorOnInvalidContent) !== null && o !== void 0 ? o : l.options.enableContentCheck
            })
        } catch (C) {
            return f(C),
            !1
        }
        let {from: m, to: g} = typeof t == "number" ? {
            from: t,
            to: t
        } : {
            from: t.from,
            to: t.to
        }
          , v = !0
          , N = !0;
        if ((x7(u) ? u : [u]).forEach(C => {
            C.check(),
            v = v ? C.isText && C.marks.length === 0 : !1,
            N = N ? C.isBlock : !1
        }
        ),
        m === g && N) {
            const {parent: C} = r.doc.resolve(m);
            C.isTextblock && !C.type.spec.code && !C.childCount && (m -= 1,
            g += 1)
        }
        let w;
        if (v) {
            if (Array.isArray(e))
                w = e.map(C => C.text || "").join("");
            else if (e instanceof X) {
                let C = "";
                e.forEach(E => {
                    E.text && (C += E.text)
                }
                ),
                w = C
            } else
                typeof e == "object" && e && e.text ? w = e.text : w = e;
            r.insertText(w, m, g)
        } else
            w = u,
            r.replaceWith(m, g, w);
        n.updateSelection && g7(r, r.steps.length - 1, -1),
        n.applyInputRules && r.setMeta("applyInputRules", {
            from: m,
            text: w
        }),
        n.applyPasteRules && r.setMeta("applyPasteRules", {
            from: m,
            text: w
        })
    }
    return !0
}
  , y7 = () => ({state: t, dispatch: e}) => bM(t, e)
  , v7 = () => ({state: t, dispatch: e}) => yM(t, e)
  , N7 = () => ({state: t, dispatch: e}) => J4(t, e)
  , w7 = () => ({state: t, dispatch: e}) => W4(t, e)
  , C7 = () => ({state: t, dispatch: e, tr: n}) => {
    try {
        const r = Gd(t.doc, t.selection.$from.pos, -1);
        return r == null ? !1 : (n.join(r, 2),
        e && e(n),
        !0)
    } catch {
        return !1
    }
}
  , S7 = () => ({state: t, dispatch: e, tr: n}) => {
    try {
        const r = Gd(t.doc, t.selection.$from.pos, 1);
        return r == null ? !1 : (n.join(r, 2),
        e && e(n),
        !0)
    } catch {
        return !1
    }
}
  , j7 = () => ({state: t, dispatch: e}) => gM(t, e)
  , E7 = () => ({state: t, dispatch: e}) => xM(t, e);
function pN() {
    return typeof navigator < "u" ? /Mac/.test(navigator.platform) : !1
}
function k7(t) {
    const e = t.split(/-(?!$)/);
    let n = e[e.length - 1];
    n === "Space" && (n = " ");
    let r, s, l, o;
    for (let u = 0; u < e.length - 1; u += 1) {
        const f = e[u];
        if (/^(cmd|meta|m)$/i.test(f))
            o = !0;
        else if (/^a(lt)?$/i.test(f))
            r = !0;
        else if (/^(c|ctrl|control)$/i.test(f))
            s = !0;
        else if (/^s(hift)?$/i.test(f))
            l = !0;
        else if (/^mod$/i.test(f))
            og() || pN() ? o = !0 : s = !0;
        else
            throw new Error(`Unrecognized modifier name: ${f}`)
    }
    return r && (n = `Alt-${n}`),
    s && (n = `Ctrl-${n}`),
    o && (n = `Meta-${n}`),
    l && (n = `Shift-${n}`),
    n
}
const A7 = t => ({editor: e, view: n, tr: r, dispatch: s}) => {
    const l = k7(t).split(/-(?!$)/)
      , o = l.find(p => !["Alt", "Ctrl", "Meta", "Shift"].includes(p))
      , u = new KeyboardEvent("keydown",{
        key: o === "Space" ? " " : o,
        altKey: l.includes("Alt"),
        ctrlKey: l.includes("Ctrl"),
        metaKey: l.includes("Meta"),
        shiftKey: l.includes("Shift"),
        bubbles: !0,
        cancelable: !0
    })
      , f = e.captureTransaction( () => {
        n.someProp("handleKeyDown", p => p(n, u))
    }
    );
    return f?.steps.forEach(p => {
        const m = p.map(r.mapping);
        m && s && r.maybeStep(m)
    }
    ),
    !0
}
;
function bo(t, e, n={}) {
    const {from: r, to: s, empty: l} = t.selection
      , o = e ? At(e, t.schema) : null
      , u = [];
    t.doc.nodesBetween(r, s, (g, v) => {
        if (g.isText)
            return;
        const N = Math.max(r, v)
          , y = Math.min(s, v + g.nodeSize);
        u.push({
            node: g,
            from: N,
            to: y
        })
    }
    );
    const f = s - r
      , p = u.filter(g => o ? o.name === g.node.type.name : !0).filter(g => Wc(g.node.attrs, n, {
        strict: !1
    }));
    return l ? !!p.length : p.reduce( (g, v) => g + v.to - v.from, 0) >= f
}
const _7 = (t, e={}) => ({state: n, dispatch: r}) => {
    const s = At(t, n.schema);
    return bo(n, s, e) ? vM(n, r) : !1
}
  , T7 = () => ({state: t, dispatch: e}) => rN(t, e)
  , D7 = t => ({state: e, dispatch: n}) => {
    const r = At(t, e.schema);
    return MM(r)(e, n)
}
  , M7 = () => ({state: t, dispatch: e}) => tN(t, e);
function rf(t, e) {
    return e.nodes[t] ? "node" : e.marks[t] ? "mark" : null
}
function Tv(t, e) {
    const n = typeof e == "string" ? [e] : e;
    return Object.keys(t).reduce( (r, s) => (n.includes(s) || (r[s] = t[s]),
    r), {})
}
const O7 = (t, e) => ({tr: n, state: r, dispatch: s}) => {
    let l = null
      , o = null;
    const u = rf(typeof t == "string" ? t : t.name, r.schema);
    return u ? (u === "node" && (l = At(t, r.schema)),
    u === "mark" && (o = Ps(t, r.schema)),
    s && n.selection.ranges.forEach(f => {
        r.doc.nodesBetween(f.$from.pos, f.$to.pos, (p, m) => {
            l && l === p.type && n.setNodeMarkup(m, void 0, Tv(p.attrs, e)),
            o && p.marks.length && p.marks.forEach(g => {
                o === g.type && n.addMark(m, m + p.nodeSize, o.create(Tv(g.attrs, e)))
            }
            )
        }
        )
    }
    ),
    !0) : !1
}
  , R7 = () => ({tr: t, dispatch: e}) => (e && t.scrollIntoView(),
!0)
  , z7 = () => ({tr: t, dispatch: e}) => {
    if (e) {
        const n = new Cn(t.doc);
        t.setSelection(n)
    }
    return !0
}
  , L7 = () => ({state: t, dispatch: e}) => Q4(t, e)
  , B7 = () => ({state: t, dispatch: e}) => eN(t, e)
  , F7 = () => ({state: t, dispatch: e}) => SM(t, e)
  , H7 = () => ({state: t, dispatch: e}) => kM(t, e)
  , U7 = () => ({state: t, dispatch: e}) => EM(t, e);
function Wp(t, e, n={}, r={}) {
    return xo(t, e, {
        slice: !1,
        parseOptions: n,
        errorOnInvalidContent: r.errorOnInvalidContent
    })
}
const q7 = (t, e=!1, n={}, r={}) => ({editor: s, tr: l, dispatch: o, commands: u}) => {
    var f, p;
    const {doc: m} = l;
    if (n.preserveWhitespace !== "full") {
        const g = Wp(t, s.schema, n, {
            errorOnInvalidContent: (f = r.errorOnInvalidContent) !== null && f !== void 0 ? f : s.options.enableContentCheck
        });
        return o && l.replaceWith(0, m.content.size, g).setMeta("preventUpdate", !e),
        !0
    }
    return o && l.setMeta("preventUpdate", !e),
    u.insertContentAt({
        from: 0,
        to: m.content.size
    }, t, {
        parseOptions: n,
        errorOnInvalidContent: (p = r.errorOnInvalidContent) !== null && p !== void 0 ? p : s.options.enableContentCheck
    })
}
;
function mN(t, e) {
    const n = Ps(e, t.schema)
      , {from: r, to: s, empty: l} = t.selection
      , o = [];
    l ? (t.storedMarks && o.push(...t.storedMarks),
    o.push(...t.selection.$head.marks())) : t.doc.nodesBetween(r, s, f => {
        o.push(...f.marks)
    }
    );
    const u = o.find(f => f.type.name === n.name);
    return u ? {
        ...u.attrs
    } : {}
}
function I7(t, e) {
    const n = new Im(t);
    return e.forEach(r => {
        r.steps.forEach(s => {
            n.step(s)
        }
        )
    }
    ),
    n
}
function $7(t) {
    for (let e = 0; e < t.edgeCount; e += 1) {
        const {type: n} = t.edge(e);
        if (n.isTextblock && !n.hasRequiredAttrs())
            return n
    }
    return null
}
function P7(t, e, n) {
    const r = [];
    return t.nodesBetween(e.from, e.to, (s, l) => {
        n(s) && r.push({
            node: s,
            pos: l
        })
    }
    ),
    r
}
function gN(t, e) {
    for (let n = t.depth; n > 0; n -= 1) {
        const r = t.node(n);
        if (e(r))
            return {
                pos: n > 0 ? t.before(n) : 0,
                start: t.start(n),
                depth: n,
                node: r
            }
    }
}
function ug(t) {
    return e => gN(e.$from, t)
}
function V7(t, e) {
    const n = {
        from: 0,
        to: t.content.size
    };
    return oN(t, n, e)
}
function G7(t, e) {
    const n = At(e, t.schema)
      , {from: r, to: s} = t.selection
      , l = [];
    t.doc.nodesBetween(r, s, u => {
        l.push(u)
    }
    );
    const o = l.reverse().find(u => u.type.name === n.name);
    return o ? {
        ...o.attrs
    } : {}
}
function xN(t, e) {
    const n = rf(typeof e == "string" ? e : e.name, t.schema);
    return n === "node" ? G7(t, e) : n === "mark" ? mN(t, e) : {}
}
function K7(t, e=JSON.stringify) {
    const n = {};
    return t.filter(r => {
        const s = e(r);
        return Object.prototype.hasOwnProperty.call(n, s) ? !1 : n[s] = !0
    }
    )
}
function Y7(t) {
    const e = K7(t);
    return e.length === 1 ? e : e.filter( (n, r) => !e.filter( (l, o) => o !== r).some(l => n.oldRange.from >= l.oldRange.from && n.oldRange.to <= l.oldRange.to && n.newRange.from >= l.newRange.from && n.newRange.to <= l.newRange.to))
}
function J7(t) {
    const {mapping: e, steps: n} = t
      , r = [];
    return e.maps.forEach( (s, l) => {
        const o = [];
        if (s.ranges.length)
            s.forEach( (u, f) => {
                o.push({
                    from: u,
                    to: f
                })
            }
            );
        else {
            const {from: u, to: f} = n[l];
            if (u === void 0 || f === void 0)
                return;
            o.push({
                from: u,
                to: f
            })
        }
        o.forEach( ({from: u, to: f}) => {
            const p = e.slice(l).map(u, -1)
              , m = e.slice(l).map(f)
              , g = e.invert().map(p, -1)
              , v = e.invert().map(m);
            r.push({
                oldRange: {
                    from: g,
                    to: v
                },
                newRange: {
                    from: p,
                    to: m
                }
            })
        }
        )
    }
    ),
    Y7(r)
}
function cg(t, e, n) {
    const r = [];
    return t === e ? n.resolve(t).marks().forEach(s => {
        const l = n.resolve(t)
          , o = ag(l, s.type);
        o && r.push({
            mark: s,
            ...o
        })
    }
    ) : n.nodesBetween(t, e, (s, l) => {
        !s || s?.nodeSize === void 0 || r.push(...s.marks.map(o => ({
            from: l,
            to: l + s.nodeSize,
            mark: o
        })))
    }
    ),
    r
}
function _c(t, e, n) {
    return Object.fromEntries(Object.entries(n).filter( ([r]) => {
        const s = t.find(l => l.type === e && l.name === r);
        return s ? s.attribute.keepOnSplit : !1
    }
    ))
}
function em(t, e, n={}) {
    const {empty: r, ranges: s} = t.selection
      , l = e ? Ps(e, t.schema) : null;
    if (r)
        return !!(t.storedMarks || t.selection.$from.marks()).filter(g => l ? l.name === g.type.name : !0).find(g => Wc(g.attrs, n, {
            strict: !1
        }));
    let o = 0;
    const u = [];
    if (s.forEach( ({$from: g, $to: v}) => {
        const N = g.pos
          , y = v.pos;
        t.doc.nodesBetween(N, y, (w, C) => {
            if (!w.isText && !w.marks.length)
                return;
            const E = Math.max(N, C)
              , A = Math.min(y, C + w.nodeSize)
              , _ = A - E;
            o += _,
            u.push(...w.marks.map(O => ({
                mark: O,
                from: E,
                to: A
            })))
        }
        )
    }
    ),
    o === 0)
        return !1;
    const f = u.filter(g => l ? l.name === g.mark.type.name : !0).filter(g => Wc(g.mark.attrs, n, {
        strict: !1
    })).reduce( (g, v) => g + v.to - v.from, 0)
      , p = u.filter(g => l ? g.mark.type !== l && g.mark.type.excludes(l) : !0).reduce( (g, v) => g + v.to - v.from, 0);
    return (f > 0 ? f + p : f) >= o
}
function X7(t, e, n={}) {
    if (!e)
        return bo(t, null, n) || em(t, null, n);
    const r = rf(e, t.schema);
    return r === "node" ? bo(t, e, n) : r === "mark" ? em(t, e, n) : !1
}
function Dv(t, e) {
    const {nodeExtensions: n} = ef(e)
      , r = n.find(o => o.name === t);
    if (!r)
        return !1;
    const s = {
        name: r.name,
        options: r.options,
        storage: r.storage
    }
      , l = Ne(se(r, "group", s));
    return typeof l != "string" ? !1 : l.split(" ").includes("list")
}
function dg(t, {checkChildren: e=!0, ignoreWhitespace: n=!1}={}) {
    var r;
    if (n) {
        if (t.type.name === "hardBreak")
            return !0;
        if (t.isText)
            return /^\s*$/m.test((r = t.text) !== null && r !== void 0 ? r : "")
    }
    if (t.isText)
        return !t.text;
    if (t.isAtom || t.isLeaf)
        return !1;
    if (t.content.childCount === 0)
        return !0;
    if (e) {
        let s = !0;
        return t.content.forEach(l => {
            s !== !1 && (dg(l, {
                ignoreWhitespace: n,
                checkChildren: e
            }) || (s = !1))
        }
        ),
        s
    }
    return !1
}
function Q7(t) {
    return t instanceof ue
}
function Z7(t, e, n) {
    var r;
    const {selection: s} = e;
    let l = null;
    if (dN(s) && (l = s.$cursor),
    l) {
        const u = (r = t.storedMarks) !== null && r !== void 0 ? r : l.marks();
        return !!n.isInSet(u) || !u.some(f => f.type.excludes(n))
    }
    const {ranges: o} = s;
    return o.some( ({$from: u, $to: f}) => {
        let p = u.depth === 0 ? t.doc.inlineContent && t.doc.type.allowsMarkType(n) : !1;
        return t.doc.nodesBetween(u.pos, f.pos, (m, g, v) => {
            if (p)
                return !1;
            if (m.isInline) {
                const N = !v || v.type.allowsMarkType(n)
                  , y = !!n.isInSet(m.marks) || !m.marks.some(w => w.type.excludes(n));
                p = N && y
            }
            return !p
        }
        ),
        p
    }
    )
}
const W7 = (t, e={}) => ({tr: n, state: r, dispatch: s}) => {
    const {selection: l} = n
      , {empty: o, ranges: u} = l
      , f = Ps(t, r.schema);
    if (s)
        if (o) {
            const p = mN(r, f);
            n.addStoredMark(f.create({
                ...p,
                ...e
            }))
        } else
            u.forEach(p => {
                const m = p.$from.pos
                  , g = p.$to.pos;
                r.doc.nodesBetween(m, g, (v, N) => {
                    const y = Math.max(N, m)
                      , w = Math.min(N + v.nodeSize, g);
                    v.marks.find(E => E.type === f) ? v.marks.forEach(E => {
                        f === E.type && n.addMark(y, w, f.create({
                            ...E.attrs,
                            ...e
                        }))
                    }
                    ) : n.addMark(y, w, f.create(e))
                }
                )
            }
            );
    return Z7(r, n, f)
}
  , eO = (t, e) => ({tr: n}) => (n.setMeta(t, e),
!0)
  , tO = (t, e={}) => ({state: n, dispatch: r, chain: s}) => {
    const l = At(t, n.schema);
    let o;
    return n.selection.$anchor.sameParent(n.selection.$head) && (o = n.selection.$anchor.parent.attrs),
    l.isTextblock ? s().command( ({commands: u}) => jv(l, {
        ...o,
        ...e
    })(n) ? !0 : u.clearNodes()).command( ({state: u}) => jv(l, {
        ...o,
        ...e
    })(u, r)).run() : (console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),
    !1)
}
  , nO = t => ({tr: e, dispatch: n}) => {
    if (n) {
        const {doc: r} = e
          , s = gi(t, 0, r.content.size)
          , l = ue.create(r, s);
        e.setSelection(l)
    }
    return !0
}
  , rO = t => ({tr: e, dispatch: n}) => {
    if (n) {
        const {doc: r} = e
          , {from: s, to: l} = typeof t == "number" ? {
            from: t,
            to: t
        } : t
          , o = ce.atStart(r).from
          , u = ce.atEnd(r).to
          , f = gi(s, o, u)
          , p = gi(l, o, u)
          , m = ce.create(r, f, p);
        e.setSelection(m)
    }
    return !0
}
  , sO = t => ({state: e, dispatch: n}) => {
    const r = At(t, e.schema);
    return zM(r)(e, n)
}
;
function Mv(t, e) {
    const n = t.storedMarks || t.selection.$to.parentOffset && t.selection.$from.marks();
    if (n) {
        const r = n.filter(s => e?.includes(s.type.name));
        t.tr.ensureMarks(r)
    }
}
const iO = ({keepMarks: t=!0}={}) => ({tr: e, state: n, dispatch: r, editor: s}) => {
    const {selection: l, doc: o} = e
      , {$from: u, $to: f} = l
      , p = s.extensionManager.attributes
      , m = _c(p, u.node().type.name, u.node().attrs);
    if (l instanceof ue && l.node.isBlock)
        return !u.parentOffset || !Pr(o, u.pos) ? !1 : (r && (t && Mv(n, s.extensionManager.splittableMarks),
        e.split(u.pos).scrollIntoView()),
        !0);
    if (!u.parent.isBlock)
        return !1;
    const g = f.parentOffset === f.parent.content.size
      , v = u.depth === 0 ? void 0 : $7(u.node(-1).contentMatchAt(u.indexAfter(-1)));
    let N = g && v ? [{
        type: v,
        attrs: m
    }] : void 0
      , y = Pr(e.doc, e.mapping.map(u.pos), 1, N);
    if (!N && !y && Pr(e.doc, e.mapping.map(u.pos), 1, v ? [{
        type: v
    }] : void 0) && (y = !0,
    N = v ? [{
        type: v,
        attrs: m
    }] : void 0),
    r) {
        if (y && (l instanceof ce && e.deleteSelection(),
        e.split(e.mapping.map(u.pos), 1, N),
        v && !g && !u.parentOffset && u.parent.type !== v)) {
            const w = e.mapping.map(u.before())
              , C = e.doc.resolve(w);
            u.node(-1).canReplaceWith(C.index(), C.index() + 1, v) && e.setNodeMarkup(e.mapping.map(u.before()), v)
        }
        t && Mv(n, s.extensionManager.splittableMarks),
        e.scrollIntoView()
    }
    return y
}
  , lO = (t, e={}) => ({tr: n, state: r, dispatch: s, editor: l}) => {
    var o;
    const u = At(t, r.schema)
      , {$from: f, $to: p} = r.selection
      , m = r.selection.node;
    if (m && m.isBlock || f.depth < 2 || !f.sameParent(p))
        return !1;
    const g = f.node(-1);
    if (g.type !== u)
        return !1;
    const v = l.extensionManager.attributes;
    if (f.parent.content.size === 0 && f.node(-1).childCount === f.indexAfter(-1)) {
        if (f.depth === 2 || f.node(-3).type !== u || f.index(-2) !== f.node(-2).childCount - 1)
            return !1;
        if (s) {
            let E = X.empty;
            const A = f.index(-1) ? 1 : f.index(-2) ? 2 : 3;
            for (let G = f.depth - A; G >= f.depth - 3; G -= 1)
                E = X.from(f.node(G).copy(E));
            const _ = f.indexAfter(-1) < f.node(-2).childCount ? 1 : f.indexAfter(-2) < f.node(-3).childCount ? 2 : 3
              , O = {
                ..._c(v, f.node().type.name, f.node().attrs),
                ...e
            }
              , R = ((o = u.contentMatch.defaultType) === null || o === void 0 ? void 0 : o.createAndFill(O)) || void 0;
            E = E.append(X.from(u.createAndFill(null, R) || void 0));
            const $ = f.before(f.depth - (A - 1));
            n.replace($, f.after(-_), new ee(E,4 - A,0));
            let z = -1;
            n.doc.nodesBetween($, n.doc.content.size, (G, Y) => {
                if (z > -1)
                    return !1;
                G.isTextblock && G.content.size === 0 && (z = Y + 1)
            }
            ),
            z > -1 && n.setSelection(ce.near(n.doc.resolve(z))),
            n.scrollIntoView()
        }
        return !0
    }
    const N = p.pos === f.end() ? g.contentMatchAt(0).defaultType : null
      , y = {
        ..._c(v, g.type.name, g.attrs),
        ...e
    }
      , w = {
        ..._c(v, f.node().type.name, f.node().attrs),
        ...e
    };
    n.delete(f.pos, p.pos);
    const C = N ? [{
        type: u,
        attrs: y
    }, {
        type: N,
        attrs: w
    }] : [{
        type: u,
        attrs: y
    }];
    if (!Pr(n.doc, f.pos, 2))
        return !1;
    if (s) {
        const {selection: E, storedMarks: A} = r
          , {splittableMarks: _} = l.extensionManager
          , O = A || E.$to.parentOffset && E.$from.marks();
        if (n.split(f.pos, 2, C).scrollIntoView(),
        !O || !s)
            return !0;
        const R = O.filter($ => _.includes($.type.name));
        n.ensureMarks(R)
    }
    return !0
}
  , up = (t, e) => {
    const n = ug(o => o.type === e)(t.selection);
    if (!n)
        return !0;
    const r = t.doc.resolve(Math.max(0, n.pos - 1)).before(n.depth);
    if (r === void 0)
        return !0;
    const s = t.doc.nodeAt(r);
    return n.node.type === s?.type && Is(t.doc, n.pos) && t.join(n.pos),
    !0
}
  , cp = (t, e) => {
    const n = ug(o => o.type === e)(t.selection);
    if (!n)
        return !0;
    const r = t.doc.resolve(n.start).after(n.depth);
    if (r === void 0)
        return !0;
    const s = t.doc.nodeAt(r);
    return n.node.type === s?.type && Is(t.doc, r) && t.join(r),
    !0
}
  , aO = (t, e, n, r={}) => ({editor: s, tr: l, state: o, dispatch: u, chain: f, commands: p, can: m}) => {
    const {extensions: g, splittableMarks: v} = s.extensionManager
      , N = At(t, o.schema)
      , y = At(e, o.schema)
      , {selection: w, storedMarks: C} = o
      , {$from: E, $to: A} = w
      , _ = E.blockRange(A)
      , O = C || w.$to.parentOffset && w.$from.marks();
    if (!_)
        return !1;
    const R = ug($ => Dv($.type.name, g))(w);
    if (_.depth >= 1 && R && _.depth - R.depth <= 1) {
        if (R.node.type === N)
            return p.liftListItem(y);
        if (Dv(R.node.type.name, g) && N.validContent(R.node.content) && u)
            return f().command( () => (l.setNodeMarkup(R.pos, N),
            !0)).command( () => up(l, N)).command( () => cp(l, N)).run()
    }
    return !n || !O || !u ? f().command( () => m().wrapInList(N, r) ? !0 : p.clearNodes()).wrapInList(N, r).command( () => up(l, N)).command( () => cp(l, N)).run() : f().command( () => {
        const $ = m().wrapInList(N, r)
          , z = O.filter(G => v.includes(G.type.name));
        return l.ensureMarks(z),
        $ ? !0 : p.clearNodes()
    }
    ).wrapInList(N, r).command( () => up(l, N)).command( () => cp(l, N)).run()
}
  , oO = (t, e={}, n={}) => ({state: r, commands: s}) => {
    const {extendEmptyMarkRange: l=!1} = n
      , o = Ps(t, r.schema);
    return em(r, o, e) ? s.unsetMark(o, {
        extendEmptyMarkRange: l
    }) : s.setMark(o, e)
}
  , uO = (t, e, n={}) => ({state: r, commands: s}) => {
    const l = At(t, r.schema)
      , o = At(e, r.schema)
      , u = bo(r, l, n);
    let f;
    return r.selection.$anchor.sameParent(r.selection.$head) && (f = r.selection.$anchor.parent.attrs),
    u ? s.setNode(o, f) : s.setNode(l, {
        ...f,
        ...n
    })
}
  , cO = (t, e={}) => ({state: n, commands: r}) => {
    const s = At(t, n.schema);
    return bo(n, s, e) ? r.lift(s) : r.wrapIn(s, e)
}
  , dO = () => ({state: t, dispatch: e}) => {
    const n = t.plugins;
    for (let r = 0; r < n.length; r += 1) {
        const s = n[r];
        let l;
        if (s.spec.isInputRules && (l = s.getState(t))) {
            if (e) {
                const o = t.tr
                  , u = l.transform;
                for (let f = u.steps.length - 1; f >= 0; f -= 1)
                    o.step(u.steps[f].invert(u.docs[f]));
                if (l.text) {
                    const f = o.doc.resolve(l.from).marks();
                    o.replaceWith(l.from, l.to, t.schema.text(l.text, f))
                } else
                    o.delete(l.from, l.to)
            }
            return !0
        }
    }
    return !1
}
  , fO = () => ({tr: t, dispatch: e}) => {
    const {selection: n} = t
      , {empty: r, ranges: s} = n;
    return r || e && s.forEach(l => {
        t.removeMark(l.$from.pos, l.$to.pos)
    }
    ),
    !0
}
  , hO = (t, e={}) => ({tr: n, state: r, dispatch: s}) => {
    var l;
    const {extendEmptyMarkRange: o=!1} = e
      , {selection: u} = n
      , f = Ps(t, r.schema)
      , {$from: p, empty: m, ranges: g} = u;
    if (!s)
        return !0;
    if (m && o) {
        let {from: v, to: N} = u;
        const y = (l = p.marks().find(C => C.type === f)) === null || l === void 0 ? void 0 : l.attrs
          , w = ag(p, f, y);
        w && (v = w.from,
        N = w.to),
        n.removeMark(v, N, f)
    } else
        g.forEach(v => {
            n.removeMark(v.$from.pos, v.$to.pos, f)
        }
        );
    return n.removeStoredMark(f),
    !0
}
  , pO = (t, e={}) => ({tr: n, state: r, dispatch: s}) => {
    let l = null
      , o = null;
    const u = rf(typeof t == "string" ? t : t.name, r.schema);
    return u ? (u === "node" && (l = At(t, r.schema)),
    u === "mark" && (o = Ps(t, r.schema)),
    s && n.selection.ranges.forEach(f => {
        const p = f.$from.pos
          , m = f.$to.pos;
        let g, v, N, y;
        n.selection.empty ? r.doc.nodesBetween(p, m, (w, C) => {
            l && l === w.type && (N = Math.max(C, p),
            y = Math.min(C + w.nodeSize, m),
            g = C,
            v = w)
        }
        ) : r.doc.nodesBetween(p, m, (w, C) => {
            C < p && l && l === w.type && (N = Math.max(C, p),
            y = Math.min(C + w.nodeSize, m),
            g = C,
            v = w),
            C >= p && C <= m && (l && l === w.type && n.setNodeMarkup(C, void 0, {
                ...w.attrs,
                ...e
            }),
            o && w.marks.length && w.marks.forEach(E => {
                if (o === E.type) {
                    const A = Math.max(C, p)
                      , _ = Math.min(C + w.nodeSize, m);
                    n.addMark(A, _, o.create({
                        ...E.attrs,
                        ...e
                    }))
                }
            }
            ))
        }
        ),
        v && (g !== void 0 && n.setNodeMarkup(g, void 0, {
            ...v.attrs,
            ...e
        }),
        o && v.marks.length && v.marks.forEach(w => {
            o === w.type && n.addMark(N, y, o.create({
                ...w.attrs,
                ...e
            }))
        }
        ))
    }
    ),
    !0) : !1
}
  , mO = (t, e={}) => ({state: n, dispatch: r}) => {
    const s = At(t, n.schema);
    return AM(s, e)(n, r)
}
  , gO = (t, e={}) => ({state: n, dispatch: r}) => {
    const s = At(t, n.schema);
    return _M(s, e)(n, r)
}
;
var xO = Object.freeze({
    __proto__: null,
    blur: ZM,
    clearContent: WM,
    clearNodes: e7,
    command: t7,
    createParagraphNear: n7,
    cut: r7,
    deleteCurrentNode: s7,
    deleteNode: i7,
    deleteRange: l7,
    deleteSelection: a7,
    enter: o7,
    exitCode: u7,
    extendMarkRange: c7,
    first: d7,
    focus: h7,
    forEach: p7,
    insertContent: m7,
    insertContentAt: b7,
    joinBackward: N7,
    joinDown: v7,
    joinForward: w7,
    joinItemBackward: C7,
    joinItemForward: S7,
    joinTextblockBackward: j7,
    joinTextblockForward: E7,
    joinUp: y7,
    keyboardShortcut: A7,
    lift: _7,
    liftEmptyBlock: T7,
    liftListItem: D7,
    newlineInCode: M7,
    resetAttributes: O7,
    scrollIntoView: R7,
    selectAll: z7,
    selectNodeBackward: L7,
    selectNodeForward: B7,
    selectParentNode: F7,
    selectTextblockEnd: H7,
    selectTextblockStart: U7,
    setContent: q7,
    setMark: W7,
    setMeta: eO,
    setNode: tO,
    setNodeSelection: nO,
    setTextSelection: rO,
    sinkListItem: sO,
    splitBlock: iO,
    splitListItem: lO,
    toggleList: aO,
    toggleMark: oO,
    toggleNode: uO,
    toggleWrap: cO,
    undoInputRule: dO,
    unsetAllMarks: fO,
    unsetMark: hO,
    updateAttributes: pO,
    wrapIn: mO,
    wrapInList: gO
});
const bO = Xt.create({
    name: "commands",
    addCommands() {
        return {
            ...xO
        }
    }
})
  , yO = Xt.create({
    name: "drop",
    addProseMirrorPlugins() {
        return [new yt({
            key: new $t("tiptapDrop"),
            props: {
                handleDrop: (t, e, n, r) => {
                    this.editor.emit("drop", {
                        editor: this.editor,
                        event: e,
                        slice: n,
                        moved: r
                    })
                }
            }
        })]
    }
})
  , vO = Xt.create({
    name: "editable",
    addProseMirrorPlugins() {
        return [new yt({
            key: new $t("editable"),
            props: {
                editable: () => this.editor.options.editable
            }
        })]
    }
})
  , NO = new $t("focusEvents")
  , wO = Xt.create({
    name: "focusEvents",
    addProseMirrorPlugins() {
        const {editor: t} = this;
        return [new yt({
            key: NO,
            props: {
                handleDOMEvents: {
                    focus: (e, n) => {
                        t.isFocused = !0;
                        const r = t.state.tr.setMeta("focus", {
                            event: n
                        }).setMeta("addToHistory", !1);
                        return e.dispatch(r),
                        !1
                    }
                    ,
                    blur: (e, n) => {
                        t.isFocused = !1;
                        const r = t.state.tr.setMeta("blur", {
                            event: n
                        }).setMeta("addToHistory", !1);
                        return e.dispatch(r),
                        !1
                    }
                }
            }
        })]
    }
})
  , CO = Xt.create({
    name: "keymap",
    addKeyboardShortcuts() {
        const t = () => this.editor.commands.first( ({commands: o}) => [ () => o.undoInputRule(), () => o.command( ({tr: u}) => {
            const {selection: f, doc: p} = u
              , {empty: m, $anchor: g} = f
              , {pos: v, parent: N} = g
              , y = g.parent.isTextblock && v > 0 ? u.doc.resolve(v - 1) : g
              , w = y.parent.type.spec.isolating
              , C = g.pos - g.parentOffset
              , E = w && y.parent.childCount === 1 ? C === g.pos : he.atStart(p).from === v;
            return !m || !N.type.isTextblock || N.textContent.length || !E || E && g.parent.type.name === "paragraph" ? !1 : o.clearNodes()
        }
        ), () => o.deleteSelection(), () => o.joinBackward(), () => o.selectNodeBackward()])
          , e = () => this.editor.commands.first( ({commands: o}) => [ () => o.deleteSelection(), () => o.deleteCurrentNode(), () => o.joinForward(), () => o.selectNodeForward()])
          , r = {
            Enter: () => this.editor.commands.first( ({commands: o}) => [ () => o.newlineInCode(), () => o.createParagraphNear(), () => o.liftEmptyBlock(), () => o.splitBlock()]),
            "Mod-Enter": () => this.editor.commands.exitCode(),
            Backspace: t,
            "Mod-Backspace": t,
            "Shift-Backspace": t,
            Delete: e,
            "Mod-Delete": e,
            "Mod-a": () => this.editor.commands.selectAll()
        }
          , s = {
            ...r
        }
          , l = {
            ...r,
            "Ctrl-h": t,
            "Alt-Backspace": t,
            "Ctrl-d": e,
            "Ctrl-Alt-Backspace": e,
            "Alt-Delete": e,
            "Alt-d": e,
            "Ctrl-a": () => this.editor.commands.selectTextblockStart(),
            "Ctrl-e": () => this.editor.commands.selectTextblockEnd()
        };
        return og() || pN() ? l : s
    },
    addProseMirrorPlugins() {
        return [new yt({
            key: new $t("clearDocument"),
            appendTransaction: (t, e, n) => {
                if (t.some(w => w.getMeta("composition")))
                    return;
                const r = t.some(w => w.docChanged) && !e.doc.eq(n.doc)
                  , s = t.some(w => w.getMeta("preventClearDocument"));
                if (!r || s)
                    return;
                const {empty: l, from: o, to: u} = e.selection
                  , f = he.atStart(e.doc).from
                  , p = he.atEnd(e.doc).to;
                if (l || !(o === f && u === p) || !dg(n.doc))
                    return;
                const v = n.tr
                  , N = Zd({
                    state: n,
                    transaction: v
                })
                  , {commands: y} = new Wd({
                    editor: this.editor,
                    state: N
                });
                if (y.clearNodes(),
                !!v.steps.length)
                    return v
            }
        })]
    }
})
  , SO = Xt.create({
    name: "paste",
    addProseMirrorPlugins() {
        return [new yt({
            key: new $t("tiptapPaste"),
            props: {
                handlePaste: (t, e, n) => {
                    this.editor.emit("paste", {
                        editor: this.editor,
                        event: e,
                        slice: n
                    })
                }
            }
        })]
    }
})
  , jO = Xt.create({
    name: "tabindex",
    addProseMirrorPlugins() {
        return [new yt({
            key: new $t("tabindex"),
            props: {
                attributes: () => this.editor.isEditable ? {
                    tabindex: "0"
                } : {}
            }
        })]
    }
});
class fi {
    get name() {
        return this.node.type.name
    }
    constructor(e, n, r=!1, s=null) {
        this.currentNode = null,
        this.actualDepth = null,
        this.isBlock = r,
        this.resolvedPos = e,
        this.editor = n,
        this.currentNode = s
    }
    get node() {
        return this.currentNode || this.resolvedPos.node()
    }
    get element() {
        return this.editor.view.domAtPos(this.pos).node
    }
    get depth() {
        var e;
        return (e = this.actualDepth) !== null && e !== void 0 ? e : this.resolvedPos.depth
    }
    get pos() {
        return this.resolvedPos.pos
    }
    get content() {
        return this.node.content
    }
    set content(e) {
        let n = this.from
          , r = this.to;
        if (this.isBlock) {
            if (this.content.size === 0) {
                console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);
                return
            }
            n = this.from + 1,
            r = this.to - 1
        }
        this.editor.commands.insertContentAt({
            from: n,
            to: r
        }, e)
    }
    get attributes() {
        return this.node.attrs
    }
    get textContent() {
        return this.node.textContent
    }
    get size() {
        return this.node.nodeSize
    }
    get from() {
        return this.isBlock ? this.pos : this.resolvedPos.start(this.resolvedPos.depth)
    }
    get range() {
        return {
            from: this.from,
            to: this.to
        }
    }
    get to() {
        return this.isBlock ? this.pos + this.size : this.resolvedPos.end(this.resolvedPos.depth) + (this.node.isText ? 0 : 1)
    }
    get parent() {
        if (this.depth === 0)
            return null;
        const e = this.resolvedPos.start(this.resolvedPos.depth - 1)
          , n = this.resolvedPos.doc.resolve(e);
        return new fi(n,this.editor)
    }
    get before() {
        let e = this.resolvedPos.doc.resolve(this.from - (this.isBlock ? 1 : 2));
        return e.depth !== this.depth && (e = this.resolvedPos.doc.resolve(this.from - 3)),
        new fi(e,this.editor)
    }
    get after() {
        let e = this.resolvedPos.doc.resolve(this.to + (this.isBlock ? 2 : 1));
        return e.depth !== this.depth && (e = this.resolvedPos.doc.resolve(this.to + 3)),
        new fi(e,this.editor)
    }
    get children() {
        const e = [];
        return this.node.content.forEach( (n, r) => {
            const s = n.isBlock && !n.isTextblock
              , l = n.isAtom && !n.isText
              , o = this.pos + r + (l ? 0 : 1);
            if (o < 0 || o > this.resolvedPos.doc.nodeSize - 2)
                return;
            const u = this.resolvedPos.doc.resolve(o);
            if (!s && u.depth <= this.depth)
                return;
            const f = new fi(u,this.editor,s,s ? n : null);
            s && (f.actualDepth = this.depth + 1),
            e.push(new fi(u,this.editor,s,s ? n : null))
        }
        ),
        e
    }
    get firstChild() {
        return this.children[0] || null
    }
    get lastChild() {
        const e = this.children;
        return e[e.length - 1] || null
    }
    closest(e, n={}) {
        let r = null
          , s = this.parent;
        for (; s && !r; ) {
            if (s.node.type.name === e)
                if (Object.keys(n).length > 0) {
                    const l = s.node.attrs
                      , o = Object.keys(n);
                    for (let u = 0; u < o.length; u += 1) {
                        const f = o[u];
                        if (l[f] !== n[f])
                            break
                    }
                } else
                    r = s;
            s = s.parent
        }
        return r
    }
    querySelector(e, n={}) {
        return this.querySelectorAll(e, n, !0)[0] || null
    }
    querySelectorAll(e, n={}, r=!1) {
        let s = [];
        if (!this.children || this.children.length === 0)
            return s;
        const l = Object.keys(n);
        return this.children.forEach(o => {
            r && s.length > 0 || (o.node.type.name === e && l.every(f => n[f] === o.node.attrs[f]) && s.push(o),
            !(r && s.length > 0) && (s = s.concat(o.querySelectorAll(e, n, r))))
        }
        ),
        s
    }
    setAttribute(e) {
        const {tr: n} = this.editor.state;
        n.setNodeMarkup(this.from, void 0, {
            ...this.node.attrs,
            ...e
        }),
        this.editor.view.dispatch(n)
    }
}
const EO = `.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;
function kO(t, e, n) {
    const r = document.querySelector("style[data-tiptap-style]");
    if (r !== null)
        return r;
    const s = document.createElement("style");
    return e && s.setAttribute("nonce", e),
    s.setAttribute("data-tiptap-style", ""),
    s.innerHTML = t,
    document.getElementsByTagName("head")[0].appendChild(s),
    s
}
class AO extends LM {
    constructor(e={}) {
        super(),
        this.isFocused = !1,
        this.isInitialized = !1,
        this.extensionStorage = {},
        this.options = {
            element: document.createElement("div"),
            content: "",
            injectCSS: !0,
            injectNonce: void 0,
            extensions: [],
            autofocus: !1,
            editable: !0,
            editorProps: {},
            parseOptions: {},
            coreExtensionOptions: {},
            enableInputRules: !0,
            enablePasteRules: !0,
            enableCoreExtensions: !0,
            enableContentCheck: !1,
            emitContentError: !1,
            onBeforeCreate: () => null,
            onCreate: () => null,
            onUpdate: () => null,
            onSelectionUpdate: () => null,
            onTransaction: () => null,
            onFocus: () => null,
            onBlur: () => null,
            onDestroy: () => null,
            onContentError: ({error: n}) => {
                throw n
            }
            ,
            onPaste: () => null,
            onDrop: () => null
        },
        this.isCapturingTransaction = !1,
        this.capturedTransaction = null,
        this.setOptions(e),
        this.createExtensionManager(),
        this.createCommandManager(),
        this.createSchema(),
        this.on("beforeCreate", this.options.onBeforeCreate),
        this.emit("beforeCreate", {
            editor: this
        }),
        this.on("contentError", this.options.onContentError),
        this.createView(),
        this.injectCSS(),
        this.on("create", this.options.onCreate),
        this.on("update", this.options.onUpdate),
        this.on("selectionUpdate", this.options.onSelectionUpdate),
        this.on("transaction", this.options.onTransaction),
        this.on("focus", this.options.onFocus),
        this.on("blur", this.options.onBlur),
        this.on("destroy", this.options.onDestroy),
        this.on("drop", ({event: n, slice: r, moved: s}) => this.options.onDrop(n, r, s)),
        this.on("paste", ({event: n, slice: r}) => this.options.onPaste(n, r)),
        window.setTimeout( () => {
            this.isDestroyed || (this.commands.focus(this.options.autofocus),
            this.emit("create", {
                editor: this
            }),
            this.isInitialized = !0)
        }
        , 0)
    }
    get storage() {
        return this.extensionStorage
    }
    get commands() {
        return this.commandManager.commands
    }
    chain() {
        return this.commandManager.chain()
    }
    can() {
        return this.commandManager.can()
    }
    injectCSS() {
        this.options.injectCSS && document && (this.css = kO(EO, this.options.injectNonce))
    }
    setOptions(e={}) {
        this.options = {
            ...this.options,
            ...e
        },
        !(!this.view || !this.state || this.isDestroyed) && (this.options.editorProps && this.view.setProps(this.options.editorProps),
        this.view.updateState(this.state))
    }
    setEditable(e, n=!0) {
        this.setOptions({
            editable: e
        }),
        n && this.emit("update", {
            editor: this,
            transaction: this.state.tr
        })
    }
    get isEditable() {
        return this.options.editable && this.view && this.view.editable
    }
    get state() {
        return this.view.state
    }
    registerPlugin(e, n) {
        const r = aN(n) ? n(e, [...this.state.plugins]) : [...this.state.plugins, e]
          , s = this.state.reconfigure({
            plugins: r
        });
        return this.view.updateState(s),
        s
    }
    unregisterPlugin(e) {
        if (this.isDestroyed)
            return;
        const n = this.state.plugins;
        let r = n;
        if ([].concat(e).forEach(l => {
            const o = typeof l == "string" ? `${l}$` : l.key;
            r = r.filter(u => !u.key.startsWith(o))
        }
        ),
        n.length === r.length)
            return;
        const s = this.state.reconfigure({
            plugins: r
        });
        return this.view.updateState(s),
        s
    }
    createExtensionManager() {
        var e, n;
        const s = [...this.options.enableCoreExtensions ? [vO, QM.configure({
            blockSeparator: (n = (e = this.options.coreExtensionOptions) === null || e === void 0 ? void 0 : e.clipboardTextSerializer) === null || n === void 0 ? void 0 : n.blockSeparator
        }), bO, wO, CO, jO, yO, SO].filter(l => typeof this.options.enableCoreExtensions == "object" ? this.options.enableCoreExtensions[l.name] !== !1 : !0) : [], ...this.options.extensions].filter(l => ["extension", "node", "mark"].includes(l?.type));
        this.extensionManager = new El(s,this)
    }
    createCommandManager() {
        this.commandManager = new Wd({
            editor: this
        })
    }
    createSchema() {
        this.schema = this.extensionManager.schema
    }
    createView() {
        var e;
        let n;
        try {
            n = Wp(this.options.content, this.schema, this.options.parseOptions, {
                errorOnInvalidContent: this.options.enableContentCheck
            })
        } catch (o) {
            if (!(o instanceof Error) || !["[tiptap error]: Invalid JSON content", "[tiptap error]: Invalid HTML content"].includes(o.message))
                throw o;
            this.emit("contentError", {
                editor: this,
                error: o,
                disableCollaboration: () => {
                    this.storage.collaboration && (this.storage.collaboration.isDisabled = !0),
                    this.options.extensions = this.options.extensions.filter(u => u.name !== "collaboration"),
                    this.createExtensionManager()
                }
            }),
            n = Wp(this.options.content, this.schema, this.options.parseOptions, {
                errorOnInvalidContent: !1
            })
        }
        const r = fN(n, this.options.autofocus);
        this.view = new K4(this.options.element,{
            ...this.options.editorProps,
            attributes: {
                role: "textbox",
                ...(e = this.options.editorProps) === null || e === void 0 ? void 0 : e.attributes
            },
            dispatchTransaction: this.dispatchTransaction.bind(this),
            state: jl.create({
                doc: n,
                selection: r || void 0
            })
        });
        const s = this.state.reconfigure({
            plugins: this.extensionManager.plugins
        });
        this.view.updateState(s),
        this.createNodeViews(),
        this.prependClass();
        const l = this.view.dom;
        l.editor = this
    }
    createNodeViews() {
        this.view.isDestroyed || this.view.setProps({
            nodeViews: this.extensionManager.nodeViews
        })
    }
    prependClass() {
        this.view.dom.className = `tiptap ${this.view.dom.className}`
    }
    captureTransaction(e) {
        this.isCapturingTransaction = !0,
        e(),
        this.isCapturingTransaction = !1;
        const n = this.capturedTransaction;
        return this.capturedTransaction = null,
        n
    }
    dispatchTransaction(e) {
        if (this.view.isDestroyed)
            return;
        if (this.isCapturingTransaction) {
            if (!this.capturedTransaction) {
                this.capturedTransaction = e;
                return
            }
            e.steps.forEach(o => {
                var u;
                return (u = this.capturedTransaction) === null || u === void 0 ? void 0 : u.step(o)
            }
            );
            return
        }
        const n = this.state.apply(e)
          , r = !this.state.selection.eq(n.selection);
        this.emit("beforeTransaction", {
            editor: this,
            transaction: e,
            nextState: n
        }),
        this.view.updateState(n),
        this.emit("transaction", {
            editor: this,
            transaction: e
        }),
        r && this.emit("selectionUpdate", {
            editor: this,
            transaction: e
        });
        const s = e.getMeta("focus")
          , l = e.getMeta("blur");
        s && this.emit("focus", {
            editor: this,
            event: s.event,
            transaction: e
        }),
        l && this.emit("blur", {
            editor: this,
            event: l.event,
            transaction: e
        }),
        !(!e.docChanged || e.getMeta("preventUpdate")) && this.emit("update", {
            editor: this,
            transaction: e
        })
    }
    getAttributes(e) {
        return xN(this.state, e)
    }
    isActive(e, n) {
        const r = typeof e == "string" ? e : null
          , s = typeof e == "string" ? n : e;
        return X7(this.state, r, s)
    }
    getJSON() {
        return this.state.doc.toJSON()
    }
    getHTML() {
        return ig(this.state.doc.content, this.schema)
    }
    getText(e) {
        const {blockSeparator: n=`

`, textSerializers: r={}} = e || {};
        return V7(this.state.doc, {
            blockSeparator: n,
            textSerializers: {
                ...uN(this.schema),
                ...r
            }
        })
    }
    get isEmpty() {
        return dg(this.state.doc)
    }
    getCharacterCount() {
        return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),
        this.state.doc.content.size - 2
    }
    destroy() {
        if (this.emit("destroy"),
        this.view) {
            const e = this.view.dom;
            e && e.editor && delete e.editor,
            this.view.destroy()
        }
        this.removeAllListeners()
    }
    get isDestroyed() {
        var e;
        return !(!((e = this.view) === null || e === void 0) && e.docView)
    }
    $node(e, n) {
        var r;
        return ((r = this.$doc) === null || r === void 0 ? void 0 : r.querySelector(e, n)) || null
    }
    $nodes(e, n) {
        var r;
        return ((r = this.$doc) === null || r === void 0 ? void 0 : r.querySelectorAll(e, n)) || null
    }
    $pos(e) {
        const n = this.state.doc.resolve(e);
        return new fi(n,this)
    }
    get $doc() {
        return this.$pos(0)
    }
}
function Bl(t) {
    return new tf({
        find: t.find,
        handler: ({state: e, range: n, match: r}) => {
            const s = Ne(t.getAttributes, void 0, r);
            if (s === !1 || s === null)
                return null;
            const {tr: l} = e
              , o = r[r.length - 1]
              , u = r[0];
            if (o) {
                const f = u.search(/\S/)
                  , p = n.from + u.indexOf(o)
                  , m = p + o.length;
                if (cg(n.from, n.to, e.doc).filter(N => N.mark.type.excluded.find(w => w === t.type && w !== N.mark.type)).filter(N => N.to > p).length)
                    return null;
                m < n.to && l.delete(m, n.to),
                p > n.from && l.delete(n.from + f, p);
                const v = n.from + f + o.length;
                l.addMark(n.from + f, v, t.type.create(s || {})),
                l.removeStoredMark(t.type)
            }
        }
    })
}
function bN(t) {
    return new tf({
        find: t.find,
        handler: ({state: e, range: n, match: r}) => {
            const s = Ne(t.getAttributes, void 0, r) || {}
              , {tr: l} = e
              , o = n.from;
            let u = n.to;
            const f = t.type.create(s);
            if (r[1]) {
                const p = r[0].lastIndexOf(r[1]);
                let m = o + p;
                m > u ? m = u : u = m + r[1].length;
                const g = r[0][r[0].length - 1];
                l.insertText(g, o + r[0].length - 1),
                l.replaceWith(m, u, f)
            } else if (r[0]) {
                const p = t.type.isInline ? o : o - 1;
                l.insert(p, t.type.create(s)).delete(l.mapping.map(o), l.mapping.map(u))
            }
            l.scrollIntoView()
        }
    })
}
function tm(t) {
    return new tf({
        find: t.find,
        handler: ({state: e, range: n, match: r}) => {
            const s = e.doc.resolve(n.from)
              , l = Ne(t.getAttributes, void 0, r) || {};
            if (!s.node(-1).canReplaceWith(s.index(-1), s.indexAfter(-1), t.type))
                return null;
            e.tr.delete(n.from, n.to).setBlockType(n.from, n.from, t.type, l)
        }
    })
}
function yo(t) {
    return new tf({
        find: t.find,
        handler: ({state: e, range: n, match: r, chain: s}) => {
            const l = Ne(t.getAttributes, void 0, r) || {}
              , o = e.tr.delete(n.from, n.to)
              , f = o.doc.resolve(n.from).blockRange()
              , p = f && qm(f, t.type, l);
            if (!p)
                return null;
            if (o.wrap(f, p),
            t.keepMarks && t.editor) {
                const {selection: g, storedMarks: v} = e
                  , {splittableMarks: N} = t.editor.extensionManager
                  , y = v || g.$to.parentOffset && g.$from.marks();
                if (y) {
                    const w = y.filter(C => N.includes(C.type.name));
                    o.ensureMarks(w)
                }
            }
            if (t.keepAttributes) {
                const g = t.type.name === "bulletList" || t.type.name === "orderedList" ? "listItem" : "taskList";
                s().updateAttributes(g, l).run()
            }
            const m = o.doc.resolve(n.from - 1).nodeBefore;
            m && m.type === t.type && Is(o.doc, n.from - 1) && (!t.joinPredicate || t.joinPredicate(r, m)) && o.join(n.from - 1)
        }
    })
}
class bt {
    constructor(e={}) {
        this.type = "node",
        this.name = "node",
        this.parent = null,
        this.child = null,
        this.config = {
            name: this.name,
            defaultOptions: {}
        },
        this.config = {
            ...this.config,
            ...e
        },
        this.name = this.config.name,
        e.defaultOptions && Object.keys(e.defaultOptions).length > 0 && console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),
        this.options = this.config.defaultOptions,
        this.config.addOptions && (this.options = Ne(se(this, "addOptions", {
            name: this.name
        }))),
        this.storage = Ne(se(this, "addStorage", {
            name: this.name,
            options: this.options
        })) || {}
    }
    static create(e={}) {
        return new bt(e)
    }
    configure(e={}) {
        const n = this.extend({
            ...this.config,
            addOptions: () => nf(this.options, e)
        });
        return n.name = this.name,
        n.parent = this.parent,
        n
    }
    extend(e={}) {
        const n = new bt(e);
        return n.parent = this,
        this.child = n,
        n.name = e.name ? e.name : n.parent.name,
        e.defaultOptions && Object.keys(e.defaultOptions).length > 0 && console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),
        n.options = Ne(se(n, "addOptions", {
            name: n.name
        })),
        n.storage = Ne(se(n, "addStorage", {
            name: n.name,
            options: n.options
        })),
        n
    }
}
function _i(t) {
    return new VM({
        find: t.find,
        handler: ({state: e, range: n, match: r, pasteEvent: s}) => {
            const l = Ne(t.getAttributes, void 0, r, s);
            if (l === !1 || l === null)
                return null;
            const {tr: o} = e
              , u = r[r.length - 1]
              , f = r[0];
            let p = n.to;
            if (u) {
                const m = f.search(/\S/)
                  , g = n.from + f.indexOf(u)
                  , v = g + u.length;
                if (cg(n.from, n.to, e.doc).filter(y => y.mark.type.excluded.find(C => C === t.type && C !== y.mark.type)).filter(y => y.to > g).length)
                    return null;
                v < n.to && o.delete(v, n.to),
                g > n.from && o.delete(n.from + m, g),
                p = n.from + m + u.length,
                o.addMark(n.from + m, p, t.type.create(l || {})),
                o.removeStoredMark(t.type)
            }
        }
    })
}
function _O(t, e) {
    const {selection: n} = t
      , {$from: r} = n;
    if (n instanceof ue) {
        const l = r.index();
        return r.parent.canReplaceWith(l, l + 1, e)
    }
    let s = r.depth;
    for (; s >= 0; ) {
        const l = r.index(s);
        if (r.node(s).contentMatchAt(l).matchType(e))
            return !0;
        s -= 1
    }
    return !1
}
function TO(t) {
    return t && t.__esModule && Object.prototype.hasOwnProperty.call(t, "default") ? t.default : t
}
var yN = {
    exports: {}
}
  , dp = {};
var Ov;
function DO() {
    if (Ov)
        return dp;
    Ov = 1;
    var t = Gt;
    function e(g, v) {
        return g === v && (g !== 0 || 1 / g === 1 / v) || g !== g && v !== v
    }
    var n = typeof Object.is == "function" ? Object.is : e
      , r = t.useState
      , s = t.useEffect
      , l = t.useLayoutEffect
      , o = t.useDebugValue;
    function u(g, v) {
        var N = v()
          , y = r({
            inst: {
                value: N,
                getSnapshot: v
            }
        })
          , w = y[0].inst
          , C = y[1];
        return l(function() {
            w.value = N,
            w.getSnapshot = v,
            f(w) && C({
                inst: w
            })
        }, [g, N, v]),
        s(function() {
            return f(w) && C({
                inst: w
            }),
            g(function() {
                f(w) && C({
                    inst: w
                })
            })
        }, [g]),
        o(N),
        N
    }
    function f(g) {
        var v = g.getSnapshot;
        g = g.value;
        try {
            var N = v();
            return !n(g, N)
        } catch {
            return !0
        }
    }
    function p(g, v) {
        return v()
    }
    var m = typeof window > "u" || typeof window.document > "u" || typeof window.document.createElement > "u" ? p : u;
    return dp.useSyncExternalStore = t.useSyncExternalStore !== void 0 ? t.useSyncExternalStore : m,
    dp
}
yN.exports = DO();
var fg = yN.exports;
const MO = (...t) => e => {
    t.forEach(n => {
        typeof n == "function" ? n(e) : n && (n.current = e)
    }
    )
}
  , OO = ({contentComponent: t}) => {
    const e = fg.useSyncExternalStore(t.subscribe, t.getSnapshot, t.getServerSnapshot);
    return Gt.createElement(Gt.Fragment, null, Object.values(e))
}
;
function RO() {
    const t = new Set;
    let e = {};
    return {
        subscribe(n) {
            return t.add(n),
            () => {
                t.delete(n)
            }
        },
        getSnapshot() {
            return e
        },
        getServerSnapshot() {
            return e
        },
        setRenderer(n, r) {
            e = {
                ...e,
                [n]: Fk.createPortal(r.reactElement, r.element, n)
            },
            t.forEach(s => s())
        },
        removeRenderer(n) {
            const r = {
                ...e
            };
            delete r[n],
            e = r,
            t.forEach(s => s())
        }
    }
}
class zO extends Gt.Component {
    constructor(e) {
        var n;
        super(e),
        this.editorContentRef = Gt.createRef(),
        this.initialized = !1,
        this.state = {
            hasContentComponentInitialized: !!(!((n = e.editor) === null || n === void 0) && n.contentComponent)
        }
    }
    componentDidMount() {
        this.init()
    }
    componentDidUpdate() {
        this.init()
    }
    init() {
        const e = this.props.editor;
        if (e && !e.isDestroyed && e.options.element) {
            if (e.contentComponent)
                return;
            const n = this.editorContentRef.current;
            n.append(...e.options.element.childNodes),
            e.setOptions({
                element: n
            }),
            e.contentComponent = RO(),
            this.state.hasContentComponentInitialized || (this.unsubscribeToContentComponent = e.contentComponent.subscribe( () => {
                this.setState(r => r.hasContentComponentInitialized ? r : {
                    hasContentComponentInitialized: !0
                }),
                this.unsubscribeToContentComponent && this.unsubscribeToContentComponent()
            }
            )),
            e.createNodeViews(),
            this.initialized = !0
        }
    }
    componentWillUnmount() {
        const e = this.props.editor;
        if (!e || (this.initialized = !1,
        e.isDestroyed || e.view.setProps({
            nodeViews: {}
        }),
        this.unsubscribeToContentComponent && this.unsubscribeToContentComponent(),
        e.contentComponent = null,
        !e.options.element.firstChild))
            return;
        const n = document.createElement("div");
        n.append(...e.options.element.childNodes),
        e.setOptions({
            element: n
        })
    }
    render() {
        const {editor: e, innerRef: n, ...r} = this.props;
        return Gt.createElement(Gt.Fragment, null, Gt.createElement("div", {
            ref: MO(n, this.editorContentRef),
            ...r
        }), e?.contentComponent && Gt.createElement(OO, {
            contentComponent: e.contentComponent
        }))
    }
}
const LO = k.forwardRef( (t, e) => {
    const n = Gt.useMemo( () => Math.floor(Math.random() * 4294967295).toString(), [t.editor]);
    return Gt.createElement(zO, {
        key: n,
        innerRef: e,
        ...t
    })
}
)
  , BO = Gt.memo(LO);
var FO = function t(e, n) {
    if (e === n)
        return !0;
    if (e && n && typeof e == "object" && typeof n == "object") {
        if (e.constructor !== n.constructor)
            return !1;
        var r, s, l;
        if (Array.isArray(e)) {
            if (r = e.length,
            r != n.length)
                return !1;
            for (s = r; s-- !== 0; )
                if (!t(e[s], n[s]))
                    return !1;
            return !0
        }
        if (e instanceof Map && n instanceof Map) {
            if (e.size !== n.size)
                return !1;
            for (s of e.entries())
                if (!n.has(s[0]))
                    return !1;
            for (s of e.entries())
                if (!t(s[1], n.get(s[0])))
                    return !1;
            return !0
        }
        if (e instanceof Set && n instanceof Set) {
            if (e.size !== n.size)
                return !1;
            for (s of e.entries())
                if (!n.has(s[0]))
                    return !1;
            return !0
        }
        if (ArrayBuffer.isView(e) && ArrayBuffer.isView(n)) {
            if (r = e.length,
            r != n.length)
                return !1;
            for (s = r; s-- !== 0; )
                if (e[s] !== n[s])
                    return !1;
            return !0
        }
        if (e.constructor === RegExp)
            return e.source === n.source && e.flags === n.flags;
        if (e.valueOf !== Object.prototype.valueOf)
            return e.valueOf() === n.valueOf();
        if (e.toString !== Object.prototype.toString)
            return e.toString() === n.toString();
        if (l = Object.keys(e),
        r = l.length,
        r !== Object.keys(n).length)
            return !1;
        for (s = r; s-- !== 0; )
            if (!Object.prototype.hasOwnProperty.call(n, l[s]))
                return !1;
        for (s = r; s-- !== 0; ) {
            var o = l[s];
            if (!(o === "_owner" && e.$$typeof) && !t(e[o], n[o]))
                return !1
        }
        return !0
    }
    return e !== e && n !== n
}
  , HO = TO(FO)
  , vN = {
    exports: {}
}
  , fp = {};
var Rv;
function UO() {
    if (Rv)
        return fp;
    Rv = 1;
    var t = Gt
      , e = fg;
    function n(p, m) {
        return p === m && (p !== 0 || 1 / p === 1 / m) || p !== p && m !== m
    }
    var r = typeof Object.is == "function" ? Object.is : n
      , s = e.useSyncExternalStore
      , l = t.useRef
      , o = t.useEffect
      , u = t.useMemo
      , f = t.useDebugValue;
    return fp.useSyncExternalStoreWithSelector = function(p, m, g, v, N) {
        var y = l(null);
        if (y.current === null) {
            var w = {
                hasValue: !1,
                value: null
            };
            y.current = w
        } else
            w = y.current;
        y = u(function() {
            function E($) {
                if (!A) {
                    if (A = !0,
                    _ = $,
                    $ = v($),
                    N !== void 0 && w.hasValue) {
                        var z = w.value;
                        if (N(z, $))
                            return O = z
                    }
                    return O = $
                }
                if (z = O,
                r(_, $))
                    return z;
                var G = v($);
                return N !== void 0 && N(z, G) ? z : (_ = $,
                O = G)
            }
            var A = !1, _, O, R = g === void 0 ? null : g;
            return [function() {
                return E(m())
            }
            , R === null ? void 0 : function() {
                return E(R())
            }
            ]
        }, [m, g, v, N]);
        var C = s(p, y[0], y[1]);
        return o(function() {
            w.hasValue = !0,
            w.value = C
        }, [C]),
        f(C),
        C
    }
    ,
    fp
}
vN.exports = UO();
var qO = vN.exports;
const IO = typeof window < "u" ? k.useLayoutEffect : k.useEffect;
class $O {
    constructor(e) {
        this.transactionNumber = 0,
        this.lastTransactionNumber = 0,
        this.subscribers = new Set,
        this.editor = e,
        this.lastSnapshot = {
            editor: e,
            transactionNumber: 0
        },
        this.getSnapshot = this.getSnapshot.bind(this),
        this.getServerSnapshot = this.getServerSnapshot.bind(this),
        this.watch = this.watch.bind(this),
        this.subscribe = this.subscribe.bind(this)
    }
    getSnapshot() {
        return this.transactionNumber === this.lastTransactionNumber ? this.lastSnapshot : (this.lastTransactionNumber = this.transactionNumber,
        this.lastSnapshot = {
            editor: this.editor,
            transactionNumber: this.transactionNumber
        },
        this.lastSnapshot)
    }
    getServerSnapshot() {
        return {
            editor: null,
            transactionNumber: 0
        }
    }
    subscribe(e) {
        return this.subscribers.add(e),
        () => {
            this.subscribers.delete(e)
        }
    }
    watch(e) {
        if (this.editor = e,
        this.editor) {
            const n = () => {
                this.transactionNumber += 1,
                this.subscribers.forEach(s => s())
            }
              , r = this.editor;
            return r.on("transaction", n),
            () => {
                r.off("transaction", n)
            }
        }
    }
}
function PO(t) {
    var e;
    const [n] = k.useState( () => new $O(t.editor))
      , r = qO.useSyncExternalStoreWithSelector(n.subscribe, n.getSnapshot, n.getServerSnapshot, t.selector, (e = t.equalityFn) !== null && e !== void 0 ? e : HO);
    return IO( () => n.watch(t.editor), [t.editor, n]),
    k.useDebugValue(r),
    r
}
const VO = !1
  , nm = typeof window > "u"
  , GO = nm || !!(typeof window < "u" && window.next);
class hg {
    constructor(e) {
        this.editor = null,
        this.subscriptions = new Set,
        this.isComponentMounted = !1,
        this.previousDeps = null,
        this.instanceId = "",
        this.options = e,
        this.subscriptions = new Set,
        this.setEditor(this.getInitialEditor()),
        this.scheduleDestroy(),
        this.getEditor = this.getEditor.bind(this),
        this.getServerSnapshot = this.getServerSnapshot.bind(this),
        this.subscribe = this.subscribe.bind(this),
        this.refreshEditorInstance = this.refreshEditorInstance.bind(this),
        this.scheduleDestroy = this.scheduleDestroy.bind(this),
        this.onRender = this.onRender.bind(this),
        this.createEditor = this.createEditor.bind(this)
    }
    setEditor(e) {
        this.editor = e,
        this.instanceId = Math.random().toString(36).slice(2, 9),
        this.subscriptions.forEach(n => n())
    }
    getInitialEditor() {
        return this.options.current.immediatelyRender === void 0 ? nm || GO ? null : this.createEditor() : (this.options.current.immediatelyRender,
        this.options.current.immediatelyRender ? this.createEditor() : null)
    }
    createEditor() {
        const e = {
            ...this.options.current,
            onBeforeCreate: (...r) => {
                var s, l;
                return (l = (s = this.options.current).onBeforeCreate) === null || l === void 0 ? void 0 : l.call(s, ...r)
            }
            ,
            onBlur: (...r) => {
                var s, l;
                return (l = (s = this.options.current).onBlur) === null || l === void 0 ? void 0 : l.call(s, ...r)
            }
            ,
            onCreate: (...r) => {
                var s, l;
                return (l = (s = this.options.current).onCreate) === null || l === void 0 ? void 0 : l.call(s, ...r)
            }
            ,
            onDestroy: (...r) => {
                var s, l;
                return (l = (s = this.options.current).onDestroy) === null || l === void 0 ? void 0 : l.call(s, ...r)
            }
            ,
            onFocus: (...r) => {
                var s, l;
                return (l = (s = this.options.current).onFocus) === null || l === void 0 ? void 0 : l.call(s, ...r)
            }
            ,
            onSelectionUpdate: (...r) => {
                var s, l;
                return (l = (s = this.options.current).onSelectionUpdate) === null || l === void 0 ? void 0 : l.call(s, ...r)
            }
            ,
            onTransaction: (...r) => {
                var s, l;
                return (l = (s = this.options.current).onTransaction) === null || l === void 0 ? void 0 : l.call(s, ...r)
            }
            ,
            onUpdate: (...r) => {
                var s, l;
                return (l = (s = this.options.current).onUpdate) === null || l === void 0 ? void 0 : l.call(s, ...r)
            }
            ,
            onContentError: (...r) => {
                var s, l;
                return (l = (s = this.options.current).onContentError) === null || l === void 0 ? void 0 : l.call(s, ...r)
            }
            ,
            onDrop: (...r) => {
                var s, l;
                return (l = (s = this.options.current).onDrop) === null || l === void 0 ? void 0 : l.call(s, ...r)
            }
            ,
            onPaste: (...r) => {
                var s, l;
                return (l = (s = this.options.current).onPaste) === null || l === void 0 ? void 0 : l.call(s, ...r)
            }
        };
        return new AO(e)
    }
    getEditor() {
        return this.editor
    }
    getServerSnapshot() {
        return null
    }
    subscribe(e) {
        return this.subscriptions.add(e),
        () => {
            this.subscriptions.delete(e)
        }
    }
    static compareOptions(e, n) {
        return Object.keys(e).every(r => ["onCreate", "onBeforeCreate", "onDestroy", "onUpdate", "onTransaction", "onFocus", "onBlur", "onSelectionUpdate", "onContentError", "onDrop", "onPaste"].includes(r) ? !0 : r === "extensions" && e.extensions && n.extensions ? e.extensions.length !== n.extensions.length ? !1 : e.extensions.every( (s, l) => {
            var o;
            return s === ((o = n.extensions) === null || o === void 0 ? void 0 : o[l])
        }
        ) : e[r] === n[r])
    }
    onRender(e) {
        return () => (this.isComponentMounted = !0,
        clearTimeout(this.scheduledDestructionTimeout),
        this.editor && !this.editor.isDestroyed && e.length === 0 ? hg.compareOptions(this.options.current, this.editor.options) || this.editor.setOptions({
            ...this.options.current,
            editable: this.editor.isEditable
        }) : this.refreshEditorInstance(e),
        () => {
            this.isComponentMounted = !1,
            this.scheduleDestroy()
        }
        )
    }
    refreshEditorInstance(e) {
        if (this.editor && !this.editor.isDestroyed) {
            if (this.previousDeps === null) {
                this.previousDeps = e;
                return
            }
            if (this.previousDeps.length === e.length && this.previousDeps.every( (r, s) => r === e[s]))
                return
        }
        this.editor && !this.editor.isDestroyed && this.editor.destroy(),
        this.setEditor(this.createEditor()),
        this.previousDeps = e
    }
    scheduleDestroy() {
        const e = this.instanceId
          , n = this.editor;
        this.scheduledDestructionTimeout = setTimeout( () => {
            if (this.isComponentMounted && this.instanceId === e) {
                n && n.setOptions(this.options.current);
                return
            }
            n && !n.isDestroyed && (n.destroy(),
            this.instanceId === e && this.setEditor(null))
        }
        , 1)
    }
}
function KO(t={}, e=[]) {
    const n = k.useRef(t);
    n.current = t;
    const [r] = k.useState( () => new hg(n))
      , s = fg.useSyncExternalStore(r.subscribe, r.getEditor, r.getServerSnapshot);
    return k.useDebugValue(s),
    k.useEffect(r.onRender(e)),
    PO({
        editor: s,
        selector: ({transactionNumber: l}) => t.shouldRerenderOnTransaction === !1 ? null : t.immediatelyRender && l === 0 ? 0 : l + 1
    }),
    s
}
const YO = k.createContext({
    editor: null
});
YO.Consumer;
const JO = k.createContext({
    onDragStart: void 0
})
  , XO = () => k.useContext(JO);
Gt.forwardRef( (t, e) => {
    const {onDragStart: n} = XO()
      , r = t.as || "div";
    return Gt.createElement(r, {
        ...t,
        ref: e,
        "data-node-view-wrapper": "",
        onDragStart: n,
        style: {
            whiteSpace: "normal",
            ...t.style
        }
    })
}
);
const QO = /^\s*>\s$/
  , NN = bt.create({
    name: "blockquote",
    addOptions() {
        return {
            HTMLAttributes: {}
        }
    },
    content: "block+",
    group: "block",
    defining: !0,
    parseHTML() {
        return [{
            tag: "blockquote"
        }]
    },
    renderHTML({HTMLAttributes: t}) {
        return ["blockquote", et(this.options.HTMLAttributes, t), 0]
    },
    addCommands() {
        return {
            setBlockquote: () => ({commands: t}) => t.wrapIn(this.name),
            toggleBlockquote: () => ({commands: t}) => t.toggleWrap(this.name),
            unsetBlockquote: () => ({commands: t}) => t.lift(this.name)
        }
    },
    addKeyboardShortcuts() {
        return {
            "Mod-Shift-b": () => this.editor.commands.toggleBlockquote()
        }
    },
    addInputRules() {
        return [yo({
            find: QO,
            type: this.type
        })]
    }
})
  , ZO = /(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/
  , WO = /(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g
  , eR = /(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/
  , tR = /(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g
  , nR = hr.create({
    name: "bold",
    addOptions() {
        return {
            HTMLAttributes: {}
        }
    },
    parseHTML() {
        return [{
            tag: "strong"
        }, {
            tag: "b",
            getAttrs: t => t.style.fontWeight !== "normal" && null
        }, {
            style: "font-weight=400",
            clearMark: t => t.type.name === this.name
        }, {
            style: "font-weight",
            getAttrs: t => /^(bold(er)?|[5-9]\d{2,})$/.test(t) && null
        }]
    },
    renderHTML({HTMLAttributes: t}) {
        return ["strong", et(this.options.HTMLAttributes, t), 0]
    },
    addCommands() {
        return {
            setBold: () => ({commands: t}) => t.setMark(this.name),
            toggleBold: () => ({commands: t}) => t.toggleMark(this.name),
            unsetBold: () => ({commands: t}) => t.unsetMark(this.name)
        }
    },
    addKeyboardShortcuts() {
        return {
            "Mod-b": () => this.editor.commands.toggleBold(),
            "Mod-B": () => this.editor.commands.toggleBold()
        }
    },
    addInputRules() {
        return [Bl({
            find: ZO,
            type: this.type
        }), Bl({
            find: eR,
            type: this.type
        })]
    },
    addPasteRules() {
        return [_i({
            find: WO,
            type: this.type
        }), _i({
            find: tR,
            type: this.type
        })]
    }
})
  , rR = "listItem"
  , zv = "textStyle"
  , Lv = /^\s*([-+*])\s$/
  , wN = bt.create({
    name: "bulletList",
    addOptions() {
        return {
            itemTypeName: "listItem",
            HTMLAttributes: {},
            keepMarks: !1,
            keepAttributes: !1
        }
    },
    group: "block list",
    content() {
        return `${this.options.itemTypeName}+`
    },
    parseHTML() {
        return [{
            tag: "ul"
        }]
    },
    renderHTML({HTMLAttributes: t}) {
        return ["ul", et(this.options.HTMLAttributes, t), 0]
    },
    addCommands() {
        return {
            toggleBulletList: () => ({commands: t, chain: e}) => this.options.keepAttributes ? e().toggleList(this.name, this.options.itemTypeName, this.options.keepMarks).updateAttributes(rR, this.editor.getAttributes(zv)).run() : t.toggleList(this.name, this.options.itemTypeName, this.options.keepMarks)
        }
    },
    addKeyboardShortcuts() {
        return {
            "Mod-Shift-8": () => this.editor.commands.toggleBulletList()
        }
    },
    addInputRules() {
        let t = yo({
            find: Lv,
            type: this.type
        });
        return (this.options.keepMarks || this.options.keepAttributes) && (t = yo({
            find: Lv,
            type: this.type,
            keepMarks: this.options.keepMarks,
            keepAttributes: this.options.keepAttributes,
            getAttributes: () => this.editor.getAttributes(zv),
            editor: this.editor
        })),
        [t]
    }
})
  , sR = /(^|[^`])`([^`]+)`(?!`)/
  , iR = /(^|[^`])`([^`]+)`(?!`)/g
  , CN = hr.create({
    name: "code",
    addOptions() {
        return {
            HTMLAttributes: {}
        }
    },
    excludes: "_",
    code: !0,
    exitable: !0,
    parseHTML() {
        return [{
            tag: "code"
        }]
    },
    renderHTML({HTMLAttributes: t}) {
        return ["code", et(this.options.HTMLAttributes, t), 0]
    },
    addCommands() {
        return {
            setCode: () => ({commands: t}) => t.setMark(this.name),
            toggleCode: () => ({commands: t}) => t.toggleMark(this.name),
            unsetCode: () => ({commands: t}) => t.unsetMark(this.name)
        }
    },
    addKeyboardShortcuts() {
        return {
            "Mod-e": () => this.editor.commands.toggleCode()
        }
    },
    addInputRules() {
        return [Bl({
            find: sR,
            type: this.type
        })]
    },
    addPasteRules() {
        return [_i({
            find: iR,
            type: this.type
        })]
    }
})
  , lR = /^```([a-z]+)?[\s\n]$/
  , aR = /^~~~([a-z]+)?[\s\n]$/
  , SN = bt.create({
    name: "codeBlock",
    addOptions() {
        return {
            languageClassPrefix: "language-",
            exitOnTripleEnter: !0,
            exitOnArrowDown: !0,
            defaultLanguage: null,
            HTMLAttributes: {}
        }
    },
    content: "text*",
    marks: "",
    group: "block",
    code: !0,
    defining: !0,
    addAttributes() {
        return {
            language: {
                default: this.options.defaultLanguage,
                parseHTML: t => {
                    var e;
                    const {languageClassPrefix: n} = this.options
                      , l = [...((e = t.firstElementChild) === null || e === void 0 ? void 0 : e.classList) || []].filter(o => o.startsWith(n)).map(o => o.replace(n, ""))[0];
                    return l || null
                }
                ,
                rendered: !1
            }
        }
    },
    parseHTML() {
        return [{
            tag: "pre",
            preserveWhitespace: "full"
        }]
    },
    renderHTML({node: t, HTMLAttributes: e}) {
        return ["pre", et(this.options.HTMLAttributes, e), ["code", {
            class: t.attrs.language ? this.options.languageClassPrefix + t.attrs.language : null
        }, 0]]
    },
    addCommands() {
        return {
            setCodeBlock: t => ({commands: e}) => e.setNode(this.name, t),
            toggleCodeBlock: t => ({commands: e}) => e.toggleNode(this.name, "paragraph", t)
        }
    },
    addKeyboardShortcuts() {
        return {
            "Mod-Alt-c": () => this.editor.commands.toggleCodeBlock(),
            Backspace: () => {
                const {empty: t, $anchor: e} = this.editor.state.selection
                  , n = e.pos === 1;
                return !t || e.parent.type.name !== this.name ? !1 : n || !e.parent.textContent.length ? this.editor.commands.clearNodes() : !1
            }
            ,
            Enter: ({editor: t}) => {
                if (!this.options.exitOnTripleEnter)
                    return !1;
                const {state: e} = t
                  , {selection: n} = e
                  , {$from: r, empty: s} = n;
                if (!s || r.parent.type !== this.type)
                    return !1;
                const l = r.parentOffset === r.parent.nodeSize - 2
                  , o = r.parent.textContent.endsWith(`

`);
                return !l || !o ? !1 : t.chain().command( ({tr: u}) => (u.delete(r.pos - 2, r.pos),
                !0)).exitCode().run()
            }
            ,
            ArrowDown: ({editor: t}) => {
                if (!this.options.exitOnArrowDown)
                    return !1;
                const {state: e} = t
                  , {selection: n, doc: r} = e
                  , {$from: s, empty: l} = n;
                if (!l || s.parent.type !== this.type || !(s.parentOffset === s.parent.nodeSize - 2))
                    return !1;
                const u = s.after();
                return u === void 0 ? !1 : r.nodeAt(u) ? t.commands.command( ({tr: p}) => (p.setSelection(he.near(r.resolve(u))),
                !0)) : t.commands.exitCode()
            }
        }
    },
    addInputRules() {
        return [tm({
            find: lR,
            type: this.type,
            getAttributes: t => ({
                language: t[1]
            })
        }), tm({
            find: aR,
            type: this.type,
            getAttributes: t => ({
                language: t[1]
            })
        })]
    },
    addProseMirrorPlugins() {
        return [new yt({
            key: new $t("codeBlockVSCodeHandler"),
            props: {
                handlePaste: (t, e) => {
                    if (!e.clipboardData || this.editor.isActive(this.type.name))
                        return !1;
                    const n = e.clipboardData.getData("text/plain")
                      , r = e.clipboardData.getData("vscode-editor-data")
                      , s = r ? JSON.parse(r) : void 0
                      , l = s?.mode;
                    if (!n || !l)
                        return !1;
                    const {tr: o, schema: u} = t.state
                      , f = u.text(n.replace(/\r\n?/g, `
`));
                    return o.replaceSelectionWith(this.type.create({
                        language: l
                    }, f)),
                    o.selection.$from.parent.type !== this.type && o.setSelection(ce.near(o.doc.resolve(Math.max(0, o.selection.from - 2)))),
                    o.setMeta("paste", !0),
                    t.dispatch(o),
                    !0
                }
            }
        })]
    }
})
  , oR = bt.create({
    name: "doc",
    topNode: !0,
    content: "block+"
});
function uR(t={}) {
    return new yt({
        view(e) {
            return new cR(e,t)
        }
    })
}
class cR {
    constructor(e, n) {
        var r;
        this.editorView = e,
        this.cursorPos = null,
        this.element = null,
        this.timeout = -1,
        this.width = (r = n.width) !== null && r !== void 0 ? r : 1,
        this.color = n.color === !1 ? void 0 : n.color || "black",
        this.class = n.class,
        this.handlers = ["dragover", "dragend", "drop", "dragleave"].map(s => {
            let l = o => {
                this[s](o)
            }
            ;
            return e.dom.addEventListener(s, l),
            {
                name: s,
                handler: l
            }
        }
        )
    }
    destroy() {
        this.handlers.forEach( ({name: e, handler: n}) => this.editorView.dom.removeEventListener(e, n))
    }
    update(e, n) {
        this.cursorPos != null && n.doc != e.state.doc && (this.cursorPos > e.state.doc.content.size ? this.setCursor(null) : this.updateOverlay())
    }
    setCursor(e) {
        e != this.cursorPos && (this.cursorPos = e,
        e == null ? (this.element.parentNode.removeChild(this.element),
        this.element = null) : this.updateOverlay())
    }
    updateOverlay() {
        let e = this.editorView.state.doc.resolve(this.cursorPos), n = !e.parent.inlineContent, r, s = this.editorView.dom, l = s.getBoundingClientRect(), o = l.width / s.offsetWidth, u = l.height / s.offsetHeight;
        if (n) {
            let g = e.nodeBefore
              , v = e.nodeAfter;
            if (g || v) {
                let N = this.editorView.nodeDOM(this.cursorPos - (g ? g.nodeSize : 0));
                if (N) {
                    let y = N.getBoundingClientRect()
                      , w = g ? y.bottom : y.top;
                    g && v && (w = (w + this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top) / 2);
                    let C = this.width / 2 * u;
                    r = {
                        left: y.left,
                        right: y.right,
                        top: w - C,
                        bottom: w + C
                    }
                }
            }
        }
        if (!r) {
            let g = this.editorView.coordsAtPos(this.cursorPos)
              , v = this.width / 2 * o;
            r = {
                left: g.left - v,
                right: g.left + v,
                top: g.top,
                bottom: g.bottom
            }
        }
        let f = this.editorView.dom.offsetParent;
        this.element || (this.element = f.appendChild(document.createElement("div")),
        this.class && (this.element.className = this.class),
        this.element.style.cssText = "position: absolute; z-index: 50; pointer-events: none;",
        this.color && (this.element.style.backgroundColor = this.color)),
        this.element.classList.toggle("prosemirror-dropcursor-block", n),
        this.element.classList.toggle("prosemirror-dropcursor-inline", !n);
        let p, m;
        if (!f || f == document.body && getComputedStyle(f).position == "static")
            p = -pageXOffset,
            m = -pageYOffset;
        else {
            let g = f.getBoundingClientRect()
              , v = g.width / f.offsetWidth
              , N = g.height / f.offsetHeight;
            p = g.left - f.scrollLeft * v,
            m = g.top - f.scrollTop * N
        }
        this.element.style.left = (r.left - p) / o + "px",
        this.element.style.top = (r.top - m) / u + "px",
        this.element.style.width = (r.right - r.left) / o + "px",
        this.element.style.height = (r.bottom - r.top) / u + "px"
    }
    scheduleRemoval(e) {
        clearTimeout(this.timeout),
        this.timeout = setTimeout( () => this.setCursor(null), e)
    }
    dragover(e) {
        if (!this.editorView.editable)
            return;
        let n = this.editorView.posAtCoords({
            left: e.clientX,
            top: e.clientY
        })
          , r = n && n.inside >= 0 && this.editorView.state.doc.nodeAt(n.inside)
          , s = r && r.type.spec.disableDropCursor
          , l = typeof s == "function" ? s(this.editorView, n, e) : s;
        if (n && !l) {
            let o = n.pos;
            if (this.editorView.dragging && this.editorView.dragging.slice) {
                let u = i4(this.editorView.state.doc, o, this.editorView.dragging.slice);
                u != null && (o = u)
            }
            this.setCursor(o),
            this.scheduleRemoval(5e3)
        }
    }
    dragend() {
        this.scheduleRemoval(20)
    }
    drop() {
        this.scheduleRemoval(20)
    }
    dragleave(e) {
        this.editorView.dom.contains(e.relatedTarget) || this.setCursor(null)
    }
}
const dR = Xt.create({
    name: "dropCursor",
    addOptions() {
        return {
            color: "currentColor",
            width: 1,
            class: void 0
        }
    },
    addProseMirrorPlugins() {
        return [uR(this.options)]
    }
});
class it extends he {
    constructor(e) {
        super(e, e)
    }
    map(e, n) {
        let r = e.resolve(n.map(this.head));
        return it.valid(r) ? new it(r) : he.near(r)
    }
    content() {
        return ee.empty
    }
    eq(e) {
        return e instanceof it && e.head == this.head
    }
    toJSON() {
        return {
            type: "gapcursor",
            pos: this.head
        }
    }
    static fromJSON(e, n) {
        if (typeof n.pos != "number")
            throw new RangeError("Invalid input for GapCursor.fromJSON");
        return new it(e.resolve(n.pos))
    }
    getBookmark() {
        return new pg(this.anchor)
    }
    static valid(e) {
        let n = e.parent;
        if (n.isTextblock || !fR(e) || !hR(e))
            return !1;
        let r = n.type.spec.allowGapCursor;
        if (r != null)
            return r;
        let s = n.contentMatchAt(e.index()).defaultType;
        return s && s.isTextblock
    }
    static findGapCursorFrom(e, n, r=!1) {
        e: for (; ; ) {
            if (!r && it.valid(e))
                return e;
            let s = e.pos
              , l = null;
            for (let o = e.depth; ; o--) {
                let u = e.node(o);
                if (n > 0 ? e.indexAfter(o) < u.childCount : e.index(o) > 0) {
                    l = u.child(n > 0 ? e.indexAfter(o) : e.index(o) - 1);
                    break
                } else if (o == 0)
                    return null;
                s += n;
                let f = e.doc.resolve(s);
                if (it.valid(f))
                    return f
            }
            for (; ; ) {
                let o = n > 0 ? l.firstChild : l.lastChild;
                if (!o) {
                    if (l.isAtom && !l.isText && !ue.isSelectable(l)) {
                        e = e.doc.resolve(s + l.nodeSize * n),
                        r = !1;
                        continue e
                    }
                    break
                }
                l = o,
                s += n;
                let u = e.doc.resolve(s);
                if (it.valid(u))
                    return u
            }
            return null
        }
    }
}
it.prototype.visible = !1;
it.findFrom = it.findGapCursorFrom;
he.jsonID("gapcursor", it);
class pg {
    constructor(e) {
        this.pos = e
    }
    map(e) {
        return new pg(e.map(this.pos))
    }
    resolve(e) {
        let n = e.resolve(this.pos);
        return it.valid(n) ? new it(n) : he.near(n)
    }
}
function jN(t) {
    return t.isAtom || t.spec.isolating || t.spec.createGapCursor
}
function fR(t) {
    for (let e = t.depth; e >= 0; e--) {
        let n = t.index(e)
          , r = t.node(e);
        if (n == 0) {
            if (r.type.spec.isolating)
                return !0;
            continue
        }
        for (let s = r.child(n - 1); ; s = s.lastChild) {
            if (s.childCount == 0 && !s.inlineContent || jN(s.type))
                return !0;
            if (s.inlineContent)
                return !1
        }
    }
    return !0
}
function hR(t) {
    for (let e = t.depth; e >= 0; e--) {
        let n = t.indexAfter(e)
          , r = t.node(e);
        if (n == r.childCount) {
            if (r.type.spec.isolating)
                return !0;
            continue
        }
        for (let s = r.child(n); ; s = s.firstChild) {
            if (s.childCount == 0 && !s.inlineContent || jN(s.type))
                return !0;
            if (s.inlineContent)
                return !1
        }
    }
    return !0
}
function pR() {
    return new yt({
        props: {
            decorations: bR,
            createSelectionBetween(t, e, n) {
                return e.pos == n.pos && it.valid(n) ? new it(n) : null
            },
            handleClick: gR,
            handleKeyDown: mR,
            handleDOMEvents: {
                beforeinput: xR
            }
        }
    })
}
const mR = Wm({
    ArrowLeft: pc("horiz", -1),
    ArrowRight: pc("horiz", 1),
    ArrowUp: pc("vert", -1),
    ArrowDown: pc("vert", 1)
});
function pc(t, e) {
    const n = t == "vert" ? e > 0 ? "down" : "up" : e > 0 ? "right" : "left";
    return function(r, s, l) {
        let o = r.selection
          , u = e > 0 ? o.$to : o.$from
          , f = o.empty;
        if (o instanceof ce) {
            if (!l.endOfTextblock(n) || u.depth == 0)
                return !1;
            f = !1,
            u = r.doc.resolve(e > 0 ? u.after() : u.before())
        }
        let p = it.findGapCursorFrom(u, e, f);
        return p ? (s && s(r.tr.setSelection(new it(p))),
        !0) : !1
    }
}
function gR(t, e, n) {
    if (!t || !t.editable)
        return !1;
    let r = t.state.doc.resolve(e);
    if (!it.valid(r))
        return !1;
    let s = t.posAtCoords({
        left: n.clientX,
        top: n.clientY
    });
    return s && s.inside > -1 && ue.isSelectable(t.state.doc.nodeAt(s.inside)) ? !1 : (t.dispatch(t.state.tr.setSelection(new it(r))),
    !0)
}
function xR(t, e) {
    if (e.inputType != "insertCompositionText" || !(t.state.selection instanceof it))
        return !1;
    let {$from: n} = t.state.selection
      , r = n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);
    if (!r)
        return !1;
    let s = X.empty;
    for (let o = r.length - 1; o >= 0; o--)
        s = X.from(r[o].createAndFill(null, s));
    let l = t.state.tr.replace(n.pos, n.pos, new ee(s,0,0));
    return l.setSelection(ce.near(l.doc.resolve(n.pos + 1))),
    t.dispatch(l),
    !1
}
function bR(t) {
    if (!(t.selection instanceof it))
        return null;
    let e = document.createElement("div");
    return e.className = "ProseMirror-gapcursor",
    st.create(t.doc, [Kt.widget(t.selection.head, e, {
        key: "gapcursor"
    })])
}
const yR = Xt.create({
    name: "gapCursor",
    addProseMirrorPlugins() {
        return [pR()]
    },
    extendNodeSchema(t) {
        var e;
        const n = {
            name: t.name,
            options: t.options,
            storage: t.storage
        };
        return {
            allowGapCursor: (e = Ne(se(t, "allowGapCursor", n))) !== null && e !== void 0 ? e : null
        }
    }
})
  , vR = bt.create({
    name: "hardBreak",
    addOptions() {
        return {
            keepMarks: !0,
            HTMLAttributes: {}
        }
    },
    inline: !0,
    group: "inline",
    selectable: !1,
    linebreakReplacement: !0,
    parseHTML() {
        return [{
            tag: "br"
        }]
    },
    renderHTML({HTMLAttributes: t}) {
        return ["br", et(this.options.HTMLAttributes, t)]
    },
    renderText() {
        return `
`
    },
    addCommands() {
        return {
            setHardBreak: () => ({commands: t, chain: e, state: n, editor: r}) => t.first([ () => t.exitCode(), () => t.command( () => {
                const {selection: s, storedMarks: l} = n;
                if (s.$from.parent.type.spec.isolating)
                    return !1;
                const {keepMarks: o} = this.options
                  , {splittableMarks: u} = r.extensionManager
                  , f = l || s.$to.parentOffset && s.$from.marks();
                return e().insertContent({
                    type: this.name
                }).command( ({tr: p, dispatch: m}) => {
                    if (m && f && o) {
                        const g = f.filter(v => u.includes(v.type.name));
                        p.ensureMarks(g)
                    }
                    return !0
                }
                ).run()
            }
            )])
        }
    },
    addKeyboardShortcuts() {
        return {
            "Mod-Enter": () => this.editor.commands.setHardBreak(),
            "Shift-Enter": () => this.editor.commands.setHardBreak()
        }
    }
})
  , EN = bt.create({
    name: "heading",
    addOptions() {
        return {
            levels: [1, 2, 3, 4, 5, 6],
            HTMLAttributes: {}
        }
    },
    content: "inline*",
    group: "block",
    defining: !0,
    addAttributes() {
        return {
            level: {
                default: 1,
                rendered: !1
            }
        }
    },
    parseHTML() {
        return this.options.levels.map(t => ({
            tag: `h${t}`,
            attrs: {
                level: t
            }
        }))
    },
    renderHTML({node: t, HTMLAttributes: e}) {
        return [`h${this.options.levels.includes(t.attrs.level) ? t.attrs.level : this.options.levels[0]}`, et(this.options.HTMLAttributes, e), 0]
    },
    addCommands() {
        return {
            setHeading: t => ({commands: e}) => this.options.levels.includes(t.level) ? e.setNode(this.name, t) : !1,
            toggleHeading: t => ({commands: e}) => this.options.levels.includes(t.level) ? e.toggleNode(this.name, "paragraph", t) : !1
        }
    },
    addKeyboardShortcuts() {
        return this.options.levels.reduce( (t, e) => ({
            ...t,
            [`Mod-Alt-${e}`]: () => this.editor.commands.toggleHeading({
                level: e
            })
        }), {})
    },
    addInputRules() {
        return this.options.levels.map(t => tm({
            find: new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),
            type: this.type,
            getAttributes: {
                level: t
            }
        }))
    }
});
var ed = 200
  , kt = function() {};
kt.prototype.append = function(e) {
    return e.length ? (e = kt.from(e),
    !this.length && e || e.length < ed && this.leafAppend(e) || this.length < ed && e.leafPrepend(this) || this.appendInner(e)) : this
}
;
kt.prototype.prepend = function(e) {
    return e.length ? kt.from(e).append(this) : this
}
;
kt.prototype.appendInner = function(e) {
    return new NR(this,e)
}
;
kt.prototype.slice = function(e, n) {
    return e === void 0 && (e = 0),
    n === void 0 && (n = this.length),
    e >= n ? kt.empty : this.sliceInner(Math.max(0, e), Math.min(this.length, n))
}
;
kt.prototype.get = function(e) {
    if (!(e < 0 || e >= this.length))
        return this.getInner(e)
}
;
kt.prototype.forEach = function(e, n, r) {
    n === void 0 && (n = 0),
    r === void 0 && (r = this.length),
    n <= r ? this.forEachInner(e, n, r, 0) : this.forEachInvertedInner(e, n, r, 0)
}
;
kt.prototype.map = function(e, n, r) {
    n === void 0 && (n = 0),
    r === void 0 && (r = this.length);
    var s = [];
    return this.forEach(function(l, o) {
        return s.push(e(l, o))
    }, n, r),
    s
}
;
kt.from = function(e) {
    return e instanceof kt ? e : e && e.length ? new kN(e) : kt.empty
}
;
var kN = (function(t) {
    function e(r) {
        t.call(this),
        this.values = r
    }
    t && (e.__proto__ = t),
    e.prototype = Object.create(t && t.prototype),
    e.prototype.constructor = e;
    var n = {
        length: {
            configurable: !0
        },
        depth: {
            configurable: !0
        }
    };
    return e.prototype.flatten = function() {
        return this.values
    }
    ,
    e.prototype.sliceInner = function(s, l) {
        return s == 0 && l == this.length ? this : new e(this.values.slice(s, l))
    }
    ,
    e.prototype.getInner = function(s) {
        return this.values[s]
    }
    ,
    e.prototype.forEachInner = function(s, l, o, u) {
        for (var f = l; f < o; f++)
            if (s(this.values[f], u + f) === !1)
                return !1
    }
    ,
    e.prototype.forEachInvertedInner = function(s, l, o, u) {
        for (var f = l - 1; f >= o; f--)
            if (s(this.values[f], u + f) === !1)
                return !1
    }
    ,
    e.prototype.leafAppend = function(s) {
        if (this.length + s.length <= ed)
            return new e(this.values.concat(s.flatten()))
    }
    ,
    e.prototype.leafPrepend = function(s) {
        if (this.length + s.length <= ed)
            return new e(s.flatten().concat(this.values))
    }
    ,
    n.length.get = function() {
        return this.values.length
    }
    ,
    n.depth.get = function() {
        return 0
    }
    ,
    Object.defineProperties(e.prototype, n),
    e
}
)(kt);
kt.empty = new kN([]);
var NR = (function(t) {
    function e(n, r) {
        t.call(this),
        this.left = n,
        this.right = r,
        this.length = n.length + r.length,
        this.depth = Math.max(n.depth, r.depth) + 1
    }
    return t && (e.__proto__ = t),
    e.prototype = Object.create(t && t.prototype),
    e.prototype.constructor = e,
    e.prototype.flatten = function() {
        return this.left.flatten().concat(this.right.flatten())
    }
    ,
    e.prototype.getInner = function(r) {
        return r < this.left.length ? this.left.get(r) : this.right.get(r - this.left.length)
    }
    ,
    e.prototype.forEachInner = function(r, s, l, o) {
        var u = this.left.length;
        if (s < u && this.left.forEachInner(r, s, Math.min(l, u), o) === !1 || l > u && this.right.forEachInner(r, Math.max(s - u, 0), Math.min(this.length, l) - u, o + u) === !1)
            return !1
    }
    ,
    e.prototype.forEachInvertedInner = function(r, s, l, o) {
        var u = this.left.length;
        if (s > u && this.right.forEachInvertedInner(r, s - u, Math.max(l, u) - u, o + u) === !1 || l < u && this.left.forEachInvertedInner(r, Math.min(s, u), l, o) === !1)
            return !1
    }
    ,
    e.prototype.sliceInner = function(r, s) {
        if (r == 0 && s == this.length)
            return this;
        var l = this.left.length;
        return s <= l ? this.left.slice(r, s) : r >= l ? this.right.slice(r - l, s - l) : this.left.slice(r, l).append(this.right.slice(0, s - l))
    }
    ,
    e.prototype.leafAppend = function(r) {
        var s = this.right.leafAppend(r);
        if (s)
            return new e(this.left,s)
    }
    ,
    e.prototype.leafPrepend = function(r) {
        var s = this.left.leafPrepend(r);
        if (s)
            return new e(s,this.right)
    }
    ,
    e.prototype.appendInner = function(r) {
        return this.left.depth >= Math.max(this.right.depth, r.depth) + 1 ? new e(this.left,new e(this.right,r)) : new e(this,r)
    }
    ,
    e
}
)(kt);
const wR = 500;
class Kn {
    constructor(e, n) {
        this.items = e,
        this.eventCount = n
    }
    popEvent(e, n) {
        if (this.eventCount == 0)
            return null;
        let r = this.items.length;
        for (; ; r--)
            if (this.items.get(r - 1).selection) {
                --r;
                break
            }
        let s, l;
        n && (s = this.remapping(r, this.items.length),
        l = s.maps.length);
        let o = e.tr, u, f, p = [], m = [];
        return this.items.forEach( (g, v) => {
            if (!g.step) {
                s || (s = this.remapping(r, v + 1),
                l = s.maps.length),
                l--,
                m.push(g);
                return
            }
            if (s) {
                m.push(new sr(g.map));
                let N = g.step.map(s.slice(l)), y;
                N && o.maybeStep(N).doc && (y = o.mapping.maps[o.mapping.maps.length - 1],
                p.push(new sr(y,void 0,void 0,p.length + m.length))),
                l--,
                y && s.appendMap(y, l)
            } else
                o.maybeStep(g.step);
            if (g.selection)
                return u = s ? g.selection.map(s.slice(l)) : g.selection,
                f = new Kn(this.items.slice(0, r).append(m.reverse().concat(p)),this.eventCount - 1),
                !1
        }
        , this.items.length, 0),
        {
            remaining: f,
            transform: o,
            selection: u
        }
    }
    addTransform(e, n, r, s) {
        let l = []
          , o = this.eventCount
          , u = this.items
          , f = !s && u.length ? u.get(u.length - 1) : null;
        for (let m = 0; m < e.steps.length; m++) {
            let g = e.steps[m].invert(e.docs[m]), v = new sr(e.mapping.maps[m],g,n), N;
            (N = f && f.merge(v)) && (v = N,
            m ? l.pop() : u = u.slice(0, u.length - 1)),
            l.push(v),
            n && (o++,
            n = void 0),
            s || (f = v)
        }
        let p = o - r.depth;
        return p > SR && (u = CR(u, p),
        o -= p),
        new Kn(u.append(l),o)
    }
    remapping(e, n) {
        let r = new fo;
        return this.items.forEach( (s, l) => {
            let o = s.mirrorOffset != null && l - s.mirrorOffset >= e ? r.maps.length - s.mirrorOffset : void 0;
            r.appendMap(s.map, o)
        }
        , e, n),
        r
    }
    addMaps(e) {
        return this.eventCount == 0 ? this : new Kn(this.items.append(e.map(n => new sr(n))),this.eventCount)
    }
    rebased(e, n) {
        if (!this.eventCount)
            return this;
        let r = []
          , s = Math.max(0, this.items.length - n)
          , l = e.mapping
          , o = e.steps.length
          , u = this.eventCount;
        this.items.forEach(v => {
            v.selection && u--
        }
        , s);
        let f = n;
        this.items.forEach(v => {
            let N = l.getMirror(--f);
            if (N == null)
                return;
            o = Math.min(o, N);
            let y = l.maps[N];
            if (v.step) {
                let w = e.steps[N].invert(e.docs[N])
                  , C = v.selection && v.selection.map(l.slice(f + 1, N));
                C && u++,
                r.push(new sr(y,w,C))
            } else
                r.push(new sr(y))
        }
        , s);
        let p = [];
        for (let v = n; v < o; v++)
            p.push(new sr(l.maps[v]));
        let m = this.items.slice(0, s).append(p).append(r)
          , g = new Kn(m,u);
        return g.emptyItemCount() > wR && (g = g.compress(this.items.length - r.length)),
        g
    }
    emptyItemCount() {
        let e = 0;
        return this.items.forEach(n => {
            n.step || e++
        }
        ),
        e
    }
    compress(e=this.items.length) {
        let n = this.remapping(0, e)
          , r = n.maps.length
          , s = []
          , l = 0;
        return this.items.forEach( (o, u) => {
            if (u >= e)
                s.push(o),
                o.selection && l++;
            else if (o.step) {
                let f = o.step.map(n.slice(r))
                  , p = f && f.getMap();
                if (r--,
                p && n.appendMap(p, r),
                f) {
                    let m = o.selection && o.selection.map(n.slice(r));
                    m && l++;
                    let g = new sr(p.invert(),f,m), v, N = s.length - 1;
                    (v = s.length && s[N].merge(g)) ? s[N] = v : s.push(g)
                }
            } else
                o.map && r--
        }
        , this.items.length, 0),
        new Kn(kt.from(s.reverse()),l)
    }
}
Kn.empty = new Kn(kt.empty,0);
function CR(t, e) {
    let n;
    return t.forEach( (r, s) => {
        if (r.selection && e-- == 0)
            return n = s,
            !1
    }
    ),
    t.slice(n)
}
class sr {
    constructor(e, n, r, s) {
        this.map = e,
        this.step = n,
        this.selection = r,
        this.mirrorOffset = s
    }
    merge(e) {
        if (this.step && e.step && !e.selection) {
            let n = e.step.merge(this.step);
            if (n)
                return new sr(n.getMap().invert(),n,this.selection)
        }
    }
}
class Ss {
    constructor(e, n, r, s, l) {
        this.done = e,
        this.undone = n,
        this.prevRanges = r,
        this.prevTime = s,
        this.prevComposition = l
    }
}
const SR = 20;
function jR(t, e, n, r) {
    let s = n.getMeta(Ci), l;
    if (s)
        return s.historyState;
    n.getMeta(AR) && (t = new Ss(t.done,t.undone,null,0,-1));
    let o = n.getMeta("appendedTransaction");
    if (n.steps.length == 0)
        return t;
    if (o && o.getMeta(Ci))
        return o.getMeta(Ci).redo ? new Ss(t.done.addTransform(n, void 0, r, Tc(e)),t.undone,Bv(n.mapping.maps),t.prevTime,t.prevComposition) : new Ss(t.done,t.undone.addTransform(n, void 0, r, Tc(e)),null,t.prevTime,t.prevComposition);
    if (n.getMeta("addToHistory") !== !1 && !(o && o.getMeta("addToHistory") === !1)) {
        let u = n.getMeta("composition")
          , f = t.prevTime == 0 || !o && t.prevComposition != u && (t.prevTime < (n.time || 0) - r.newGroupDelay || !ER(n, t.prevRanges))
          , p = o ? hp(t.prevRanges, n.mapping) : Bv(n.mapping.maps);
        return new Ss(t.done.addTransform(n, f ? e.selection.getBookmark() : void 0, r, Tc(e)),Kn.empty,p,n.time,u ?? t.prevComposition)
    } else
        return (l = n.getMeta("rebased")) ? new Ss(t.done.rebased(n, l),t.undone.rebased(n, l),hp(t.prevRanges, n.mapping),t.prevTime,t.prevComposition) : new Ss(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),hp(t.prevRanges, n.mapping),t.prevTime,t.prevComposition)
}
function ER(t, e) {
    if (!e)
        return !1;
    if (!t.docChanged)
        return !0;
    let n = !1;
    return t.mapping.maps[0].forEach( (r, s) => {
        for (let l = 0; l < e.length; l += 2)
            r <= e[l + 1] && s >= e[l] && (n = !0)
    }
    ),
    n
}
function Bv(t) {
    let e = [];
    for (let n = t.length - 1; n >= 0 && e.length == 0; n--)
        t[n].forEach( (r, s, l, o) => e.push(l, o));
    return e
}
function hp(t, e) {
    if (!t)
        return null;
    let n = [];
    for (let r = 0; r < t.length; r += 2) {
        let s = e.map(t[r], 1)
          , l = e.map(t[r + 1], -1);
        s <= l && n.push(s, l)
    }
    return n
}
function kR(t, e, n) {
    let r = Tc(e)
      , s = Ci.get(e).spec.config
      , l = (n ? t.undone : t.done).popEvent(e, r);
    if (!l)
        return null;
    let o = l.selection.resolve(l.transform.doc)
      , u = (n ? t.done : t.undone).addTransform(l.transform, e.selection.getBookmark(), s, r)
      , f = new Ss(n ? u : l.remaining,n ? l.remaining : u,null,0,-1);
    return l.transform.setSelection(o).setMeta(Ci, {
        redo: n,
        historyState: f
    })
}
let pp = !1
  , Fv = null;
function Tc(t) {
    let e = t.plugins;
    if (Fv != e) {
        pp = !1,
        Fv = e;
        for (let n = 0; n < e.length; n++)
            if (e[n].spec.historyPreserveItems) {
                pp = !0;
                break
            }
    }
    return pp
}
const Ci = new $t("history")
  , AR = new $t("closeHistory");
function _R(t={}) {
    return t = {
        depth: t.depth || 100,
        newGroupDelay: t.newGroupDelay || 500
    },
    new yt({
        key: Ci,
        state: {
            init() {
                return new Ss(Kn.empty,Kn.empty,null,0,-1)
            },
            apply(e, n, r) {
                return jR(n, r, e, t)
            }
        },
        config: t,
        props: {
            handleDOMEvents: {
                beforeinput(e, n) {
                    let r = n.inputType
                      , s = r == "historyUndo" ? _N : r == "historyRedo" ? TN : null;
                    return !s || !e.editable ? !1 : (n.preventDefault(),
                    s(e.state, e.dispatch))
                }
            }
        }
    })
}
function AN(t, e) {
    return (n, r) => {
        let s = Ci.getState(n);
        if (!s || (t ? s.undone : s.done).eventCount == 0)
            return !1;
        if (r) {
            let l = kR(s, n, t);
            l && r(e ? l.scrollIntoView() : l)
        }
        return !0
    }
}
const _N = AN(!1, !0)
  , TN = AN(!0, !0)
  , TR = Xt.create({
    name: "history",
    addOptions() {
        return {
            depth: 100,
            newGroupDelay: 500
        }
    },
    addCommands() {
        return {
            undo: () => ({state: t, dispatch: e}) => _N(t, e),
            redo: () => ({state: t, dispatch: e}) => TN(t, e)
        }
    },
    addProseMirrorPlugins() {
        return [_R(this.options)]
    },
    addKeyboardShortcuts() {
        return {
            "Mod-z": () => this.editor.commands.undo(),
            "Shift-Mod-z": () => this.editor.commands.redo(),
            "Mod-y": () => this.editor.commands.redo(),
            "Mod-": () => this.editor.commands.undo(),
            "Shift-Mod-": () => this.editor.commands.redo()
        }
    }
})
  , DN = bt.create({
    name: "horizontalRule",
    addOptions() {
        return {
            HTMLAttributes: {}
        }
    },
    group: "block",
    parseHTML() {
        return [{
            tag: "hr"
        }]
    },
    renderHTML({HTMLAttributes: t}) {
        return ["hr", et(this.options.HTMLAttributes, t)]
    },
    addCommands() {
        return {
            setHorizontalRule: () => ({chain: t, state: e}) => {
                if (!_O(e, e.schema.nodes[this.name]))
                    return !1;
                const {selection: n} = e
                  , {$from: r, $to: s} = n
                  , l = t();
                return r.parentOffset === 0 ? l.insertContentAt({
                    from: Math.max(r.pos - 1, 0),
                    to: s.pos
                }, {
                    type: this.name
                }) : Q7(n) ? l.insertContentAt(s.pos, {
                    type: this.name
                }) : l.insertContent({
                    type: this.name
                }),
                l.command( ({tr: o, dispatch: u}) => {
                    var f;
                    if (u) {
                        const {$to: p} = o.selection
                          , m = p.end();
                        if (p.nodeAfter)
                            p.nodeAfter.isTextblock ? o.setSelection(ce.create(o.doc, p.pos + 1)) : p.nodeAfter.isBlock ? o.setSelection(ue.create(o.doc, p.pos)) : o.setSelection(ce.create(o.doc, p.pos));
                        else {
                            const g = (f = p.parent.type.contentMatch.defaultType) === null || f === void 0 ? void 0 : f.create();
                            g && (o.insert(m, g),
                            o.setSelection(ce.create(o.doc, m + 1)))
                        }
                        o.scrollIntoView()
                    }
                    return !0
                }
                ).run()
            }
        }
    },
    addInputRules() {
        return [bN({
            find: /^(?:---|-|___\s|\*\*\*\s)$/,
            type: this.type
        })]
    }
})
  , DR = /(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/
  , MR = /(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g
  , OR = /(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/
  , RR = /(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g
  , zR = hr.create({
    name: "italic",
    addOptions() {
        return {
            HTMLAttributes: {}
        }
    },
    parseHTML() {
        return [{
            tag: "em"
        }, {
            tag: "i",
            getAttrs: t => t.style.fontStyle !== "normal" && null
        }, {
            style: "font-style=normal",
            clearMark: t => t.type.name === this.name
        }, {
            style: "font-style=italic"
        }]
    },
    renderHTML({HTMLAttributes: t}) {
        return ["em", et(this.options.HTMLAttributes, t), 0]
    },
    addCommands() {
        return {
            setItalic: () => ({commands: t}) => t.setMark(this.name),
            toggleItalic: () => ({commands: t}) => t.toggleMark(this.name),
            unsetItalic: () => ({commands: t}) => t.unsetMark(this.name)
        }
    },
    addKeyboardShortcuts() {
        return {
            "Mod-i": () => this.editor.commands.toggleItalic(),
            "Mod-I": () => this.editor.commands.toggleItalic()
        }
    },
    addInputRules() {
        return [Bl({
            find: DR,
            type: this.type
        }), Bl({
            find: OR,
            type: this.type
        })]
    },
    addPasteRules() {
        return [_i({
            find: MR,
            type: this.type
        }), _i({
            find: RR,
            type: this.type
        })]
    }
})
  , MN = bt.create({
    name: "listItem",
    addOptions() {
        return {
            HTMLAttributes: {},
            bulletListTypeName: "bulletList",
            orderedListTypeName: "orderedList"
        }
    },
    content: "paragraph block*",
    defining: !0,
    parseHTML() {
        return [{
            tag: "li"
        }]
    },
    renderHTML({HTMLAttributes: t}) {
        return ["li", et(this.options.HTMLAttributes, t), 0]
    },
    addKeyboardShortcuts() {
        return {
            Enter: () => this.editor.commands.splitListItem(this.name),
            Tab: () => this.editor.commands.sinkListItem(this.name),
            "Shift-Tab": () => this.editor.commands.liftListItem(this.name)
        }
    }
})
  , LR = "listItem"
  , Hv = "textStyle"
  , Uv = /^(\d+)\.\s$/
  , ON = bt.create({
    name: "orderedList",
    addOptions() {
        return {
            itemTypeName: "listItem",
            HTMLAttributes: {},
            keepMarks: !1,
            keepAttributes: !1
        }
    },
    group: "block list",
    content() {
        return `${this.options.itemTypeName}+`
    },
    addAttributes() {
        return {
            start: {
                default: 1,
                parseHTML: t => t.hasAttribute("start") ? parseInt(t.getAttribute("start") || "", 10) : 1
            },
            type: {
                default: null,
                parseHTML: t => t.getAttribute("type")
            }
        }
    },
    parseHTML() {
        return [{
            tag: "ol"
        }]
    },
    renderHTML({HTMLAttributes: t}) {
        const {start: e, ...n} = t;
        return e === 1 ? ["ol", et(this.options.HTMLAttributes, n), 0] : ["ol", et(this.options.HTMLAttributes, t), 0]
    },
    addCommands() {
        return {
            toggleOrderedList: () => ({commands: t, chain: e}) => this.options.keepAttributes ? e().toggleList(this.name, this.options.itemTypeName, this.options.keepMarks).updateAttributes(LR, this.editor.getAttributes(Hv)).run() : t.toggleList(this.name, this.options.itemTypeName, this.options.keepMarks)
        }
    },
    addKeyboardShortcuts() {
        return {
            "Mod-Shift-7": () => this.editor.commands.toggleOrderedList()
        }
    },
    addInputRules() {
        let t = yo({
            find: Uv,
            type: this.type,
            getAttributes: e => ({
                start: +e[1]
            }),
            joinPredicate: (e, n) => n.childCount + n.attrs.start === +e[1]
        });
        return (this.options.keepMarks || this.options.keepAttributes) && (t = yo({
            find: Uv,
            type: this.type,
            keepMarks: this.options.keepMarks,
            keepAttributes: this.options.keepAttributes,
            getAttributes: e => ({
                start: +e[1],
                ...this.editor.getAttributes(Hv)
            }),
            joinPredicate: (e, n) => n.childCount + n.attrs.start === +e[1],
            editor: this.editor
        })),
        [t]
    }
})
  , BR = bt.create({
    name: "paragraph",
    priority: 1e3,
    addOptions() {
        return {
            HTMLAttributes: {}
        }
    },
    group: "block",
    content: "inline*",
    parseHTML() {
        return [{
            tag: "p"
        }]
    },
    renderHTML({HTMLAttributes: t}) {
        return ["p", et(this.options.HTMLAttributes, t), 0]
    },
    addCommands() {
        return {
            setParagraph: () => ({commands: t}) => t.setNode(this.name)
        }
    },
    addKeyboardShortcuts() {
        return {
            "Mod-Alt-0": () => this.editor.commands.setParagraph()
        }
    }
})
  , FR = /(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/
  , HR = /(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g
  , UR = hr.create({
    name: "strike",
    addOptions() {
        return {
            HTMLAttributes: {}
        }
    },
    parseHTML() {
        return [{
            tag: "s"
        }, {
            tag: "del"
        }, {
            tag: "strike"
        }, {
            style: "text-decoration",
            consuming: !1,
            getAttrs: t => t.includes("line-through") ? {} : !1
        }]
    },
    renderHTML({HTMLAttributes: t}) {
        return ["s", et(this.options.HTMLAttributes, t), 0]
    },
    addCommands() {
        return {
            setStrike: () => ({commands: t}) => t.setMark(this.name),
            toggleStrike: () => ({commands: t}) => t.toggleMark(this.name),
            unsetStrike: () => ({commands: t}) => t.unsetMark(this.name)
        }
    },
    addKeyboardShortcuts() {
        return {
            "Mod-Shift-s": () => this.editor.commands.toggleStrike()
        }
    },
    addInputRules() {
        return [Bl({
            find: FR,
            type: this.type
        })]
    },
    addPasteRules() {
        return [_i({
            find: HR,
            type: this.type
        })]
    }
})
  , qR = bt.create({
    name: "text",
    group: "inline"
})
  , IR = Xt.create({
    name: "starterKit",
    addExtensions() {
        const t = [];
        return this.options.bold !== !1 && t.push(nR.configure(this.options.bold)),
        this.options.blockquote !== !1 && t.push(NN.configure(this.options.blockquote)),
        this.options.bulletList !== !1 && t.push(wN.configure(this.options.bulletList)),
        this.options.code !== !1 && t.push(CN.configure(this.options.code)),
        this.options.codeBlock !== !1 && t.push(SN.configure(this.options.codeBlock)),
        this.options.document !== !1 && t.push(oR.configure(this.options.document)),
        this.options.dropcursor !== !1 && t.push(dR.configure(this.options.dropcursor)),
        this.options.gapcursor !== !1 && t.push(yR.configure(this.options.gapcursor)),
        this.options.hardBreak !== !1 && t.push(vR.configure(this.options.hardBreak)),
        this.options.heading !== !1 && t.push(EN.configure(this.options.heading)),
        this.options.history !== !1 && t.push(TR.configure(this.options.history)),
        this.options.horizontalRule !== !1 && t.push(DN.configure(this.options.horizontalRule)),
        this.options.italic !== !1 && t.push(zR.configure(this.options.italic)),
        this.options.listItem !== !1 && t.push(MN.configure(this.options.listItem)),
        this.options.orderedList !== !1 && t.push(ON.configure(this.options.orderedList)),
        this.options.paragraph !== !1 && t.push(BR.configure(this.options.paragraph)),
        this.options.strike !== !1 && t.push(UR.configure(this.options.strike)),
        this.options.text !== !1 && t.push(qR.configure(this.options.text)),
        t
    }
})
  , $R = "aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2"
  , PR = "121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222"
  , rm = "numeric"
  , sm = "ascii"
  , im = "alpha"
  , Za = "asciinumeric"
  , Ka = "alphanumeric"
  , lm = "domain"
  , RN = "emoji"
  , VR = "scheme"
  , GR = "slashscheme"
  , mp = "whitespace";
function KR(t, e) {
    return t in e || (e[t] = []),
    e[t]
}
function xi(t, e, n) {
    e[rm] && (e[Za] = !0,
    e[Ka] = !0),
    e[sm] && (e[Za] = !0,
    e[im] = !0),
    e[Za] && (e[Ka] = !0),
    e[im] && (e[Ka] = !0),
    e[Ka] && (e[lm] = !0),
    e[RN] && (e[lm] = !0);
    for (const r in e) {
        const s = KR(r, n);
        s.indexOf(t) < 0 && s.push(t)
    }
}
function YR(t, e) {
    const n = {};
    for (const r in e)
        e[r].indexOf(t) >= 0 && (n[r] = !0);
    return n
}
function sn(t=null) {
    this.j = {},
    this.jr = [],
    this.jd = null,
    this.t = t
}
sn.groups = {};
sn.prototype = {
    accepts() {
        return !!this.t
    },
    go(t) {
        const e = this
          , n = e.j[t];
        if (n)
            return n;
        for (let r = 0; r < e.jr.length; r++) {
            const s = e.jr[r][0]
              , l = e.jr[r][1];
            if (l && s.test(t))
                return l
        }
        return e.jd
    },
    has(t, e=!1) {
        return e ? t in this.j : !!this.go(t)
    },
    ta(t, e, n, r) {
        for (let s = 0; s < t.length; s++)
            this.tt(t[s], e, n, r)
    },
    tr(t, e, n, r) {
        r = r || sn.groups;
        let s;
        return e && e.j ? s = e : (s = new sn(e),
        n && r && xi(e, n, r)),
        this.jr.push([t, s]),
        s
    },
    ts(t, e, n, r) {
        let s = this;
        const l = t.length;
        if (!l)
            return s;
        for (let o = 0; o < l - 1; o++)
            s = s.tt(t[o]);
        return s.tt(t[l - 1], e, n, r)
    },
    tt(t, e, n, r) {
        r = r || sn.groups;
        const s = this;
        if (e && e.j)
            return s.j[t] = e,
            e;
        const l = e;
        let o, u = s.go(t);
        if (u ? (o = new sn,
        Object.assign(o.j, u.j),
        o.jr.push.apply(o.jr, u.jr),
        o.jd = u.jd,
        o.t = u.t) : o = new sn,
        l) {
            if (r)
                if (o.t && typeof o.t == "string") {
                    const f = Object.assign(YR(o.t, r), n);
                    xi(l, f, r)
                } else
                    n && xi(l, n, r);
            o.t = l
        }
        return s.j[t] = o,
        o
    }
};
const ve = (t, e, n, r, s) => t.ta(e, n, r, s)
  , rt = (t, e, n, r, s) => t.tr(e, n, r, s)
  , qv = (t, e, n, r, s) => t.ts(e, n, r, s)
  , Q = (t, e, n, r, s) => t.tt(e, n, r, s)
  , Hr = "WORD"
  , am = "UWORD"
  , zN = "ASCIINUMERICAL"
  , LN = "ALPHANUMERICAL"
  , vo = "LOCALHOST"
  , om = "TLD"
  , um = "UTLD"
  , Dc = "SCHEME"
  , Sl = "SLASH_SCHEME"
  , mg = "NUM"
  , cm = "WS"
  , gg = "NL"
  , Wa = "OPENBRACE"
  , eo = "CLOSEBRACE"
  , td = "OPENBRACKET"
  , nd = "CLOSEBRACKET"
  , rd = "OPENPAREN"
  , sd = "CLOSEPAREN"
  , id = "OPENANGLEBRACKET"
  , ld = "CLOSEANGLEBRACKET"
  , ad = "FULLWIDTHLEFTPAREN"
  , od = "FULLWIDTHRIGHTPAREN"
  , ud = "LEFTCORNERBRACKET"
  , cd = "RIGHTCORNERBRACKET"
  , dd = "LEFTWHITECORNERBRACKET"
  , fd = "RIGHTWHITECORNERBRACKET"
  , hd = "FULLWIDTHLESSTHAN"
  , pd = "FULLWIDTHGREATERTHAN"
  , md = "AMPERSAND"
  , gd = "APOSTROPHE"
  , xd = "ASTERISK"
  , js = "AT"
  , bd = "BACKSLASH"
  , yd = "BACKTICK"
  , vd = "CARET"
  , As = "COLON"
  , xg = "COMMA"
  , Nd = "DOLLAR"
  , ir = "DOT"
  , wd = "EQUALS"
  , bg = "EXCLAMATION"
  , Ln = "HYPHEN"
  , to = "PERCENT"
  , Cd = "PIPE"
  , Sd = "PLUS"
  , jd = "POUND"
  , no = "QUERY"
  , yg = "QUOTE"
  , BN = "FULLWIDTHMIDDLEDOT"
  , vg = "SEMI"
  , lr = "SLASH"
  , ro = "TILDE"
  , Ed = "UNDERSCORE"
  , FN = "EMOJI"
  , kd = "SYM";
var HN = Object.freeze({
    __proto__: null,
    ALPHANUMERICAL: LN,
    AMPERSAND: md,
    APOSTROPHE: gd,
    ASCIINUMERICAL: zN,
    ASTERISK: xd,
    AT: js,
    BACKSLASH: bd,
    BACKTICK: yd,
    CARET: vd,
    CLOSEANGLEBRACKET: ld,
    CLOSEBRACE: eo,
    CLOSEBRACKET: nd,
    CLOSEPAREN: sd,
    COLON: As,
    COMMA: xg,
    DOLLAR: Nd,
    DOT: ir,
    EMOJI: FN,
    EQUALS: wd,
    EXCLAMATION: bg,
    FULLWIDTHGREATERTHAN: pd,
    FULLWIDTHLEFTPAREN: ad,
    FULLWIDTHLESSTHAN: hd,
    FULLWIDTHMIDDLEDOT: BN,
    FULLWIDTHRIGHTPAREN: od,
    HYPHEN: Ln,
    LEFTCORNERBRACKET: ud,
    LEFTWHITECORNERBRACKET: dd,
    LOCALHOST: vo,
    NL: gg,
    NUM: mg,
    OPENANGLEBRACKET: id,
    OPENBRACE: Wa,
    OPENBRACKET: td,
    OPENPAREN: rd,
    PERCENT: to,
    PIPE: Cd,
    PLUS: Sd,
    POUND: jd,
    QUERY: no,
    QUOTE: yg,
    RIGHTCORNERBRACKET: cd,
    RIGHTWHITECORNERBRACKET: fd,
    SCHEME: Dc,
    SEMI: vg,
    SLASH: lr,
    SLASH_SCHEME: Sl,
    SYM: kd,
    TILDE: ro,
    TLD: om,
    UNDERSCORE: Ed,
    UTLD: um,
    UWORD: am,
    WORD: Hr,
    WS: cm
});
const Br = /[a-z]/
  , $a = new RegExp("\\p{L}","u")
  , gp = new RegExp("\\p{Emoji}","u")
  , Fr = /\d/
  , xp = /\s/
  , Iv = "\r"
  , bp = `
`
  , JR = ""
  , XR = ""
  , yp = "";
let mc = null
  , gc = null;
function QR(t=[]) {
    const e = {};
    sn.groups = e;
    const n = new sn;
    mc == null && (mc = $v($R)),
    gc == null && (gc = $v(PR)),
    Q(n, "'", gd),
    Q(n, "{", Wa),
    Q(n, "}", eo),
    Q(n, "[", td),
    Q(n, "]", nd),
    Q(n, "(", rd),
    Q(n, ")", sd),
    Q(n, "<", id),
    Q(n, ">", ld),
    Q(n, "", ad),
    Q(n, "", od),
    Q(n, "", ud),
    Q(n, "", cd),
    Q(n, "", dd),
    Q(n, "", fd),
    Q(n, "", hd),
    Q(n, "", pd),
    Q(n, "&", md),
    Q(n, "*", xd),
    Q(n, "@", js),
    Q(n, "`", yd),
    Q(n, "^", vd),
    Q(n, ":", As),
    Q(n, ",", xg),
    Q(n, "$", Nd),
    Q(n, ".", ir),
    Q(n, "=", wd),
    Q(n, "!", bg),
    Q(n, "-", Ln),
    Q(n, "%", to),
    Q(n, "|", Cd),
    Q(n, "+", Sd),
    Q(n, "#", jd),
    Q(n, "?", no),
    Q(n, '"', yg),
    Q(n, "/", lr),
    Q(n, ";", vg),
    Q(n, "~", ro),
    Q(n, "_", Ed),
    Q(n, "\\", bd),
    Q(n, "", BN);
    const r = rt(n, Fr, mg, {
        [rm]: !0
    });
    rt(r, Fr, r);
    const s = rt(r, Br, zN, {
        [Za]: !0
    })
      , l = rt(r, $a, LN, {
        [Ka]: !0
    })
      , o = rt(n, Br, Hr, {
        [sm]: !0
    });
    rt(o, Fr, s),
    rt(o, Br, o),
    rt(s, Fr, s),
    rt(s, Br, s);
    const u = rt(n, $a, am, {
        [im]: !0
    });
    rt(u, Br),
    rt(u, Fr, l),
    rt(u, $a, u),
    rt(l, Fr, l),
    rt(l, Br),
    rt(l, $a, l);
    const f = Q(n, bp, gg, {
        [mp]: !0
    })
      , p = Q(n, Iv, cm, {
        [mp]: !0
    })
      , m = rt(n, xp, cm, {
        [mp]: !0
    });
    Q(n, yp, m),
    Q(p, bp, f),
    Q(p, yp, m),
    rt(p, xp, m),
    Q(m, Iv),
    Q(m, bp),
    rt(m, xp, m),
    Q(m, yp, m);
    const g = rt(n, gp, FN, {
        [RN]: !0
    });
    Q(g, "#"),
    rt(g, gp, g),
    Q(g, JR, g);
    const v = Q(g, XR);
    Q(v, "#"),
    rt(v, gp, g);
    const N = [[Br, o], [Fr, s]]
      , y = [[Br, null], [$a, u], [Fr, l]];
    for (let w = 0; w < mc.length; w++)
        vs(n, mc[w], om, Hr, N);
    for (let w = 0; w < gc.length; w++)
        vs(n, gc[w], um, am, y);
    xi(om, {
        tld: !0,
        ascii: !0
    }, e),
    xi(um, {
        utld: !0,
        alpha: !0
    }, e),
    vs(n, "file", Dc, Hr, N),
    vs(n, "mailto", Dc, Hr, N),
    vs(n, "http", Sl, Hr, N),
    vs(n, "https", Sl, Hr, N),
    vs(n, "ftp", Sl, Hr, N),
    vs(n, "ftps", Sl, Hr, N),
    xi(Dc, {
        scheme: !0,
        ascii: !0
    }, e),
    xi(Sl, {
        slashscheme: !0,
        ascii: !0
    }, e),
    t = t.sort( (w, C) => w[0] > C[0] ? 1 : -1);
    for (let w = 0; w < t.length; w++) {
        const C = t[w][0]
          , A = t[w][1] ? {
            [VR]: !0
        } : {
            [GR]: !0
        };
        C.indexOf("-") >= 0 ? A[lm] = !0 : Br.test(C) ? Fr.test(C) ? A[Za] = !0 : A[sm] = !0 : A[rm] = !0,
        qv(n, C, C, A)
    }
    return qv(n, "localhost", vo, {
        ascii: !0
    }),
    n.jd = new sn(kd),
    {
        start: n,
        tokens: Object.assign({
            groups: e
        }, HN)
    }
}
function UN(t, e) {
    const n = ZR(e.replace(/[A-Z]/g, u => u.toLowerCase()))
      , r = n.length
      , s = [];
    let l = 0
      , o = 0;
    for (; o < r; ) {
        let u = t
          , f = null
          , p = 0
          , m = null
          , g = -1
          , v = -1;
        for (; o < r && (f = u.go(n[o])); )
            u = f,
            u.accepts() ? (g = 0,
            v = 0,
            m = u) : g >= 0 && (g += n[o].length,
            v++),
            p += n[o].length,
            l += n[o].length,
            o++;
        l -= g,
        o -= v,
        p -= g,
        s.push({
            t: m.t,
            v: e.slice(l - p, l),
            s: l - p,
            e: l
        })
    }
    return s
}
function ZR(t) {
    const e = []
      , n = t.length;
    let r = 0;
    for (; r < n; ) {
        let s = t.charCodeAt(r), l, o = s < 55296 || s > 56319 || r + 1 === n || (l = t.charCodeAt(r + 1)) < 56320 || l > 57343 ? t[r] : t.slice(r, r + 2);
        e.push(o),
        r += o.length
    }
    return e
}
function vs(t, e, n, r, s) {
    let l;
    const o = e.length;
    for (let u = 0; u < o - 1; u++) {
        const f = e[u];
        t.j[f] ? l = t.j[f] : (l = new sn(r),
        l.jr = s.slice(),
        t.j[f] = l),
        t = l
    }
    return l = new sn(n),
    l.jr = s.slice(),
    t.j[e[o - 1]] = l,
    l
}
function $v(t) {
    const e = []
      , n = [];
    let r = 0
      , s = "0123456789";
    for (; r < t.length; ) {
        let l = 0;
        for (; s.indexOf(t[r + l]) >= 0; )
            l++;
        if (l > 0) {
            e.push(n.join(""));
            for (let o = parseInt(t.substring(r, r + l), 10); o > 0; o--)
                n.pop();
            r += l
        } else
            n.push(t[r]),
            r++
    }
    return e
}
const No = {
    defaultProtocol: "http",
    events: null,
    format: Pv,
    formatHref: Pv,
    nl2br: !1,
    tagName: "a",
    target: null,
    rel: null,
    validate: !0,
    truncate: 1 / 0,
    className: null,
    attributes: null,
    ignoreTags: [],
    render: null
};
function Ng(t, e=null) {
    let n = Object.assign({}, No);
    t && (n = Object.assign(n, t instanceof Ng ? t.o : t));
    const r = n.ignoreTags
      , s = [];
    for (let l = 0; l < r.length; l++)
        s.push(r[l].toUpperCase());
    this.o = n,
    e && (this.defaultRender = e),
    this.ignoreTags = s
}
Ng.prototype = {
    o: No,
    ignoreTags: [],
    defaultRender(t) {
        return t
    },
    check(t) {
        return this.get("validate", t.toString(), t)
    },
    get(t, e, n) {
        const r = e != null;
        let s = this.o[t];
        return s && (typeof s == "object" ? (s = n.t in s ? s[n.t] : No[t],
        typeof s == "function" && r && (s = s(e, n))) : typeof s == "function" && r && (s = s(e, n.t, n)),
        s)
    },
    getObj(t, e, n) {
        let r = this.o[t];
        return typeof r == "function" && e != null && (r = r(e, n.t, n)),
        r
    },
    render(t) {
        const e = t.render(this);
        return (this.get("render", null, t) || this.defaultRender)(e, t.t, t)
    }
};
function Pv(t) {
    return t
}
function qN(t, e) {
    this.t = "token",
    this.v = t,
    this.tk = e
}
qN.prototype = {
    isLink: !1,
    toString() {
        return this.v
    },
    toHref(t) {
        return this.toString()
    },
    toFormattedString(t) {
        const e = this.toString()
          , n = t.get("truncate", e, this)
          , r = t.get("format", e, this);
        return n && r.length > n ? r.substring(0, n) + "" : r
    },
    toFormattedHref(t) {
        return t.get("formatHref", this.toHref(t.get("defaultProtocol")), this)
    },
    startIndex() {
        return this.tk[0].s
    },
    endIndex() {
        return this.tk[this.tk.length - 1].e
    },
    toObject(t=No.defaultProtocol) {
        return {
            type: this.t,
            value: this.toString(),
            isLink: this.isLink,
            href: this.toHref(t),
            start: this.startIndex(),
            end: this.endIndex()
        }
    },
    toFormattedObject(t) {
        return {
            type: this.t,
            value: this.toFormattedString(t),
            isLink: this.isLink,
            href: this.toFormattedHref(t),
            start: this.startIndex(),
            end: this.endIndex()
        }
    },
    validate(t) {
        return t.get("validate", this.toString(), this)
    },
    render(t) {
        const e = this
          , n = this.toHref(t.get("defaultProtocol"))
          , r = t.get("formatHref", n, this)
          , s = t.get("tagName", n, e)
          , l = this.toFormattedString(t)
          , o = {}
          , u = t.get("className", n, e)
          , f = t.get("target", n, e)
          , p = t.get("rel", n, e)
          , m = t.getObj("attributes", n, e)
          , g = t.getObj("events", n, e);
        return o.href = r,
        u && (o.class = u),
        f && (o.target = f),
        p && (o.rel = p),
        m && Object.assign(o, m),
        {
            tagName: s,
            attributes: o,
            content: l,
            eventListeners: g
        }
    }
};
function sf(t, e) {
    class n extends qN {
        constructor(s, l) {
            super(s, l),
            this.t = t
        }
    }
    for (const r in e)
        n.prototype[r] = e[r];
    return n.t = t,
    n
}
const Vv = sf("email", {
    isLink: !0,
    toHref() {
        return "mailto:" + this.toString()
    }
})
  , Gv = sf("text")
  , WR = sf("nl")
  , xc = sf("url", {
    isLink: !0,
    toHref(t=No.defaultProtocol) {
        return this.hasProtocol() ? this.v : `${t}://${this.v}`
    },
    hasProtocol() {
        const t = this.tk;
        return t.length >= 2 && t[0].t !== vo && t[1].t === As
    }
})
  , zn = t => new sn(t);
function ez({groups: t}) {
    const e = t.domain.concat([md, xd, js, bd, yd, vd, Nd, wd, Ln, mg, to, Cd, Sd, jd, lr, kd, ro, Ed])
      , n = [gd, As, xg, ir, bg, to, no, yg, vg, id, ld, Wa, eo, nd, td, rd, sd, ad, od, ud, cd, dd, fd, hd, pd]
      , r = [md, gd, xd, bd, yd, vd, Nd, wd, Ln, Wa, eo, to, Cd, Sd, jd, no, lr, kd, ro, Ed]
      , s = zn()
      , l = Q(s, ro);
    ve(l, r, l),
    ve(l, t.domain, l);
    const o = zn()
      , u = zn()
      , f = zn();
    ve(s, t.domain, o),
    ve(s, t.scheme, u),
    ve(s, t.slashscheme, f),
    ve(o, r, l),
    ve(o, t.domain, o);
    const p = Q(o, js);
    Q(l, js, p),
    Q(u, js, p),
    Q(f, js, p);
    const m = Q(l, ir);
    ve(m, r, l),
    ve(m, t.domain, l);
    const g = zn();
    ve(p, t.domain, g),
    ve(g, t.domain, g);
    const v = Q(g, ir);
    ve(v, t.domain, g);
    const N = zn(Vv);
    ve(v, t.tld, N),
    ve(v, t.utld, N),
    Q(p, vo, N);
    const y = Q(g, Ln);
    Q(y, Ln, y),
    ve(y, t.domain, g),
    ve(N, t.domain, g),
    Q(N, ir, v),
    Q(N, Ln, y);
    const w = Q(N, As);
    ve(w, t.numeric, Vv);
    const C = Q(o, Ln)
      , E = Q(o, ir);
    Q(C, Ln, C),
    ve(C, t.domain, o),
    ve(E, r, l),
    ve(E, t.domain, o);
    const A = zn(xc);
    ve(E, t.tld, A),
    ve(E, t.utld, A),
    ve(A, t.domain, o),
    ve(A, r, l),
    Q(A, ir, E),
    Q(A, Ln, C),
    Q(A, js, p);
    const _ = Q(A, As)
      , O = zn(xc);
    ve(_, t.numeric, O);
    const R = zn(xc)
      , $ = zn();
    ve(R, e, R),
    ve(R, n, $),
    ve($, e, R),
    ve($, n, $),
    Q(A, lr, R),
    Q(O, lr, R);
    const z = Q(u, As)
      , G = Q(f, As)
      , Y = Q(G, lr)
      , pe = Q(Y, lr);
    ve(u, t.domain, o),
    Q(u, ir, E),
    Q(u, Ln, C),
    ve(f, t.domain, o),
    Q(f, ir, E),
    Q(f, Ln, C),
    ve(z, t.domain, R),
    Q(z, lr, R),
    Q(z, no, R),
    ve(pe, t.domain, R),
    ve(pe, e, R),
    Q(pe, lr, R);
    const Te = [[Wa, eo], [td, nd], [rd, sd], [id, ld], [ad, od], [ud, cd], [dd, fd], [hd, pd]];
    for (let le = 0; le < Te.length; le++) {
        const [Ce,Le] = Te[le]
          , Ue = Q(R, Ce);
        Q($, Ce, Ue),
        Q(Ue, Le, R);
        const q = zn(xc);
        ve(Ue, e, q);
        const Z = zn();
        ve(Ue, n),
        ve(q, e, q),
        ve(q, n, Z),
        ve(Z, e, q),
        ve(Z, n, Z),
        Q(q, Le, R),
        Q(Z, Le, R)
    }
    return Q(s, vo, A),
    Q(s, gg, WR),
    {
        start: s,
        tokens: HN
    }
}
function tz(t, e, n) {
    let r = n.length
      , s = 0
      , l = []
      , o = [];
    for (; s < r; ) {
        let u = t
          , f = null
          , p = null
          , m = 0
          , g = null
          , v = -1;
        for (; s < r && !(f = u.go(n[s].t)); )
            o.push(n[s++]);
        for (; s < r && (p = f || u.go(n[s].t)); )
            f = null,
            u = p,
            u.accepts() ? (v = 0,
            g = u) : v >= 0 && v++,
            s++,
            m++;
        if (v < 0)
            s -= m,
            s < r && (o.push(n[s]),
            s++);
        else {
            o.length > 0 && (l.push(vp(Gv, e, o)),
            o = []),
            s -= v,
            m -= v;
            const N = g.t
              , y = n.slice(s - m, s);
            l.push(vp(N, e, y))
        }
    }
    return o.length > 0 && l.push(vp(Gv, e, o)),
    l
}
function vp(t, e, n) {
    const r = n[0].s
      , s = n[n.length - 1].e
      , l = e.slice(r, s);
    return new t(l,n)
}
const nz = typeof console < "u" && console && console.warn || ( () => {}
)
  , rz = "until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time."
  , Qe = {
    scanner: null,
    parser: null,
    tokenQueue: [],
    pluginQueue: [],
    customSchemes: [],
    initialized: !1
};
function sz() {
    return sn.groups = {},
    Qe.scanner = null,
    Qe.parser = null,
    Qe.tokenQueue = [],
    Qe.pluginQueue = [],
    Qe.customSchemes = [],
    Qe.initialized = !1,
    Qe
}
function Kv(t, e=!1) {
    if (Qe.initialized && nz(`linkifyjs: already initialized - will not register custom scheme "${t}" ${rz}`),
    !/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))
        throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);
    Qe.customSchemes.push([t, e])
}
function iz() {
    Qe.scanner = QR(Qe.customSchemes);
    for (let t = 0; t < Qe.tokenQueue.length; t++)
        Qe.tokenQueue[t][1]({
            scanner: Qe.scanner
        });
    Qe.parser = ez(Qe.scanner.tokens);
    for (let t = 0; t < Qe.pluginQueue.length; t++)
        Qe.pluginQueue[t][1]({
            scanner: Qe.scanner,
            parser: Qe.parser
        });
    return Qe.initialized = !0,
    Qe
}
function wg(t) {
    return Qe.initialized || iz(),
    tz(Qe.parser.start, t, UN(Qe.scanner.start, t))
}
wg.scan = UN;
function IN(t, e=null, n=null) {
    if (e && typeof e == "object") {
        if (n)
            throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);
        n = e,
        e = null
    }
    const r = new Ng(n)
      , s = wg(t)
      , l = [];
    for (let o = 0; o < s.length; o++) {
        const u = s[o];
        u.isLink && (!e || u.t === e) && r.check(u) && l.push(u.toFormattedObject(r))
    }
    return l
}
const Cg = "[\0- -\u2029]"
  , lz = new RegExp(Cg)
  , az = new RegExp(`${Cg}$`)
  , oz = new RegExp(Cg,"g");
function uz(t) {
    return t.length === 1 ? t[0].isLink : t.length === 3 && t[1].isLink ? ["()", "[]"].includes(t[0].value + t[2].value) : !1
}
function cz(t) {
    return new yt({
        key: new $t("autolink"),
        appendTransaction: (e, n, r) => {
            const s = e.some(p => p.docChanged) && !n.doc.eq(r.doc)
              , l = e.some(p => p.getMeta("preventAutolink"));
            if (!s || l)
                return;
            const {tr: o} = r
              , u = I7(n.doc, [...e]);
            if (J7(u).forEach( ({newRange: p}) => {
                const m = P7(r.doc, p, N => N.isTextblock);
                let g, v;
                if (m.length > 1)
                    g = m[0],
                    v = r.doc.textBetween(g.pos, g.pos + g.node.nodeSize, void 0, " ");
                else if (m.length) {
                    const N = r.doc.textBetween(p.from, p.to, " ", " ");
                    if (!az.test(N))
                        return;
                    g = m[0],
                    v = r.doc.textBetween(g.pos, p.to, void 0, " ")
                }
                if (g && v) {
                    const N = v.split(lz).filter(Boolean);
                    if (N.length <= 0)
                        return !1;
                    const y = N[N.length - 1]
                      , w = g.pos + v.lastIndexOf(y);
                    if (!y)
                        return !1;
                    const C = wg(y).map(E => E.toObject(t.defaultProtocol));
                    if (!uz(C))
                        return !1;
                    C.filter(E => E.isLink).map(E => ({
                        ...E,
                        from: w + E.start + 1,
                        to: w + E.end + 1
                    })).filter(E => r.schema.marks.code ? !r.doc.rangeHasMark(E.from, E.to, r.schema.marks.code) : !0).filter(E => t.validate(E.value)).filter(E => t.shouldAutoLink(E.value)).forEach(E => {
                        cg(E.from, E.to, r.doc).some(A => A.mark.type === t.type) || o.addMark(E.from, E.to, t.type.create({
                            href: E.href
                        }))
                    }
                    )
                }
            }
            ),
            !!o.steps.length)
                return o
        }
    })
}
function dz(t) {
    return new yt({
        key: new $t("handleClickLink"),
        props: {
            handleClick: (e, n, r) => {
                var s, l;
                if (r.button !== 0 || !e.editable)
                    return !1;
                let o = r.target;
                const u = [];
                for (; o.nodeName !== "DIV"; )
                    u.push(o),
                    o = o.parentNode;
                if (!u.find(v => v.nodeName === "A"))
                    return !1;
                const f = xN(e.state, t.type.name)
                  , p = r.target
                  , m = (s = p?.href) !== null && s !== void 0 ? s : f.href
                  , g = (l = p?.target) !== null && l !== void 0 ? l : f.target;
                return p && m ? (window.open(m, g),
                !0) : !1
            }
        }
    })
}
function fz(t) {
    return new yt({
        key: new $t("handlePasteLink"),
        props: {
            handlePaste: (e, n, r) => {
                const {state: s} = e
                  , {selection: l} = s
                  , {empty: o} = l;
                if (o)
                    return !1;
                let u = "";
                r.content.forEach(p => {
                    u += p.textContent
                }
                );
                const f = IN(u, {
                    defaultProtocol: t.defaultProtocol
                }).find(p => p.isLink && p.value === u);
                return !u || !f ? !1 : t.editor.commands.setMark(t.type, {
                    href: f.href
                })
            }
        }
    })
}
function ci(t, e) {
    const n = ["http", "https", "ftp", "ftps", "mailto", "tel", "callto", "sms", "cid", "xmpp"];
    return e && e.forEach(r => {
        const s = typeof r == "string" ? r : r.scheme;
        s && n.push(s)
    }
    ),
    !t || t.replace(oz, "").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))
}
const hz = hr.create({
    name: "link",
    priority: 1e3,
    keepOnSplit: !1,
    exitable: !0,
    onCreate() {
        this.options.validate && !this.options.shouldAutoLink && (this.options.shouldAutoLink = this.options.validate,
        console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),
        this.options.protocols.forEach(t => {
            if (typeof t == "string") {
                Kv(t);
                return
            }
            Kv(t.scheme, t.optionalSlashes)
        }
        )
    },
    onDestroy() {
        sz()
    },
    inclusive() {
        return this.options.autolink
    },
    addOptions() {
        return {
            openOnClick: !0,
            linkOnPaste: !0,
            autolink: !0,
            protocols: [],
            defaultProtocol: "http",
            HTMLAttributes: {
                target: "_blank",
                rel: "noopener noreferrer nofollow",
                class: null
            },
            isAllowedUri: (t, e) => !!ci(t, e.protocols),
            validate: t => !!t,
            shouldAutoLink: t => !!t
        }
    },
    addAttributes() {
        return {
            href: {
                default: null,
                parseHTML(t) {
                    return t.getAttribute("href")
                }
            },
            target: {
                default: this.options.HTMLAttributes.target
            },
            rel: {
                default: this.options.HTMLAttributes.rel
            },
            class: {
                default: this.options.HTMLAttributes.class
            }
        }
    },
    parseHTML() {
        return [{
            tag: "a[href]",
            getAttrs: t => {
                const e = t.getAttribute("href");
                return !e || !this.options.isAllowedUri(e, {
                    defaultValidate: n => !!ci(n, this.options.protocols),
                    protocols: this.options.protocols,
                    defaultProtocol: this.options.defaultProtocol
                }) ? !1 : null
            }
        }]
    },
    renderHTML({HTMLAttributes: t}) {
        return this.options.isAllowedUri(t.href, {
            defaultValidate: e => !!ci(e, this.options.protocols),
            protocols: this.options.protocols,
            defaultProtocol: this.options.defaultProtocol
        }) ? ["a", et(this.options.HTMLAttributes, t), 0] : ["a", et(this.options.HTMLAttributes, {
            ...t,
            href: ""
        }), 0]
    },
    addCommands() {
        return {
            setLink: t => ({chain: e}) => {
                const {href: n} = t;
                return this.options.isAllowedUri(n, {
                    defaultValidate: r => !!ci(r, this.options.protocols),
                    protocols: this.options.protocols,
                    defaultProtocol: this.options.defaultProtocol
                }) ? e().setMark(this.name, t).setMeta("preventAutolink", !0).run() : !1
            }
            ,
            toggleLink: t => ({chain: e}) => {
                const {href: n} = t;
                return this.options.isAllowedUri(n, {
                    defaultValidate: r => !!ci(r, this.options.protocols),
                    protocols: this.options.protocols,
                    defaultProtocol: this.options.defaultProtocol
                }) ? e().toggleMark(this.name, t, {
                    extendEmptyMarkRange: !0
                }).setMeta("preventAutolink", !0).run() : !1
            }
            ,
            unsetLink: () => ({chain: t}) => t().unsetMark(this.name, {
                extendEmptyMarkRange: !0
            }).setMeta("preventAutolink", !0).run()
        }
    },
    addPasteRules() {
        return [_i({
            find: t => {
                const e = [];
                if (t) {
                    const {protocols: n, defaultProtocol: r} = this.options
                      , s = IN(t).filter(l => l.isLink && this.options.isAllowedUri(l.value, {
                        defaultValidate: o => !!ci(o, n),
                        protocols: n,
                        defaultProtocol: r
                    }));
                    s.length && s.forEach(l => e.push({
                        text: l.value,
                        data: {
                            href: l.href
                        },
                        index: l.start
                    }))
                }
                return e
            }
            ,
            type: this.type,
            getAttributes: t => {
                var e;
                return {
                    href: (e = t.data) === null || e === void 0 ? void 0 : e.href
                }
            }
        })]
    },
    addProseMirrorPlugins() {
        const t = []
          , {protocols: e, defaultProtocol: n} = this.options;
        return this.options.autolink && t.push(cz({
            type: this.type,
            defaultProtocol: this.options.defaultProtocol,
            validate: r => this.options.isAllowedUri(r, {
                defaultValidate: s => !!ci(s, e),
                protocols: e,
                defaultProtocol: n
            }),
            shouldAutoLink: this.options.shouldAutoLink
        })),
        this.options.openOnClick === !0 && t.push(dz({
            type: this.type
        })),
        this.options.linkOnPaste && t.push(fz({
            editor: this.editor,
            defaultProtocol: this.options.defaultProtocol,
            type: this.type
        })),
        t
    }
})
  , pz = /(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/
  , mz = bt.create({
    name: "image",
    addOptions() {
        return {
            inline: !1,
            allowBase64: !1,
            HTMLAttributes: {}
        }
    },
    inline() {
        return this.options.inline
    },
    group() {
        return this.options.inline ? "inline" : "block"
    },
    draggable: !0,
    addAttributes() {
        return {
            src: {
                default: null
            },
            alt: {
                default: null
            },
            title: {
                default: null
            }
        }
    },
    parseHTML() {
        return [{
            tag: this.options.allowBase64 ? "img[src]" : 'img[src]:not([src^="data:"])'
        }]
    },
    renderHTML({HTMLAttributes: t}) {
        return ["img", et(this.options.HTMLAttributes, t)]
    },
    addCommands() {
        return {
            setImage: t => ({commands: e}) => e.insertContent({
                type: this.name,
                attrs: t
            })
        }
    },
    addInputRules() {
        return [bN({
            find: pz,
            type: this.type,
            getAttributes: t => {
                const [,,e,n,r] = t;
                return {
                    src: n,
                    alt: e,
                    title: r
                }
            }
        })]
    }
});
let dm, fm;
if (typeof WeakMap < "u") {
    let t = new WeakMap;
    dm = e => t.get(e),
    fm = (e, n) => (t.set(e, n),
    n)
} else {
    const t = [];
    let n = 0;
    dm = r => {
        for (let s = 0; s < t.length; s += 2)
            if (t[s] == r)
                return t[s + 1]
    }
    ,
    fm = (r, s) => (n == 10 && (n = 0),
    t[n++] = r,
    t[n++] = s)
}
var lt = class {
    constructor(t, e, n, r) {
        this.width = t,
        this.height = e,
        this.map = n,
        this.problems = r
    }
    findCell(t) {
        for (let e = 0; e < this.map.length; e++) {
            const n = this.map[e];
            if (n != t)
                continue;
            const r = e % this.width
              , s = e / this.width | 0;
            let l = r + 1
              , o = s + 1;
            for (let u = 1; l < this.width && this.map[e + u] == n; u++)
                l++;
            for (let u = 1; o < this.height && this.map[e + this.width * u] == n; u++)
                o++;
            return {
                left: r,
                top: s,
                right: l,
                bottom: o
            }
        }
        throw new RangeError(`No cell with offset ${t} found`)
    }
    colCount(t) {
        for (let e = 0; e < this.map.length; e++)
            if (this.map[e] == t)
                return e % this.width;
        throw new RangeError(`No cell with offset ${t} found`)
    }
    nextCell(t, e, n) {
        const {left: r, right: s, top: l, bottom: o} = this.findCell(t);
        return e == "horiz" ? (n < 0 ? r == 0 : s == this.width) ? null : this.map[l * this.width + (n < 0 ? r - 1 : s)] : (n < 0 ? l == 0 : o == this.height) ? null : this.map[r + this.width * (n < 0 ? l - 1 : o)]
    }
    rectBetween(t, e) {
        const {left: n, right: r, top: s, bottom: l} = this.findCell(t)
          , {left: o, right: u, top: f, bottom: p} = this.findCell(e);
        return {
            left: Math.min(n, o),
            top: Math.min(s, f),
            right: Math.max(r, u),
            bottom: Math.max(l, p)
        }
    }
    cellsInRect(t) {
        const e = []
          , n = {};
        for (let r = t.top; r < t.bottom; r++)
            for (let s = t.left; s < t.right; s++) {
                const l = r * this.width + s
                  , o = this.map[l];
                n[o] || (n[o] = !0,
                !(s == t.left && s && this.map[l - 1] == o || r == t.top && r && this.map[l - this.width] == o) && e.push(o))
            }
        return e
    }
    positionAt(t, e, n) {
        for (let r = 0, s = 0; ; r++) {
            const l = s + n.child(r).nodeSize;
            if (r == t) {
                let o = e + t * this.width;
                const u = (t + 1) * this.width;
                for (; o < u && this.map[o] < s; )
                    o++;
                return o == u ? l - 1 : this.map[o]
            }
            s = l
        }
    }
    static get(t) {
        return dm(t) || fm(t, gz(t))
    }
}
;
function gz(t) {
    if (t.type.spec.tableRole != "table")
        throw new RangeError("Not a table node: " + t.type.name);
    const e = xz(t)
      , n = t.childCount
      , r = [];
    let s = 0
      , l = null;
    const o = [];
    for (let p = 0, m = e * n; p < m; p++)
        r[p] = 0;
    for (let p = 0, m = 0; p < n; p++) {
        const g = t.child(p);
        m++;
        for (let y = 0; ; y++) {
            for (; s < r.length && r[s] != 0; )
                s++;
            if (y == g.childCount)
                break;
            const w = g.child(y)
              , {colspan: C, rowspan: E, colwidth: A} = w.attrs;
            for (let _ = 0; _ < E; _++) {
                if (_ + p >= n) {
                    (l || (l = [])).push({
                        type: "overlong_rowspan",
                        pos: m,
                        n: E - _
                    });
                    break
                }
                const O = s + _ * e;
                for (let R = 0; R < C; R++) {
                    r[O + R] == 0 ? r[O + R] = m : (l || (l = [])).push({
                        type: "collision",
                        row: p,
                        pos: m,
                        n: C - R
                    });
                    const $ = A && A[R];
                    if ($) {
                        const z = (O + R) % e * 2
                          , G = o[z];
                        G == null || G != $ && o[z + 1] == 1 ? (o[z] = $,
                        o[z + 1] = 1) : G == $ && o[z + 1]++
                    }
                }
            }
            s += C,
            m += w.nodeSize
        }
        const v = (p + 1) * e;
        let N = 0;
        for (; s < v; )
            r[s++] == 0 && N++;
        N && (l || (l = [])).push({
            type: "missing",
            row: p,
            n: N
        }),
        m++
    }
    (e === 0 || n === 0) && (l || (l = [])).push({
        type: "zero_sized"
    });
    const u = new lt(e,n,r,l);
    let f = !1;
    for (let p = 0; !f && p < o.length; p += 2)
        o[p] != null && o[p + 1] < n && (f = !0);
    return f && bz(u, o, t),
    u
}
function xz(t) {
    let e = -1
      , n = !1;
    for (let r = 0; r < t.childCount; r++) {
        const s = t.child(r);
        let l = 0;
        if (n)
            for (let o = 0; o < r; o++) {
                const u = t.child(o);
                for (let f = 0; f < u.childCount; f++) {
                    const p = u.child(f);
                    o + p.attrs.rowspan > r && (l += p.attrs.colspan)
                }
            }
        for (let o = 0; o < s.childCount; o++) {
            const u = s.child(o);
            l += u.attrs.colspan,
            u.attrs.rowspan > 1 && (n = !0)
        }
        e == -1 ? e = l : e != l && (e = Math.max(e, l))
    }
    return e
}
function bz(t, e, n) {
    t.problems || (t.problems = []);
    const r = {};
    for (let s = 0; s < t.map.length; s++) {
        const l = t.map[s];
        if (r[l])
            continue;
        r[l] = !0;
        const o = n.nodeAt(l);
        if (!o)
            throw new RangeError(`No cell with offset ${l} found`);
        let u = null;
        const f = o.attrs;
        for (let p = 0; p < f.colspan; p++) {
            const m = e[(s + p) % t.width * 2];
            m != null && (!f.colwidth || f.colwidth[p] != m) && ((u || (u = yz(f)))[p] = m)
        }
        u && t.problems.unshift({
            type: "colwidth mismatch",
            pos: l,
            colwidth: u
        })
    }
}
function yz(t) {
    if (t.colwidth)
        return t.colwidth.slice();
    const e = [];
    for (let n = 0; n < t.colspan; n++)
        e.push(0);
    return e
}
function qt(t) {
    let e = t.cached.tableNodeTypes;
    if (!e) {
        e = t.cached.tableNodeTypes = {};
        for (const n in t.nodes) {
            const r = t.nodes[n]
              , s = r.spec.tableRole;
            s && (e[s] = r)
        }
    }
    return e
}
const _s = new $t("selectingCells");
function Ti(t) {
    for (let e = t.depth - 1; e > 0; e--)
        if (t.node(e).type.spec.tableRole == "row")
            return t.node(0).resolve(t.before(e + 1));
    return null
}
function vz(t) {
    for (let e = t.depth; e > 0; e--) {
        const n = t.node(e).type.spec.tableRole;
        if (n === "cell" || n === "header_cell")
            return t.node(e)
    }
    return null
}
function Zn(t) {
    const e = t.selection.$head;
    for (let n = e.depth; n > 0; n--)
        if (e.node(n).type.spec.tableRole == "row")
            return !0;
    return !1
}
function lf(t) {
    const e = t.selection;
    if ("$anchorCell"in e && e.$anchorCell)
        return e.$anchorCell.pos > e.$headCell.pos ? e.$anchorCell : e.$headCell;
    if ("node"in e && e.node && e.node.type.spec.tableRole == "cell")
        return e.$anchor;
    const n = Ti(e.$head) || Nz(e.$head);
    if (n)
        return n;
    throw new RangeError(`No cell found around position ${e.head}`)
}
function Nz(t) {
    for (let e = t.nodeAfter, n = t.pos; e; e = e.firstChild,
    n++) {
        const r = e.type.spec.tableRole;
        if (r == "cell" || r == "header_cell")
            return t.doc.resolve(n)
    }
    for (let e = t.nodeBefore, n = t.pos; e; e = e.lastChild,
    n--) {
        const r = e.type.spec.tableRole;
        if (r == "cell" || r == "header_cell")
            return t.doc.resolve(n - e.nodeSize)
    }
}
function hm(t) {
    return t.parent.type.spec.tableRole == "row" && !!t.nodeAfter
}
function wz(t) {
    return t.node(0).resolve(t.pos + t.nodeAfter.nodeSize)
}
function Sg(t, e) {
    return t.depth == e.depth && t.pos >= e.start(-1) && t.pos <= e.end(-1)
}
function $N(t, e, n) {
    const r = t.node(-1)
      , s = lt.get(r)
      , l = t.start(-1)
      , o = s.nextCell(t.pos - l, e, n);
    return o == null ? null : t.node(0).resolve(l + o)
}
function Di(t, e, n=1) {
    const r = {
        ...t,
        colspan: t.colspan - n
    };
    return r.colwidth && (r.colwidth = r.colwidth.slice(),
    r.colwidth.splice(e, n),
    r.colwidth.some(s => s > 0) || (r.colwidth = null)),
    r
}
function PN(t, e, n=1) {
    const r = {
        ...t,
        colspan: t.colspan + n
    };
    if (r.colwidth) {
        r.colwidth = r.colwidth.slice();
        for (let s = 0; s < n; s++)
            r.colwidth.splice(e, 0, 0)
    }
    return r
}
function Cz(t, e, n) {
    const r = qt(e.type.schema).header_cell;
    for (let s = 0; s < t.height; s++)
        if (e.nodeAt(t.map[n + s * t.width]).type != r)
            return !1;
    return !0
}
var Ke = class Ur extends he {
    constructor(e, n=e) {
        const r = e.node(-1)
          , s = lt.get(r)
          , l = e.start(-1)
          , o = s.rectBetween(e.pos - l, n.pos - l)
          , u = e.node(0)
          , f = s.cellsInRect(o).filter(m => m != n.pos - l);
        f.unshift(n.pos - l);
        const p = f.map(m => {
            const g = r.nodeAt(m);
            if (!g)
                throw new RangeError(`No cell with offset ${m} found`);
            const v = l + m + 1;
            return new c4(u.resolve(v),u.resolve(v + g.content.size))
        }
        );
        super(p[0].$from, p[0].$to, p),
        this.$anchorCell = e,
        this.$headCell = n
    }
    map(e, n) {
        const r = e.resolve(n.map(this.$anchorCell.pos))
          , s = e.resolve(n.map(this.$headCell.pos));
        if (hm(r) && hm(s) && Sg(r, s)) {
            const l = this.$anchorCell.node(-1) != r.node(-1);
            return l && this.isRowSelection() ? Ur.rowSelection(r, s) : l && this.isColSelection() ? Ur.colSelection(r, s) : new Ur(r,s)
        }
        return ce.between(r, s)
    }
    content() {
        const e = this.$anchorCell.node(-1)
          , n = lt.get(e)
          , r = this.$anchorCell.start(-1)
          , s = n.rectBetween(this.$anchorCell.pos - r, this.$headCell.pos - r)
          , l = {}
          , o = [];
        for (let f = s.top; f < s.bottom; f++) {
            const p = [];
            for (let m = f * n.width + s.left, g = s.left; g < s.right; g++,
            m++) {
                const v = n.map[m];
                if (l[v])
                    continue;
                l[v] = !0;
                const N = n.findCell(v);
                let y = e.nodeAt(v);
                if (!y)
                    throw new RangeError(`No cell with offset ${v} found`);
                const w = s.left - N.left
                  , C = N.right - s.right;
                if (w > 0 || C > 0) {
                    let E = y.attrs;
                    if (w > 0 && (E = Di(E, 0, w)),
                    C > 0 && (E = Di(E, E.colspan - C, C)),
                    N.left < s.left) {
                        if (y = y.type.createAndFill(E),
                        !y)
                            throw new RangeError(`Could not create cell with attrs ${JSON.stringify(E)}`)
                    } else
                        y = y.type.create(E, y.content)
                }
                if (N.top < s.top || N.bottom > s.bottom) {
                    const E = {
                        ...y.attrs,
                        rowspan: Math.min(N.bottom, s.bottom) - Math.max(N.top, s.top)
                    };
                    N.top < s.top ? y = y.type.createAndFill(E) : y = y.type.create(E, y.content)
                }
                p.push(y)
            }
            o.push(e.child(f).copy(X.from(p)))
        }
        const u = this.isColSelection() && this.isRowSelection() ? e : o;
        return new ee(X.from(u),1,1)
    }
    replace(e, n=ee.empty) {
        const r = e.steps.length
          , s = this.ranges;
        for (let o = 0; o < s.length; o++) {
            const {$from: u, $to: f} = s[o]
              , p = e.mapping.slice(r);
            e.replace(p.map(u.pos), p.map(f.pos), o ? ee.empty : n)
        }
        const l = he.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)), -1);
        l && e.setSelection(l)
    }
    replaceWith(e, n) {
        this.replace(e, new ee(X.from(n),0,0))
    }
    forEachCell(e) {
        const n = this.$anchorCell.node(-1)
          , r = lt.get(n)
          , s = this.$anchorCell.start(-1)
          , l = r.cellsInRect(r.rectBetween(this.$anchorCell.pos - s, this.$headCell.pos - s));
        for (let o = 0; o < l.length; o++)
            e(n.nodeAt(l[o]), s + l[o])
    }
    isColSelection() {
        const e = this.$anchorCell.index(-1)
          , n = this.$headCell.index(-1);
        if (Math.min(e, n) > 0)
            return !1;
        const r = e + this.$anchorCell.nodeAfter.attrs.rowspan
          , s = n + this.$headCell.nodeAfter.attrs.rowspan;
        return Math.max(r, s) == this.$headCell.node(-1).childCount
    }
    static colSelection(e, n=e) {
        const r = e.node(-1)
          , s = lt.get(r)
          , l = e.start(-1)
          , o = s.findCell(e.pos - l)
          , u = s.findCell(n.pos - l)
          , f = e.node(0);
        return o.top <= u.top ? (o.top > 0 && (e = f.resolve(l + s.map[o.left])),
        u.bottom < s.height && (n = f.resolve(l + s.map[s.width * (s.height - 1) + u.right - 1]))) : (u.top > 0 && (n = f.resolve(l + s.map[u.left])),
        o.bottom < s.height && (e = f.resolve(l + s.map[s.width * (s.height - 1) + o.right - 1]))),
        new Ur(e,n)
    }
    isRowSelection() {
        const e = this.$anchorCell.node(-1)
          , n = lt.get(e)
          , r = this.$anchorCell.start(-1)
          , s = n.colCount(this.$anchorCell.pos - r)
          , l = n.colCount(this.$headCell.pos - r);
        if (Math.min(s, l) > 0)
            return !1;
        const o = s + this.$anchorCell.nodeAfter.attrs.colspan
          , u = l + this.$headCell.nodeAfter.attrs.colspan;
        return Math.max(o, u) == n.width
    }
    eq(e) {
        return e instanceof Ur && e.$anchorCell.pos == this.$anchorCell.pos && e.$headCell.pos == this.$headCell.pos
    }
    static rowSelection(e, n=e) {
        const r = e.node(-1)
          , s = lt.get(r)
          , l = e.start(-1)
          , o = s.findCell(e.pos - l)
          , u = s.findCell(n.pos - l)
          , f = e.node(0);
        return o.left <= u.left ? (o.left > 0 && (e = f.resolve(l + s.map[o.top * s.width])),
        u.right < s.width && (n = f.resolve(l + s.map[s.width * (u.top + 1) - 1]))) : (u.left > 0 && (n = f.resolve(l + s.map[u.top * s.width])),
        o.right < s.width && (e = f.resolve(l + s.map[s.width * (o.top + 1) - 1]))),
        new Ur(e,n)
    }
    toJSON() {
        return {
            type: "cell",
            anchor: this.$anchorCell.pos,
            head: this.$headCell.pos
        }
    }
    static fromJSON(e, n) {
        return new Ur(e.resolve(n.anchor),e.resolve(n.head))
    }
    static create(e, n, r=n) {
        return new Ur(e.resolve(n),e.resolve(r))
    }
    getBookmark() {
        return new Sz(this.$anchorCell.pos,this.$headCell.pos)
    }
}
;
Ke.prototype.visible = !1;
he.jsonID("cell", Ke);
var Sz = class VN {
    constructor(e, n) {
        this.anchor = e,
        this.head = n
    }
    map(e) {
        return new VN(e.map(this.anchor),e.map(this.head))
    }
    resolve(e) {
        const n = e.resolve(this.anchor)
          , r = e.resolve(this.head);
        return n.parent.type.spec.tableRole == "row" && r.parent.type.spec.tableRole == "row" && n.index() < n.parent.childCount && r.index() < r.parent.childCount && Sg(n, r) ? new Ke(n,r) : he.near(r, 1)
    }
}
;
function jz(t) {
    if (!(t.selection instanceof Ke))
        return null;
    const e = [];
    return t.selection.forEachCell( (n, r) => {
        e.push(Kt.node(r, r + n.nodeSize, {
            class: "selectedCell"
        }))
    }
    ),
    st.create(t.doc, e)
}
function Ez({$from: t, $to: e}) {
    if (t.pos == e.pos || t.pos < e.pos - 6)
        return !1;
    let n = t.pos
      , r = e.pos
      , s = t.depth;
    for (; s >= 0 && !(t.after(s + 1) < t.end(s)); s--,
    n++)
        ;
    for (let l = e.depth; l >= 0 && !(e.before(l + 1) > e.start(l)); l--,
    r--)
        ;
    return n == r && /row|table/.test(t.node(s).type.spec.tableRole)
}
function kz({$from: t, $to: e}) {
    let n, r;
    for (let s = t.depth; s > 0; s--) {
        const l = t.node(s);
        if (l.type.spec.tableRole === "cell" || l.type.spec.tableRole === "header_cell") {
            n = l;
            break
        }
    }
    for (let s = e.depth; s > 0; s--) {
        const l = e.node(s);
        if (l.type.spec.tableRole === "cell" || l.type.spec.tableRole === "header_cell") {
            r = l;
            break
        }
    }
    return n !== r && e.parentOffset === 0
}
function Az(t, e, n) {
    const r = (e || t).selection
      , s = (e || t).doc;
    let l, o;
    if (r instanceof ue && (o = r.node.type.spec.tableRole)) {
        if (o == "cell" || o == "header_cell")
            l = Ke.create(s, r.from);
        else if (o == "row") {
            const u = s.resolve(r.from + 1);
            l = Ke.rowSelection(u, u)
        } else if (!n) {
            const u = lt.get(r.node)
              , f = r.from + 1
              , p = f + u.map[u.width * u.height - 1];
            l = Ke.create(s, f + 1, p)
        }
    } else
        r instanceof ce && Ez(r) ? l = ce.create(s, r.from) : r instanceof ce && kz(r) && (l = ce.create(s, r.$from.start(), r.$from.end()));
    return l && (e || (e = t.tr)).setSelection(l),
    e
}
const _z = new $t("fix-tables");
function GN(t, e, n, r) {
    const s = t.childCount
      , l = e.childCount;
    e: for (let o = 0, u = 0; o < l; o++) {
        const f = e.child(o);
        for (let p = u, m = Math.min(s, o + 3); p < m; p++)
            if (t.child(p) == f) {
                u = p + 1,
                n += f.nodeSize;
                continue e
            }
        r(f, n),
        u < s && t.child(u).sameMarkup(f) ? GN(t.child(u), f, n + 1, r) : f.nodesBetween(0, f.content.size, r, n + 1),
        n += f.nodeSize
    }
}
function KN(t, e) {
    let n;
    const r = (s, l) => {
        s.type.spec.tableRole == "table" && (n = Tz(t, s, l, n))
    }
    ;
    return e ? e.doc != t.doc && GN(e.doc, t.doc, 0, r) : t.doc.descendants(r),
    n
}
function Tz(t, e, n, r) {
    const s = lt.get(e);
    if (!s.problems)
        return r;
    r || (r = t.tr);
    const l = [];
    for (let f = 0; f < s.height; f++)
        l.push(0);
    for (let f = 0; f < s.problems.length; f++) {
        const p = s.problems[f];
        if (p.type == "collision") {
            const m = e.nodeAt(p.pos);
            if (!m)
                continue;
            const g = m.attrs;
            for (let v = 0; v < g.rowspan; v++)
                l[p.row + v] += p.n;
            r.setNodeMarkup(r.mapping.map(n + 1 + p.pos), null, Di(g, g.colspan - p.n, p.n))
        } else if (p.type == "missing")
            l[p.row] += p.n;
        else if (p.type == "overlong_rowspan") {
            const m = e.nodeAt(p.pos);
            if (!m)
                continue;
            r.setNodeMarkup(r.mapping.map(n + 1 + p.pos), null, {
                ...m.attrs,
                rowspan: m.attrs.rowspan - p.n
            })
        } else if (p.type == "colwidth mismatch") {
            const m = e.nodeAt(p.pos);
            if (!m)
                continue;
            r.setNodeMarkup(r.mapping.map(n + 1 + p.pos), null, {
                ...m.attrs,
                colwidth: p.colwidth
            })
        } else if (p.type == "zero_sized") {
            const m = r.mapping.map(n);
            r.delete(m, m + e.nodeSize)
        }
    }
    let o, u;
    for (let f = 0; f < l.length; f++)
        l[f] && (o == null && (o = f),
        u = f);
    for (let f = 0, p = n + 1; f < s.height; f++) {
        const m = e.child(f)
          , g = p + m.nodeSize
          , v = l[f];
        if (v > 0) {
            let N = "cell";
            m.firstChild && (N = m.firstChild.type.spec.tableRole);
            const y = [];
            for (let C = 0; C < v; C++) {
                const E = qt(t.schema)[N].createAndFill();
                E && y.push(E)
            }
            const w = (f == 0 || o == f - 1) && u == f ? p + 1 : g - 1;
            r.insert(r.mapping.map(w), y)
        }
        p = g
    }
    return r.setMeta(_z, {
        fixTables: !0
    })
}
function xr(t) {
    const e = t.selection
      , n = lf(t)
      , r = n.node(-1)
      , s = n.start(-1)
      , l = lt.get(r);
    return {
        ...e instanceof Ke ? l.rectBetween(e.$anchorCell.pos - s, e.$headCell.pos - s) : l.findCell(n.pos - s),
        tableStart: s,
        map: l,
        table: r
    }
}
function YN(t, {map: e, tableStart: n, table: r}, s) {
    let l = s > 0 ? -1 : 0;
    Cz(e, r, s + l) && (l = s == 0 || s == e.width ? null : 0);
    for (let o = 0; o < e.height; o++) {
        const u = o * e.width + s;
        if (s > 0 && s < e.width && e.map[u - 1] == e.map[u]) {
            const f = e.map[u]
              , p = r.nodeAt(f);
            t.setNodeMarkup(t.mapping.map(n + f), null, PN(p.attrs, s - e.colCount(f))),
            o += p.attrs.rowspan - 1
        } else {
            const f = l == null ? qt(r.type.schema).cell : r.nodeAt(e.map[u + l]).type
              , p = e.positionAt(o, s, r);
            t.insert(t.mapping.map(n + p), f.createAndFill())
        }
    }
    return t
}
function Dz(t, e) {
    if (!Zn(t))
        return !1;
    if (e) {
        const n = xr(t);
        e(YN(t.tr, n, n.left))
    }
    return !0
}
function Mz(t, e) {
    if (!Zn(t))
        return !1;
    if (e) {
        const n = xr(t);
        e(YN(t.tr, n, n.right))
    }
    return !0
}
function Oz(t, {map: e, table: n, tableStart: r}, s) {
    const l = t.mapping.maps.length;
    for (let o = 0; o < e.height; ) {
        const u = o * e.width + s
          , f = e.map[u]
          , p = n.nodeAt(f)
          , m = p.attrs;
        if (s > 0 && e.map[u - 1] == f || s < e.width - 1 && e.map[u + 1] == f)
            t.setNodeMarkup(t.mapping.slice(l).map(r + f), null, Di(m, s - e.colCount(f)));
        else {
            const g = t.mapping.slice(l).map(r + f);
            t.delete(g, g + p.nodeSize)
        }
        o += m.rowspan
    }
}
function Rz(t, e) {
    if (!Zn(t))
        return !1;
    if (e) {
        const n = xr(t)
          , r = t.tr;
        if (n.left == 0 && n.right == n.map.width)
            return !1;
        for (let s = n.right - 1; Oz(r, n, s),
        s != n.left; s--) {
            const l = n.tableStart ? r.doc.nodeAt(n.tableStart - 1) : r.doc;
            if (!l)
                throw new RangeError("No table found");
            n.table = l,
            n.map = lt.get(l)
        }
        e(r)
    }
    return !0
}
function zz(t, e, n) {
    var r;
    const s = qt(e.type.schema).header_cell;
    for (let l = 0; l < t.width; l++)
        if (((r = e.nodeAt(t.map[l + n * t.width])) === null || r === void 0 ? void 0 : r.type) != s)
            return !1;
    return !0
}
function JN(t, {map: e, tableStart: n, table: r}, s) {
    let l = n;
    for (let p = 0; p < s; p++)
        l += r.child(p).nodeSize;
    const o = [];
    let u = s > 0 ? -1 : 0;
    zz(e, r, s + u) && (u = s == 0 || s == e.height ? null : 0);
    for (let p = 0, m = e.width * s; p < e.width; p++,
    m++)
        if (s > 0 && s < e.height && e.map[m] == e.map[m - e.width]) {
            const g = e.map[m]
              , v = r.nodeAt(g).attrs;
            t.setNodeMarkup(n + g, null, {
                ...v,
                rowspan: v.rowspan + 1
            }),
            p += v.colspan - 1
        } else {
            var f;
            const g = u == null ? qt(r.type.schema).cell : (f = r.nodeAt(e.map[m + u * e.width])) === null || f === void 0 ? void 0 : f.type
              , v = g?.createAndFill();
            v && o.push(v)
        }
    return t.insert(l, qt(r.type.schema).row.create(null, o)),
    t
}
function Lz(t, e) {
    if (!Zn(t))
        return !1;
    if (e) {
        const n = xr(t);
        e(JN(t.tr, n, n.top))
    }
    return !0
}
function Bz(t, e) {
    if (!Zn(t))
        return !1;
    if (e) {
        const n = xr(t);
        e(JN(t.tr, n, n.bottom))
    }
    return !0
}
function Fz(t, {map: e, table: n, tableStart: r}, s) {
    let l = 0;
    for (let p = 0; p < s; p++)
        l += n.child(p).nodeSize;
    const o = l + n.child(s).nodeSize
      , u = t.mapping.maps.length;
    t.delete(l + r, o + r);
    const f = new Set;
    for (let p = 0, m = s * e.width; p < e.width; p++,
    m++) {
        const g = e.map[m];
        if (!f.has(g)) {
            if (f.add(g),
            s > 0 && g == e.map[m - e.width]) {
                const v = n.nodeAt(g).attrs;
                t.setNodeMarkup(t.mapping.slice(u).map(g + r), null, {
                    ...v,
                    rowspan: v.rowspan - 1
                }),
                p += v.colspan - 1
            } else if (s < e.height && g == e.map[m + e.width]) {
                const v = n.nodeAt(g)
                  , N = v.attrs
                  , y = v.type.create({
                    ...N,
                    rowspan: v.attrs.rowspan - 1
                }, v.content)
                  , w = e.positionAt(s + 1, p, n);
                t.insert(t.mapping.slice(u).map(r + w), y),
                p += N.colspan - 1
            }
        }
    }
}
function Hz(t, e) {
    if (!Zn(t))
        return !1;
    if (e) {
        const n = xr(t)
          , r = t.tr;
        if (n.top == 0 && n.bottom == n.map.height)
            return !1;
        for (let s = n.bottom - 1; Fz(r, n, s),
        s != n.top; s--) {
            const l = n.tableStart ? r.doc.nodeAt(n.tableStart - 1) : r.doc;
            if (!l)
                throw new RangeError("No table found");
            n.table = l,
            n.map = lt.get(n.table)
        }
        e(r)
    }
    return !0
}
function Yv(t) {
    const e = t.content;
    return e.childCount == 1 && e.child(0).isTextblock && e.child(0).childCount == 0
}
function Uz({width: t, height: e, map: n}, r) {
    let s = r.top * t + r.left
      , l = s
      , o = (r.bottom - 1) * t + r.left
      , u = s + (r.right - r.left - 1);
    for (let f = r.top; f < r.bottom; f++) {
        if (r.left > 0 && n[l] == n[l - 1] || r.right < t && n[u] == n[u + 1])
            return !0;
        l += t,
        u += t
    }
    for (let f = r.left; f < r.right; f++) {
        if (r.top > 0 && n[s] == n[s - t] || r.bottom < e && n[o] == n[o + t])
            return !0;
        s++,
        o++
    }
    return !1
}
function Jv(t, e) {
    const n = t.selection;
    if (!(n instanceof Ke) || n.$anchorCell.pos == n.$headCell.pos)
        return !1;
    const r = xr(t)
      , {map: s} = r;
    if (Uz(s, r))
        return !1;
    if (e) {
        const l = t.tr
          , o = {};
        let u = X.empty, f, p;
        for (let m = r.top; m < r.bottom; m++)
            for (let g = r.left; g < r.right; g++) {
                const v = s.map[m * s.width + g]
                  , N = r.table.nodeAt(v);
                if (!(o[v] || !N))
                    if (o[v] = !0,
                    f == null)
                        f = v,
                        p = N;
                    else {
                        Yv(N) || (u = u.append(N.content));
                        const y = l.mapping.map(v + r.tableStart);
                        l.delete(y, y + N.nodeSize)
                    }
            }
        if (f == null || p == null)
            return !0;
        if (l.setNodeMarkup(f + r.tableStart, null, {
            ...PN(p.attrs, p.attrs.colspan, r.right - r.left - p.attrs.colspan),
            rowspan: r.bottom - r.top
        }),
        u.size > 0) {
            const m = f + 1 + p.content.size
              , g = Yv(p) ? f + 1 : m;
            l.replaceWith(g + r.tableStart, m + r.tableStart, u)
        }
        l.setSelection(new Ke(l.doc.resolve(f + r.tableStart))),
        e(l)
    }
    return !0
}
function Xv(t, e) {
    const n = qt(t.schema);
    return qz( ({node: r}) => n[r.type.spec.tableRole])(t, e)
}
function qz(t) {
    return (e, n) => {
        const r = e.selection;
        let s, l;
        if (r instanceof Ke) {
            if (r.$anchorCell.pos != r.$headCell.pos)
                return !1;
            s = r.$anchorCell.nodeAfter,
            l = r.$anchorCell.pos
        } else {
            var o;
            if (s = vz(r.$from),
            !s)
                return !1;
            l = (o = Ti(r.$from)) === null || o === void 0 ? void 0 : o.pos
        }
        if (s == null || l == null || s.attrs.colspan == 1 && s.attrs.rowspan == 1)
            return !1;
        if (n) {
            let u = s.attrs;
            const f = []
              , p = u.colwidth;
            u.rowspan > 1 && (u = {
                ...u,
                rowspan: 1
            }),
            u.colspan > 1 && (u = {
                ...u,
                colspan: 1
            });
            const m = xr(e)
              , g = e.tr;
            for (let N = 0; N < m.right - m.left; N++)
                f.push(p ? {
                    ...u,
                    colwidth: p && p[N] ? [p[N]] : null
                } : u);
            let v;
            for (let N = m.top; N < m.bottom; N++) {
                let y = m.map.positionAt(N, m.left, m.table);
                N == m.top && (y += s.nodeSize);
                for (let w = m.left, C = 0; w < m.right; w++,
                C++)
                    w == m.left && N == m.top || g.insert(v = g.mapping.map(y + m.tableStart, 1), t({
                        node: s,
                        row: N,
                        col: w
                    }).createAndFill(f[C]))
            }
            g.setNodeMarkup(l, t({
                node: s,
                row: m.top,
                col: m.left
            }), f[0]),
            r instanceof Ke && g.setSelection(new Ke(g.doc.resolve(r.$anchorCell.pos),v ? g.doc.resolve(v) : void 0)),
            n(g)
        }
        return !0
    }
}
function Iz(t, e) {
    return function(n, r) {
        if (!Zn(n))
            return !1;
        const s = lf(n);
        if (s.nodeAfter.attrs[t] === e)
            return !1;
        if (r) {
            const l = n.tr;
            n.selection instanceof Ke ? n.selection.forEachCell( (o, u) => {
                o.attrs[t] !== e && l.setNodeMarkup(u, null, {
                    ...o.attrs,
                    [t]: e
                })
            }
            ) : l.setNodeMarkup(s.pos, null, {
                ...s.nodeAfter.attrs,
                [t]: e
            }),
            r(l)
        }
        return !0
    }
}
function $z(t) {
    return function(e, n) {
        if (!Zn(e))
            return !1;
        if (n) {
            const r = qt(e.schema)
              , s = xr(e)
              , l = e.tr
              , o = s.map.cellsInRect(t == "column" ? {
                left: s.left,
                top: 0,
                right: s.right,
                bottom: s.map.height
            } : t == "row" ? {
                left: 0,
                top: s.top,
                right: s.map.width,
                bottom: s.bottom
            } : s)
              , u = o.map(f => s.table.nodeAt(f));
            for (let f = 0; f < o.length; f++)
                u[f].type == r.header_cell && l.setNodeMarkup(s.tableStart + o[f], r.cell, u[f].attrs);
            if (l.steps.length === 0)
                for (let f = 0; f < o.length; f++)
                    l.setNodeMarkup(s.tableStart + o[f], r.header_cell, u[f].attrs);
            n(l)
        }
        return !0
    }
}
function Qv(t, e, n) {
    const r = e.map.cellsInRect({
        left: 0,
        top: 0,
        right: t == "row" ? e.map.width : 1,
        bottom: t == "column" ? e.map.height : 1
    });
    for (let s = 0; s < r.length; s++) {
        const l = e.table.nodeAt(r[s]);
        if (l && l.type !== n.header_cell)
            return !1
    }
    return !0
}
function wo(t, e) {
    return e = e || {
        useDeprecatedLogic: !1
    },
    e.useDeprecatedLogic ? $z(t) : function(n, r) {
        if (!Zn(n))
            return !1;
        if (r) {
            const s = qt(n.schema)
              , l = xr(n)
              , o = n.tr
              , u = Qv("row", l, s)
              , f = Qv("column", l, s)
              , p = (t === "column" ? u : t === "row" && f) ? 1 : 0
              , m = t == "column" ? {
                left: 0,
                top: p,
                right: 1,
                bottom: l.map.height
            } : t == "row" ? {
                left: p,
                top: 0,
                right: l.map.width,
                bottom: 1
            } : l
              , g = t == "column" ? f ? s.cell : s.header_cell : t == "row" ? u ? s.cell : s.header_cell : s.cell;
            l.map.cellsInRect(m).forEach(v => {
                const N = v + l.tableStart
                  , y = o.doc.nodeAt(N);
                y && o.setNodeMarkup(N, g, y.attrs)
            }
            ),
            r(o)
        }
        return !0
    }
}
wo("row", {
    useDeprecatedLogic: !0
});
wo("column", {
    useDeprecatedLogic: !0
});
const Pz = wo("cell", {
    useDeprecatedLogic: !0
});
function Vz(t, e) {
    if (e < 0) {
        const n = t.nodeBefore;
        if (n)
            return t.pos - n.nodeSize;
        for (let r = t.index(-1) - 1, s = t.before(); r >= 0; r--) {
            const l = t.node(-1).child(r)
              , o = l.lastChild;
            if (o)
                return s - 1 - o.nodeSize;
            s -= l.nodeSize
        }
    } else {
        if (t.index() < t.parent.childCount - 1)
            return t.pos + t.nodeAfter.nodeSize;
        const n = t.node(-1);
        for (let r = t.indexAfter(-1), s = t.after(); r < n.childCount; r++) {
            const l = n.child(r);
            if (l.childCount)
                return s + 1;
            s += l.nodeSize
        }
    }
    return null
}
function Zv(t) {
    return function(e, n) {
        if (!Zn(e))
            return !1;
        const r = Vz(lf(e), t);
        if (r == null)
            return !1;
        if (n) {
            const s = e.doc.resolve(r);
            n(e.tr.setSelection(ce.between(s, wz(s))).scrollIntoView())
        }
        return !0
    }
}
function Gz(t, e) {
    const n = t.selection.$anchor;
    for (let r = n.depth; r > 0; r--)
        if (n.node(r).type.spec.tableRole == "table")
            return e && e(t.tr.delete(n.before(r), n.after(r)).scrollIntoView()),
            !0;
    return !1
}
function bc(t, e) {
    const n = t.selection;
    if (!(n instanceof Ke))
        return !1;
    if (e) {
        const r = t.tr
          , s = qt(t.schema).cell.createAndFill().content;
        n.forEachCell( (l, o) => {
            l.content.eq(s) || r.replace(r.mapping.map(o + 1), r.mapping.map(o + l.nodeSize - 1), new ee(s,0,0))
        }
        ),
        r.docChanged && e(r)
    }
    return !0
}
function Kz(t) {
    if (t.size === 0)
        return null;
    let {content: e, openStart: n, openEnd: r} = t;
    for (; e.childCount == 1 && (n > 0 && r > 0 || e.child(0).type.spec.tableRole == "table"); )
        n--,
        r--,
        e = e.child(0).content;
    const s = e.child(0)
      , l = s.type.spec.tableRole
      , o = s.type.schema
      , u = [];
    if (l == "row")
        for (let f = 0; f < e.childCount; f++) {
            let p = e.child(f).content;
            const m = f ? 0 : Math.max(0, n - 1)
              , g = f < e.childCount - 1 ? 0 : Math.max(0, r - 1);
            (m || g) && (p = pm(qt(o).row, new ee(p,m,g)).content),
            u.push(p)
        }
    else if (l == "cell" || l == "header_cell")
        u.push(n || r ? pm(qt(o).row, new ee(e,n,r)).content : e);
    else
        return null;
    return Yz(o, u)
}
function Yz(t, e) {
    const n = [];
    for (let s = 0; s < e.length; s++) {
        const l = e[s];
        for (let o = l.childCount - 1; o >= 0; o--) {
            const {rowspan: u, colspan: f} = l.child(o).attrs;
            for (let p = s; p < s + u; p++)
                n[p] = (n[p] || 0) + f
        }
    }
    let r = 0;
    for (let s = 0; s < n.length; s++)
        r = Math.max(r, n[s]);
    for (let s = 0; s < n.length; s++)
        if (s >= e.length && e.push(X.empty),
        n[s] < r) {
            const l = qt(t).cell.createAndFill()
              , o = [];
            for (let u = n[s]; u < r; u++)
                o.push(l);
            e[s] = e[s].append(X.from(o))
        }
    return {
        height: e.length,
        width: r,
        rows: e
    }
}
function pm(t, e) {
    const n = t.createAndFill();
    return new Im(n).replace(0, n.content.size, e).doc
}
function Jz({width: t, height: e, rows: n}, r, s) {
    if (t != r) {
        const l = []
          , o = [];
        for (let u = 0; u < n.length; u++) {
            const f = n[u]
              , p = [];
            for (let m = l[u] || 0, g = 0; m < r; g++) {
                let v = f.child(g % f.childCount);
                m + v.attrs.colspan > r && (v = v.type.createChecked(Di(v.attrs, v.attrs.colspan, m + v.attrs.colspan - r), v.content)),
                p.push(v),
                m += v.attrs.colspan;
                for (let N = 1; N < v.attrs.rowspan; N++)
                    l[u + N] = (l[u + N] || 0) + v.attrs.colspan
            }
            o.push(X.from(p))
        }
        n = o,
        t = r
    }
    if (e != s) {
        const l = [];
        for (let o = 0, u = 0; o < s; o++,
        u++) {
            const f = []
              , p = n[u % e];
            for (let m = 0; m < p.childCount; m++) {
                let g = p.child(m);
                o + g.attrs.rowspan > s && (g = g.type.create({
                    ...g.attrs,
                    rowspan: Math.max(1, s - g.attrs.rowspan)
                }, g.content)),
                f.push(g)
            }
            l.push(X.from(f))
        }
        n = l,
        e = s
    }
    return {
        width: t,
        height: e,
        rows: n
    }
}
function Xz(t, e, n, r, s, l, o) {
    const u = t.doc.type.schema
      , f = qt(u);
    let p, m;
    if (s > e.width)
        for (let g = 0, v = 0; g < e.height; g++) {
            const N = n.child(g);
            v += N.nodeSize;
            const y = [];
            let w;
            N.lastChild == null || N.lastChild.type == f.cell ? w = p || (p = f.cell.createAndFill()) : w = m || (m = f.header_cell.createAndFill());
            for (let C = e.width; C < s; C++)
                y.push(w);
            t.insert(t.mapping.slice(o).map(v - 1 + r), y)
        }
    if (l > e.height) {
        const g = [];
        for (let y = 0, w = (e.height - 1) * e.width; y < Math.max(e.width, s); y++) {
            const C = y >= e.width ? !1 : n.nodeAt(e.map[w + y]).type == f.header_cell;
            g.push(C ? m || (m = f.header_cell.createAndFill()) : p || (p = f.cell.createAndFill()))
        }
        const v = f.row.create(null, X.from(g))
          , N = [];
        for (let y = e.height; y < l; y++)
            N.push(v);
        t.insert(t.mapping.slice(o).map(r + n.nodeSize - 2), N)
    }
    return !!(p || m)
}
function Wv(t, e, n, r, s, l, o, u) {
    if (o == 0 || o == e.height)
        return !1;
    let f = !1;
    for (let p = s; p < l; p++) {
        const m = o * e.width + p
          , g = e.map[m];
        if (e.map[m - e.width] == g) {
            f = !0;
            const v = n.nodeAt(g)
              , {top: N, left: y} = e.findCell(g);
            t.setNodeMarkup(t.mapping.slice(u).map(g + r), null, {
                ...v.attrs,
                rowspan: o - N
            }),
            t.insert(t.mapping.slice(u).map(e.positionAt(o, y, n)), v.type.createAndFill({
                ...v.attrs,
                rowspan: N + v.attrs.rowspan - o
            })),
            p += v.attrs.colspan - 1
        }
    }
    return f
}
function e3(t, e, n, r, s, l, o, u) {
    if (o == 0 || o == e.width)
        return !1;
    let f = !1;
    for (let p = s; p < l; p++) {
        const m = p * e.width + o
          , g = e.map[m];
        if (e.map[m - 1] == g) {
            f = !0;
            const v = n.nodeAt(g)
              , N = e.colCount(g)
              , y = t.mapping.slice(u).map(g + r);
            t.setNodeMarkup(y, null, Di(v.attrs, o - N, v.attrs.colspan - (o - N))),
            t.insert(y + v.nodeSize, v.type.createAndFill(Di(v.attrs, 0, o - N))),
            p += v.attrs.rowspan - 1
        }
    }
    return f
}
function t3(t, e, n, r, s) {
    let l = n ? t.doc.nodeAt(n - 1) : t.doc;
    if (!l)
        throw new Error("No table found");
    let o = lt.get(l);
    const {top: u, left: f} = r
      , p = f + s.width
      , m = u + s.height
      , g = t.tr;
    let v = 0;
    function N() {
        if (l = n ? g.doc.nodeAt(n - 1) : g.doc,
        !l)
            throw new Error("No table found");
        o = lt.get(l),
        v = g.mapping.maps.length
    }
    Xz(g, o, l, n, p, m, v) && N(),
    Wv(g, o, l, n, f, p, u, v) && N(),
    Wv(g, o, l, n, f, p, m, v) && N(),
    e3(g, o, l, n, u, m, f, v) && N(),
    e3(g, o, l, n, u, m, p, v) && N();
    for (let y = u; y < m; y++) {
        const w = o.positionAt(y, f, l)
          , C = o.positionAt(y, p, l);
        g.replace(g.mapping.slice(v).map(w + n), g.mapping.slice(v).map(C + n), new ee(s.rows[y - u],0,0))
    }
    N(),
    g.setSelection(new Ke(g.doc.resolve(n + o.positionAt(u, f, l)),g.doc.resolve(n + o.positionAt(m - 1, p - 1, l)))),
    e(g)
}
const Qz = Wm({
    ArrowLeft: yc("horiz", -1),
    ArrowRight: yc("horiz", 1),
    ArrowUp: yc("vert", -1),
    ArrowDown: yc("vert", 1),
    "Shift-ArrowLeft": vc("horiz", -1),
    "Shift-ArrowRight": vc("horiz", 1),
    "Shift-ArrowUp": vc("vert", -1),
    "Shift-ArrowDown": vc("vert", 1),
    Backspace: bc,
    "Mod-Backspace": bc,
    Delete: bc,
    "Mod-Delete": bc
});
function Mc(t, e, n) {
    return n.eq(t.selection) ? !1 : (e && e(t.tr.setSelection(n).scrollIntoView()),
    !0)
}
function yc(t, e) {
    return (n, r, s) => {
        if (!s)
            return !1;
        const l = n.selection;
        if (l instanceof Ke)
            return Mc(n, r, he.near(l.$headCell, e));
        if (t != "horiz" && !l.empty)
            return !1;
        const o = XN(s, t, e);
        if (o == null)
            return !1;
        if (t == "horiz")
            return Mc(n, r, he.near(n.doc.resolve(l.head + e), e));
        {
            const u = n.doc.resolve(o)
              , f = $N(u, t, e);
            let p;
            return f ? p = he.near(f, 1) : e < 0 ? p = he.near(n.doc.resolve(u.before(-1)), -1) : p = he.near(n.doc.resolve(u.after(-1)), 1),
            Mc(n, r, p)
        }
    }
}
function vc(t, e) {
    return (n, r, s) => {
        if (!s)
            return !1;
        const l = n.selection;
        let o;
        if (l instanceof Ke)
            o = l;
        else {
            const f = XN(s, t, e);
            if (f == null)
                return !1;
            o = new Ke(n.doc.resolve(f))
        }
        const u = $N(o.$headCell, t, e);
        return u ? Mc(n, r, new Ke(o.$anchorCell,u)) : !1
    }
}
function Zz(t, e) {
    const n = t.state.doc
      , r = Ti(n.resolve(e));
    return r ? (t.dispatch(t.state.tr.setSelection(new Ke(r))),
    !0) : !1
}
function Wz(t, e, n) {
    if (!Zn(t.state))
        return !1;
    let r = Kz(n);
    const s = t.state.selection;
    if (s instanceof Ke) {
        r || (r = {
            width: 1,
            height: 1,
            rows: [X.from(pm(qt(t.state.schema).cell, n))]
        });
        const l = s.$anchorCell.node(-1)
          , o = s.$anchorCell.start(-1)
          , u = lt.get(l).rectBetween(s.$anchorCell.pos - o, s.$headCell.pos - o);
        return r = Jz(r, u.right - u.left, u.bottom - u.top),
        t3(t.state, t.dispatch, o, u, r),
        !0
    } else if (r) {
        const l = lf(t.state)
          , o = l.start(-1);
        return t3(t.state, t.dispatch, o, lt.get(l.node(-1)).findCell(l.pos - o), r),
        !0
    } else
        return !1
}
function eL(t, e) {
    var n;
    if (e.button != 0 || e.ctrlKey || e.metaKey)
        return;
    const r = n3(t, e.target);
    let s;
    if (e.shiftKey && t.state.selection instanceof Ke)
        l(t.state.selection.$anchorCell, e),
        e.preventDefault();
    else if (e.shiftKey && r && (s = Ti(t.state.selection.$anchor)) != null && ((n = Np(t, e)) === null || n === void 0 ? void 0 : n.pos) != s.pos)
        l(s, e),
        e.preventDefault();
    else if (!r)
        return;
    function l(f, p) {
        let m = Np(t, p);
        const g = _s.getState(t.state) == null;
        if (!m || !Sg(f, m))
            if (g)
                m = f;
            else
                return;
        const v = new Ke(f,m);
        if (g || !t.state.selection.eq(v)) {
            const N = t.state.tr.setSelection(v);
            g && N.setMeta(_s, f.pos),
            t.dispatch(N)
        }
    }
    function o() {
        t.root.removeEventListener("mouseup", o),
        t.root.removeEventListener("dragstart", o),
        t.root.removeEventListener("mousemove", u),
        _s.getState(t.state) != null && t.dispatch(t.state.tr.setMeta(_s, -1))
    }
    function u(f) {
        const p = f
          , m = _s.getState(t.state);
        let g;
        if (m != null)
            g = t.state.doc.resolve(m);
        else if (n3(t, p.target) != r && (g = Np(t, e),
        !g))
            return o();
        g && l(g, p)
    }
    t.root.addEventListener("mouseup", o),
    t.root.addEventListener("dragstart", o),
    t.root.addEventListener("mousemove", u)
}
function XN(t, e, n) {
    if (!(t.state.selection instanceof ce))
        return null;
    const {$head: r} = t.state.selection;
    for (let s = r.depth - 1; s >= 0; s--) {
        const l = r.node(s);
        if ((n < 0 ? r.index(s) : r.indexAfter(s)) != (n < 0 ? 0 : l.childCount))
            return null;
        if (l.type.spec.tableRole == "cell" || l.type.spec.tableRole == "header_cell") {
            const o = r.before(s)
              , u = e == "vert" ? n > 0 ? "down" : "up" : n > 0 ? "right" : "left";
            return t.endOfTextblock(u) ? o : null
        }
    }
    return null
}
function n3(t, e) {
    for (; e && e != t.dom; e = e.parentNode)
        if (e.nodeName == "TD" || e.nodeName == "TH")
            return e;
    return null
}
function Np(t, e) {
    const n = t.posAtCoords({
        left: e.clientX,
        top: e.clientY
    });
    if (!n)
        return null;
    let {inside: r, pos: s} = n;
    return r >= 0 && Ti(t.state.doc.resolve(r)) || Ti(t.state.doc.resolve(s))
}
var tL = class {
    constructor(e, n) {
        this.node = e,
        this.defaultCellMinWidth = n,
        this.dom = document.createElement("div"),
        this.dom.className = "tableWrapper",
        this.table = this.dom.appendChild(document.createElement("table")),
        this.table.style.setProperty("--default-cell-min-width", `${n}px`),
        this.colgroup = this.table.appendChild(document.createElement("colgroup")),
        mm(e, this.colgroup, this.table, n),
        this.contentDOM = this.table.appendChild(document.createElement("tbody"))
    }
    update(e) {
        return e.type != this.node.type ? !1 : (this.node = e,
        mm(e, this.colgroup, this.table, this.defaultCellMinWidth),
        !0)
    }
    ignoreMutation(e) {
        return e.type == "attributes" && (e.target == this.table || this.colgroup.contains(e.target))
    }
}
;
function mm(t, e, n, r, s, l) {
    let o = 0
      , u = !0
      , f = e.firstChild;
    const p = t.firstChild;
    if (p) {
        for (let g = 0, v = 0; g < p.childCount; g++) {
            const {colspan: N, colwidth: y} = p.child(g).attrs;
            for (let w = 0; w < N; w++,
            v++) {
                const C = s == v ? l : y && y[w]
                  , E = C ? C + "px" : "";
                if (o += C || r,
                C || (u = !1),
                f)
                    f.style.width != E && (f.style.width = E),
                    f = f.nextSibling;
                else {
                    const A = document.createElement("col");
                    A.style.width = E,
                    e.appendChild(A)
                }
            }
        }
        for (; f; ) {
            var m;
            const g = f.nextSibling;
            (m = f.parentNode) === null || m === void 0 || m.removeChild(f),
            f = g
        }
        u ? (n.style.width = o + "px",
        n.style.minWidth = "") : (n.style.width = "",
        n.style.minWidth = o + "px")
    }
}
const wn = new $t("tableColumnResizing");
function nL({handleWidth: t=5, cellMinWidth: e=25, defaultCellMinWidth: n=100, View: r=tL, lastColumnResizable: s=!0}={}) {
    const l = new yt({
        key: wn,
        state: {
            init(o, u) {
                var f;
                const p = (f = l.spec) === null || f === void 0 || (f = f.props) === null || f === void 0 ? void 0 : f.nodeViews
                  , m = qt(u.schema).table.name;
                return r && p && (p[m] = (g, v) => new r(g,n,v)),
                new rL(-1,!1)
            },
            apply(o, u) {
                return u.apply(o)
            }
        },
        props: {
            attributes: o => {
                const u = wn.getState(o);
                return u && u.activeHandle > -1 ? {
                    class: "resize-cursor"
                } : {}
            }
            ,
            handleDOMEvents: {
                mousemove: (o, u) => {
                    sL(o, u, t, s)
                }
                ,
                mouseleave: o => {
                    iL(o)
                }
                ,
                mousedown: (o, u) => {
                    lL(o, u, e, n)
                }
            },
            decorations: o => {
                const u = wn.getState(o);
                if (u && u.activeHandle > -1)
                    return dL(o, u.activeHandle)
            }
            ,
            nodeViews: {}
        }
    });
    return l
}
var rL = class Oc {
    constructor(e, n) {
        this.activeHandle = e,
        this.dragging = n
    }
    apply(e) {
        const n = this
          , r = e.getMeta(wn);
        if (r && r.setHandle != null)
            return new Oc(r.setHandle,!1);
        if (r && r.setDragging !== void 0)
            return new Oc(n.activeHandle,r.setDragging);
        if (n.activeHandle > -1 && e.docChanged) {
            let s = e.mapping.map(n.activeHandle, -1);
            return hm(e.doc.resolve(s)) || (s = -1),
            new Oc(s,n.dragging)
        }
        return n
    }
}
;
function sL(t, e, n, r) {
    if (!t.editable)
        return;
    const s = wn.getState(t.state);
    if (s && !s.dragging) {
        const l = oL(e.target);
        let o = -1;
        if (l) {
            const {left: u, right: f} = l.getBoundingClientRect();
            e.clientX - u <= n ? o = r3(t, e, "left", n) : f - e.clientX <= n && (o = r3(t, e, "right", n))
        }
        if (o != s.activeHandle) {
            if (!r && o !== -1) {
                const u = t.state.doc.resolve(o)
                  , f = u.node(-1)
                  , p = lt.get(f)
                  , m = u.start(-1);
                if (p.colCount(u.pos - m) + u.nodeAfter.attrs.colspan - 1 == p.width - 1)
                    return
            }
            QN(t, o)
        }
    }
}
function iL(t) {
    if (!t.editable)
        return;
    const e = wn.getState(t.state);
    e && e.activeHandle > -1 && !e.dragging && QN(t, -1)
}
function lL(t, e, n, r) {
    var s;
    if (!t.editable)
        return !1;
    const l = (s = t.dom.ownerDocument.defaultView) !== null && s !== void 0 ? s : window
      , o = wn.getState(t.state);
    if (!o || o.activeHandle == -1 || o.dragging)
        return !1;
    const u = t.state.doc.nodeAt(o.activeHandle)
      , f = aL(t, o.activeHandle, u.attrs);
    t.dispatch(t.state.tr.setMeta(wn, {
        setDragging: {
            startX: e.clientX,
            startWidth: f
        }
    }));
    function p(g) {
        l.removeEventListener("mouseup", p),
        l.removeEventListener("mousemove", m);
        const v = wn.getState(t.state);
        v?.dragging && (uL(t, v.activeHandle, s3(v.dragging, g, n)),
        t.dispatch(t.state.tr.setMeta(wn, {
            setDragging: null
        })))
    }
    function m(g) {
        if (!g.which)
            return p(g);
        const v = wn.getState(t.state);
        if (v && v.dragging) {
            const N = s3(v.dragging, g, n);
            i3(t, v.activeHandle, N, r)
        }
    }
    return i3(t, o.activeHandle, f, r),
    l.addEventListener("mouseup", p),
    l.addEventListener("mousemove", m),
    e.preventDefault(),
    !0
}
function aL(t, e, {colspan: n, colwidth: r}) {
    const s = r && r[r.length - 1];
    if (s)
        return s;
    const l = t.domAtPos(e);
    let o = l.node.childNodes[l.offset].offsetWidth
      , u = n;
    if (r)
        for (let f = 0; f < n; f++)
            r[f] && (o -= r[f],
            u--);
    return o / u
}
function oL(t) {
    for (; t && t.nodeName != "TD" && t.nodeName != "TH"; )
        t = t.classList && t.classList.contains("ProseMirror") ? null : t.parentNode;
    return t
}
function r3(t, e, n, r) {
    const s = n == "right" ? -r : r
      , l = t.posAtCoords({
        left: e.clientX + s,
        top: e.clientY
    });
    if (!l)
        return -1;
    const {pos: o} = l
      , u = Ti(t.state.doc.resolve(o));
    if (!u)
        return -1;
    if (n == "right")
        return u.pos;
    const f = lt.get(u.node(-1))
      , p = u.start(-1)
      , m = f.map.indexOf(u.pos - p);
    return m % f.width == 0 ? -1 : p + f.map[m - 1]
}
function s3(t, e, n) {
    const r = e.clientX - t.startX;
    return Math.max(n, t.startWidth + r)
}
function QN(t, e) {
    t.dispatch(t.state.tr.setMeta(wn, {
        setHandle: e
    }))
}
function uL(t, e, n) {
    const r = t.state.doc.resolve(e)
      , s = r.node(-1)
      , l = lt.get(s)
      , o = r.start(-1)
      , u = l.colCount(r.pos - o) + r.nodeAfter.attrs.colspan - 1
      , f = t.state.tr;
    for (let p = 0; p < l.height; p++) {
        const m = p * l.width + u;
        if (p && l.map[m] == l.map[m - l.width])
            continue;
        const g = l.map[m]
          , v = s.nodeAt(g).attrs
          , N = v.colspan == 1 ? 0 : u - l.colCount(g);
        if (v.colwidth && v.colwidth[N] == n)
            continue;
        const y = v.colwidth ? v.colwidth.slice() : cL(v.colspan);
        y[N] = n,
        f.setNodeMarkup(o + g, null, {
            ...v,
            colwidth: y
        })
    }
    f.docChanged && t.dispatch(f)
}
function i3(t, e, n, r) {
    const s = t.state.doc.resolve(e)
      , l = s.node(-1)
      , o = s.start(-1)
      , u = lt.get(l).colCount(s.pos - o) + s.nodeAfter.attrs.colspan - 1;
    let f = t.domAtPos(s.start(-1)).node;
    for (; f && f.nodeName != "TABLE"; )
        f = f.parentNode;
    f && mm(l, f.firstChild, f, r, u, n)
}
function cL(t) {
    return Array(t).fill(0)
}
function dL(t, e) {
    const n = []
      , r = t.doc.resolve(e)
      , s = r.node(-1);
    if (!s)
        return st.empty;
    const l = lt.get(s)
      , o = r.start(-1)
      , u = l.colCount(r.pos - o) + r.nodeAfter.attrs.colspan - 1;
    for (let p = 0; p < l.height; p++) {
        const m = u + p * l.width;
        if ((u == l.width - 1 || l.map[m] != l.map[m + 1]) && (p == 0 || l.map[m] != l.map[m - l.width])) {
            var f;
            const g = l.map[m]
              , v = o + g + s.nodeAt(g).nodeSize - 1
              , N = document.createElement("div");
            N.className = "column-resize-handle",
            !((f = wn.getState(t)) === null || f === void 0) && f.dragging && n.push(Kt.node(o + g, o + g + s.nodeAt(g).nodeSize, {
                class: "column-resize-dragging"
            })),
            n.push(Kt.widget(v, N))
        }
    }
    return st.create(t.doc, n)
}
function fL({allowTableNodeSelection: t=!1}={}) {
    return new yt({
        key: _s,
        state: {
            init() {
                return null
            },
            apply(e, n) {
                const r = e.getMeta(_s);
                if (r != null)
                    return r == -1 ? null : r;
                if (n == null || !e.docChanged)
                    return n;
                const {deleted: s, pos: l} = e.mapping.mapResult(n);
                return s ? null : l
            }
        },
        props: {
            decorations: jz,
            handleDOMEvents: {
                mousedown: eL
            },
            createSelectionBetween(e) {
                return _s.getState(e.state) != null ? e.state.selection : null
            },
            handleTripleClick: Zz,
            handleKeyDown: Qz,
            handlePaste: Wz
        },
        appendTransaction(e, n, r) {
            return Az(r, KN(r, n), t)
        }
    })
}
function gm(t, e) {
    return e ? ["width", `${Math.max(e, t)}px`] : ["min-width", `${t}px`]
}
function l3(t, e, n, r, s, l) {
    var o;
    let u = 0
      , f = !0
      , p = e.firstChild;
    const m = t.firstChild;
    if (m !== null)
        for (let g = 0, v = 0; g < m.childCount; g += 1) {
            const {colspan: N, colwidth: y} = m.child(g).attrs;
            for (let w = 0; w < N; w += 1,
            v += 1) {
                const C = s === v ? l : y && y[w]
                  , E = C ? `${C}px` : "";
                if (u += C || r,
                C || (f = !1),
                p) {
                    if (p.style.width !== E) {
                        const [A,_] = gm(r, C);
                        p.style.setProperty(A, _)
                    }
                    p = p.nextSibling
                } else {
                    const A = document.createElement("col")
                      , [_,O] = gm(r, C);
                    A.style.setProperty(_, O),
                    e.appendChild(A)
                }
            }
        }
    for (; p; ) {
        const g = p.nextSibling;
        (o = p.parentNode) === null || o === void 0 || o.removeChild(p),
        p = g
    }
    f ? (n.style.width = `${u}px`,
    n.style.minWidth = "") : (n.style.width = "",
    n.style.minWidth = `${u}px`)
}
class hL {
    constructor(e, n) {
        this.node = e,
        this.cellMinWidth = n,
        this.dom = document.createElement("div"),
        this.dom.className = "tableWrapper",
        this.table = this.dom.appendChild(document.createElement("table")),
        this.colgroup = this.table.appendChild(document.createElement("colgroup")),
        l3(e, this.colgroup, this.table, n),
        this.contentDOM = this.table.appendChild(document.createElement("tbody"))
    }
    update(e) {
        return e.type !== this.node.type ? !1 : (this.node = e,
        l3(e, this.colgroup, this.table, this.cellMinWidth),
        !0)
    }
    ignoreMutation(e) {
        return e.type === "attributes" && (e.target === this.table || this.colgroup.contains(e.target))
    }
}
function pL(t, e, n, r) {
    let s = 0
      , l = !0;
    const o = []
      , u = t.firstChild;
    if (!u)
        return {};
    for (let g = 0, v = 0; g < u.childCount; g += 1) {
        const {colspan: N, colwidth: y} = u.child(g).attrs;
        for (let w = 0; w < N; w += 1,
        v += 1) {
            const C = n === v ? r : y && y[w];
            s += C || e,
            C || (l = !1);
            const [E,A] = gm(e, C);
            o.push(["col", {
                style: `${E}: ${A}`
            }])
        }
    }
    const f = l ? `${s}px` : ""
      , p = l ? "" : `${s}px`;
    return {
        colgroup: ["colgroup", {}, ...o],
        tableWidth: f,
        tableMinWidth: p
    }
}
function a3(t, e) {
    return t.createAndFill()
}
function mL(t) {
    if (t.cached.tableNodeTypes)
        return t.cached.tableNodeTypes;
    const e = {};
    return Object.keys(t.nodes).forEach(n => {
        const r = t.nodes[n];
        r.spec.tableRole && (e[r.spec.tableRole] = r)
    }
    ),
    t.cached.tableNodeTypes = e,
    e
}
function gL(t, e, n, r, s) {
    const l = mL(t)
      , o = []
      , u = [];
    for (let p = 0; p < n; p += 1) {
        const m = a3(l.cell);
        if (m && u.push(m),
        r) {
            const g = a3(l.header_cell);
            g && o.push(g)
        }
    }
    const f = [];
    for (let p = 0; p < e; p += 1)
        f.push(l.row.createChecked(null, r && p === 0 ? o : u));
    return l.table.createChecked(null, f)
}
function xL(t) {
    return t instanceof Ke
}
const Nc = ({editor: t}) => {
    const {selection: e} = t.state;
    if (!xL(e))
        return !1;
    let n = 0;
    const r = gN(e.ranges[0].$from, l => l.type.name === "table");
    return r?.node.descendants(l => {
        if (l.type.name === "table")
            return !1;
        ["tableCell", "tableHeader"].includes(l.type.name) && (n += 1)
    }
    ),
    n === e.ranges.length ? (t.commands.deleteTable(),
    !0) : !1
}
  , bL = bt.create({
    name: "table",
    addOptions() {
        return {
            HTMLAttributes: {},
            resizable: !1,
            renderWrapper: !1,
            handleWidth: 5,
            cellMinWidth: 25,
            View: hL,
            lastColumnResizable: !0,
            allowTableNodeSelection: !1
        }
    },
    content: "tableRow+",
    tableRole: "table",
    isolating: !0,
    group: "block",
    parseHTML() {
        return [{
            tag: "table"
        }]
    },
    renderHTML({node: t, HTMLAttributes: e}) {
        const {colgroup: n, tableWidth: r, tableMinWidth: s} = pL(t, this.options.cellMinWidth)
          , l = ["table", et(this.options.HTMLAttributes, e, {
            style: r ? `width: ${r}` : `min-width: ${s}`
        }), n, ["tbody", 0]];
        return this.options.renderWrapper ? ["div", {
            class: "tableWrapper"
        }, l] : l
    },
    addCommands() {
        return {
            insertTable: ({rows: t=3, cols: e=3, withHeaderRow: n=!0}={}) => ({tr: r, dispatch: s, editor: l}) => {
                const o = gL(l.schema, t, e, n);
                if (s) {
                    const u = r.selection.from + 1;
                    r.replaceSelectionWith(o).scrollIntoView().setSelection(ce.near(r.doc.resolve(u)))
                }
                return !0
            }
            ,
            addColumnBefore: () => ({state: t, dispatch: e}) => Dz(t, e),
            addColumnAfter: () => ({state: t, dispatch: e}) => Mz(t, e),
            deleteColumn: () => ({state: t, dispatch: e}) => Rz(t, e),
            addRowBefore: () => ({state: t, dispatch: e}) => Lz(t, e),
            addRowAfter: () => ({state: t, dispatch: e}) => Bz(t, e),
            deleteRow: () => ({state: t, dispatch: e}) => Hz(t, e),
            deleteTable: () => ({state: t, dispatch: e}) => Gz(t, e),
            mergeCells: () => ({state: t, dispatch: e}) => Jv(t, e),
            splitCell: () => ({state: t, dispatch: e}) => Xv(t, e),
            toggleHeaderColumn: () => ({state: t, dispatch: e}) => wo("column")(t, e),
            toggleHeaderRow: () => ({state: t, dispatch: e}) => wo("row")(t, e),
            toggleHeaderCell: () => ({state: t, dispatch: e}) => Pz(t, e),
            mergeOrSplit: () => ({state: t, dispatch: e}) => Jv(t, e) ? !0 : Xv(t, e),
            setCellAttribute: (t, e) => ({state: n, dispatch: r}) => Iz(t, e)(n, r),
            goToNextCell: () => ({state: t, dispatch: e}) => Zv(1)(t, e),
            goToPreviousCell: () => ({state: t, dispatch: e}) => Zv(-1)(t, e),
            fixTables: () => ({state: t, dispatch: e}) => (e && KN(t),
            !0),
            setCellSelection: t => ({tr: e, dispatch: n}) => {
                if (n) {
                    const r = Ke.create(e.doc, t.anchorCell, t.headCell);
                    e.setSelection(r)
                }
                return !0
            }
        }
    },
    addKeyboardShortcuts() {
        return {
            Tab: () => this.editor.commands.goToNextCell() ? !0 : this.editor.can().addRowAfter() ? this.editor.chain().addRowAfter().goToNextCell().run() : !1,
            "Shift-Tab": () => this.editor.commands.goToPreviousCell(),
            Backspace: Nc,
            "Mod-Backspace": Nc,
            Delete: Nc,
            "Mod-Delete": Nc
        }
    },
    addProseMirrorPlugins() {
        return [...this.options.resizable && this.editor.isEditable ? [nL({
            handleWidth: this.options.handleWidth,
            cellMinWidth: this.options.cellMinWidth,
            defaultCellMinWidth: this.options.cellMinWidth,
            View: this.options.View,
            lastColumnResizable: this.options.lastColumnResizable
        })] : [], fL({
            allowTableNodeSelection: this.options.allowTableNodeSelection
        })]
    },
    extendNodeSchema(t) {
        const e = {
            name: t.name,
            options: t.options,
            storage: t.storage
        };
        return {
            tableRole: Ne(se(t, "tableRole", e))
        }
    }
})
  , yL = bt.create({
    name: "tableRow",
    addOptions() {
        return {
            HTMLAttributes: {}
        }
    },
    content: "(tableCell | tableHeader)*",
    tableRole: "row",
    parseHTML() {
        return [{
            tag: "tr"
        }]
    },
    renderHTML({HTMLAttributes: t}) {
        return ["tr", et(this.options.HTMLAttributes, t), 0]
    }
})
  , vL = bt.create({
    name: "tableHeader",
    addOptions() {
        return {
            HTMLAttributes: {}
        }
    },
    content: "block+",
    addAttributes() {
        return {
            colspan: {
                default: 1
            },
            rowspan: {
                default: 1
            },
            colwidth: {
                default: null,
                parseHTML: t => {
                    const e = t.getAttribute("colwidth");
                    return e ? e.split(",").map(r => parseInt(r, 10)) : null
                }
            }
        }
    },
    tableRole: "header_cell",
    isolating: !0,
    parseHTML() {
        return [{
            tag: "th"
        }]
    },
    renderHTML({HTMLAttributes: t}) {
        return ["th", et(this.options.HTMLAttributes, t), 0]
    }
})
  , NL = bt.create({
    name: "tableCell",
    addOptions() {
        return {
            HTMLAttributes: {}
        }
    },
    content: "block+",
    addAttributes() {
        return {
            colspan: {
                default: 1
            },
            rowspan: {
                default: 1
            },
            colwidth: {
                default: null,
                parseHTML: t => {
                    const e = t.getAttribute("colwidth");
                    return e ? e.split(",").map(r => parseInt(r, 10)) : null
                }
            }
        }
    },
    tableRole: "cell",
    isolating: !0,
    parseHTML() {
        return [{
            tag: "td"
        }]
    },
    renderHTML({HTMLAttributes: t}) {
        return ["td", et(this.options.HTMLAttributes, t), 0]
    }
})
  , wL = hr.create({
    name: "underline",
    addOptions() {
        return {
            HTMLAttributes: {}
        }
    },
    parseHTML() {
        return [{
            tag: "u"
        }, {
            style: "text-decoration",
            consuming: !1,
            getAttrs: t => t.includes("underline") ? {} : !1
        }]
    },
    renderHTML({HTMLAttributes: t}) {
        return ["u", et(this.options.HTMLAttributes, t), 0]
    },
    addCommands() {
        return {
            setUnderline: () => ({commands: t}) => t.setMark(this.name),
            toggleUnderline: () => ({commands: t}) => t.toggleMark(this.name),
            unsetUnderline: () => ({commands: t}) => t.unsetMark(this.name)
        }
    },
    addKeyboardShortcuts() {
        return {
            "Mod-u": () => this.editor.commands.toggleUnderline(),
            "Mod-U": () => this.editor.commands.toggleUnderline()
        }
    }
})
  , CL = ({editor: t}) => {
    const [e,n] = k.useState(!1);
    if (!t)
        return null;
    const r = async l => {
        const o = l.target.files?.[0];
        if (o) {
            n(!0);
            try {
                const u = new FormData;
                u.append("file", o),
                u.append("upload_preset", "neuraacademy");
                const p = await (await fetch("https://api.cloudinary.com/v1_1/undefined/image/upload", {
                    method: "POST",
                    body: u
                })).json();
                p.secure_url && t.chain().focus().setImage({
                    src: p.secure_url
                }).run()
            } catch (u) {
                console.error("Image upload failed:", u),
                alert("Failed to upload image")
            } finally {
                n(!1)
            }
        }
    }
      , s = () => {
        const l = prompt("Enter the URL:");
        l && t.chain().focus().extendMarkRange("link").setLink({
            href: l
        }).run()
    }
    ;
    return d.jsxs("div", {
        className: "border-b border-gray-300 bg-gray-100 p-3 rounded-t-lg flex flex-wrap gap-1",
        children: [d.jsx("button", {
            onClick: () => t.chain().focus().toggleBold().run(),
            className: `px-3 py-2 rounded text-sm font-semibold transition ${t.isActive("bold") ? "bg-blue-600 text-white" : "bg-white text-gray-700 hover:bg-gray-200"}`,
            title: "Bold (Ctrl+B)",
            children: d.jsx("strong", {
                children: "B"
            })
        }), d.jsx("button", {
            onClick: () => t.chain().focus().toggleItalic().run(),
            className: `px-3 py-2 rounded text-sm font-semibold transition ${t.isActive("italic") ? "bg-blue-600 text-white" : "bg-white text-gray-700 hover:bg-gray-200"}`,
            title: "Italic (Ctrl+I)",
            children: d.jsx("em", {
                children: "I"
            })
        }), d.jsx("button", {
            onClick: () => t.chain().focus().toggleUnderline().run(),
            className: `px-3 py-2 rounded text-sm font-semibold transition ${t.isActive("underline") ? "bg-blue-600 text-white" : "bg-white text-gray-700 hover:bg-gray-200"}`,
            title: "Underline (Ctrl+U)",
            children: d.jsx("u", {
                children: "U"
            })
        }), d.jsx("button", {
            onClick: () => t.chain().focus().toggleStrike().run(),
            className: `px-3 py-2 rounded text-sm font-semibold transition ${t.isActive("strike") ? "bg-blue-600 text-white" : "bg-white text-gray-700 hover:bg-gray-200"}`,
            title: "Strikethrough",
            children: d.jsx("s", {
                children: "S"
            })
        }), d.jsx("div", {
            className: "border-l border-gray-300 mx-1"
        }), [1, 2, 3].map(l => d.jsxs("button", {
            onClick: () => t.chain().focus().toggleHeading({
                level: l
            }).run(),
            className: `px-3 py-2 rounded text-sm font-semibold transition ${t.isActive("heading", {
                level: l
            }) ? "bg-blue-600 text-white" : "bg-white text-gray-700 hover:bg-gray-200"}`,
            title: `Heading ${l}`,
            children: ["H", l]
        }, l)), d.jsx("div", {
            className: "border-l border-gray-300 mx-1"
        }), d.jsx("button", {
            onClick: () => t.chain().focus().toggleBulletList().run(),
            className: `px-3 py-2 rounded text-sm font-semibold transition ${t.isActive("bulletList") ? "bg-blue-600 text-white" : "bg-white text-gray-700 hover:bg-gray-200"}`,
            title: "Bullet List",
            children: " List"
        }), d.jsx("button", {
            onClick: () => t.chain().focus().toggleOrderedList().run(),
            className: `px-3 py-2 rounded text-sm font-semibold transition ${t.isActive("orderedList") ? "bg-blue-600 text-white" : "bg-white text-gray-700 hover:bg-gray-200"}`,
            title: "Ordered List",
            children: "1. List"
        }), d.jsx("div", {
            className: "border-l border-gray-300 mx-1"
        }), d.jsx("button", {
            onClick: () => t.chain().focus().toggleCodeBlock().run(),
            className: `px-3 py-2 rounded text-sm font-semibold transition ${t.isActive("codeBlock") ? "bg-blue-600 text-white" : "bg-white text-gray-700 hover:bg-gray-200"}`,
            title: "Code Block",
            children: "<>"
        }), d.jsx("button", {
            onClick: () => t.chain().focus().toggleCode().run(),
            className: `px-3 py-2 rounded text-sm font-semibold transition ${t.isActive("code") ? "bg-blue-600 text-white" : "bg-white text-gray-700 hover:bg-gray-200"}`,
            title: "Inline Code",
            children: "`code`"
        }), d.jsx("button", {
            onClick: () => t.chain().focus().toggleBlockquote().run(),
            className: `px-3 py-2 rounded text-sm font-semibold transition ${t.isActive("blockquote") ? "bg-blue-600 text-white" : "bg-white text-gray-700 hover:bg-gray-200"}`,
            title: "Blockquote",
            children: ""
        }), d.jsx("div", {
            className: "border-l border-gray-300 mx-1"
        }), d.jsx("button", {
            onClick: s,
            className: `px-3 py-2 rounded text-sm font-semibold transition ${t.isActive("link") ? "bg-blue-600 text-white" : "bg-white text-gray-700 hover:bg-gray-200"}`,
            title: "Insert Link",
            children: " Link"
        }), d.jsxs("label", {
            className: "px-3 py-2 rounded text-sm font-semibold cursor-pointer bg-white text-gray-700 hover:bg-gray-200 transition flex items-center gap-1",
            children: [e ? "Uploading..." : " Image", d.jsx("input", {
                type: "file",
                accept: "image/*",
                onChange: r,
                className: "hidden",
                disabled: e
            })]
        }), d.jsx("div", {
            className: "border-l border-gray-300 mx-1"
        }), d.jsx("button", {
            onClick: () => t.chain().focus().setHorizontalRule().run(),
            className: "px-3 py-2 rounded text-sm font-semibold bg-white text-gray-700 hover:bg-gray-200 transition",
            title: "Horizontal Line",
            children: ""
        }), d.jsx("button", {
            onClick: () => t.chain().focus().clearNodes().run(),
            className: "px-3 py-2 rounded text-sm font-semibold bg-white text-gray-700 hover:bg-gray-200 transition",
            title: "Clear Formatting",
            children: " Clear"
        }), d.jsx("button", {
            onClick: () => t.chain().focus().undo().run(),
            disabled: !t.can().undo(),
            className: "px-3 py-2 rounded text-sm font-semibold bg-white text-gray-700 hover:bg-gray-200 transition disabled:opacity-50 disabled:cursor-not-allowed",
            title: "Undo",
            children: ""
        }), d.jsx("button", {
            onClick: () => t.chain().focus().redo().run(),
            disabled: !t.can().redo(),
            className: "px-3 py-2 rounded text-sm font-semibold bg-white text-gray-700 hover:bg-gray-200 transition disabled:opacity-50 disabled:cursor-not-allowed",
            title: "Redo",
            children: ""
        })]
    })
}
;
function SL({value: t, onChange: e}) {
    const n = KO({
        extensions: [IR.configure({
            bulletList: !1,
            orderedList: !1,
            listItem: !1,
            heading: !1,
            blockquote: !1,
            codeBlock: !1
        }), EN.configure({
            levels: [1, 2, 3]
        }), wN, ON, MN, NN, SN.configure({
            languageClassPrefix: "language-"
        }), CN, hz.configure({
            openOnClick: !1
        }), mz.configure({
            allowBase64: !0
        }), bL.configure({
            resizable: !0
        }), yL, vL, NL, wL, DN],
        content: t,
        onUpdate({editor: r}) {
            e(r.getJSON())
        }
    });
    return k.useEffect( () => {
        n && t && n.commands.setContent(t)
    }
    , [t, n]),
    n ? d.jsxs("div", {
        className: "tiptap-editor border border-gray-300 rounded-lg overflow-hidden bg-white",
        children: [d.jsx(CL, {
            editor: n
        }), d.jsx(BO, {
            editor: n,
            className: "prose prose-sm max-w-none p-4 min-h-[300px] focus:outline-none",
            style: {
                fontSize: "16px",
                lineHeight: "1.6"
            }
        })]
    }) : null
}
function jL() {
    const {lessonID: t, chapterID: e, courseID: n} = $n()
      , r = Ye()
      , [s,l] = k.useState({})
      , [o,u] = k.useState(!0)
      , [f,p] = k.useState(!1)
      , [m,g] = k.useState(!1);
    k.useEffect( () => {
        v()
    }
    , [t]);
    const v = async () => {
        try {
            const y = await pT(t);
            l(y.data)
        } catch (y) {
            console.error("Error fetching content:", y)
        } finally {
            u(!1)
        }
    }
      , N = async () => {
        p(!0);
        try {
            await mT(t, {
                content: s.content,
                embed_url: s.embed_url
            }),
            alert("Content saved successfully!")
        } catch (y) {
            console.error("Error saving content:", y),
            alert("Error saving content")
        } finally {
            p(!1)
        }
    }
    ;
    return o ? d.jsx("div", {
        className: "p-6 text-center text-gray-600",
        children: "Loading content..."
    }) : d.jsxs("div", {
        className: "min-h-screen bg-gray-50",
        children: [d.jsx("div", {
            className: "bg-white shadow sticky top-0 z-40",
            children: d.jsxs("div", {
                className: "max-w-7xl mx-auto px-6 py-6 flex justify-between items-center",
                children: [d.jsxs("div", {
                    children: [d.jsx("h1", {
                        className: "text-3xl font-bold text-gray-900",
                        children: "Edit Lesson Content"
                    }), d.jsx("p", {
                        className: "text-gray-600 mt-1",
                        children: s.title
                    })]
                }), d.jsxs("button", {
                    onClick: () => r(`/teacher/course/${n}/chapters/${e}/lessons`),
                    className: "flex items-center gap-2 text-blue-600 hover:text-blue-800 font-medium",
                    children: [d.jsx(To, {
                        size: 18
                    }), "Back to Lessons"]
                })]
            })
        }), d.jsx("div", {
            className: "max-w-4xl mx-auto px-6 py-8",
            children: d.jsxs("div", {
                className: "bg-white rounded-lg shadow p-8 space-y-10",
                children: [d.jsxs("div", {
                    children: [d.jsxs("div", {
                        className: "flex items-center gap-2 mb-2",
                        children: [d.jsx(Mp, {
                            size: 20,
                            className: "text-gray-700"
                        }), d.jsx("label", {
                            className: "text-lg font-semibold text-gray-900",
                            children: "Embed URL"
                        })]
                    }), d.jsx("p", {
                        className: "text-gray-600 text-sm mb-4",
                        children: "Add a YouTube or external video embed link"
                    }), d.jsx("input", {
                        type: "url",
                        placeholder: "https://www.youtube.com/embed/...",
                        value: s.embed_url || "",
                        onChange: y => l({
                            ...s,
                            embed_url: y.target.value
                        }),
                        className: "w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500"
                    }), s.embed_url && d.jsx("div", {
                        className: "mt-4 rounded-lg overflow-hidden border",
                        children: d.jsx("iframe", {
                            width: "100%",
                            height: "400",
                            src: s.embed_url,
                            title: "Lesson Video",
                            frameBorder: "0",
                            allow: "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",
                            allowFullScreen: !0
                        })
                    })]
                }), d.jsxs("div", {
                    children: [d.jsxs("div", {
                        className: "flex items-center gap-2 mb-2",
                        children: [d.jsx(Do, {
                            size: 20,
                            className: "text-gray-700"
                        }), d.jsx("label", {
                            className: "text-lg font-semibold text-gray-900",
                            children: "Lesson Content"
                        })]
                    }), d.jsx("p", {
                        className: "text-gray-600 text-sm mb-4",
                        children: "Write lesson content with rich text formatting"
                    }), d.jsx("div", {
                        className: "border rounded-lg px-4 py-3 focus-within:ring-2 focus-within:ring-blue-500",
                        children: d.jsx(SL, {
                            value: typeof s.content == "string" ? JSON.parse(s.content) : s.content,
                            onChange: y => l({
                                ...s,
                                content: y
                            })
                        })
                    })]
                }), d.jsx(Us, {
                    fixed: !0,
                    lessonId: t
                }), !m && d.jsx("button", {
                    onClick: () => g(!0),
                    className: "fixed bottom-8 left-8 bg-indigo-600 text-white p-4 rounded-full shadow-lg hover:bg-indigo-700 z-50",
                    children: d.jsx(t6, {
                        size: 22
                    })
                }), m && d.jsxs("div", {
                    className: "fixed bottom-8 right-8 w-96 h-[500px] bg-white border rounded-lg shadow-xl z-50 flex flex-col",
                    children: [d.jsxs("div", {
                        className: "flex justify-between items-center bg-indigo-600 text-white p-3",
                        children: [d.jsx("span", {
                            className: "font-medium",
                            children: "Wikipedia"
                        }), d.jsx("button", {
                            onClick: () => g(!1),
                            children: d.jsx(Ud, {
                                size: 18
                            })
                        })]
                    }), d.jsx("iframe", {
                        src: "https://en.wikipedia.org/wiki/Special:Random",
                        className: "flex-1 w-full",
                        title: "Wikipedia"
                    })]
                }), d.jsxs("div", {
                    className: "flex gap-4",
                    children: [d.jsxs("button", {
                        onClick: N,
                        disabled: f,
                        className: "flex-1 flex items-center justify-center gap-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white px-6 py-3 rounded-lg font-semibold",
                        children: [d.jsx(n6, {
                            size: 18
                        }), f ? "Saving..." : "Save Content"]
                    }), d.jsx("button", {
                        onClick: () => r(`/teacher/course/${n}/chapters/${e}/lessons`),
                        className: "flex-1 bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg font-semibold",
                        children: "Cancel"
                    })]
                })]
            })
        })]
    })
}
function EL() {
    const {courseID: t} = $n()
      , e = Ye()
      , [n,r] = k.useState([])
      , [s,l] = k.useState(!0)
      , [o,u] = k.useState(!1)
      , [f,p] = k.useState({
        title: "",
        description: "",
        time_limit: 60,
        passing_score: 60,
        total_points: 100
    })
      , m = k.useCallback(async () => {
        try {
            const w = (await W.get(`/teacher/courses/${t}/exams`)).data;
            Array.isArray(w) ? r(w) : w && Array.isArray(w.exams) ? r(w.exams) : r([])
        } catch (y) {
            console.error("Error fetching exams:", y)
        } finally {
            l(!1)
        }
    }
    , [t]);
    k.useEffect( () => {
        m()
    }
    , [m]);
    const g = async y => {
        y.preventDefault();
        try {
            const w = await W.post(`/teacher/courses/${t}/exams`, f);
            e(`/teacher/course/${t}/exams/${w.data.exam_id}`)
        } catch (w) {
            console.error("Error creating exam:", w),
            alert("Error creating exam")
        }
    }
      , v = async y => {
        if (window.confirm("Are you sure you want to delete this exam?"))
            try {
                await W.delete(`/teacher/courses/${t}/exams/${y}`),
                r(n.filter(w => w.id !== y)),
                alert("Exam deleted successfully")
            } catch (w) {
                console.error("Error deleting exam:", w),
                alert("Error deleting exam")
            }
    }
    ;
    if (s)
        return d.jsx("div", {
            className: "p-6",
            children: "Loading exams..."
        });
    const N = Array.isArray(n) ? n : [];
    return d.jsxs("div", {
        className: "exams-container p-6 bg-white rounded-lg shadow",
        children: [d.jsxs("div", {
            className: "flex justify-between items-center mb-6",
            children: [d.jsx("h1", {
                className: "text-3xl font-bold",
                children: "Course Exams"
            }), d.jsx("button", {
                onClick: () => u(!o),
                className: "bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",
                children: o ? "Cancel" : "+ New Exam"
            })]
        }), o && d.jsxs("form", {
            onSubmit: g,
            className: "mb-8 p-4 bg-gray-50 rounded",
            children: [d.jsx("h2", {
                className: "text-xl font-semibold mb-4",
                children: "Create New Exam"
            }), d.jsxs("div", {
                className: "grid grid-cols-2 gap-4 mb-4",
                children: [d.jsx("input", {
                    type: "text",
                    placeholder: "Exam Title",
                    value: f.title,
                    onChange: y => p({
                        ...f,
                        title: y.target.value
                    }),
                    required: !0,
                    className: "border p-2 rounded"
                }), d.jsx("input", {
                    type: "number",
                    placeholder: "Time Limit (minutes)",
                    value: f.time_limit,
                    onChange: y => p({
                        ...f,
                        time_limit: parseInt(y.target.value)
                    }),
                    className: "border p-2 rounded"
                }), d.jsx("input", {
                    type: "number",
                    placeholder: "Passing Score (%)",
                    value: f.passing_score,
                    onChange: y => p({
                        ...f,
                        passing_score: parseFloat(y.target.value)
                    }),
                    className: "border p-2 rounded"
                }), d.jsx("input", {
                    type: "number",
                    placeholder: "Total Points",
                    value: f.total_points,
                    onChange: y => p({
                        ...f,
                        total_points: parseFloat(y.target.value)
                    }),
                    className: "border p-2 rounded"
                })]
            }), d.jsx("textarea", {
                placeholder: "Description (optional)",
                value: f.description,
                onChange: y => p({
                    ...f,
                    description: y.target.value
                }),
                className: "border p-2 rounded w-full mb-4",
                rows: "3"
            }), d.jsx("button", {
                type: "submit",
                className: "bg-green-500 text-white px-6 py-2 rounded hover:bg-green-600",
                children: "Create Exam"
            })]
        }), N.length === 0 ? d.jsx("div", {
            className: "text-center text-gray-500 py-12",
            children: d.jsx("p", {
                children: "No exams yet. Create one to get started!"
            })
        }) : d.jsx("div", {
            className: "grid grid-cols-1 md:grid-cols-2 gap-6",
            children: N.map(y => d.jsxs("div", {
                className: "exam-card p-4 border rounded-lg bg-white shadow hover:shadow-lg transition",
                children: [d.jsxs("div", {
                    className: "flex justify-between items-start mb-3",
                    children: [d.jsxs("div", {
                        children: [d.jsx("h3", {
                            className: "text-xl font-semibold",
                            children: y.title
                        }), d.jsx("p", {
                            className: "text-gray-600 text-sm",
                            children: y.description
                        })]
                    }), d.jsx("span", {
                        className: `px-3 py-1 rounded text-sm font-semibold ${y.status === "published" ? "bg-green-100 text-green-800" : "bg-yellow-100 text-yellow-800"}`,
                        children: y.status
                    })]
                }), d.jsxs("div", {
                    className: "grid grid-cols-2 gap-2 text-sm text-gray-600 mb-4",
                    children: [d.jsxs("div", {
                        children: [" ", y.time_limit, " min"]
                    }), d.jsxs("div", {
                        children: [" ", y.question_count, " questions"]
                    }), d.jsxs("div", {
                        children: [" Pass: ", y.passing_score, "%"]
                    }), d.jsxs("div", {
                        children: [" Total: ", y.total_points, " pts"]
                    })]
                }), d.jsxs("div", {
                    className: "flex gap-2",
                    children: [d.jsx("button", {
                        onClick: () => e(`/teacher/course/${t}/exams/${y.id}`),
                        className: "flex-1 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",
                        children: "Edit"
                    }), d.jsx("button", {
                        onClick: () => v(y.id),
                        className: "bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600",
                        children: "Delete"
                    })]
                })]
            }, y.id))
        })]
    })
}
function kL() {
    const {courseID: t, examID: e} = $n()
      , [n,r] = k.useState(null)
      , [s,l] = k.useState([])
      , [o,u] = k.useState(!0)
      , [f,p] = k.useState(!1);
    k.useEffect( () => {
        e && m()
    }
    , [t, e]);
    const m = async () => {
        try {
            const A = await W.get(`/teacher/courses/${t}/exams/${e}`);
            r(A.data),
            l(A.data.questions || [])
        } catch (A) {
            console.error("Error fetching exam:", A)
        } finally {
            u(!1)
        }
    }
      , g = (A, _) => {
        r({
            ...n,
            [A]: _
        })
    }
      , v = () => {
        const A = {
            id: null,
            question_text: "",
            type: "multiple_choice",
            options: {
                A: "",
                B: "",
                C: "",
                D: ""
            },
            correct_answer: "A",
            points: 10,
            order: s.length + 1
        };
        l([...s, A])
    }
      , N = (A, _, O) => {
        const R = [...s];
        R[A][_] = O,
        l(R)
    }
      , y = (A, _, O) => {
        const R = [...s];
        R[A].options[_] = O,
        l(R)
    }
      , w = async A => {
        const _ = s[A];
        if (_.id)
            try {
                await W.delete(`/teacher/courses/${t}/exams/${e}/questions/${_.id}`)
            } catch (R) {
                console.error("Error deleting question:", R)
            }
        const O = s.filter( (R, $) => $ !== A);
        l(O)
    }
      , C = async () => {
        p(!0);
        try {
            e && await W.put(`/teacher/courses/${t}/exams/${e}`, {
                title: n.title,
                description: n.description,
                time_limit: n.time_limit,
                passing_score: n.passing_score,
                total_points: n.total_points
            });
            for (let A = 0; A < s.length; A++) {
                const _ = s[A];
                _.id ? await W.put(`/teacher/courses/${t}/exams/${e}/questions/${_.id}`, {
                    question_text: _.question_text,
                    question_type: _.type,
                    options: _.options,
                    correct_answer: _.correct_answer,
                    points: _.points
                }) : await W.post(`/teacher/courses/${t}/exams/${e}/questions`, {
                    question_text: _.question_text,
                    question_type: _.type,
                    options: _.options,
                    correct_answer: _.correct_answer,
                    points: _.points
                })
            }
            alert("Exam saved successfully!")
        } catch (A) {
            console.error("Error saving exam:", A),
            alert("Error saving exam")
        } finally {
            p(!1)
        }
    }
      , E = async () => {
        if (s.length === 0) {
            alert("Add at least one question before publishing");
            return
        }
        try {
            await W.post(`/teacher/courses/${t}/exams/${e}/publish`),
            alert("Exam published successfully!"),
            r({
                ...n,
                status: "published"
            })
        } catch (A) {
            console.error("Error publishing exam:", A),
            alert("Error publishing exam")
        }
    }
    ;
    return o ? d.jsx("div", {
        children: "Loading..."
    }) : n ? d.jsxs("div", {
        className: "exam-builder p-6 bg-white rounded-lg shadow",
        children: [d.jsx("h1", {
            className: "text-3xl font-bold mb-6",
            children: n.title
        }), d.jsxs("div", {
            className: "exam-settings mb-8 p-4 bg-gray-50 rounded",
            children: [d.jsx("h2", {
                className: "text-xl font-semibold mb-4",
                children: "Exam Settings"
            }), d.jsxs("div", {
                className: "grid grid-cols-2 gap-4 mb-4",
                children: [d.jsx("input", {
                    type: "text",
                    placeholder: "Exam Title",
                    value: n.title,
                    onChange: A => g("title", A.target.value),
                    className: "border p-2 rounded"
                }), d.jsx("input", {
                    type: "number",
                    placeholder: "Time Limit (minutes)",
                    value: n.time_limit,
                    onChange: A => g("time_limit", parseInt(A.target.value)),
                    className: "border p-2 rounded"
                }), d.jsx("input", {
                    type: "number",
                    placeholder: "Passing Score (%)",
                    value: n.passing_score,
                    onChange: A => g("passing_score", parseFloat(A.target.value)),
                    className: "border p-2 rounded"
                }), d.jsx("input", {
                    type: "number",
                    placeholder: "Total Points",
                    value: n.total_points,
                    onChange: A => g("total_points", parseFloat(A.target.value)),
                    className: "border p-2 rounded"
                })]
            }), d.jsx("textarea", {
                placeholder: "Description",
                value: n.description,
                onChange: A => g("description", A.target.value),
                className: "border p-2 rounded w-full",
                rows: "3"
            })]
        }), d.jsxs("div", {
            className: "questions-section",
            children: [d.jsxs("h2", {
                className: "text-2xl font-semibold mb-4",
                children: ["Questions (", s.length, ")"]
            }), s.map( (A, _) => d.jsxs("div", {
                className: "question-card mb-6 p-4 border rounded bg-gray-50",
                children: [d.jsxs("div", {
                    className: "flex justify-between items-start mb-4",
                    children: [d.jsxs("h3", {
                        className: "text-lg font-semibold",
                        children: ["Question ", _ + 1]
                    }), d.jsx("button", {
                        onClick: () => w(_),
                        className: "bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600",
                        children: "Delete"
                    })]
                }), d.jsx("textarea", {
                    placeholder: "Question text",
                    value: A.question_text,
                    onChange: O => N(_, "question_text", O.target.value),
                    className: "border p-2 rounded w-full mb-4",
                    rows: "2"
                }), d.jsxs("div", {
                    className: "grid grid-cols-2 gap-4 mb-4",
                    children: [d.jsxs("select", {
                        value: A.type,
                        onChange: O => N(_, "type", O.target.value),
                        className: "border p-2 rounded",
                        children: [d.jsx("option", {
                            value: "multiple_choice",
                            children: "Multiple Choice"
                        }), d.jsx("option", {
                            value: "short_answer",
                            children: "Short Answer"
                        }), d.jsx("option", {
                            value: "essay",
                            children: "Essay"
                        })]
                    }), d.jsx("input", {
                        type: "number",
                        placeholder: "Points",
                        value: A.points,
                        onChange: O => N(_, "points", parseFloat(O.target.value)),
                        className: "border p-2 rounded"
                    })]
                }), A.type === "multiple_choice" && d.jsxs("div", {
                    className: "options-section mb-4",
                    children: [d.jsx("p", {
                        className: "font-semibold mb-2",
                        children: "Options:"
                    }), Object.entries(A.options || {}).map( ([O,R]) => d.jsxs("div", {
                        className: "flex items-center gap-2 mb-2",
                        children: [d.jsxs("label", {
                            className: "font-semibold w-8",
                            children: [O, ":"]
                        }), d.jsx("input", {
                            type: "text",
                            placeholder: `Option ${O}`,
                            value: R,
                            onChange: $ => y(_, O, $.target.value),
                            className: "border p-2 rounded flex-1"
                        }), d.jsx("input", {
                            type: "radio",
                            name: `correct_${_}`,
                            value: O,
                            checked: A.correct_answer === O,
                            onChange: () => N(_, "correct_answer", O)
                        })]
                    }, O))]
                }), A.type === "short_answer" && d.jsx("input", {
                    type: "text",
                    placeholder: "Correct answer",
                    value: A.correct_answer,
                    onChange: O => N(_, "correct_answer", O.target.value),
                    className: "border p-2 rounded w-full mb-4"
                }), A.type === "essay" && d.jsx("p", {
                    className: "text-sm text-gray-600 mb-4",
                    children: "Essay questions require manual grading"
                })]
            }, _)), d.jsx("button", {
                onClick: v,
                className: "bg-blue-500 text-white px-6 py-2 rounded hover:bg-blue-600 mb-6",
                children: "+ Add Question"
            })]
        }), d.jsxs("div", {
            className: "action-buttons flex gap-4",
            children: [d.jsx("button", {
                onClick: C,
                disabled: f,
                className: "bg-green-500 text-white px-6 py-2 rounded hover:bg-green-600 disabled:bg-gray-400",
                children: f ? "Saving..." : "Save Exam"
            }), n.status === "draft" && d.jsx("button", {
                onClick: E,
                className: "bg-purple-500 text-white px-6 py-2 rounded hover:bg-purple-600",
                children: "Publish Exam"
            }), n.status === "published" && d.jsx("span", {
                className: "text-green-600 font-semibold",
                children: " Published"
            })]
        })]
    }) : d.jsx("div", {
        children: "Exam not found"
    })
}
function AL() {
    const {courseID: t} = $n()
      , e = Ye()
      , [n,r] = k.useState("overview")
      , [s,l] = k.useState(null)
      , [o,u] = k.useState([])
      , [f,p] = k.useState([])
      , [m,g] = k.useState(null)
      , [v,N] = k.useState(!0)
      , [y,w] = k.useState({})
      , [C,E] = k.useState(null)
      , [A,_] = k.useState(null)
      , [O,R] = k.useState(!1);
    k.useEffect( () => {
        $()
    }
    , [t]);
    const $ = async () => {
        try {
            N(!0);
            const Y = await D6(t);
            u(Y.data);
            const pe = await NT(t);
            p(pe.data);
            const Te = await wT(t);
            g(Te.data),
            l({
                id: t,
                title: Te.data.course_title || "Course"
            })
        } catch (Y) {
            console.error("Error fetching course data:", Y)
        } finally {
            N(!1)
        }
    }
      , z = Y => {
        const pe = Y.target.files?.[0];
        if (pe) {
            E(pe);
            try {
                const Te = URL.createObjectURL(pe);
                _(Te)
            } catch {
                _(null)
            }
        }
    }
      , G = async () => {
        if (!C)
            return alert("Select an image first");
        const Y = new FormData;
        Y.append("file", C),
        R(!0);
        try {
            const Te = (await ST(t, Y)).data.thumbnail_url;
            g({
                ...m || {},
                thumbnail_url: Te
            }),
            E(null),
            _(null),
            alert("Thumbnail uploaded"),
            $()
        } catch (pe) {
            console.error(pe),
            alert("Thumbnail upload failed")
        } finally {
            R(!1)
        }
    }
    ;
    return v ? d.jsx("div", {
        className: "p-6 text-center",
        children: "Loading course dashboard..."
    }) : d.jsxs("div", {
        className: "course-dashboard bg-gray-50 min-h-screen",
        children: [d.jsx("div", {
            className: "bg-white shadow",
            children: d.jsx("div", {
                className: "max-w-7xl mx-auto px-6 py-6",
                children: d.jsxs("div", {
                    className: "flex justify-between items-start",
                    children: [d.jsxs("div", {
                        children: [d.jsx("h1", {
                            className: "text-3xl font-bold text-gray-900",
                            children: s?.title || "Course Dashboard"
                        }), d.jsx("p", {
                            className: "text-gray-600 mt-1",
                            children: "Manage your course content and analytics"
                        })]
                    }), d.jsx("button", {
                        onClick: () => e("/teacher/dashboard"),
                        className: "text-blue-600 hover:text-blue-800 underline",
                        children: " Back to Courses"
                    })]
                })
            })
        }), d.jsx("div", {
            className: "bg-white border-b",
            children: d.jsx("div", {
                className: "max-w-7xl mx-auto px-6",
                children: d.jsx("div", {
                    className: "flex gap-8",
                    children: ["overview", "chapters", "exams", "analytics"].map(Y => d.jsxs("button", {
                        onClick: () => r(Y),
                        className: `py-4 px-1 border-b-2 font-medium text-sm capitalize transition ${n === Y ? "border-blue-500 text-blue-600" : "border-transparent text-gray-600 hover:text-gray-900"}`,
                        children: [Y === "overview" && " Overview", Y === "chapters" && " Chapters & Lessons", Y === "exams" && " Exams", Y === "analytics" && " Analytics"]
                    }, Y))
                })
            })
        }), d.jsxs("div", {
            className: "max-w-7xl mx-auto px-6 py-8",
            children: [n === "overview" && d.jsx("div", {
                children: m ? d.jsxs(d.Fragment, {
                    children: [d.jsxs("div", {
                        className: "grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",
                        children: [d.jsxs("div", {
                            className: "bg-white p-6 rounded-lg shadow",
                            children: [d.jsx("div", {
                                className: "text-gray-600 text-sm",
                                children: "Students Enrolled"
                            }), d.jsx("div", {
                                className: "text-3xl font-bold text-blue-600",
                                children: m.total_enrollments
                            })]
                        }), d.jsxs("div", {
                            className: "bg-white p-6 rounded-lg shadow",
                            children: [d.jsx("div", {
                                className: "text-gray-600 text-sm",
                                children: "Completed"
                            }), d.jsx("div", {
                                className: "text-3xl font-bold text-green-600",
                                children: m.completed_enrollments
                            })]
                        }), d.jsxs("div", {
                            className: "bg-white p-6 rounded-lg shadow",
                            children: [d.jsx("div", {
                                className: "text-gray-600 text-sm",
                                children: "Avg Rating"
                            }), d.jsxs("div", {
                                className: "text-3xl font-bold text-yellow-600",
                                children: [m.average_rating, ""]
                            })]
                        }), d.jsxs("div", {
                            className: "bg-white p-6 rounded-lg shadow",
                            children: [d.jsx("div", {
                                className: "text-gray-600 text-sm",
                                children: "Avg Progress"
                            }), d.jsxs("div", {
                                className: "text-3xl font-bold text-purple-600",
                                children: [m.average_progress, "%"]
                            })]
                        })]
                    }), d.jsxs("div", {
                        className: "bg-white p-6 rounded-lg shadow mt-6",
                        children: [d.jsx("h3", {
                            className: "text-lg font-semibold mb-3",
                            children: "Course Thumbnail"
                        }), d.jsxs("div", {
                            className: "flex items-start gap-6",
                            children: [d.jsx("div", {
                                className: "w-48 h-32 bg-gray-100 rounded overflow-hidden flex items-center justify-center",
                                children: d.jsx("img", {
                                    src: m?.thumbnail_url || "/images/course_.jpg",
                                    alt: "Thumbnail",
                                    className: "w-full h-full object-cover"
                                })
                            }), d.jsxs("div", {
                                className: "flex-1",
                                children: [d.jsx("label", {
                                    className: "block text-sm font-medium text-gray-700",
                                    children: "Selected image"
                                }), d.jsxs("div", {
                                    className: "mt-2 flex items-center gap-4",
                                    children: [d.jsx("div", {
                                        className: "w-40 h-24 bg-gray-50 rounded overflow-hidden border",
                                        children: A ? d.jsx("img", {
                                            src: A,
                                            alt: "preview",
                                            className: "w-full h-full object-cover"
                                        }) : d.jsx("img", {
                                            src: m?.thumbnail_url || "/images/course_.jpg",
                                            alt: "current",
                                            className: "w-full h-full object-cover"
                                        })
                                    }), d.jsxs("div", {
                                        className: "flex flex-col gap-2 flex-1",
                                        children: [d.jsx("input", {
                                            type: "file",
                                            accept: "image/*",
                                            onChange: z,
                                            className: ""
                                        }), d.jsxs("div", {
                                            className: "flex gap-2",
                                            children: [d.jsx("button", {
                                                onClick: G,
                                                disabled: O,
                                                className: "px-4 py-2 bg-indigo-600 text-white rounded",
                                                children: O ? "Uploading" : "Upload"
                                            }), d.jsx("button", {
                                                onClick: () => {
                                                    E(null),
                                                    _(null)
                                                }
                                                ,
                                                className: "px-4 py-2 bg-gray-100 rounded",
                                                children: "Clear"
                                            })]
                                        }), d.jsx("p", {
                                            className: "text-sm text-gray-500",
                                            children: "Choose an image, preview it, then click Upload."
                                        })]
                                    })]
                                })]
                            })]
                        })]
                    }), d.jsxs("div", {
                        className: "bg-white p-6 rounded-lg shadow mt-6",
                        children: [d.jsx("h2", {
                            className: "text-xl font-semibold mb-4",
                            children: "Course Content"
                        }), d.jsxs("div", {
                            className: "space-y-3",
                            children: [d.jsxs("div", {
                                className: "flex justify-between items-center p-3 bg-gray-50 rounded",
                                children: [d.jsx("span", {
                                    className: "text-gray-700",
                                    children: " Chapters"
                                }), d.jsx("span", {
                                    className: "font-bold text-lg",
                                    children: o.length
                                })]
                            }), d.jsxs("div", {
                                className: "flex justify-between items-center p-3 bg-gray-50 rounded",
                                children: [d.jsx("span", {
                                    className: "text-gray-700",
                                    children: " Exams"
                                }), d.jsx("span", {
                                    className: "font-bold text-lg",
                                    children: f.length
                                })]
                            }), d.jsxs("div", {
                                className: "flex justify-between items-center p-3 bg-gray-50 rounded",
                                children: [d.jsx("span", {
                                    className: "text-gray-700",
                                    children: " Total Lessons"
                                }), d.jsx("span", {
                                    className: "font-bold text-lg",
                                    children: o.reduce(Y => Y + 5, 0)
                                })]
                            })]
                        })]
                    }), d.jsxs("div", {
                        className: "bg-white p-6 rounded-lg shadow mt-6",
                        children: [d.jsx("h2", {
                            className: "text-xl font-semibold mb-4",
                            children: "Quick Actions"
                        }), d.jsxs("div", {
                            className: "space-y-3",
                            children: [d.jsx("button", {
                                onClick: () => r("chapters"),
                                className: "w-full p-3 text-left bg-blue-50 hover:bg-blue-100 rounded text-blue-700 font-medium transition",
                                children: " Manage Chapters & Lessons"
                            }), d.jsx("button", {
                                onClick: () => r("exams"),
                                className: "w-full p-3 text-left bg-purple-50 hover:bg-purple-100 rounded text-purple-700 font-medium transition",
                                children: " Create/Edit Exams"
                            }), d.jsx("button", {
                                onClick: () => r("analytics"),
                                className: "w-full p-3 text-left bg-green-50 hover:bg-green-100 rounded text-green-700 font-medium transition",
                                children: " View Detailed Analytics"
                            })]
                        })]
                    })]
                }) : null
            }), n === "chapters" && d.jsxs("div", {
                children: [d.jsxs("div", {
                    className: "flex justify-between items-center mb-6",
                    children: [d.jsx("h2", {
                        className: "text-2xl font-semibold",
                        children: "Chapters & Lessons"
                    }), d.jsx("button", {
                        onClick: () => e(`/teacher/course/${t}/chapters`),
                        className: "bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",
                        children: "Manage Chapters"
                    })]
                }), o.length === 0 ? d.jsx("div", {
                    className: "bg-white p-8 rounded-lg text-center text-gray-500",
                    children: d.jsx("p", {
                        children: "No chapters yet. Create one to get started!"
                    })
                }) : d.jsx("div", {
                    className: "space-y-4",
                    children: o.map(Y => d.jsxs("div", {
                        className: "bg-white p-6 rounded-lg shadow hover:shadow-lg transition",
                        children: [d.jsxs("div", {
                            className: "flex justify-between items-start",
                            children: [d.jsxs("div", {
                                className: "flex-1",
                                children: [d.jsx("h3", {
                                    className: "text-lg font-semibold text-gray-900",
                                    children: Y.title
                                }), d.jsxs("p", {
                                    className: "text-gray-600 text-sm mt-1",
                                    children: ["Chapter ", Y.order]
                                })]
                            }), d.jsx("span", {
                                className: `px-3 py-1 rounded text-sm font-semibold ${Y.status === "published" ? "bg-green-100 text-green-800" : "bg-yellow-100 text-yellow-800"}`,
                                children: Y.status
                            })]
                        }), d.jsxs("div", {
                            className: "mt-4 flex items-center gap-3",
                            children: [d.jsx("button", {
                                onClick: () => e(`/teacher/course/${t}/chapters/${Y.chapter_id}/lessons`),
                                className: "text-blue-600 hover:text-blue-800 text-sm font-medium",
                                children: "View Lessons "
                            }), d.jsx("input", {
                                type: "text",
                                placeholder: "New lesson title",
                                value: y[Y.chapter_id] || "",
                                onChange: pe => w({
                                    ...y,
                                    [Y.chapter_id]: pe.target.value
                                }),
                                className: "border border-gray-300 rounded px-3 py-1 text-sm"
                            }), d.jsx("button", {
                                onClick: async () => {
                                    const pe = (y[Y.chapter_id] || "").trim();
                                    if (!pe)
                                        return alert("Please enter a lesson title");
                                    try {
                                        await M6(Y.chapter_id, {
                                            title: pe,
                                            order: 0
                                        }),
                                        w({
                                            ...y,
                                            [Y.chapter_id]: ""
                                        }),
                                        alert("Lesson created. Go to Lessons to edit content.")
                                    } catch (Te) {
                                        console.error(Te),
                                        alert("Failed to create lesson")
                                    }
                                }
                                ,
                                className: "bg-indigo-600 text-white px-3 py-1 rounded text-sm",
                                children: "+ Lesson"
                            })]
                        })]
                    }, Y.chapter_id))
                })]
            }), n === "exams" && d.jsxs("div", {
                children: [d.jsxs("div", {
                    className: "flex justify-between items-center mb-6",
                    children: [d.jsx("h2", {
                        className: "text-2xl font-semibold",
                        children: "Course Exams"
                    }), d.jsx("button", {
                        onClick: () => e(`/teacher/course/${t}/exams`),
                        className: "bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",
                        children: "Manage Exams"
                    })]
                }), f.length === 0 ? d.jsx("div", {
                    className: "bg-white p-8 rounded-lg text-center text-gray-500",
                    children: d.jsx("p", {
                        children: "No exams yet. Create one to assess student learning!"
                    })
                }) : d.jsx("div", {
                    className: "grid grid-cols-1 md:grid-cols-2 gap-6",
                    children: f.map(Y => d.jsxs("div", {
                        className: "bg-white p-6 rounded-lg shadow hover:shadow-lg transition",
                        children: [d.jsxs("div", {
                            className: "flex justify-between items-start mb-3",
                            children: [d.jsx("h3", {
                                className: "text-lg font-semibold",
                                children: Y.title
                            }), d.jsx("span", {
                                className: `px-3 py-1 rounded text-sm font-semibold ${Y.status === "published" ? "bg-green-100 text-green-800" : "bg-yellow-100 text-yellow-800"}`,
                                children: Y.status
                            })]
                        }), d.jsxs("div", {
                            className: "grid grid-cols-2 gap-2 text-sm text-gray-600 mb-4",
                            children: [d.jsxs("div", {
                                children: [" ", Y.time_limit, " minutes"]
                            }), d.jsxs("div", {
                                children: [" ", Y.question_count, " questions"]
                            }), d.jsxs("div", {
                                children: [" Pass: ", Y.passing_score, "%"]
                            }), d.jsxs("div", {
                                children: [" ", Y.total_points, " points"]
                            })]
                        }), d.jsx("button", {
                            onClick: () => e(`/teacher/course/${t}/exams/${Y.id}`),
                            className: "w-full mt-4 text-blue-600 hover:text-blue-800 font-medium text-sm",
                            children: "Edit Exam "
                        })]
                    }, Y.id))
                })]
            }), n === "analytics" && m && d.jsxs("div", {
                children: [d.jsx("h2", {
                    className: "text-2xl font-semibold mb-6",
                    children: "Course Analytics"
                }), d.jsxs("div", {
                    className: "grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",
                    children: [d.jsxs("div", {
                        className: "bg-white p-6 rounded-lg shadow",
                        children: [d.jsx("div", {
                            className: "text-gray-600 text-sm",
                            children: "Total Enrollments"
                        }), d.jsx("div", {
                            className: "text-3xl font-bold text-blue-600",
                            children: m.total_enrollments
                        }), d.jsxs("div", {
                            className: "text-xs text-gray-500 mt-2",
                            children: [" ", m.completed_enrollments, " completed"]
                        })]
                    }), d.jsxs("div", {
                        className: "bg-white p-6 rounded-lg shadow",
                        children: [d.jsx("div", {
                            className: "text-gray-600 text-sm",
                            children: "Average Rating"
                        }), d.jsx("div", {
                            className: "text-3xl font-bold text-yellow-600",
                            children: m.average_rating
                        }), d.jsxs("div", {
                            className: "text-xs text-gray-500 mt-2",
                            children: ["(", m.total_ratings, " ratings)"]
                        })]
                    }), d.jsxs("div", {
                        className: "bg-white p-6 rounded-lg shadow",
                        children: [d.jsx("div", {
                            className: "text-gray-600 text-sm",
                            children: "Avg Progress"
                        }), d.jsxs("div", {
                            className: "text-3xl font-bold text-green-600",
                            children: [m.average_progress, "%"]
                        }), d.jsx("div", {
                            className: "w-full bg-gray-200 rounded-full h-2 mt-2",
                            children: d.jsx("div", {
                                className: "bg-green-600 h-2 rounded-full",
                                style: {
                                    width: `${m.average_progress}%`
                                }
                            })
                        })]
                    }), d.jsxs("div", {
                        className: "bg-white p-6 rounded-lg shadow",
                        children: [d.jsx("div", {
                            className: "text-gray-600 text-sm",
                            children: "Exams"
                        }), d.jsx("div", {
                            className: "text-3xl font-bold text-purple-600",
                            children: m.exam_performance.length
                        })]
                    })]
                }), m.exam_performance.length > 0 && d.jsxs("div", {
                    className: "bg-white p-6 rounded-lg shadow",
                    children: [d.jsx("h3", {
                        className: "text-xl font-semibold mb-4",
                        children: "Exam Performance"
                    }), d.jsx("div", {
                        className: "space-y-4",
                        children: m.exam_performance.map(Y => d.jsxs("div", {
                            className: "border-b pb-4 last:border-b-0",
                            children: [d.jsx("h4", {
                                className: "font-semibold mb-2",
                                children: Y.exam_title
                            }), d.jsxs("div", {
                                className: "grid grid-cols-4 gap-2 text-sm",
                                children: [d.jsxs("div", {
                                    children: [d.jsx("span", {
                                        className: "text-gray-600",
                                        children: "Attempts"
                                    }), d.jsx("div", {
                                        className: "font-bold",
                                        children: Y.total_attempts
                                    })]
                                }), d.jsxs("div", {
                                    children: [d.jsx("span", {
                                        className: "text-gray-600",
                                        children: "Avg Score"
                                    }), d.jsxs("div", {
                                        className: "font-bold text-purple-600",
                                        children: [Y.average_score, "%"]
                                    })]
                                }), d.jsxs("div", {
                                    children: [d.jsx("span", {
                                        className: "text-gray-600",
                                        children: "Passed"
                                    }), d.jsx("div", {
                                        className: "font-bold text-green-600",
                                        children: Y.passed_count
                                    })]
                                }), d.jsxs("div", {
                                    children: [d.jsx("span", {
                                        className: "text-gray-600",
                                        children: "Pass Rate"
                                    }), d.jsxs("div", {
                                        className: "font-bold text-orange-600",
                                        children: [Y.pass_rate, "%"]
                                    })]
                                })]
                            }), d.jsx("div", {
                                className: "mt-2",
                                children: d.jsx("div", {
                                    className: "w-full bg-gray-200 rounded-full h-2",
                                    children: d.jsx("div", {
                                        className: "bg-green-500 h-2 rounded-full",
                                        style: {
                                            width: `${Y.pass_rate}%`
                                        }
                                    })
                                })
                            })]
                        }, Y.exam_id))
                    })]
                })]
            })]
        })]
    })
}
function _L() {
    const t = Ye()
      , [e,n] = k.useState([])
      , [r,s] = k.useState([])
      , [l,o] = k.useState(!0)
      , [u,f] = k.useState("")
      , [p,m] = k.useState("latest")
      , [g,v] = k.useState("all");
    k.useEffect( () => {
        N()
    }
    , []),
    k.useEffect( () => {
        y()
    }
    , [e, u, p, g]);
    const N = async () => {
        try {
            const C = await W.get("/student/courses/available");
            console.log("Courses response:", C.data);
            const E = Array.isArray(C.data) ? C.data : C.data.courses || [];
            n(E)
        } catch (C) {
            console.error("Error fetching courses:", C)
        } finally {
            o(!1)
        }
    }
      , y = () => {
        let C = [...e];
        switch (u && (C = C.filter(E => E.title.toLowerCase().includes(u.toLowerCase()) || E.description.toLowerCase().includes(u.toLowerCase()))),
        g !== "all" && (C = C.filter(E => (E.level || "").toLowerCase() === g.toLowerCase())),
        p) {
        case "rating":
            C.sort( (E, A) => (A.rating || 0) - (E.rating || 0));
            break;
        case "popularity":
            C.sort( (E, A) => (A.enrolled_count || 0) - (E.enrolled_count || 0));
            break;
        case "price-low":
            C.sort( (E, A) => (E.price || 0) - (A.price || 0));
            break;
        case "price-high":
            C.sort( (E, A) => (A.price || 0) - (E.price || 0));
            break;
        default:
            C.sort( (E, A) => new Date(A.created_at) - new Date(E.created_at))
        }
        s(C)
    }
      , w = async () => {
        try {
            await W.get("/auth/logout"),
            t("/")
        } catch (C) {
            console.error("Logout error:", C)
        }
    }
    ;
    return d.jsxs("div", {
        className: "min-h-screen bg-gradient-to-br from-indigo-50 to-purple-50",
        children: [d.jsx("header", {
            className: "bg-white shadow-sm sticky top-0 z-50",
            children: d.jsxs("div", {
                className: "max-w-7xl mx-auto px-6 py-4 flex justify-between items-center",
                children: [d.jsx("h1", {
                    className: "text-2xl font-bold text-indigo-600",
                    children: "NeuraAcademy"
                }), d.jsxs("div", {
                    className: "flex items-center gap-4",
                    children: [d.jsx("button", {
                        onClick: () => t("/student/dashboard"),
                        className: "px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition",
                        children: "Dashboard"
                    }), d.jsxs("button", {
                        onClick: w,
                        className: "flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition",
                        children: [d.jsx(Kr, {
                            size: 18
                        }), "Logout"]
                    })]
                })]
            })
        }), d.jsxs("main", {
            className: "max-w-7xl mx-auto px-6 py-8",
            children: [d.jsxs("div", {
                className: "mb-12",
                children: [d.jsx("h2", {
                    className: "text-4xl font-bold text-gray-900 mb-4",
                    children: "Explore Courses"
                }), d.jsx("p", {
                    className: "text-gray-600 text-lg",
                    children: "Find and enroll in amazing courses to accelerate your learning journey."
                })]
            }), d.jsxs("div", {
                className: "bg-white rounded-lg shadow-sm p-6 mb-8",
                children: [d.jsxs("div", {
                    className: "grid grid-cols-1 md:grid-cols-3 gap-4",
                    children: [d.jsx("div", {
                        className: "md:col-span-2",
                        children: d.jsxs("div", {
                            className: "relative",
                            children: [d.jsx(V5, {
                                className: "absolute left-3 top-3 text-gray-400",
                                size: 20
                            }), d.jsx("input", {
                                type: "text",
                                placeholder: "Search courses...",
                                value: u,
                                onChange: C => f(C.target.value),
                                className: "w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none"
                            })]
                        })
                    }), d.jsxs("select", {
                        value: g,
                        onChange: C => v(C.target.value),
                        className: "px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",
                        children: [d.jsx("option", {
                            value: "all",
                            children: "All Levels"
                        }), d.jsx("option", {
                            value: "beginner",
                            children: "Beginner"
                        }), d.jsx("option", {
                            value: "intermediate",
                            children: "Intermediate"
                        }), d.jsx("option", {
                            value: "advanced",
                            children: "Advanced"
                        })]
                    })]
                }), d.jsx("div", {
                    className: "mt-4 flex flex-wrap gap-2",
                    children: d.jsxs("select", {
                        value: p,
                        onChange: C => m(C.target.value),
                        className: "px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",
                        children: [d.jsx("option", {
                            value: "latest",
                            children: "Latest"
                        }), d.jsx("option", {
                            value: "rating",
                            children: "Highest Rated"
                        }), d.jsx("option", {
                            value: "popularity",
                            children: "Most Popular"
                        }), d.jsx("option", {
                            value: "price-low",
                            children: "Price: Low to High"
                        }), d.jsx("option", {
                            value: "price-high",
                            children: "Price: High to Low"
                        })]
                    })
                })]
            }), l ? d.jsx("div", {
                className: "flex justify-center items-center py-20",
                children: d.jsxs("div", {
                    className: "text-center",
                    children: [d.jsx("div", {
                        className: "animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"
                    }), d.jsx("p", {
                        className: "text-gray-600",
                        children: "Loading courses..."
                    })]
                })
            }) : r.length > 0 ? d.jsx("div", {
                className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",
                children: r.map(C => d.jsxs("div", {
                    onClick: () => t(`/student/course/${C.id}`),
                    className: "bg-white rounded-lg overflow-hidden shadow-sm hover:shadow-lg transition cursor-pointer group",
                    children: [d.jsxs("div", {
                        className: "relative h-48 bg-gradient-to-br from-indigo-400 to-purple-500 overflow-hidden",
                        children: [d.jsx("img", {
                            src: C.thumbnail || "https://via.placeholder.com/300x200?text=Course",
                            alt: C.title,
                            className: "w-full h-full object-cover group-hover:scale-105 transition"
                        }), d.jsx("div", {
                            className: "absolute top-3 right-3 bg-indigo-600 text-white px-3 py-1 rounded-full text-sm font-medium",
                            children: C.level || "All"
                        })]
                    }), d.jsxs("div", {
                        className: "p-4",
                        children: [d.jsx("h3", {
                            className: "font-bold text-gray-900 line-clamp-2 mb-2",
                            children: C.title
                        }), d.jsx("p", {
                            className: "text-sm text-gray-600 mb-3",
                            children: C.teacher_name
                        }), d.jsxs("div", {
                            className: "flex items-center gap-1 mb-3",
                            children: [d.jsx("div", {
                                className: "flex",
                                children: [...Array(5)].map( (E, A) => d.jsx(Bc, {
                                    size: 14,
                                    className: A < Math.floor(C.rating || 0) ? "text-yellow-400 fill-yellow-400" : "text-gray-300"
                                }, A))
                            }), d.jsxs("span", {
                                className: "text-sm text-gray-600 ml-1",
                                children: ["(", C.review_count, ")"]
                            })]
                        }), d.jsxs("div", {
                            className: "flex items-center gap-3 text-xs text-gray-600 mb-4",
                            children: [d.jsxs("div", {
                                className: "flex items-center gap-1",
                                children: [d.jsx(Jn, {
                                    size: 14
                                }), C.enrolled_count]
                            }), d.jsxs("div", {
                                className: "flex items-center gap-1",
                                children: [d.jsx(e6, {
                                    size: 14
                                }), C.chapter_count, " chapters"]
                            })]
                        }), d.jsxs("div", {
                            className: "flex justify-between items-center",
                            children: [d.jsxs("p", {
                                className: "text-lg font-bold text-indigo-600",
                                children: ["", C.price]
                            }), d.jsx("button", {
                                className: "px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition text-sm font-medium",
                                children: "View"
                            })]
                        })]
                    })]
                }, C.id))
            }) : d.jsxs("div", {
                className: "text-center py-20 bg-white rounded-lg",
                children: [d.jsx("p", {
                    className: "text-gray-600 text-lg mb-4",
                    children: "No courses found matching your criteria."
                }), d.jsx("button", {
                    onClick: () => {
                        f(""),
                        v("all"),
                        m("latest")
                    }
                    ,
                    className: "px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition",
                    children: "Clear Filters"
                })]
            })]
        })]
    })
}
function TL() {
    const {courseId: t} = $n()
      , e = Ye()
      , [n,r] = k.useState(null)
      , [s,l] = k.useState(!0)
      , [o,u] = k.useState(!1)
      , [f,p] = k.useState(!1)
      , [m,g] = k.useState(0)
      , [v,N] = k.useState(0)
      , [y,w] = k.useState("")
      , [C,E] = k.useState([])
      , [A,_] = k.useState(!1);
    k.useEffect( () => {
        (async () => {
            try {
                const G = await W.get(`/student/courses/${t}`);
                r(G.data),
                p(G.data.is_enrolled || !1),
                N(Math.round(G.data.rating || 0)),
                O(G.data.id)
            } catch (G) {
                console.error("Error fetching course:", G)
            } finally {
                l(!1)
            }
        }
        )()
    }
    , [t]);
    const O = async z => {
        _(!0);
        try {
            const G = await vT(z);
            E(G.data || [])
        } catch (G) {
            console.error("Error loading reviews:", G)
        } finally {
            _(!1)
        }
    }
      , R = async () => {
        u(!0);
        try {
            await W.post(`/student/courses/${t}/enroll`),
            p(!0),
            alert("Successfully enrolled! Redirecting to learning..."),
            e(`/student/learn/${t}`)
        } catch (z) {
            console.error("Enrollment error:", z),
            alert("Failed to enroll. Please try again.")
        } finally {
            u(!1)
        }
    }
      , $ = async () => {
        try {
            await W.get("/auth/logout"),
            e("/")
        } catch (z) {
            console.error("Logout error:", z)
        }
    }
    ;
    return s ? d.jsx("div", {
        className: "min-h-screen bg-gradient-to-br from-indigo-50 to-purple-50 flex items-center justify-center",
        children: d.jsxs("div", {
            className: "text-center",
            children: [d.jsx("div", {
                className: "animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"
            }), d.jsx("p", {
                className: "text-gray-600",
                children: "Loading course..."
            })]
        })
    }) : n ? d.jsxs("div", {
        className: "min-h-screen bg-gradient-to-br from-indigo-50 to-purple-50",
        children: [d.jsx("header", {
            className: "bg-white shadow-sm sticky top-0 z-50",
            children: d.jsxs("div", {
                className: "max-w-6xl mx-auto px-6 py-4 flex justify-between items-center",
                children: [d.jsx("h1", {
                    className: "text-2xl font-bold text-indigo-600",
                    children: "NeuraAcademy"
                }), d.jsxs("div", {
                    className: "flex items-center gap-4",
                    children: [d.jsx("button", {
                        onClick: () => e("/student/explore"),
                        className: "px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition",
                        children: "Browse More"
                    }), d.jsxs("button", {
                        onClick: $,
                        className: "flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition",
                        children: [d.jsx(Kr, {
                            size: 18
                        }), "Logout"]
                    })]
                })]
            })
        }), d.jsx("main", {
            className: "max-w-6xl mx-auto px-6 py-8",
            children: d.jsxs("div", {
                className: "grid grid-cols-1 lg:grid-cols-3 gap-8",
                children: [d.jsxs("div", {
                    className: "lg:col-span-2",
                    children: [d.jsx("div", {
                        className: "bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg h-96 mb-8 overflow-hidden",
                        children: n.thumbnail ? d.jsx("img", {
                            src: n.thumbnail,
                            alt: n.title,
                            className: "w-full h-full object-cover"
                        }) : d.jsx("div", {
                            className: "w-full h-full flex items-center justify-center",
                            children: d.jsx(cr, {
                                size: 80,
                                className: "text-white opacity-20"
                            })
                        })
                    }), d.jsxs("div", {
                        className: "mb-8",
                        children: [d.jsx("h1", {
                            className: "text-4xl font-bold text-gray-900 mb-4",
                            children: n.title
                        }), d.jsxs("div", {
                            className: "flex items-center gap-6 mb-4",
                            children: [d.jsxs("div", {
                                className: "flex items-center gap-1",
                                children: [[...Array(5)].map( (z, G) => d.jsx("button", {
                                    onClick: async () => {
                                        N(G + 1)
                                    }
                                    ,
                                    className: "p-0.5",
                                    children: d.jsx(Bc, {
                                        size: 20,
                                        className: G < Math.floor(v || n.rating || 0) ? "text-yellow-400 fill-yellow-400" : "text-gray-300"
                                    })
                                }, G)), d.jsxs("span", {
                                    className: "ml-2 text-gray-600",
                                    children: ["(", n.review_count, " reviews)"]
                                })]
                            }), d.jsxs("div", {
                                className: "flex items-center gap-2 text-gray-600",
                                children: [d.jsx(Jn, {
                                    size: 20
                                }), n.enrolled_count, " students enrolled"]
                            })]
                        }), d.jsx("p", {
                            className: "text-gray-600 text-lg mb-4",
                            children: n.description
                        }), d.jsxs("div", {
                            className: "grid grid-cols-2 gap-4 bg-white p-6 rounded-lg",
                            children: [d.jsxs("div", {
                                children: [d.jsx("p", {
                                    className: "text-gray-600 text-sm",
                                    children: "Instructor"
                                }), d.jsx("p", {
                                    className: "font-semibold text-gray-900",
                                    children: n.teacher_name
                                })]
                            }), d.jsxs("div", {
                                children: [d.jsx("p", {
                                    className: "text-gray-600 text-sm",
                                    children: "Level"
                                }), d.jsx("p", {
                                    className: "font-semibold text-gray-900",
                                    children: n.level || "All Levels"
                                })]
                            }), d.jsxs("div", {
                                children: [d.jsx("p", {
                                    className: "text-gray-600 text-sm",
                                    children: "Duration"
                                }), d.jsx("p", {
                                    className: "font-semibold text-gray-900",
                                    children: n.duration || "Self-paced"
                                })]
                            }), d.jsxs("div", {
                                children: [d.jsx("p", {
                                    className: "text-gray-600 text-sm",
                                    children: "Chapters"
                                }), d.jsx("p", {
                                    className: "font-semibold text-gray-900",
                                    children: n.chapter_count || 0
                                })]
                            })]
                        })]
                    }), n.requirements && d.jsxs("div", {
                        className: "mb-8 bg-white p-6 rounded-lg",
                        children: [d.jsx("h3", {
                            className: "text-xl font-bold text-gray-900 mb-4",
                            children: "Requirements"
                        }), d.jsx("p", {
                            className: "text-gray-600",
                            children: n.requirements
                        })]
                    }), d.jsxs("div", {
                        className: "bg-white rounded-lg p-6",
                        children: [d.jsx("h3", {
                            className: "text-xl font-bold text-gray-900 mb-6",
                            children: "Course Content"
                        }), d.jsx("div", {
                            className: "space-y-4",
                            children: n.chapters && n.chapters.length > 0 ? n.chapters.map( (z, G) => d.jsxs("div", {
                                className: "border border-gray-200 rounded-lg overflow-hidden",
                                children: [d.jsxs("button", {
                                    onClick: () => g(m === G ? -1 : G),
                                    className: "w-full px-6 py-4 flex items-center justify-between hover:bg-gray-50 transition",
                                    children: [d.jsx("h4", {
                                        className: "font-semibold text-gray-900",
                                        children: z.title
                                    }), d.jsx(l5, {
                                        size: 20,
                                        className: `text-gray-600 transition ${m === G ? "rotate-180" : ""}`
                                    })]
                                }), m === G && d.jsx("div", {
                                    className: "px-6 py-4 border-t border-gray-200 bg-gray-50",
                                    children: d.jsx("div", {
                                        className: "space-y-2",
                                        children: z.lessons && z.lessons.length > 0 ? z.lessons.map( (Y, pe) => d.jsxs("div", {
                                            className: "flex items-center gap-3 text-gray-700 py-2",
                                            children: [d.jsx("div", {
                                                className: "w-2 h-2 bg-indigo-600 rounded-full"
                                            }), d.jsx("span", {
                                                children: Y.title
                                            }), Y.is_completed && d.jsx("span", {
                                                className: "text-green-600 text-sm",
                                                children: " Completed"
                                            })]
                                        }, pe)) : d.jsx("p", {
                                            className: "text-gray-500",
                                            children: "No lessons yet"
                                        })
                                    })
                                })]
                            }, G)) : d.jsx("p", {
                                className: "text-gray-500",
                                children: "Course content coming soon"
                            })
                        })]
                    }), d.jsxs("div", {
                        className: "bg-white rounded-lg p-6 mt-6",
                        children: [d.jsx("h3", {
                            className: "text-xl font-bold text-gray-900 mb-4",
                            children: "Rate & Review"
                        }), d.jsxs("div", {
                            className: "space-y-3",
                            children: [d.jsxs("div", {
                                className: "flex items-center gap-2",
                                children: [[...Array(5)].map( (z, G) => d.jsx("button", {
                                    onClick: () => N(G + 1),
                                    className: "p-0.5",
                                    children: d.jsx(Bc, {
                                        size: 24,
                                        className: G < v ? "text-yellow-400 fill-yellow-400" : "text-gray-300"
                                    })
                                }, G)), d.jsxs("span", {
                                    className: "text-gray-600 ml-2",
                                    children: [v, " / 5"]
                                })]
                            }), d.jsx("textarea", {
                                value: y,
                                onChange: z => w(z.target.value),
                                rows: 4,
                                className: "w-full border rounded p-3",
                                placeholder: "Write your review (optional)"
                            }), d.jsx("div", {
                                className: "flex justify-end",
                                children: d.jsx("button", {
                                    onClick: async () => {
                                        try {
                                            await yT(n.id, {
                                                rating: v,
                                                review: y
                                            }),
                                            alert("Thanks for your feedback"),
                                            w(""),
                                            O(n.id)
                                        } catch (z) {
                                            console.error(z),
                                            alert("Failed to submit review")
                                        }
                                    }
                                    ,
                                    className: "px-4 py-2 bg-indigo-600 text-white rounded",
                                    children: "Submit"
                                })
                            }), d.jsxs("div", {
                                className: "mt-6",
                                children: [d.jsx("h4", {
                                    className: "font-semibold mb-3",
                                    children: "Recent Reviews"
                                }), A ? d.jsx("p", {
                                    className: "text-gray-500",
                                    children: "Loading reviews..."
                                }) : C.length === 0 ? d.jsx("p", {
                                    className: "text-gray-500",
                                    children: "No reviews yet"
                                }) : C.map(z => d.jsxs("div", {
                                    className: "border rounded p-3 mb-3",
                                    children: [d.jsxs("div", {
                                        className: "flex justify-between",
                                        children: [d.jsx("div", {
                                            className: "font-semibold",
                                            children: z.student_name
                                        }), d.jsx("div", {
                                            className: "text-sm text-gray-500",
                                            children: new Date(z.created_at).toLocaleDateString()
                                        })]
                                    }), d.jsx("div", {
                                        className: "text-yellow-400",
                                        children: "".repeat(z.rating)
                                    }), d.jsx("p", {
                                        className: "mt-2 text-gray-700",
                                        children: z.review
                                    })]
                                }, z.id))]
                            })]
                        })]
                    })]
                }), d.jsx("div", {
                    children: d.jsxs("div", {
                        className: "bg-white rounded-lg shadow-lg p-6 sticky top-20",
                        children: [d.jsxs("p", {
                            className: "text-4xl font-bold text-indigo-600 mb-4",
                            children: ["", n.price]
                        }), f ? d.jsx("button", {
                            onClick: () => e(`/student/learn/${n.id}`),
                            className: "w-full px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-bold mb-3",
                            children: "Continue Learning"
                        }) : d.jsx("button", {
                            onClick: R,
                            disabled: o,
                            className: "w-full px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition font-bold disabled:opacity-50 disabled:cursor-not-allowed mb-3",
                            children: o ? "Enrolling..." : "Enroll Now"
                        }), d.jsxs("div", {
                            className: "space-y-3 border-t pt-6",
                            children: [d.jsx("h4", {
                                className: "font-semibold text-gray-900",
                                children: "This course includes:"
                            }), d.jsxs("div", {
                                className: "space-y-2 text-sm text-gray-600",
                                children: [d.jsxs("div", {
                                    className: "flex items-center gap-3",
                                    children: [d.jsx(cr, {
                                        size: 18,
                                        className: "text-indigo-600"
                                    }), d.jsxs("span", {
                                        children: [n.chapter_count || 0, " chapters"]
                                    })]
                                }), d.jsxs("div", {
                                    className: "flex items-center gap-3",
                                    children: [d.jsx(Jn, {
                                        size: 18,
                                        className: "text-indigo-600"
                                    }), d.jsxs("span", {
                                        children: [n.enrolled_count, " enrolled students"]
                                    })]
                                }), d.jsxs("div", {
                                    className: "flex items-center gap-3",
                                    children: [d.jsx(e6, {
                                        size: 18,
                                        className: "text-indigo-600"
                                    }), d.jsx("span", {
                                        children: "Self-paced learning"
                                    })]
                                })]
                            })]
                        })]
                    })
                })]
            })
        })]
    }) : d.jsx("div", {
        className: "min-h-screen bg-gradient-to-br from-indigo-50 to-purple-50 flex items-center justify-center",
        children: d.jsxs("div", {
            className: "text-center",
            children: [d.jsx("p", {
                className: "text-gray-600 mb-4",
                children: "Course not found"
            }), d.jsx("button", {
                onClick: () => e("/student/explore"),
                className: "px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition",
                children: "Back to Courses"
            })]
        })
    })
}
const DL = t => {
    if (!t)
        return null;
    if (t.includes("youtube.com/embed/") || t.includes("youtube-nocookie.com/embed/"))
        return t;
    let e = null;
    if (t.includes("youtube.com/watch")) {
        const n = t.match(/v=([^&]+)/);
        n && (e = n[1])
    } else if (t.includes("youtu.be/")) {
        const n = t.match(/youtu\.be\/([^?&]+)/);
        n && (e = n[1])
    } else if (t.includes("youtube.com/embed/"))
        return t;
    return e ? `https://www.youtube-nocookie.com/embed/${e}` : null
}
;
function ML() {
    const {courseId: t} = $n()
      , e = Ye()
      , [n,r] = k.useState(null)
      , [s,l] = k.useState([])
      , [o,u] = k.useState(null)
      , [f,p] = k.useState(null)
      , [m,g] = k.useState([])
      , [v,N] = k.useState("")
      , [y,w] = k.useState(!1)
      , [C,E] = k.useState(!0)
      , [A,_] = k.useState(!0)
      , [O,R] = k.useState(!1);
    k.useEffect( () => {
        (async () => {
            try {
                const Ce = await W.get(`/student/courses/${t}/learn`);
                r(Ce.data),
                l(Ce.data.chapters || []),
                Ce.data.chapters?.length > 0 && Ce.data.chapters[0].lessons?.length > 0 && u(Ce.data.chapters[0].lessons[0])
            } catch (Ce) {
                console.error("Error fetching course:", Ce)
            } finally {
                E(!1)
            }
        }
        )()
    }
    , [t]),
    k.useEffect( () => {
        o && z(o.id)
    }
    , [o]);
    const $ = k.useCallback(async le => {
        w(!0);
        try {
            const Ce = await gT(le);
            g(Ce.data || [])
        } catch (Ce) {
            console.error("Error fetching comments:", Ce)
        } finally {
            w(!1)
        }
    }
    , [])
      , z = k.useCallback(async le => {
        try {
            const Ce = await W.get(`/student/lessons/${le}/content`);
            p(Ce.data),
            $(le)
        } catch (Ce) {
            console.error("Error fetching lesson content:", Ce)
        }
    }
    , [$])
      , G = async () => {
        if (!(!v.trim() || !o))
            try {
                await xT(o.id, {
                    content: v.trim()
                }),
                N(""),
                await $(o.id)
            } catch (le) {
                console.error("Error posting comment:", le),
                alert("Failed to post comment")
            }
    }
      , Y = async le => {
        if (window.confirm("Delete this comment?"))
            try {
                await bT(le),
                await $(o.id)
            } catch (Ce) {
                console.error("Error deleting comment:", Ce),
                alert("Failed to delete comment")
            }
    }
      , pe = async () => {
        if (o) {
            R(!0);
            try {
                await W.post(`/student/lessons/${o.id}/complete`),
                u({
                    ...o,
                    is_completed: !0
                }),
                alert("Lesson marked as complete!")
            } catch (le) {
                console.error("Error marking lesson complete:", le)
            } finally {
                R(!1)
            }
        }
    }
      , Te = async () => {
        try {
            await W.get("/auth/logout"),
            e("/")
        } catch (le) {
            console.error("Logout error:", le)
        }
    }
    ;
    return C ? d.jsx("div", {
        className: "flex items-center justify-center min-h-screen bg-gray-900",
        children: d.jsxs("div", {
            className: "text-center",
            children: [d.jsx("div", {
                className: "animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"
            }), d.jsx("p", {
                className: "text-white",
                children: "Loading course..."
            })]
        })
    }) : n ? d.jsxs("div", {
        className: "flex h-screen bg-gray-900",
        children: [d.jsx("div", {
            className: `${A ? "w-80" : "w-0"} bg-gray-800 text-white overflow-y-auto transition-all duration-300 flex flex-col`,
            children: A && d.jsxs(d.Fragment, {
                children: [d.jsxs("div", {
                    className: "p-6 border-b border-gray-700",
                    children: [d.jsx("h2", {
                        className: "text-xl font-bold truncate",
                        children: n.title
                    }), d.jsxs("p", {
                        className: "text-sm text-gray-400 mt-1",
                        children: [n.completion_percentage, "% complete"]
                    }), d.jsx("div", {
                        className: "w-full bg-gray-700 rounded-full h-2 mt-3",
                        children: d.jsx("div", {
                            className: "bg-indigo-600 h-2 rounded-full transition-all",
                            style: {
                                width: `${n.completion_percentage}%`
                            }
                        })
                    })]
                }), d.jsx("div", {
                    className: "flex-1 overflow-y-auto",
                    children: s.map( (le, Ce) => d.jsxs("div", {
                        className: "border-b border-gray-700",
                        children: [d.jsx("div", {
                            className: "p-4 font-semibold text-sm bg-gray-700/50",
                            children: le.title
                        }), d.jsx("div", {
                            className: "space-y-1 p-2",
                            children: le.lessons?.map( (Le, Ue) => d.jsxs("button", {
                                onClick: () => u(Le),
                                className: `w-full text-left px-4 py-2 rounded transition text-sm flex items-center gap-2 ${o?.id === Le.id ? "bg-indigo-600 text-white" : "hover:bg-gray-700"}`,
                                children: [Le.is_completed && d.jsx(i2, {
                                    size: 16
                                }), d.jsx("span", {
                                    className: "truncate",
                                    children: Le.title
                                })]
                            }, Ue))
                        })]
                    }, Ce))
                }), d.jsxs("div", {
                    className: "p-4 border-t border-gray-700 space-y-2",
                    children: [d.jsx("button", {
                        onClick: () => e("/student/dashboard"),
                        className: "w-full px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded transition",
                        children: "Back to Dashboard"
                    }), d.jsxs("button", {
                        onClick: Te,
                        className: "w-full px-4 py-2 bg-red-600 hover:bg-red-700 rounded transition flex items-center justify-center gap-2",
                        children: [d.jsx(Kr, {
                            size: 16
                        }), " Logout"]
                    })]
                })]
            })
        }), d.jsxs("div", {
            className: "flex-1 flex flex-col",
            children: [d.jsxs("header", {
                className: "bg-gray-800 border-b border-gray-700 p-4 flex items-center justify-between",
                children: [d.jsx("button", {
                    onClick: () => _(!A),
                    className: "p-2 hover:bg-gray-700 rounded transition",
                    children: A ? d.jsx(Ud, {
                        size: 24,
                        className: "text-white"
                    }) : d.jsx(D5, {
                        size: 24,
                        className: "text-white"
                    })
                }), d.jsx("h1", {
                    className: "text-white font-bold text-xl flex-1 ml-4",
                    children: "NeuraAcademy"
                })]
            }), d.jsx("div", {
                className: "flex-1 overflow-auto bg-gray-900 p-6",
                children: f ? d.jsxs("div", {
                    className: "max-w-4xl mx-auto",
                    children: [d.jsxs("div", {
                        className: "mb-6",
                        children: [d.jsx("h2", {
                            className: "text-3xl font-bold text-white mb-2",
                            children: o?.title
                        }), d.jsx("div", {
                            className: "flex items-center gap-4",
                            children: d.jsx("button", {
                                onClick: pe,
                                disabled: O || o?.is_completed,
                                className: `px-4 py-2 rounded transition flex items-center gap-2 font-medium ${o?.is_completed ? "bg-green-600 text-white" : "bg-indigo-600 hover:bg-indigo-700 text-white disabled:opacity-50"}`,
                                children: o?.is_completed ? d.jsxs(d.Fragment, {
                                    children: [d.jsx(i2, {
                                        size: 18
                                    }), " Completed"]
                                }) : d.jsxs(d.Fragment, {
                                    children: [d.jsx(H5, {
                                        size: 18
                                    }), " ", O ? "Marking..." : "Mark as Complete"]
                                })
                            })
                        })]
                    }), ( () => {
                        const le = DL(f.embed_url);
                        return le ? d.jsx("div", {
                            className: "mb-8 bg-black rounded-lg overflow-hidden",
                            children: d.jsx("iframe", {
                                width: "100%",
                                height: "500",
                                src: le,
                                frameBorder: "0",
                                allowFullScreen: !0,
                                allow: "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",
                                title: o?.title
                            })
                        }) : f.embed_url ? d.jsx("div", {
                            className: "mb-8 bg-gray-800 rounded-lg p-4 text-gray-300",
                            children: d.jsxs("p", {
                                children: ["This video cannot be embedded. ", d.jsx("a", {
                                    href: f.embed_url,
                                    target: "_blank",
                                    rel: "noreferrer",
                                    className: "text-indigo-400",
                                    children: "Open in YouTube"
                                })]
                            })
                        }) : null
                    }
                    )(), f.content && d.jsxs("div", {
                        className: "bg-gray-800 rounded-lg p-6 text-gray-100",
                        children: [d.jsx("h3", {
                            className: "text-xl font-bold text-white mb-4",
                            children: "Lesson Content"
                        }), d.jsx("div", {
                            className: "prose prose-invert max-w-none",
                            children: typeof f.content == "string" ? d.jsx("p", {
                                children: f.content
                            }) : d.jsx("div", {
                                dangerouslySetInnerHTML: {
                                    __html: OL(f.content)
                                }
                            })
                        })]
                    }), d.jsx(Us, {
                        fixed: !0,
                        lessonId: o?.id
                    }), !f.embed_url && !f.content && d.jsx("div", {
                        className: "bg-gray-800 rounded-lg p-8 text-center",
                        children: d.jsx("p", {
                            className: "text-gray-400",
                            children: "No content available for this lesson yet."
                        })
                    }), d.jsxs("div", {
                        className: "mt-6 max-w-4xl mx-auto",
                        children: [d.jsx("h4", {
                            className: "text-lg font-semibold text-white mb-3",
                            children: "Discussion"
                        }), d.jsx("div", {
                            className: "space-y-3 mb-4",
                            children: y ? d.jsx("p", {
                                className: "text-gray-400",
                                children: "Loading comments..."
                            }) : m.length === 0 ? d.jsx("p", {
                                className: "text-gray-400",
                                children: "Be the first to comment"
                            }) : m.map(le => d.jsxs("div", {
                                className: "bg-gray-700 p-3 rounded",
                                children: [d.jsxs("div", {
                                    className: "flex justify-between items-start",
                                    children: [d.jsxs("div", {
                                        className: "flex items-center gap-3",
                                        children: [le.avatar ? d.jsx("img", {
                                            src: le.avatar,
                                            alt: le.student_name,
                                            className: "h-8 w-8 rounded-full object-cover"
                                        }) : d.jsx("div", {
                                            className: "h-8 w-8 rounded-full bg-gray-600 text-white flex items-center justify-center font-semibold",
                                            children: (le.student_name || "S").slice(0, 2).toUpperCase()
                                        }), d.jsxs("div", {
                                            children: [d.jsx("div", {
                                                className: "text-sm font-semibold text-white",
                                                children: le.student_name || "Student"
                                            }), d.jsx("div", {
                                                className: "text-gray-300 text-sm",
                                                children: new Date(le.created_at).toLocaleString()
                                            })]
                                        })]
                                    }), d.jsx("div", {
                                        children: d.jsx("button", {
                                            onClick: () => Y(le.id),
                                            className: "text-sm text-red-400",
                                            children: "Delete"
                                        })
                                    })]
                                }), d.jsx("p", {
                                    className: "text-gray-200 mt-2",
                                    children: le.content
                                })]
                            }, le.id))
                        }), d.jsxs("div", {
                            className: "bg-gray-800 p-4 rounded",
                            children: [d.jsx("textarea", {
                                value: v,
                                onChange: le => N(le.target.value),
                                rows: 3,
                                className: "w-full p-3 rounded bg-gray-900 text-white border border-gray-700",
                                placeholder: "Write a comment..."
                            }), d.jsx("div", {
                                className: "flex justify-end mt-3",
                                children: d.jsx("button", {
                                    onClick: G,
                                    className: "px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded",
                                    children: "Post Comment"
                                })
                            })]
                        })]
                    })]
                }) : d.jsx("div", {
                    className: "flex items-center justify-center h-full",
                    children: d.jsx("p", {
                        className: "text-gray-400",
                        children: "Select a lesson to view content"
                    })
                })
            })]
        })]
    }) : d.jsx("div", {
        className: "flex items-center justify-center min-h-screen bg-gray-900",
        children: d.jsx("p", {
            className: "text-white",
            children: "Course not found"
        })
    })
}
function OL(t) {
    if (!t)
        return "";
    if (typeof t == "string")
        return Rc(t);
    const e = t.content || []
      , n = r => {
        if (!r || !r.type)
            return "";
        const s = r.type
          , l = (r.content || []).map(n).join("");
        switch (s) {
        case "paragraph":
            return `<p>${l}</p>`;
        case "heading":
            {
                const o = r.attrs && r.attrs.level ? r.attrs.level : 2;
                return `<h${o}>${l}</h${o}>`
            }
        case "text":
            {
                let o = Rc(r.text || "");
                return r.marks && r.marks.length && r.marks.forEach(u => {
                    u.type === "bold" && (o = `<strong>${o}</strong>`),
                    u.type === "italic" && (o = `<em>${o}</em>`),
                    u.type === "link" && u.attrs && u.attrs.href && (o = `<a href="${wp(u.attrs.href)}" target="_blank" rel="noopener noreferrer">${o}</a>`)
                }
                ),
                o
            }
        case "bullet_list":
            return `<ul>${l}</ul>`;
        case "ordered_list":
            return `<ol>${l}</ol>`;
        case "list_item":
            return `<li>${l}</li>`;
        case "image":
            {
                const o = r.attrs && r.attrs.src ? wp(r.attrs.src) : ""
                  , u = r.attrs && r.attrs.alt ? wp(r.attrs.alt) : "";
                return `<img src="${o}" alt="${u}" style="max-width:100%"/>`
            }
        case "blockquote":
            return `<blockquote>${l}</blockquote>`;
        case "code_block":
            return `<pre><code>${Rc(r.content && r.content[0] && r.content[0].text || "")}</code></pre>`;
        default:
            return l
        }
    }
    ;
    return e.map(n).join("")
}
function Rc(t) {
    return t ? String(t).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#39;") : ""
}
function wp(t) {
    return Rc(t).replace(/"/g, "%22")
}
function RL() {
    const {courseId: t} = $n()
      , e = Ye()
      , [n,r] = k.useState([])
      , [s,l] = k.useState([])
      , [o,u] = k.useState(!0)
      , [f,p] = k.useState("available");
    k.useEffect( () => {
        (async () => {
            try {
                const N = await W.get(`/student/courses/${t}/exams`);
                r(N.data.exams ?? []),
                l(N.data.attempts ?? [])
            } catch (N) {
                console.error("Error fetching exams:", N)
            } finally {
                u(!1)
            }
        }
        )()
    }
    , [t]);
    const m = v => e(`/student/exams/${v}/attempt`)
      , g = v => e(`/student/exams/attempts/${v}/result`);
    return o ? d.jsx("div", {
        className: "flex items-center justify-center min-h-screen bg-gray-50",
        children: d.jsx("div", {
            className: "text-xl text-gray-600",
            children: "Loading exams..."
        })
    }) : d.jsxs("div", {
        className: "min-h-screen bg-gray-50",
        children: [d.jsx("div", {
            className: "bg-white shadow",
            children: d.jsx("div", {
                className: "max-w-7xl mx-auto px-6 py-6 flex items-center justify-between",
                children: d.jsxs("div", {
                    children: [d.jsx("button", {
                        onClick: () => e(-1),
                        className: "text-blue-600 hover:text-blue-800 font-medium mb-1 flex items-center gap-2",
                        children: " Back"
                    }), d.jsx("h1", {
                        className: "text-3xl font-bold text-gray-900",
                        children: "Exams"
                    })]
                })
            })
        }), d.jsxs("div", {
            className: "max-w-7xl mx-auto px-6 py-8",
            children: [d.jsxs("div", {
                className: "flex gap-4 mb-8 border-b border-gray-300",
                children: [d.jsx("button", {
                    onClick: () => p("available"),
                    className: `px-4 py-2 font-semibold transition ${f === "available" ? "border-b-2 border-blue-600 text-blue-600" : "text-gray-600 hover:text-gray-900"}`,
                    children: "Available Exams"
                }), d.jsx("button", {
                    onClick: () => p("attempts"),
                    className: `px-4 py-2 font-semibold transition ${f === "attempts" ? "border-b-2 border-blue-600 text-blue-600" : "text-gray-600 hover:text-gray-900"}`,
                    children: "My Attempts"
                })]
            }), f === "available" && d.jsx("div", {
                children: n.length === 0 ? d.jsx("div", {
                    className: "text-center py-12",
                    children: d.jsx("p", {
                        className: "text-gray-600 text-lg",
                        children: "No exams available yet"
                    })
                }) : d.jsx("div", {
                    className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",
                    children: n.map(v => {
                        const N = s.filter(w => w.exam_id === v.id).length
                          , y = s.filter(w => w.exam_id === v.id).map(w => w.score).sort( (w, C) => C - w)[0];
                        return d.jsx("div", {
                            className: "bg-white rounded-lg shadow hover:shadow-lg transition",
                            children: d.jsxs("div", {
                                className: "p-6",
                                children: [d.jsx("h3", {
                                    className: "text-lg font-bold text-gray-900 mb-2",
                                    children: v.title
                                }), d.jsx("p", {
                                    className: "text-gray-600 text-sm mb-4",
                                    children: v.description
                                }), d.jsxs("div", {
                                    className: "grid grid-cols-2 gap-4 mb-6 text-sm",
                                    children: [d.jsxs("div", {
                                        className: "bg-gray-50 p-3 rounded",
                                        children: [d.jsx("p", {
                                            className: "text-gray-600",
                                            children: "Questions"
                                        }), d.jsx("p", {
                                            className: "font-bold text-gray-900",
                                            children: v.question_count || 0
                                        })]
                                    }), d.jsxs("div", {
                                        className: "bg-gray-50 p-3 rounded",
                                        children: [d.jsx("p", {
                                            className: "text-gray-600",
                                            children: "Time Limit"
                                        }), d.jsxs("p", {
                                            className: "font-bold text-gray-900",
                                            children: [v.time_limit || "N/A", " min"]
                                        })]
                                    }), d.jsxs("div", {
                                        className: "bg-gray-50 p-3 rounded",
                                        children: [d.jsx("p", {
                                            className: "text-gray-600",
                                            children: "Passing Score"
                                        }), d.jsxs("p", {
                                            className: "font-bold text-gray-900",
                                            children: [v.passing_score || 0, "%"]
                                        })]
                                    }), d.jsxs("div", {
                                        className: "bg-gray-50 p-3 rounded",
                                        children: [d.jsx("p", {
                                            className: "text-gray-600",
                                            children: "Your Attempts"
                                        }), d.jsx("p", {
                                            className: "font-bold text-gray-900",
                                            children: N
                                        })]
                                    })]
                                }), y && d.jsxs("div", {
                                    className: "mb-4 p-3 bg-green-50 rounded border border-green-200",
                                    children: [d.jsx("p", {
                                        className: "text-sm text-gray-600",
                                        children: "Best Score"
                                    }), d.jsxs("p", {
                                        className: "text-2xl font-bold text-green-600",
                                        children: [y, "%"]
                                    })]
                                }), d.jsx("button", {
                                    onClick: () => m(v.id),
                                    className: "w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium",
                                    children: "Take Exam"
                                })]
                            })
                        }, v.id)
                    }
                    )
                })
            }), f === "attempts" && d.jsx("div", {
                children: s.length === 0 ? d.jsx("div", {
                    className: "text-center py-12",
                    children: d.jsx("p", {
                        className: "text-gray-600 text-lg",
                        children: "You haven't attempted any exams yet"
                    })
                }) : d.jsx("div", {
                    className: "bg-white rounded-lg shadow overflow-hidden",
                    children: d.jsxs("table", {
                        className: "w-full table-auto",
                        children: [d.jsx("thead", {
                            className: "bg-gray-50 border-b border-gray-200",
                            children: d.jsxs("tr", {
                                children: [d.jsx("th", {
                                    className: "px-6 py-3 text-left text-sm font-semibold text-gray-900",
                                    children: "Exam"
                                }), d.jsx("th", {
                                    className: "px-6 py-3 text-left text-sm font-semibold text-gray-900",
                                    children: "Attempted"
                                }), d.jsx("th", {
                                    className: "px-6 py-3 text-left text-sm font-semibold text-gray-900",
                                    children: "Score"
                                }), d.jsx("th", {
                                    className: "px-6 py-3 text-left text-sm font-semibold text-gray-900",
                                    children: "Status"
                                }), d.jsx("th", {
                                    className: "px-6 py-3 text-left text-sm font-semibold text-gray-900",
                                    children: "Action"
                                })]
                            })
                        }), d.jsx("tbody", {
                            className: "divide-y divide-gray-200",
                            children: s.map(v => {
                                const N = n.find(w => w.id === v.exam_id)
                                  , y = v.score >= (N?.passing_score || 60);
                                return d.jsxs("tr", {
                                    className: "hover:bg-gray-50",
                                    children: [d.jsx("td", {
                                        className: "px-6 py-4 text-sm font-medium text-gray-900",
                                        children: N?.title || "Unknown Exam"
                                    }), d.jsx("td", {
                                        className: "px-6 py-4 text-sm text-gray-600",
                                        children: new Date(v.attempted_at).toLocaleDateString()
                                    }), d.jsx("td", {
                                        className: "px-6 py-4 text-sm",
                                        children: d.jsxs("span", {
                                            className: `font-bold ${y ? "text-green-600" : "text-red-600"}`,
                                            children: [v.score, "%"]
                                        })
                                    }), d.jsx("td", {
                                        className: "px-6 py-4 text-sm",
                                        children: d.jsx("span", {
                                            className: `px-3 py-1 rounded-full text-xs font-semibold ${y ? "bg-green-100 text-green-800" : "bg-red-100 text-red-800"}`,
                                            children: y ? "Passed" : "Failed"
                                        })
                                    }), d.jsx("td", {
                                        className: "px-6 py-4 text-sm",
                                        children: d.jsx("button", {
                                            onClick: () => g(v.id),
                                            className: "text-blue-600 hover:text-blue-800 font-medium",
                                            children: "View Result"
                                        })
                                    })]
                                }, v.id)
                            }
                            )
                        })]
                    })
                })
            })]
        })]
    })
}
function zL() {
    const [t,e] = k.useState([])
      , [n,r] = k.useState([])
      , [s,l] = k.useState(!0)
      , [o,u] = k.useState("")
      , [f,p] = k.useState("friends")
      , [m,g] = k.useState(null);
    k.useEffect( () => {
        v()
    }
    , []);
    const v = async () => {
        try {
            const w = await W.get("/student/friends");
            e(w.data.friends || []);
            const C = await W.get("/student/leaderboard");
            r(C.data.leaderboard || []);
            const E = await W.get("/student/profile");
            g(E.data)
        } catch (w) {
            console.error("Error fetching data:", w)
        } finally {
            l(!1)
        }
    }
      , N = async w => {
        if (w.preventDefault(),
        !!o.trim())
            try {
                await W.post("/student/friends", {
                    friend_id: o
                }),
                u(""),
                v(),
                alert("Friend added successfully!")
            } catch (C) {
                console.error("Error adding friend:", C),
                alert(C.response?.data?.error || "Failed to add friend. Please check the ID.")
            }
    }
      , y = async w => {
        if (window.confirm("Remove this friend?"))
            try {
                await W.delete(`/student/friends/${w}`),
                v()
            } catch (C) {
                console.error("Error removing friend:", C)
            }
    }
    ;
    return s ? d.jsx("div", {
        className: "flex items-center justify-center min-h-screen bg-gray-50",
        children: d.jsx("div", {
            className: "text-xl text-gray-600",
            children: "Loading..."
        })
    }) : d.jsxs("div", {
        className: "min-h-screen bg-gray-50",
        children: [d.jsx("div", {
            className: "bg-white shadow",
            children: d.jsxs("div", {
                className: "max-w-7xl mx-auto px-6 py-8",
                children: [d.jsx("h1", {
                    className: "text-3xl font-bold text-gray-900",
                    children: "Friends & Community"
                }), d.jsx("p", {
                    className: "text-gray-600 mt-2",
                    children: "Connect with other learners and track progress"
                })]
            })
        }), d.jsxs("div", {
            className: "max-w-7xl mx-auto px-6 py-8",
            children: [d.jsxs("div", {
                className: "flex gap-4 mb-8 border-b border-gray-300",
                children: [d.jsx("button", {
                    onClick: () => p("friends"),
                    className: `px-4 py-2 font-semibold transition ${f === "friends" ? "border-b-2 border-blue-600 text-blue-600" : "text-gray-600 hover:text-gray-900"}`,
                    children: "My Friends"
                }), d.jsx("button", {
                    onClick: () => p("leaderboard"),
                    className: `px-4 py-2 font-semibold transition ${f === "leaderboard" ? "border-b-2 border-blue-600 text-blue-600" : "text-gray-600 hover:text-gray-900"}`,
                    children: "Leaderboard"
                })]
            }), f === "friends" && d.jsxs("div", {
                className: "grid grid-cols-1 lg:grid-cols-3 gap-8",
                children: [d.jsxs("div", {
                    className: "lg:col-span-3 bg-white rounded-lg shadow p-6 mb-6",
                    children: [d.jsx("h3", {
                        className: "text-xl font-bold text-gray-900 mb-4",
                        children: "Add a Friend"
                    }), d.jsxs("form", {
                        onSubmit: N,
                        className: "flex gap-4",
                        children: [d.jsx("input", {
                            type: "text",
                            placeholder: "Enter friend's Role ID (e.g., STU-xxx-xxx)",
                            value: o,
                            onChange: w => u(w.target.value),
                            className: "flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                        }), d.jsx("button", {
                            type: "submit",
                            className: "px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium",
                            children: "Add Friend"
                        })]
                    })]
                }), t.length === 0 ? d.jsx("div", {
                    className: "lg:col-span-3 text-center py-12",
                    children: d.jsx("p", {
                        className: "text-gray-600 text-lg",
                        children: "No friends yet. Add friends to compare progress!"
                    })
                }) : t.map(w => d.jsxs("div", {
                    className: "bg-white rounded-lg shadow p-6 hover:shadow-lg transition",
                    children: [d.jsxs("div", {
                        className: "flex items-center gap-4 mb-4",
                        children: [w.avatar ? d.jsx("img", {
                            src: w.avatar,
                            alt: w.name,
                            className: "w-16 h-16 rounded-full object-cover"
                        }) : d.jsx("div", {
                            className: "w-16 h-16 rounded-full bg-blue-600 flex items-center justify-center text-white font-bold text-xl",
                            children: w.name?.charAt(0) || "?"
                        }), d.jsxs("div", {
                            className: "flex-1",
                            children: [d.jsx("h4", {
                                className: "text-lg font-bold text-gray-900",
                                children: w.name
                            }), d.jsx("p", {
                                className: "text-sm text-gray-600",
                                children: w.role_id
                            })]
                        })]
                    }), d.jsxs("div", {
                        className: "grid grid-cols-2 gap-3 mb-4",
                        children: [d.jsxs("div", {
                            className: "bg-gray-50 p-3 rounded",
                            children: [d.jsx("p", {
                                className: "text-xs text-gray-600",
                                children: "Courses"
                            }), d.jsx("p", {
                                className: "font-bold text-gray-900",
                                children: w.enrolled_courses || 0
                            })]
                        }), d.jsxs("div", {
                            className: "bg-gray-50 p-3 rounded",
                            children: [d.jsx("p", {
                                className: "text-xs text-gray-600",
                                children: "Score"
                            }), d.jsxs("p", {
                                className: "font-bold text-gray-900",
                                children: [w.average_score || 0, "%"]
                            })]
                        })]
                    }), d.jsx("button", {
                        onClick: () => y(w.id),
                        className: "w-full py-2 text-red-600 hover:text-red-800 font-medium transition",
                        children: "Remove Friend"
                    })]
                }, w.id))]
            }), f === "leaderboard" && d.jsx("div", {
                className: "bg-white rounded-lg shadow overflow-hidden",
                children: n.length === 0 ? d.jsx("div", {
                    className: "text-center py-12",
                    children: d.jsx("p", {
                        className: "text-gray-600 text-lg",
                        children: "No leaderboard data available"
                    })
                }) : d.jsxs("table", {
                    className: "w-full",
                    children: [d.jsx("thead", {
                        className: "bg-gray-50 border-b border-gray-200",
                        children: d.jsxs("tr", {
                            children: [d.jsx("th", {
                                className: "px-6 py-3 text-left text-sm font-semibold text-gray-900",
                                children: "Rank"
                            }), d.jsx("th", {
                                className: "px-6 py-3 text-left text-sm font-semibold text-gray-900",
                                children: "Student"
                            }), d.jsx("th", {
                                className: "px-6 py-3 text-left text-sm font-semibold text-gray-900",
                                children: "Courses"
                            }), d.jsx("th", {
                                className: "px-6 py-3 text-left text-sm font-semibold text-gray-900",
                                children: "Avg Score"
                            }), d.jsx("th", {
                                className: "px-6 py-3 text-left text-sm font-semibold text-gray-900",
                                children: "Consistency"
                            }), d.jsx("th", {
                                className: "px-6 py-3 text-left text-sm font-semibold text-gray-900",
                                children: "Points"
                            })]
                        })
                    }), d.jsx("tbody", {
                        className: "divide-y divide-gray-200",
                        children: n.map( (w, C) => {
                            const E = w.id === m?.id;
                            return d.jsxs("tr", {
                                className: `hover:bg-gray-50 ${E ? "bg-blue-50" : ""}`,
                                children: [d.jsx("td", {
                                    className: "px-6 py-4 text-sm font-bold text-gray-900",
                                    children: d.jsxs("span", {
                                        className: `px-3 py-1 rounded-full text-white font-bold ${C === 0 ? "bg-yellow-500" : C === 1 ? "bg-gray-400" : C === 2 ? "bg-orange-600" : "bg-gray-600"}`,
                                        children: ["#", C + 1]
                                    })
                                }), d.jsx("td", {
                                    className: "px-6 py-4 text-sm",
                                    children: d.jsxs("div", {
                                        className: "flex items-center gap-3",
                                        children: [w.avatar ? d.jsx("img", {
                                            src: w.avatar,
                                            alt: w.name,
                                            className: "w-10 h-10 rounded-full object-cover"
                                        }) : d.jsx("div", {
                                            className: "w-10 h-10 rounded-full bg-gray-300 flex items-center justify-center",
                                            children: w.name?.charAt(0)
                                        }), d.jsxs("div", {
                                            children: [d.jsxs("p", {
                                                className: "font-medium text-gray-900",
                                                children: [w.name, E && " (You)"]
                                            }), d.jsx("p", {
                                                className: "text-xs text-gray-600",
                                                children: w.role_id
                                            })]
                                        })]
                                    })
                                }), d.jsx("td", {
                                    className: "px-6 py-4 text-sm text-gray-600",
                                    children: w.enrolled_courses || 0
                                }), d.jsx("td", {
                                    className: "px-6 py-4 text-sm",
                                    children: d.jsxs("span", {
                                        className: "font-bold text-gray-900",
                                        children: [w.average_score || 0, "%"]
                                    })
                                }), d.jsx("td", {
                                    className: "px-6 py-4 text-sm",
                                    children: d.jsxs("div", {
                                        className: "flex items-center gap-2",
                                        children: [d.jsx("div", {
                                            className: "w-16 bg-gray-200 rounded-full h-2",
                                            children: d.jsx("div", {
                                                className: "bg-green-500 h-2 rounded-full",
                                                style: {
                                                    width: `${w.consistency_rate || 0}%`
                                                }
                                            })
                                        }), d.jsxs("span", {
                                            className: "font-semibold text-gray-900",
                                            children: [w.consistency_rate || 0, "%"]
                                        })]
                                    })
                                }), d.jsx("td", {
                                    className: "px-6 py-4 text-sm font-bold text-blue-600",
                                    children: w.points || 0
                                })]
                            }, w.id)
                        }
                        )
                    })]
                })
            })]
        })]
    })
}
function LL() {
    const [t,e] = k.useState(null)
      , [n,r] = k.useState([])
      , [s,l] = k.useState(!0);
    k.useEffect( () => {
        o()
    }
    , []);
    const o = async () => {
        try {
            const u = await W.get("/student/analytics");
            e(u.data);
            const f = await W.get("/student/analytics/courses");
            r(f.data.courses || [])
        } catch (u) {
            console.error("Error fetching analytics:", u)
        } finally {
            l(!1)
        }
    }
    ;
    return s ? d.jsx("div", {
        className: "flex items-center justify-center min-h-screen bg-gray-50",
        children: d.jsx("div", {
            className: "text-xl text-gray-600",
            children: "Loading analytics..."
        })
    }) : t ? d.jsxs("div", {
        className: "min-h-screen bg-gray-50",
        children: [d.jsx("div", {
            className: "bg-white shadow",
            children: d.jsxs("div", {
                className: "max-w-7xl mx-auto px-6 py-8",
                children: [d.jsx("h1", {
                    className: "text-3xl font-bold text-gray-900",
                    children: "Your Progress"
                }), d.jsx("p", {
                    className: "text-gray-600 mt-2",
                    children: "Track your learning analytics and performance"
                })]
            })
        }), d.jsxs("div", {
            className: "max-w-7xl mx-auto px-6 py-8",
            children: [d.jsxs("div", {
                className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",
                children: [d.jsx("div", {
                    className: "bg-white rounded-lg shadow p-6",
                    children: d.jsxs("div", {
                        className: "flex items-center justify-between",
                        children: [d.jsxs("div", {
                            children: [d.jsx("p", {
                                className: "text-gray-600 text-sm",
                                children: "Active Courses"
                            }), d.jsx("p", {
                                className: "text-3xl font-bold text-gray-900 mt-1",
                                children: t.active_courses || 0
                            })]
                        }), d.jsx("span", {
                            className: "text-4xl",
                            children: ""
                        })]
                    })
                }), d.jsx("div", {
                    className: "bg-white rounded-lg shadow p-6",
                    children: d.jsxs("div", {
                        className: "flex items-center justify-between",
                        children: [d.jsxs("div", {
                            children: [d.jsx("p", {
                                className: "text-gray-600 text-sm",
                                children: "Avg Score"
                            }), d.jsxs("p", {
                                className: "text-3xl font-bold text-gray-900 mt-1",
                                children: [t.average_score || 0, "%"]
                            })]
                        }), d.jsx("span", {
                            className: "text-4xl",
                            children: ""
                        })]
                    })
                }), d.jsx("div", {
                    className: "bg-white rounded-lg shadow p-6",
                    children: d.jsxs("div", {
                        className: "flex items-center justify-between",
                        children: [d.jsxs("div", {
                            children: [d.jsx("p", {
                                className: "text-gray-600 text-sm",
                                children: "Consistency"
                            }), d.jsxs("p", {
                                className: "text-3xl font-bold text-gray-900 mt-1",
                                children: [t.consistency_rate || 0, "%"]
                            })]
                        }), d.jsx("span", {
                            className: "text-4xl",
                            children: ""
                        })]
                    })
                }), d.jsx("div", {
                    className: "bg-white rounded-lg shadow p-6",
                    children: d.jsxs("div", {
                        className: "flex items-center justify-between",
                        children: [d.jsxs("div", {
                            children: [d.jsx("p", {
                                className: "text-gray-600 text-sm",
                                children: "Global Rank"
                            }), d.jsxs("p", {
                                className: "text-3xl font-bold text-blue-600 mt-1",
                                children: ["#", t.global_rank || "N/A"]
                            })]
                        }), d.jsx("span", {
                            className: "text-4xl",
                            children: ""
                        })]
                    })
                })]
            }), d.jsxs("div", {
                className: "grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",
                children: [d.jsxs("div", {
                    className: "bg-white rounded-lg shadow p-6",
                    children: [d.jsx("h3", {
                        className: "text-xl font-bold text-gray-900 mb-6",
                        children: "Learning Progress"
                    }), d.jsxs("div", {
                        className: "space-y-4",
                        children: [d.jsxs("div", {
                            children: [d.jsxs("div", {
                                className: "flex justify-between mb-2",
                                children: [d.jsx("span", {
                                    className: "text-sm font-medium text-gray-700",
                                    children: "Total Hours"
                                }), d.jsxs("span", {
                                    className: "text-sm font-bold text-gray-900",
                                    children: [t.total_hours || 0, "h"]
                                })]
                            }), d.jsx("div", {
                                className: "w-full bg-gray-200 rounded-full h-2",
                                children: d.jsx("div", {
                                    className: "bg-blue-600 h-2 rounded-full",
                                    style: {
                                        width: `${Math.min((t.total_hours || 0) / 100 * 100, 100)}%`
                                    }
                                })
                            })]
                        }), d.jsx("div", {
                            children: d.jsxs("div", {
                                className: "flex justify-between mb-2",
                                children: [d.jsx("span", {
                                    className: "text-sm font-medium text-gray-700",
                                    children: "Lessons Completed"
                                }), d.jsx("span", {
                                    className: "text-sm font-bold text-gray-900",
                                    children: t.completed_lessons || 0
                                })]
                            })
                        }), d.jsx("div", {
                            children: d.jsxs("div", {
                                className: "flex justify-between mb-2",
                                children: [d.jsx("span", {
                                    className: "text-sm font-medium text-gray-700",
                                    children: "Exams Taken"
                                }), d.jsx("span", {
                                    className: "text-sm font-bold text-gray-900",
                                    children: t.exams_taken || 0
                                })]
                            })
                        }), d.jsx("div", {
                            children: d.jsxs("div", {
                                className: "flex justify-between mb-2",
                                children: [d.jsx("span", {
                                    className: "text-sm font-medium text-gray-700",
                                    children: "Certificates Earned"
                                }), d.jsx("span", {
                                    className: "text-sm font-bold text-gray-900",
                                    children: t.certificates_earned || 0
                                })]
                            })
                        })]
                    })]
                }), d.jsxs("div", {
                    className: "bg-white rounded-lg shadow p-6",
                    children: [d.jsx("h3", {
                        className: "text-xl font-bold text-gray-900 mb-6",
                        children: "Exam Performance"
                    }), d.jsxs("div", {
                        className: "space-y-4",
                        children: [d.jsxs("div", {
                            children: [d.jsxs("div", {
                                className: "flex justify-between mb-2",
                                children: [d.jsx("span", {
                                    className: "text-sm font-medium text-gray-700",
                                    children: "Highest Score"
                                }), d.jsxs("span", {
                                    className: "text-sm font-bold text-gray-900",
                                    children: [t.highest_score || 0, "%"]
                                })]
                            }), d.jsx("div", {
                                className: "w-full bg-gray-200 rounded-full h-2",
                                children: d.jsx("div", {
                                    className: "bg-green-600 h-2 rounded-full",
                                    style: {
                                        width: `${t.highest_score || 0}%`
                                    }
                                })
                            })]
                        }), d.jsxs("div", {
                            children: [d.jsxs("div", {
                                className: "flex justify-between mb-2",
                                children: [d.jsx("span", {
                                    className: "text-sm font-medium text-gray-700",
                                    children: "Lowest Score"
                                }), d.jsxs("span", {
                                    className: "text-sm font-bold text-gray-900",
                                    children: [t.lowest_score || 0, "%"]
                                })]
                            }), d.jsx("div", {
                                className: "w-full bg-gray-200 rounded-full h-2",
                                children: d.jsx("div", {
                                    className: "bg-red-600 h-2 rounded-full",
                                    style: {
                                        width: `${t.lowest_score || 0}%`
                                    }
                                })
                            })]
                        }), d.jsxs("div", {
                            children: [d.jsxs("div", {
                                className: "flex justify-between mb-2",
                                children: [d.jsx("span", {
                                    className: "text-sm font-medium text-gray-700",
                                    children: "Pass Rate"
                                }), d.jsxs("span", {
                                    className: "text-sm font-bold text-gray-900",
                                    children: [t.pass_rate || 0, "%"]
                                })]
                            }), d.jsx("div", {
                                className: "w-full bg-gray-200 rounded-full h-2",
                                children: d.jsx("div", {
                                    className: "bg-blue-600 h-2 rounded-full",
                                    style: {
                                        width: `${t.pass_rate || 0}%`
                                    }
                                })
                            })]
                        }), d.jsx("div", {
                            className: "pt-2 border-t border-gray-200",
                            children: d.jsxs("p", {
                                className: "text-sm text-gray-600",
                                children: ["Median Score:", " ", d.jsxs("span", {
                                    className: "font-bold text-gray-900",
                                    children: [t.median_score || 0, "%"]
                                })]
                            })
                        })]
                    })]
                })]
            }), n.length > 0 && d.jsxs("div", {
                className: "bg-white rounded-lg shadow p-6",
                children: [d.jsx("h3", {
                    className: "text-xl font-bold text-gray-900 mb-6",
                    children: "Course Breakdown"
                }), d.jsx("div", {
                    className: "overflow-x-auto",
                    children: d.jsxs("table", {
                        className: "w-full",
                        children: [d.jsx("thead", {
                            className: "bg-gray-50 border-b border-gray-200",
                            children: d.jsxs("tr", {
                                children: [d.jsx("th", {
                                    className: "px-6 py-3 text-left text-sm font-semibold text-gray-900",
                                    children: "Course"
                                }), d.jsx("th", {
                                    className: "px-6 py-3 text-left text-sm font-semibold text-gray-900",
                                    children: "Progress"
                                }), d.jsx("th", {
                                    className: "px-6 py-3 text-left text-sm font-semibold text-gray-900",
                                    children: "Avg Score"
                                }), d.jsx("th", {
                                    className: "px-6 py-3 text-left text-sm font-semibold text-gray-900",
                                    children: "Time Spent"
                                }), d.jsx("th", {
                                    className: "px-6 py-3 text-left text-sm font-semibold text-gray-900",
                                    children: "Status"
                                })]
                            })
                        }), d.jsx("tbody", {
                            className: "divide-y divide-gray-200",
                            children: n.map(u => d.jsxs("tr", {
                                className: "hover:bg-gray-50",
                                children: [d.jsx("td", {
                                    className: "px-6 py-4 text-sm font-medium text-gray-900",
                                    children: u.title
                                }), d.jsx("td", {
                                    className: "px-6 py-4 text-sm",
                                    children: d.jsxs("div", {
                                        className: "flex items-center gap-2",
                                        children: [d.jsx("div", {
                                            className: "w-32 bg-gray-200 rounded-full h-2",
                                            children: d.jsx("div", {
                                                className: "bg-blue-600 h-2 rounded-full",
                                                style: {
                                                    width: `${u.completion_percentage || 0}%`
                                                }
                                            })
                                        }), d.jsxs("span", {
                                            className: "text-xs font-semibold text-gray-900",
                                            children: [u.completion_percentage || 0, "%"]
                                        })]
                                    })
                                }), d.jsxs("td", {
                                    className: "px-6 py-4 text-sm font-bold text-gray-900",
                                    children: [u.average_score || 0, "%"]
                                }), d.jsxs("td", {
                                    className: "px-6 py-4 text-sm text-gray-600",
                                    children: [u.hours_spent || 0, "h"]
                                }), d.jsx("td", {
                                    className: "px-6 py-4 text-sm",
                                    children: d.jsx("span", {
                                        className: `px-3 py-1 rounded-full text-xs font-semibold ${u.is_completed ? "bg-green-100 text-green-800" : "bg-yellow-100 text-yellow-800"}`,
                                        children: u.is_completed ? "Completed" : "In Progress"
                                    })
                                })]
                            }, u.id))
                        })]
                    })
                })]
            })]
        })]
    }) : d.jsx("div", {
        className: "flex items-center justify-center min-h-screen bg-gray-50",
        children: d.jsx("div", {
            className: "text-xl text-gray-600",
            children: "Failed to load analytics"
        })
    })
}
function BL() {
    const t = $n()
      , e = t.examId || t.examID
      , n = Ye()
      , [r,s] = k.useState(null)
      , [l,o] = k.useState({})
      , [u,f] = k.useState(!0)
      , [p,m] = k.useState(!1);
    k.useEffect( () => {
        (async () => {
            try {
                const y = await W.get(`/student/exams/${e}`);
                s(y.data)
            } catch (y) {
                console.error(y);
                const w = y.response && y.response.data && y.response.data.error ? y.response.data.error : "Failed to load exam.";
                alert(w)
            } finally {
                f(!1)
            }
        }
        )()
    }
    , [e]);
    const g = (N, y) => {
        o(w => ({
            ...w,
            [N]: y
        }))
    }
      , v = async () => {
        if (window.confirm("Are you sure you want to submit the exam?")) {
            m(!0);
            try {
                const N = await W.post(`/student/exams/${e}/attempt`, {
                    answers: l
                });
                alert("Exam submitted successfully!"),
                n(`/student/exams/attempts/${N.data.attempt_id}/result`)
            } catch (N) {
                console.error(N);
                const y = N.response && N.response.data && N.response.data.error ? N.response.data.error : "Failed to submit exam.";
                alert(y)
            } finally {
                m(!1)
            }
        }
    }
    ;
    return u ? d.jsx("div", {
        className: "flex items-center justify-center min-h-screen bg-gray-50",
        children: d.jsx("p", {
            className: "text-xl text-gray-600",
            children: "Loading exam..."
        })
    }) : r ? d.jsxs("div", {
        className: "min-h-screen bg-gray-50 px-6 py-8 max-w-4xl mx-auto",
        children: [d.jsx("h1", {
            className: "text-3xl font-bold text-gray-900 mb-4",
            children: r.title
        }), d.jsx("p", {
            className: "text-gray-600 mb-6",
            children: r.description
        }), r.attempt_submitted && d.jsxs("div", {
            className: "mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded",
            children: [d.jsx("p", {
                className: "text-sm text-yellow-800",
                children: "You have already submitted this exam."
            }), d.jsxs("p", {
                className: "text-sm text-gray-700",
                children: ["Score: ", r.attempt_score ?? "N/A"]
            })]
        }), d.jsx("div", {
            className: "space-y-6",
            children: r.questions.map( (N, y) => d.jsxs("div", {
                className: "bg-white p-4 rounded-lg shadow-sm",
                children: [d.jsxs("p", {
                    className: "font-semibold text-gray-900 mb-2",
                    children: ["Q", y + 1, ". ", N.question_text]
                }), N.type === "multiple_choice" && N.options && Object.entries(N.options).map( ([w,C]) => d.jsxs("label", {
                    className: "flex items-center gap-2 mb-1",
                    children: [d.jsx("input", {
                        type: "radio",
                        name: N.id,
                        value: w,
                        checked: l[N.id] === w,
                        onChange: E => g(N.id, E.target.value)
                    }), d.jsx("span", {
                        children: C
                    })]
                }, w)), (N.type === "text" || N.type === "short_answer") && d.jsx("input", {
                    type: "text",
                    value: l[N.id] || "",
                    onChange: w => g(N.id, w.target.value),
                    className: "w-full border border-gray-300 rounded px-3 py-2 mt-1"
                })]
            }, N.id))
        }), d.jsx("button", {
            onClick: v,
            disabled: p || r.attempt_submitted,
            className: "mt-6 w-full py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium",
            children: p ? "Submitting..." : "Submit Exam"
        })]
    }) : d.jsx("div", {
        className: "flex items-center justify-center min-h-screen bg-gray-50",
        children: d.jsx("p", {
            className: "text-xl text-red-600",
            children: "Exam not found!"
        })
    })
}
function FL() {
    const {attemptId: t} = $n()
      , e = Ye()
      , [n,r] = k.useState(!0)
      , [s,l] = k.useState(null);
    return k.useEffect( () => {
        W.get(`/student/exams/attempts/${t}/result`).then(o => l(o.data)).finally( () => r(!1))
    }
    , [t]),
    n ? d.jsx("div", {
        className: "p-10 text-center",
        children: "Loading result..."
    }) : d.jsxs("div", {
        className: "max-w-5xl mx-auto p-6 space-y-8",
        children: [d.jsxs("div", {
            className: "flex justify-between items-center",
            children: [d.jsx("h1", {
                className: "text-2xl font-bold",
                children: "Exam Result"
            }), d.jsx("button", {
                onClick: () => e("/student/dashboard"),
                className: "px-4 py-2 rounded bg-gray-800 text-white hover:bg-black",
                children: "Back to Dashboard"
            })]
        }), s.questions.map( (o, u) => d.jsxs("div", {
            className: "border rounded-lg p-5 space-y-3 bg-white shadow",
            children: [d.jsxs("p", {
                className: "font-semibold",
                children: ["Q", u + 1, ". ", o.question]
            }), o.type === "mcq" ? d.jsxs(d.Fragment, {
                children: [d.jsxs("p", {
                    children: ["Your Answer:", " ", d.jsx("span", {
                        className: o.user_answer === o.correct_answer ? "text-green-600 font-semibold" : "text-red-600 font-semibold",
                        children: o.user_answer
                    })]
                }), d.jsxs("p", {
                    className: "text-sm text-gray-600",
                    children: ["Correct Answer: ", o.correct_answer]
                })]
            }) : d.jsx("p", {
                className: "italic text-gray-500",
                children: "Result will be published soon."
            })]
        }, o.id)), d.jsxs("div", {
            className: "border rounded-lg p-5 flex items-center gap-4 bg-gray-50",
            children: [d.jsx("img", {
                src: s.teacher.avatar,
                alt: s.teacher.name,
                className: "w-16 h-16 rounded-full object-cover"
            }), d.jsxs("div", {
                className: "flex-1",
                children: [d.jsx("p", {
                    className: "font-semibold",
                    children: s.teacher.name
                }), d.jsx("p", {
                    className: "text-sm text-gray-500",
                    children: "Exam Creator"
                })]
            }), d.jsx("button", {
                onClick: () => e(`/student/messages/${s.teacher.id}`),
                className: "px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700",
                children: "Contact Teacher"
            })]
        })]
    })
}
function HL() {
    return d.jsx(d.Fragment, {
        children: d.jsxs(rk, {
            children: [d.jsx(we, {
                path: "/",
                element: d.jsx(d8, {})
            }), d.jsx(we, {
                path: "/student/dashboard",
                element: d.jsx(Q_, {})
            }), d.jsx(we, {
                path: "/auth/register/student",
                element: d.jsx(F0, {
                    role: "student"
                })
            }), d.jsx(we, {
                path: "/auth/register/teacher",
                element: d.jsx(F0, {
                    role: "teacher"
                })
            }), d.jsx(we, {
                path: "/auth/register/parent",
                element: d.jsx(F0, {
                    role: "parent"
                })
            }), d.jsx(we, {
                path: "/auth/login/student",
                element: d.jsx(B0, {
                    role: "student"
                })
            }), d.jsx(we, {
                path: "/auth/login/teacher",
                element: d.jsx(B0, {
                    role: "teacher"
                })
            }), d.jsx(we, {
                path: "/auth/login/parent",
                element: d.jsx(B0, {
                    role: "parent"
                })
            }), d.jsx(we, {
                path: "/auth/login/admin",
                element: d.jsx(u8, {})
            }), d.jsx(we, {
                path: "/auth/forgot_password",
                element: d.jsx(o2, {})
            }), d.jsx(we, {
                path: "/auth/reset_password/:token",
                element: d.jsx(o2, {})
            }), d.jsx(we, {
                path: "/auth/confirm/:token",
                element: d.jsx(c8, {})
            }), d.jsx(we, {
                path: "/student/profile",
                element: d.jsx(Z_, {})
            }), d.jsx(we, {
                path: "/teacher/profile",
                element: d.jsx(eT, {})
            }), d.jsx(we, {
                path: "/parent/profile",
                element: d.jsx(nT, {})
            }), d.jsx(we, {
                path: "/parent/profile/view",
                element: d.jsx(rT, {})
            }), d.jsx(we, {
                path: "/student/profile/view",
                element: d.jsx(W_, {})
            }), d.jsx(we, {
                path: "/teacher/profile/view",
                element: d.jsx(tT, {})
            }), d.jsx(we, {
                path: "/teacher/dashboard",
                element: d.jsx(jT, {})
            }), d.jsx(we, {
                path: "/admin/dashboard",
                element: d.jsx(ET, {})
            }), d.jsx(we, {
                path: "/parent/dashboard",
                element: d.jsx(kT, {})
            }), d.jsx(we, {
                path: "/parent/link-child",
                element: d.jsx(AT, {})
            }), d.jsx(we, {
                path: "/student/parent-requests",
                element: d.jsx(_T, {})
            }), d.jsx(we, {
                path: "/student/explore",
                element: d.jsx(_L, {})
            }), d.jsx(we, {
                path: "/student/course/:courseId",
                element: d.jsx(TL, {})
            }), d.jsx(we, {
                path: "/student/learn/:courseId",
                element: d.jsx(ML, {})
            }), d.jsx(we, {
                path: "/student/course/:courseId/exams",
                element: d.jsx(RL, {})
            }), d.jsx(we, {
                path: "/student/friends",
                element: d.jsx(zL, {})
            }), d.jsx(we, {
                path: "/student/analytics",
                element: d.jsx(LL, {})
            }), d.jsx(we, {
                path: "/teacher/courses",
                element: d.jsx(TT, {})
            }), d.jsx(we, {
                path: "/teacher/course/:courseID/dashboard",
                element: d.jsx(AL, {})
            }), d.jsx(we, {
                path: "/teacher/course/:courseID/chapters",
                element: d.jsx(DT, {})
            }), d.jsx(we, {
                path: "/teacher/course/:courseID/chapters/:chapterID/lessons",
                element: d.jsx(MT, {})
            }), d.jsx(we, {
                path: "/teacher/course/:courseID/chapters/:chapterID/lessons/:lessonID/content",
                element: d.jsx(jL, {})
            }), d.jsx(we, {
                path: "/teacher/course/:courseID/exams",
                element: d.jsx(EL, {})
            }), d.jsx(we, {
                path: "/teacher/course/:courseID/exams/:examID",
                element: d.jsx(kL, {})
            }), d.jsx(we, {
                path: "/student/exams/:examID/attempt",
                element: d.jsx(BL, {})
            }), d.jsx(we, {
                path: "/student/exams/:examID/result",
                element: d.jsx(FL, {})
            })]
        })
    })
}
TS.createRoot(document.getElementById("root")).render(d.jsx(k.StrictMode, {
    children: d.jsx(kk, {
        children: d.jsx(HL, {})
    })
}));
